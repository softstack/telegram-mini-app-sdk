/*! For license information please see main.36168b85.js.LICENSE.txt */
(()=>{var e={3813:(e,t)=>{"use strict";function r(e){if(Array.isArray(e)){const t=[];let n=0;for(let i=0;i<e.length;i++){const s=r(e[i]);t.push(s),n+=s.length}return h(s(n,192),...t)}const t=g(e);return 1===t.length&&t[0]<128?t:h(s(t.length,128),t)}function n(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function i(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return u(l(e))}function s(e,t){if(e<56)return Uint8Array.from([e+t]);const r=p(e),n=p(t+55+r.length/2);return Uint8Array.from(d(n+r))}function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("undefined"===typeof e||null===e||0===e.length)return Uint8Array.from([]);const r=a(g(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid RLP: remainder must be zero");return r.data}function a(e){let t,r,s,o,c;const l=[],u=e[0];if(u<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(u<=183){if(t=u-127,s=128===u?Uint8Array.from([]):n(e,1,t),2===t&&s[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:s,remainder:e.slice(t)}}if(u<=191){if(r=u-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=i(n(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return s=n(e,r,t+r),{data:s,remainder:e.slice(t+r)}}if(u<=247){for(t=u-191,o=n(e,1,t);o.length;)c=a(o),l.push(c.data),o=c.remainder;return{data:l,remainder:e.slice(t)}}{if(r=u-246,t=i(n(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const s=r+t;if(s>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=n(e,r,s);o.length;)c=a(o),l.push(c.data),o=c.remainder;return{data:l,remainder:e.slice(s)}}}t.Tj=void 0;const c=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function l(e){let t="";for(let r=0;r<e.length;r++)t+=c[e[r]];return t}function u(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function d(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r;t[r]=u(e.slice(n,n+2))}return t}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)return t[0];const n=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(n);for(let s=0,o=0;s<t.length;s++){const e=t[s];i.set(e,o),o+=e.length}return i}function f(e){return(new TextEncoder).encode(e)}function p(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function m(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function g(e){if(e instanceof Uint8Array)return e;if("string"===typeof e)return m(e)?d((t="string"!==typeof(r=e)?r:m(r)?r.slice(2):r).length%2?`0${t}`:t):f(e);var t,r;if("number"===typeof e||"bigint"===typeof e)return e?d(p(e)):Uint8Array.from([]);if(null===e||void 0===e)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}t.Tj={encode:r,decode:o}},3257:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function n(e){if("boolean"!==typeof e)throw new Error(`boolean expected, not ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function s(e){if(!i(e))throw new Error("Uint8Array expected");for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.length>0&&!r.includes(e.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function o(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){s(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.isBytes=i,t.number=r,t.bool=n,t.bytes=s,t.hash=o,t.exists=a,t.output=c;const l={number:r,bool:n,bytes:s,hash:o,exists:a,output:c};t.default=l},6198:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashMD=t.Maj=t.Chi=void 0;const n=r(3257),i=r(8891);t.Chi=(e,t,r)=>e&t^~e&r;t.Maj=(e,t,r)=>e&t^e&r^t&r;class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a!==s)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let n=a;n<s;n++)t[n]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,i.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let n=0;n<u;n++)c.setUint32(4*n,d[n],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}t.HashMD=s},365:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},3411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=t.SHA256=void 0;const n=r(6198),i=r(8891),s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class c extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)a[n]=e.getUint32(t,!1);for(let n=16;n<64;n++){const e=a[n-15],t=a[n-2],r=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,s=(0,i.rotr)(t,17)^(0,i.rotr)(t,19)^t>>>10;a[n]=s+a[n-7]+r+a[n-16]|0}let{A:r,B:o,C:c,D:l,E:u,F:d,G:h,H:f}=this;for(let p=0;p<64;p++){const e=f+((0,i.rotr)(u,6)^(0,i.rotr)(u,11)^(0,i.rotr)(u,25))+(0,n.Chi)(u,d,h)+s[p]+a[p]|0,t=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,o,c)|0;f=h,h=d,d=u,u=l+e|0,l=c,c=o,o=r,r=e+t|0}r=r+this.A|0,o=o+this.B|0,c=c+this.C|0,l=l+this.D|0,u=u+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,o,c,l,u,d,h,f)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}t.SHA256=c;class l extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new c)),t.sha224=(0,i.wrapConstructor)((()=>new l))},8891:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name},t.byteSwap32=function(e){for(let r=0;r<e.length;r++)e[r]=(0,t.byteSwap)(e[r])},t.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t},t.hexToBytes=function(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const t=a(e.charCodeAt(s)),r=a(e.charCodeAt(s+1));if(void 0===t||void 0===r){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[i]=16*t+r}return n},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=c,t.toBytes=l,t.concatBytes=function(){let e=0;for(let r=0;r<arguments.length;r++){const t=r<0||arguments.length<=r?void 0:arguments[r];(0,i.bytes)(t),e+=t.length}const t=new Uint8Array(e);for(let r=0,n=0;r<arguments.length;r++){const e=r<0||arguments.length<=r?void 0:arguments[r];t.set(e,n),n+=e.length}return t},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==u.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(l(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(n.crypto&&"function"===typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"===typeof n.crypto.randomBytes)return n.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")};const n=r(365),i=r(3257);t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);t.rotr=(e,t)=>e<<32-t|e>>>t;t.rotl=(e,t)=>e<<t|e>>>32-t>>>0,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];t.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,t.byteSwapIfBE=t.isLE?e=>e:e=>(0,t.byteSwap)(e);const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=o._0&&e<=o._9?e-o._0:e>=o._A&&e<=o._F?e-(o._A-10):e>=o._a&&e<=o._f?e-(o._a-10):void 0}function c(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function l(e){return"string"===typeof e&&(e=c(e)),(0,i.bytes)(e),e}t.nextTick=async()=>{};t.Hash=class{clone(){return this._cloneInto()}};const u={}.toString},6536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1164);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function s(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function l(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function u(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),u(e/4294967296>>>0,t,r),u(e>>>0,t,r+4),t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),d(e>>>0,t,r),d(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=s,t.writeInt16LE=s,t.readInt32BE=o,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=l,t.writeUint32BE=u,t.writeInt32BE=u,t.writeUint32LE=d,t.writeInt32LE=d,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=o(e,t),n=o(e,t+4);return 4294967296*r+n-4294967296*(n>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r-4294967296*(r>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=l(e,t);return 4294967296*l(e,t+4)+r},t.writeUint64BE=h,t.writeInt64BE=h,t.writeUint64LE=f,t.writeInt64LE=f,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;s>=r;s--)n+=t[s]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var s=1,o=e/8+i-1;o>=i;o--)r[o]=t/s&255,s*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var s=1,o=i;o<i+e/8;o++)r[o]=t/s&255,s*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},7360:(e,t,r)=>{"use strict";var n=r(6536),i=r(256);t.cS=128,t.On=64,t.J4=64,t.Cc=16,t.wU=16,t.wm=Math.pow(2,32)-1,t.np=255,t._n=255;var s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]],a=function(){function e(e,r){if(void 0===e&&(e=64),this.digestLength=e,this.blockSize=t.cS,this._state=new Int32Array(s),this._buffer=new Uint8Array(t.cS),this._bufferLength=0,this._ctr=new Uint32Array(4),this._flag=new Uint32Array(4),this._lastNode=!1,this._finished=!1,this._vtmp=new Uint32Array(32),this._mtmp=new Uint32Array(32),e<1||e>t.On)throw new Error("blake2b: wrong digest length");r&&this.validateConfig(r);var i=0;r&&r.key&&(i=r.key.length);var o=1,a=1;r&&r.tree&&(o=r.tree.fanout,a=r.tree.maxDepth),this._state[0]^=e|i<<8|o<<16|a<<24,r&&r.tree&&(this._state[1]^=r.tree.leafSize,this._state[2]^=r.tree.nodeOffsetLowBits,this._state[3]^=r.tree.nodeOffsetHighBits,this._state[4]^=r.tree.nodeDepth|r.tree.innerDigestLength<<8,this._lastNode=r.tree.lastNode),r&&r.salt&&(this._state[8]^=n.readUint32LE(r.salt,0),this._state[9]^=n.readUint32LE(r.salt,4),this._state[10]^=n.readUint32LE(r.salt,8),this._state[11]^=n.readUint32LE(r.salt,12)),r&&r.personalization&&(this._state[12]^=n.readUint32LE(r.personalization,0),this._state[13]^=n.readUint32LE(r.personalization,4),this._state[14]^=n.readUint32LE(r.personalization,8),this._state[15]^=n.readUint32LE(r.personalization,12)),this._initialState=new Uint32Array(this._state),r&&r.key&&i>0&&(this._paddedKey=new Uint8Array(t.cS),this._paddedKey.set(r.key),this._buffer.set(this._paddedKey),this._bufferLength=t.cS)}return e.prototype.reset=function(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=t.cS):this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._finished=!1,this},e.prototype.validateConfig=function(e){if(e.key&&e.key.length>t.J4)throw new Error("blake2b: wrong key length");if(e.salt&&e.salt.length!==t.wU)throw new Error("blake2b: wrong salt length");if(e.personalization&&e.personalization.length!==t.Cc)throw new Error("blake2b: wrong personalization length");if(e.tree){if(e.tree.fanout<0||e.tree.fanout>t.np)throw new Error("blake2b: wrong tree fanout");if(e.tree.maxDepth<0||e.tree.maxDepth>t._n)throw new Error("blake2b: wrong tree depth");if(e.tree.leafSize<0||e.tree.leafSize>t.wm)throw new Error("blake2b: wrong leaf size");if(e.tree.innerDigestLength<0||e.tree.innerDigestLength>t.On)throw new Error("blake2b: wrong tree inner digest length")}},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw new Error("blake2b: can't update because hash was finished.");var n=t.cS-this._bufferLength,i=0;if(0===r)return this;if(r>n){for(var s=0;s<n;s++)this._buffer[this._bufferLength+s]=e[i+s];this._processBlock(t.cS),i+=n,r-=n,this._bufferLength=0}for(;r>t.cS;){for(s=0;s<t.cS;s++)this._buffer[s]=e[i+s];this._processBlock(t.cS),i+=t.cS,r-=t.cS,this._bufferLength=0}for(s=0;s<r;s++)this._buffer[this._bufferLength+s]=e[i+s];return this._bufferLength+=r,this},e.prototype.finish=function(e){if(!this._finished){for(var r=this._bufferLength;r<t.cS;r++)this._buffer[r]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}var i=this._buffer.subarray(0,64);for(r=0;r<16;r++)n.writeUint32LE(this._state[r],i,4*r);return e.set(i.subarray(0,e.length)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.clean=function(){i.wipe(this._vtmp),i.wipe(this._mtmp),i.wipe(this._state),i.wipe(this._buffer),i.wipe(this._initialState),this._paddedKey&&i.wipe(this._paddedKey),this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._lastNode=!1,this._finished=!1},e.prototype.saveState=function(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._buffer.set(e.buffer),this._bufferLength=e.bufferLength,this._ctr.set(e.ctr),this._flag.set(e.flag),this._lastNode=e.lastNode,this._paddedKey&&i.wipe(this._paddedKey),this._paddedKey=e.paddedKey?new Uint8Array(e.paddedKey):void 0,this._initialState.set(e.initialState),this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),i.wipe(e.buffer),i.wipe(e.initialState),e.paddedKey&&i.wipe(e.paddedKey),e.bufferLength=0,i.wipe(e.ctr),i.wipe(e.flag),e.lastNode=!1},e.prototype._G=function(e,t,r,n,i,s,o,a,c,l,u,d,h){var f=e[t],p=e[s],m=e[r],g=e[o],y=e[n],b=e[a],v=e[i],w=e[c],A=65535&f,_=f>>>16,E=65535&p,x=p>>>16;_+=m>>>16,E+=65535&g,x+=g>>>16,E+=(_+=(A+=65535&m)>>>16)>>>16,A=65535&(f=65535&A|_<<16),_=f>>>16,E=65535&(p=65535&E|(x+=E>>>16)<<16),x=p>>>16,_+=l>>>16,E+=65535&u,x+=u>>>16,f=65535&(A+=65535&l)|(_+=A>>>16)<<16,A=w^=p=65535&(E+=_>>>16)|(x+=E>>>16)<<16,w=v^=f,v=A,A=65535&y,_=y>>>16,E=65535&b,x=b>>>16,_+=v>>>16,E+=65535&w,x+=w>>>16,A=(m^=y=65535&(A+=65535&v)|(_+=A>>>16)<<16)<<8|(g^=b=65535&(E+=_>>>16)|(x+=E>>>16)<<16)>>>24,m=g<<8|m>>>24,g=A,A=65535&f,_=f>>>16,E=65535&p,x=p>>>16,_+=m>>>16,E+=65535&g,x+=g>>>16,E+=(_+=(A+=65535&m)>>>16)>>>16,A=65535&(f=65535&A|_<<16),_=f>>>16,E=65535&(p=65535&E|(x+=E>>>16)<<16),x=p>>>16,_+=d>>>16,E+=65535&h,x+=h>>>16,A=(v^=f=65535&(A+=65535&d)|(_+=A>>>16)<<16)<<16|(w^=p=65535&(E+=_>>>16)|(x+=E>>>16)<<16)>>>16,v=w<<16|v>>>16,w=A,A=65535&y,_=y>>>16,E=65535&b,x=b>>>16,_+=v>>>16,E+=65535&w,x+=w>>>16,A=(g^=b=65535&(E+=(_+=(A+=65535&v)>>>16)>>>16)|(x+=E>>>16)<<16)<<1|(m^=y=65535&A|_<<16)>>>31,m=m<<1|g>>>31,g=A,e[t]=f,e[s]=p,e[r]=m,e[o]=g,e[n]=y,e[a]=b,e[i]=v,e[c]=w},e.prototype._incrementCounter=function(e){for(var t=0;t<3;t++){var r=this._ctr[t]+e;if(this._ctr[t]=r>>>0,this._ctr[t]===r)return;e=1}},e.prototype._processBlock=function(e){this._incrementCounter(e);var t=this._vtmp;t.set(this._state),t.set(s,16),t[24]^=this._ctr[0],t[25]^=this._ctr[1],t[26]^=this._ctr[2],t[27]^=this._ctr[3],t[28]^=this._flag[0],t[29]^=this._flag[1],t[30]^=this._flag[2],t[31]^=this._flag[3];for(var r=this._mtmp,i=0;i<32;i++)r[i]=n.readUint32LE(this._buffer,4*i);for(var a=0;a<12;a++)this._G(t,0,8,16,24,1,9,17,25,r[o[a][0]],r[o[a][0]+1],r[o[a][1]],r[o[a][1]+1]),this._G(t,2,10,18,26,3,11,19,27,r[o[a][2]],r[o[a][2]+1],r[o[a][3]],r[o[a][3]+1]),this._G(t,4,12,20,28,5,13,21,29,r[o[a][4]],r[o[a][4]+1],r[o[a][5]],r[o[a][5]+1]),this._G(t,6,14,22,30,7,15,23,31,r[o[a][6]],r[o[a][6]+1],r[o[a][7]],r[o[a][7]+1]),this._G(t,0,10,20,30,1,11,21,31,r[o[a][8]],r[o[a][8]+1],r[o[a][9]],r[o[a][9]+1]),this._G(t,2,12,22,24,3,13,23,25,r[o[a][10]],r[o[a][10]+1],r[o[a][11]],r[o[a][11]+1]),this._G(t,4,14,16,26,5,15,17,27,r[o[a][12]],r[o[a][12]+1],r[o[a][13]],r[o[a][13]+1]),this._G(t,6,8,18,28,7,9,19,29,r[o[a][14]],r[o[a][14]+1],r[o[a][15]],r[o[a][15]+1]);for(i=0;i<16;i++)this._state[i]^=t[i]^t[i+16]},e}()},7172:(e,t,r)=>{"use strict";t.TP=t.wE=t.Ee=void 0;const n=r(888),i=r(6010),s=r(256);function o(e){const t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.Ee=64,t.wE=64,t.TP=32;new Uint8Array(32)[0]=9;const a=o(),c=o([1]),l=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function m(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function g(e,t,r){const n=~(r-1);for(let i=0;i<16;i++){const r=n&(e[i]^t[i]);e[i]^=r,t[i]^=r}}function y(e,t){const r=o(),n=o();for(let i=0;i<16;i++)n[i]=t[i];m(n),m(n),m(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const e=r[15]>>16&1;r[14]&=65535,g(n,r,1-e)}for(let i=0;i<16;i++)e[2*i]=255&n[i],e[2*i+1]=n[i]>>8}function b(e,t){let r=0;for(let n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1}function v(e,t){const r=new Uint8Array(32),n=new Uint8Array(32);return y(r,e),y(n,t),b(r,n)}function w(e){const t=new Uint8Array(32);return y(t,e),1&t[0]}function A(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function _(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function E(e,t,r){let n,i,s=0,o=0,a=0,c=0,l=0,u=0,d=0,h=0,f=0,p=0,m=0,g=0,y=0,b=0,v=0,w=0,A=0,_=0,E=0,x=0,k=0,S=0,P=0,T=0,I=0,O=0,R=0,C=0,N=0,L=0,M=0,B=r[0],D=r[1],j=r[2],U=r[3],F=r[4],H=r[5],z=r[6],G=r[7],q=r[8],W=r[9],$=r[10],K=r[11],V=r[12],Q=r[13],Z=r[14],Y=r[15];n=t[0],s+=n*B,o+=n*D,a+=n*j,c+=n*U,l+=n*F,u+=n*H,d+=n*z,h+=n*G,f+=n*q,p+=n*W,m+=n*$,g+=n*K,y+=n*V,b+=n*Q,v+=n*Z,w+=n*Y,n=t[1],o+=n*B,a+=n*D,c+=n*j,l+=n*U,u+=n*F,d+=n*H,h+=n*z,f+=n*G,p+=n*q,m+=n*W,g+=n*$,y+=n*K,b+=n*V,v+=n*Q,w+=n*Z,A+=n*Y,n=t[2],a+=n*B,c+=n*D,l+=n*j,u+=n*U,d+=n*F,h+=n*H,f+=n*z,p+=n*G,m+=n*q,g+=n*W,y+=n*$,b+=n*K,v+=n*V,w+=n*Q,A+=n*Z,_+=n*Y,n=t[3],c+=n*B,l+=n*D,u+=n*j,d+=n*U,h+=n*F,f+=n*H,p+=n*z,m+=n*G,g+=n*q,y+=n*W,b+=n*$,v+=n*K,w+=n*V,A+=n*Q,_+=n*Z,E+=n*Y,n=t[4],l+=n*B,u+=n*D,d+=n*j,h+=n*U,f+=n*F,p+=n*H,m+=n*z,g+=n*G,y+=n*q,b+=n*W,v+=n*$,w+=n*K,A+=n*V,_+=n*Q,E+=n*Z,x+=n*Y,n=t[5],u+=n*B,d+=n*D,h+=n*j,f+=n*U,p+=n*F,m+=n*H,g+=n*z,y+=n*G,b+=n*q,v+=n*W,w+=n*$,A+=n*K,_+=n*V,E+=n*Q,x+=n*Z,k+=n*Y,n=t[6],d+=n*B,h+=n*D,f+=n*j,p+=n*U,m+=n*F,g+=n*H,y+=n*z,b+=n*G,v+=n*q,w+=n*W,A+=n*$,_+=n*K,E+=n*V,x+=n*Q,k+=n*Z,S+=n*Y,n=t[7],h+=n*B,f+=n*D,p+=n*j,m+=n*U,g+=n*F,y+=n*H,b+=n*z,v+=n*G,w+=n*q,A+=n*W,_+=n*$,E+=n*K,x+=n*V,k+=n*Q,S+=n*Z,P+=n*Y,n=t[8],f+=n*B,p+=n*D,m+=n*j,g+=n*U,y+=n*F,b+=n*H,v+=n*z,w+=n*G,A+=n*q,_+=n*W,E+=n*$,x+=n*K,k+=n*V,S+=n*Q,P+=n*Z,T+=n*Y,n=t[9],p+=n*B,m+=n*D,g+=n*j,y+=n*U,b+=n*F,v+=n*H,w+=n*z,A+=n*G,_+=n*q,E+=n*W,x+=n*$,k+=n*K,S+=n*V,P+=n*Q,T+=n*Z,I+=n*Y,n=t[10],m+=n*B,g+=n*D,y+=n*j,b+=n*U,v+=n*F,w+=n*H,A+=n*z,_+=n*G,E+=n*q,x+=n*W,k+=n*$,S+=n*K,P+=n*V,T+=n*Q,I+=n*Z,O+=n*Y,n=t[11],g+=n*B,y+=n*D,b+=n*j,v+=n*U,w+=n*F,A+=n*H,_+=n*z,E+=n*G,x+=n*q,k+=n*W,S+=n*$,P+=n*K,T+=n*V,I+=n*Q,O+=n*Z,R+=n*Y,n=t[12],y+=n*B,b+=n*D,v+=n*j,w+=n*U,A+=n*F,_+=n*H,E+=n*z,x+=n*G,k+=n*q,S+=n*W,P+=n*$,T+=n*K,I+=n*V,O+=n*Q,R+=n*Z,C+=n*Y,n=t[13],b+=n*B,v+=n*D,w+=n*j,A+=n*U,_+=n*F,E+=n*H,x+=n*z,k+=n*G,S+=n*q,P+=n*W,T+=n*$,I+=n*K,O+=n*V,R+=n*Q,C+=n*Z,N+=n*Y,n=t[14],v+=n*B,w+=n*D,A+=n*j,_+=n*U,E+=n*F,x+=n*H,k+=n*z,S+=n*G,P+=n*q,T+=n*W,I+=n*$,O+=n*K,R+=n*V,C+=n*Q,N+=n*Z,L+=n*Y,n=t[15],w+=n*B,A+=n*D,_+=n*j,E+=n*U,x+=n*F,k+=n*H,S+=n*z,P+=n*G,T+=n*q,I+=n*W,O+=n*$,R+=n*K,C+=n*V,N+=n*Q,L+=n*Z,M+=n*Y,s+=38*A,o+=38*_,a+=38*E,c+=38*x,l+=38*k,u+=38*S,d+=38*P,h+=38*T,f+=38*I,p+=38*O,m+=38*R,g+=38*C,y+=38*N,b+=38*L,v+=38*M,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=b,e[14]=v,e[15]=w}function x(e,t){E(e,t,t)}function k(e,t){const r=o();let n;for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)x(r,r),2!==n&&4!==n&&E(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function S(e,t){const r=o(),n=o(),i=o(),s=o(),a=o(),c=o(),l=o(),d=o(),h=o();_(r,e[1],e[0]),_(h,t[1],t[0]),E(r,r,h),A(n,e[0],e[1]),A(h,t[0],t[1]),E(n,n,h),E(i,e[3],t[3]),E(i,i,u),E(s,e[2],t[2]),A(s,s,s),_(a,n,r),_(c,s,i),A(l,s,i),A(d,n,r),E(e[0],a,c),E(e[1],d,l),E(e[2],l,c),E(e[3],a,d)}function P(e,t,r){for(let n=0;n<4;n++)g(e[n],t[n],r)}function T(e,t){const r=o(),n=o(),i=o();k(i,t[2]),E(r,t[0],i),E(n,t[1],i),y(e,n),e[31]^=w(r)<<7}function I(e,t,r){p(e[0],a),p(e[1],c),p(e[2],c),p(e[3],a);for(let n=255;n>=0;--n){const i=r[n/8|0]>>(7&n)&1;P(e,t,i),S(t,e),S(e,e),P(e,t,i)}}function O(e,t){const r=[o(),o(),o(),o()];p(r[0],d),p(r[1],h),p(r[2],c),E(r[3],d,h),I(e,r,t)}function R(e){if(e.length!==t.TP)throw new Error(`ed25519: seed must be ${t.TP} bytes`);const r=(0,i.hash)(e);r[0]&=248,r[31]&=127,r[31]|=64;const n=new Uint8Array(32),s=[o(),o(),o(),o()];O(s,r),T(n,s);const a=new Uint8Array(64);return a.set(e),a.set(n,32),{publicKey:n,secretKey:a}}const C=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function N(e,t){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*C[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*C[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*C[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function L(e){const t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let r=0;r<64;r++)e[r]=0;N(e,t)}function M(e,t){const r=o(),n=o(),i=o(),s=o(),u=o(),d=o(),h=o();return p(e[2],c),function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),x(i,e[1]),E(s,i,l),_(i,i,e[2]),A(s,e[2],s),x(u,s),x(d,u),E(h,d,u),E(r,h,i),E(r,r,s),function(e,t){const r=o();let n;for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)x(r,r),1!==n&&E(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(r,r),E(r,r,i),E(r,r,s),E(r,r,s),E(e[0],r,s),x(n,e[0]),E(n,n,s),v(n,i)&&E(e[0],e[0],f),x(n,e[0]),E(n,n,s),v(n,i)?-1:(w(e[0])===t[31]>>7&&_(e[0],a,e[0]),E(e[3],e[0],e[1]),0)}},1164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},888:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const n=r(6944),i=r(6536),s=r(256);function o(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaultRandomSource).randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=o,t.randomUint32=function(){const e=o(4,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.defaultRandomSource),r=(0,i.readUint32LE)(e);return(0,s.wipe)(e),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultRandomSource;if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let i="";const c=r.length,l=256-256%c;for(;e>0;){const t=o(Math.ceil(256*e/l),n);for(let n=0;n<t.length&&e>0;n++){const s=t[n];s<l&&(i+=r.charAt(s%c),e--)}(0,s.wipe)(t)}return i}t.randomString=c,t.randomStringForEntropy=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultRandomSource;return c(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,n)}},5017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!==typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let r=0;r<t.length;r+=65536)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}}},6417:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const n=r(256);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=r(5423);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(e);for(let n=0;n<r.length;n++)r[n]=t[n];return(0,n.wipe)(t),r}}},6944:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const n=r(5017),i=r(6417);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},6010:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6536),i=r(256);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var s=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t/536870912|0,s=t<<3,o=t%128<112?128:256;this._buffer[r]=128;for(var c=r+1;c<o-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,o-8),n.writeUint32BE(s,this._buffer,o-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/8;c++)n.writeUint32BE(this._stateHi[c],e,8*c),n.writeUint32BE(this._stateLo[c],e,8*c+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,r,i,s,a,c){for(var l,u,d,h,f,p,m,g,y=r[0],b=r[1],v=r[2],w=r[3],A=r[4],_=r[5],E=r[6],x=r[7],k=i[0],S=i[1],P=i[2],T=i[3],I=i[4],O=i[5],R=i[6],C=i[7];c>=128;){for(var N=0;N<16;N++){var L=8*N+a;e[N]=n.readUint32BE(s,L),t[N]=n.readUint32BE(s,L+4)}for(N=0;N<80;N++){var M,B,D=y,j=b,U=v,F=w,H=A,z=_,G=E,q=k,W=S,$=P,K=T,V=I,Q=O,Z=R;if(f=65535&(u=C),p=u>>>16,m=65535&(l=x),g=l>>>16,f+=65535&(u=(I>>>14|A<<18)^(I>>>18|A<<14)^(A>>>9|I<<23)),p+=u>>>16,m+=65535&(l=(A>>>14|I<<18)^(A>>>18|I<<14)^(I>>>9|A<<23)),g+=l>>>16,f+=65535&(u=I&O^~I&R),p+=u>>>16,m+=65535&(l=A&_^~A&E),g+=l>>>16,l=o[2*N],f+=65535&(u=o[2*N+1]),p+=u>>>16,m+=65535&l,g+=l>>>16,l=e[N%16],p+=(u=t[N%16])>>>16,m+=65535&l,g+=l>>>16,m+=(p+=(f+=65535&u)>>>16)>>>16,f=65535&(u=h=65535&f|p<<16),p=u>>>16,m=65535&(l=d=65535&m|(g+=m>>>16)<<16),g=l>>>16,f+=65535&(u=(k>>>28|y<<4)^(y>>>2|k<<30)^(y>>>7|k<<25)),p+=u>>>16,m+=65535&(l=(y>>>28|k<<4)^(k>>>2|y<<30)^(k>>>7|y<<25)),g+=l>>>16,p+=(u=k&S^k&P^S&P)>>>16,m+=65535&(l=y&b^y&v^b&v),g+=l>>>16,M=65535&(m+=(p+=(f+=65535&u)>>>16)>>>16)|(g+=m>>>16)<<16,B=65535&f|p<<16,f=65535&(u=K),p=u>>>16,m=65535&(l=F),g=l>>>16,p+=(u=h)>>>16,m+=65535&(l=d),g+=l>>>16,b=D,v=j,w=U,A=F=65535&(m+=(p+=(f+=65535&u)>>>16)>>>16)|(g+=m>>>16)<<16,_=H,E=z,x=G,y=M,S=q,P=W,T=$,I=K=65535&f|p<<16,O=V,R=Q,C=Z,k=B,N%16===15)for(L=0;L<16;L++)l=e[L],f=65535&(u=t[L]),p=u>>>16,m=65535&l,g=l>>>16,l=e[(L+9)%16],f+=65535&(u=t[(L+9)%16]),p+=u>>>16,m+=65535&l,g+=l>>>16,d=e[(L+1)%16],f+=65535&(u=((h=t[(L+1)%16])>>>1|d<<31)^(h>>>8|d<<24)^(h>>>7|d<<25)),p+=u>>>16,m+=65535&(l=(d>>>1|h<<31)^(d>>>8|h<<24)^d>>>7),g+=l>>>16,d=e[(L+14)%16],p+=(u=((h=t[(L+14)%16])>>>19|d<<13)^(d>>>29|h<<3)^(h>>>6|d<<26))>>>16,m+=65535&(l=(d>>>19|h<<13)^(h>>>29|d<<3)^d>>>6),g+=l>>>16,g+=(m+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,e[L]=65535&m|g<<16,t[L]=65535&f|p<<16}f=65535&(u=k),p=u>>>16,m=65535&(l=y),g=l>>>16,l=r[0],p+=(u=i[0])>>>16,m+=65535&l,g+=l>>>16,g+=(m+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[0]=y=65535&m|g<<16,i[0]=k=65535&f|p<<16,f=65535&(u=S),p=u>>>16,m=65535&(l=b),g=l>>>16,l=r[1],p+=(u=i[1])>>>16,m+=65535&l,g+=l>>>16,g+=(m+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[1]=b=65535&m|g<<16,i[1]=S=65535&f|p<<16,f=65535&(u=P),p=u>>>16,m=65535&(l=v),g=l>>>16,l=r[2],p+=(u=i[2])>>>16,m+=65535&l,g+=l>>>16,g+=(m+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[2]=v=65535&m|g<<16,i[2]=P=65535&f|p<<16,f=65535&(u=T),p=u>>>16,m=65535&(l=w),g=l>>>16,l=r[3],p+=(u=i[3])>>>16,m+=65535&l,g+=l>>>16,g+=(m+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[3]=w=65535&m|g<<16,i[3]=T=65535&f|p<<16,f=65535&(u=I),p=u>>>16,m=65535&(l=A),g=l>>>16,l=r[4],p+=(u=i[4])>>>16,m+=65535&l,g+=l>>>16,g+=(m+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[4]=A=65535&m|g<<16,i[4]=I=65535&f|p<<16,f=65535&(u=O),p=u>>>16,m=65535&(l=_),g=l>>>16,l=r[5],p+=(u=i[5])>>>16,m+=65535&l,g+=l>>>16,g+=(m+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[5]=_=65535&m|g<<16,i[5]=O=65535&f|p<<16,f=65535&(u=R),p=u>>>16,m=65535&(l=E),g=l>>>16,l=r[6],p+=(u=i[6])>>>16,m+=65535&l,g+=l>>>16,g+=(m+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[6]=E=65535&m|g<<16,i[6]=R=65535&f|p<<16,f=65535&(u=C),p=u>>>16,m=65535&(l=x),g=l>>>16,l=r[7],p+=(u=i[7])>>>16,m+=65535&l,g+=l>>>16,g+=(m+=(p+=(f+=65535&u)>>>16)>>>16)>>>16,r[7]=x=65535&m|g<<16,i[7]=C=65535&f|p<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},8677:(e,t,r)=>{"use strict";var n=r(2721);t.A=n.WebApp},2721:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebApp=void 0,r(9262);var n=window;t.WebApp=n.Telegram.WebApp},9262:()=>{"use strict";!function(){var e={},t="";try{t=location.hash.toString()}catch(p){}var r=c(t),n=f("initParams");if(n)for(var i in n)"undefined"===typeof r[i]&&(r[i]=n[i]);h("initParams",r);var s,o=!1;try{if(o=null!=window.parent&&window!=window.parent){window.addEventListener("message",(function(e){if(e.source===window.parent){try{var t=JSON.parse(e.data)}catch(p){return}if(t&&t.eventType)if("set_custom_style"==t.eventType)"https://web.telegram.org"===e.origin&&(s.innerHTML=t.eventData);else if("reload_iframe"==t.eventType){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch(p){}location.reload()}else u(t.eventType,t.eventData)}})),s=document.createElement("style"),document.head.appendChild(s);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch(p){}}}catch(p){}function a(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(p){return e}}function c(e){var t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=a(e),t;var r=e.indexOf("?");if(r>=0){var n=e.substr(0,r);t._path=a(n),e=e.substr(r+1)}var i=l(e);for(var s in i)t[s]=i[s];return t}function l(e){var t={};if(!e.length)return t;var r,n,i,s,o=e.split("&");for(r=0;r<o.length;r++)i=a((n=o[r].split("="))[0]),s=null==n[1]?null:a(n[1]),t[i]=s;return t}function u(e,t){console.log("[Telegram.WebView] < receiveEvent",e,t),d(e,(function(r){r(e,t)}))}function d(t,r){var n=e[t];if(void 0!==n&&n.length)for(var i=0;i<n.length;i++)try{r(n[i])}catch(p){}}function h(e,t){try{return window.sessionStorage.setItem("__telegram__"+e,JSON.stringify(t)),!0}catch(p){}return!1}function f(e){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+e))}catch(p){}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:r,isIframe:o,onEvent:function(t,r){void 0===e[t]&&(e[t]=[]),-1===e[t].indexOf(r)&&e[t].push(r)},offEvent:function(t,r){if(void 0!==e[t]){var n=e[t].indexOf(r);-1!==n&&e[t].splice(n,1)}},postEvent:function(e,t,r){if(t||(t=function(){}),void 0===r&&(r=""),console.log("[Telegram.WebView] > postEvent",e,r),void 0!==window.TelegramWebviewProxy)TelegramWebviewProxy.postEvent(e,JSON.stringify(r)),t();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:e,eventData:r})),t();else if(o)try{window.parent.postMessage(JSON.stringify({eventType:e,eventData:r}),"*"),t()}catch(p){t(p)}else t({notAvailable:!0})},receiveEvent:u,callEventCallbacks:d},window.Telegram.Utils={urlSafeDecode:a,urlParseQueryString:l,urlParseHashParams:c,urlAppendHashParams:function(e,t){var r=e.indexOf("#");if(r<0)return e+"#"+t;var n=e.substr(r+1);return n.indexOf("=")>=0||n.indexOf("?")>=0?e+"&"+t:n.length>0?e+"?"+t:e+t},sessionStorageSet:h,sessionStorageGet:f},window.TelegramGameProxy_receiveEvent=u,window.TelegramGameProxy={receiveEvent:u}}(),function(){var e=window.Telegram.Utils,t=window.Telegram.WebView,r=t.initParams,n=t.isIframe,i={},s="",o={},a={},c="light",l="6.0",u="unknown";if(r.tgWebAppData&&r.tgWebAppData.length)for(var d in s=r.tgWebAppData,o=e.urlParseQueryString(s)){var h=o[d];try{("{"==h.substr(0,1)&&"}"==h.substr(-1)||"["==h.substr(0,1)&&"]"==h.substr(-1))&&(o[d]=JSON.parse(h))}catch(pe){}}if(r.tgWebAppThemeParams&&r.tgWebAppThemeParams.length){var f=r.tgWebAppThemeParams;try{var p;(p=JSON.parse(f))&&_(p)}catch(pe){}}(p=e.sessionStorageGet("themeParams"))&&_(p),r.tgWebAppVersion&&(l=r.tgWebAppVersion),r.tgWebAppPlatform&&(u=r.tgWebAppPlatform);var m=window.innerHeight;function g(e){m!=window.innerHeight&&(m=window.innerHeight,b("viewportChanged",{isStateStable:!0}))}function y(e){return e.toString().replace(/^\s+|\s+$/g,"")}function b(e){var r=Array.prototype.slice.call(arguments);e=r.shift(),t.callEventCallbacks("webview:"+e,(function(e){e.apply(i,r)}))}function v(e,r){t.onEvent("webview:"+e,r)}function w(e,r){t.offEvent("webview:"+e,r)}function A(e,t){var r=document.documentElement;r&&r.style&&r.style.setProperty&&r.style.setProperty("--tg-"+e,t)}function _(t){var r;for(var n in"#1c1c1d"==t.bg_color&&t.bg_color==t.secondary_bg_color&&(t.secondary_bg_color="#2c2c2e"),t)(r=q(t[n]))&&(a[n]=r,"bg_color"==n&&A("color-scheme",c=W(r)?"dark":"light"),A(n="theme-"+n.split("_").join("-"),r));e.sessionStorageSet("themeParams",a)}var E={};function x(e){for(var t=100;--t;){for(var r="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",i=0;i<e;i++)r+=n[Math.floor(62*Math.random())];if(!E[r])return E[r]={},r}throw Error("WebAppCallbackIdGenerateFailed")}var k=!1,S=!1,P=!0;function T(e){var t;"undefined"!==typeof e&&(P=!!e.is_expanded,k=e.height,e.is_state_stable&&(S=e.height),b("viewportChanged",{isStateStable:!!e.is_state_stable})),t=!1!==S?S-Z+"px":Z?"calc(100vh - "+Z+"px)":"100vh",A("viewport-height",!1!==k?k-Z+"px":Z?"calc(100vh - "+Z+"px)":"100vh"),A("viewport-stable-height",t)}var I=!1;var O=!0;var R="bg_color",C=null;var N=null,L=null;function M(){N==R&&L==C||(N=R,(L=C)?t.postEvent("web_app_set_header_color",!1,{color:C}):t.postEvent("web_app_set_header_color",!1,{color_key:R}))}var B="bg_color";function D(){return"secondary_bg_color"==B?a.secondary_bg_color:"bg_color"==B?a.bg_color:B}var j=null;function U(){var e=D();j!=e&&(j=e,t.postEvent("web_app_set_background_color",!1,{color:e}))}var F="bottom_bar_bg_color";function H(){return"bottom_bar_bg_color"==F?a.bottom_bar_bg_color||a.secondary_bg_color||"#ffffff":"secondary_bg_color"==F?a.secondary_bg_color:"bg_color"==F?a.bg_color:F}var z=null;function G(){var e=H();z!=e&&(z=e,t.postEvent("web_app_set_bottom_bar_color",!1,{color:e})),r.tgWebAppDebug&&ee()}function q(e){var t;if(t=/^\s*#([0-9a-f]{6})\s*$/i.exec(e+=""))return"#"+t[1].toLowerCase();if(t=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(e))return("#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]).toLowerCase();if(t=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(e)){var r=parseInt(t[1]),n=parseInt(t[2]),i=parseInt(t[3]);return"#"+(r=(r<16?"0":"")+r.toString(16))+(n=(n<16?"0":"")+n.toString(16))+(i=(i<16?"0":"")+i.toString(16))}return!1}function W(e){3==(e=e.replace(/[\s#]/g,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return Math.sqrt(t*t*.299+r*r*.587+n*n*.114)<120}function $(e){return function(e,t){"string"!==typeof e&&(e=""),"string"!==typeof t&&(t=""),e=e.replace(/^\s+|\s+$/g,"").split("."),t=t.replace(/^\s+|\s+$/g,"").split(".");var r,n,i,s=Math.max(e.length,t.length);for(r=0;r<s;r++)if((n=parseInt(e[r])||0)!=(i=parseInt(t[r])||0))return n>i?1:-1;return 0}(l,e)>=0}var K=function(){var e=!1,r={};Object.defineProperty(r,"isVisible",{set:function(e){a({is_visible:e})},get:function(){return e},enumerable:!0});var n=null;function i(){return{is_visible:e}}function s(){return!!$("6.1")||(console.warn("[Telegram.WebApp] BackButton is not supported in version "+l),!1)}function o(){var e=i(),r=function(e){return"undefined"===typeof e&&(e=i()),JSON.stringify(e)}(e);n!==r&&(n=r,t.postEvent("web_app_setup_back_button",!1,e))}function a(t){return s()?("undefined"!==typeof t.is_visible&&(e=!!t.is_visible),o(),r):r}return t.onEvent("back_button_pressed",(function(){b("backButtonClicked")})),r.onClick=function(e){return s()&&v("backButtonClicked",e),r},r.offClick=function(e){return s()&&w("backButtonClicked",e),r},r.show=function(){return a({is_visible:!0})},r.hide=function(){return a({is_visible:!1})},r}(),V=null,Q={},Z=0;if(r.tgWebAppDebug){V=document.createElement("tg-bottom-bar");var Y={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:H(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var J in Y)V.style[J]=Y[J];document.addEventListener("DOMContentLoaded",(function e(t){document.removeEventListener("DOMContentLoaded",e),document.body.appendChild(V)}));var X=document.createElement("style");X.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',V.appendChild(X)}function ee(){var e=Q.main._bottomButton,t=Q.secondary._bottomButton;e.isVisible||t.isVisible?(V.style.display="flex",Z=58,e.isVisible&&t.isVisible&&("top"==t.position?(V.style.flexDirection="column-reverse",Z+=51):"bottom"==t.position?(V.style.flexDirection="column",Z+=51):"left"==t.position?V.style.flexDirection="row-reverse":"right"==t.position&&(V.style.flexDirection="row"))):(V.style.display="none",Z=0),V.style.background=H(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=Z+"px"),T()}var te=function(e){var n="main"==e;if(n)var i="web_app_setup_main_button",s="main_button_pressed",o="mainButtonClicked",c="Continue",l=function(){return a.button_color||"#2481cc"},u=function(){return a.button_text_color||"#ffffff"};else i="web_app_setup_secondary_button",s="secondary_button_pressed",o="secondaryButtonClicked",c="Cancel",l=function(){return H()},u=function(){return a.button_color||"#2481cc"};var d=!1,h=!0,f=!1,p=!1,m=e,g=c,A=!1,_=!1,E="left",x={};Object.defineProperty(x,"type",{get:function(){return m},enumerable:!0}),Object.defineProperty(x,"text",{set:function(e){x.setParams({text:e})},get:function(){return g},enumerable:!0}),Object.defineProperty(x,"color",{set:function(e){x.setParams({color:e})},get:function(){return A||l()},enumerable:!0}),Object.defineProperty(x,"textColor",{set:function(e){x.setParams({text_color:e})},get:function(){return _||u()},enumerable:!0}),Object.defineProperty(x,"isVisible",{set:function(e){x.setParams({is_visible:e})},get:function(){return d},enumerable:!0}),Object.defineProperty(x,"isProgressVisible",{get:function(){return p},enumerable:!0}),Object.defineProperty(x,"isActive",{set:function(e){x.setParams({is_active:e})},get:function(){return h},enumerable:!0}),Object.defineProperty(x,"hasShineEffect",{set:function(e){x.setParams({has_shine_effect:e})},get:function(){return f},enumerable:!0}),n||Object.defineProperty(x,"position",{set:function(e){x.setParams({position:e})},get:function(){return E},enumerable:!0});var k=null;t.onEvent(s,I);var S=null;if(r.tgWebAppDebug){S=document.createElement("tg-bottom-button");var P={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var T in P)S.style[T]=P[T];V.appendChild(S),S.addEventListener("click",I,!1),S._bottomButton=x,Q[e]=S}function I(){h&&b(o)}function O(){var e=x.color,t=x.textColor;if(d){var r={is_visible:!0,is_active:h,is_progress_visible:p,text:g,color:e,text_color:t,has_shine_effect:f&&h&&!p};n||(r.position=E)}else r={is_visible:!1};return r}function R(){var e=O(),n=function(e){return"undefined"===typeof e&&(e=O()),JSON.stringify(e)}(e);k!==n&&(k=n,t.postEvent(i,!1,e),r.tgWebAppDebug&&function(e){e.is_visible?(S.style.display="block",S.style.opacity=e.is_active?"1":"0.8",S.style.cursor=e.is_active?"pointer":"auto",S.disabled=!e.is_active,S.innerText=e.text,S.className=e.has_shine_effect?"shine":"",S.style.backgroundImage=e.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+e.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",S.style.backgroundColor=e.color,S.style.color=e.text_color):S.style.display="none";ee()}(e))}return x.setText=function(e){return x.setParams({text:e})},x.onClick=function(e){return v(o,e),x},x.offClick=function(e){return w(o,e),x},x.show=function(){return x.setParams({is_visible:!0})},x.hide=function(){return x.setParams({is_visible:!1})},x.enable=function(){return x.setParams({is_active:!0})},x.disable=function(){return x.setParams({is_active:!1})},x.showProgress=function(e){return h=!!e,p=!0,R(),x},x.hideProgress=function(){return x.isActive||(h=!0),p=!1,R(),x},x.setParams=function(e){if("undefined"!==typeof e.text){var t=y(e.text);if(!t.length)throw console.error("[Telegram.WebApp] Bottom button text is required",e.text),Error("WebAppBottomButtonParamInvalid");if(t.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",t),Error("WebAppBottomButtonParamInvalid");g=t}if("undefined"!==typeof e.color)if(!1===e.color||null===e.color)A=!1;else{var r=q(e.color);if(!r)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",e.color),Error("WebAppBottomButtonParamInvalid");A=r}if("undefined"!==typeof e.text_color)if(!1===e.text_color||null===e.text_color)_=!1;else{var i=q(e.text_color);if(!i)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",e.text_color),Error("WebAppBottomButtonParamInvalid");_=i}if("undefined"!==typeof e.is_visible){if(e.is_visible&&!x.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");d=!!e.is_visible}if("undefined"!==typeof e.has_shine_effect&&(f=!!e.has_shine_effect),!n&&"undefined"!==typeof e.position){if("left"!=e.position&&"right"!=e.position&&"top"!=e.position&&"bottom"!=e.position)throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",e.position),Error("WebAppBottomButtonParamInvalid");E=e.position}return"undefined"!==typeof e.is_active&&(h=!!e.is_active),R(),x},x},re=te("main"),ne=te("secondary"),ie=function(){var e=!1,r={};Object.defineProperty(r,"isVisible",{set:function(e){a({is_visible:e})},get:function(){return e},enumerable:!0});var n=null;function i(){return{is_visible:e}}function s(){return!!$("6.10")||(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+l),!1)}function o(){var e=i(),r=function(e){return"undefined"===typeof e&&(e=i()),JSON.stringify(e)}(e);n!==r&&(n=r,t.postEvent("web_app_setup_settings_button",!1,e))}function a(t){return s()?("undefined"!==typeof t.is_visible&&(e=!!t.is_visible),o(),r):r}return t.onEvent("settings_button_pressed",(function(){b("settingsButtonClicked")})),r.onClick=function(e){return s()&&v("settingsButtonClicked",e),r},r.offClick=function(e){return s()&&w("settingsButtonClicked",e),r},r.show=function(){return a({is_visible:!0})},r.hide=function(){return a({is_visible:!1})},r}(),se=function(){var e={};function r(r){if(!$("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+l),e;if("impact"==r.type){if("light"!=r.impact_style&&"medium"!=r.impact_style&&"heavy"!=r.impact_style&&"rigid"!=r.impact_style&&"soft"!=r.impact_style)throw console.error("[Telegram.WebApp] Haptic impact style is invalid",r.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if("notification"==r.type){if("error"!=r.notification_type&&"success"!=r.notification_type&&"warning"!=r.notification_type)throw console.error("[Telegram.WebApp] Haptic notification type is invalid",r.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if("selection_change"!=r.type)throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",r.type),Error("WebAppHapticFeedbackTypeInvalid");return t.postEvent("web_app_trigger_haptic_feedback",!1,r),e}return e.impactOccurred=function(e){return r({type:"impact",impact_style:e})},e.notificationOccurred=function(e){return r({type:"notification",notification_type:e})},e.selectionChanged=function(){return r({type:"selection_change"})},e}(),oe=function(){var e={};function t(t,r,n){if(!$("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+l),Error("WebAppMethodUnsupported");return fe(t,r,n),e}return e.setItem=function(e,r,n){return t("saveStorageValue",{key:e,value:r},n)},e.getItem=function(t,r){return e.getItems([t],r?function(e,n){e?r(e):r(null,n[t])}:null)},e.getItems=function(e,r){return t("getStorageValues",{keys:e},r)},e.removeItem=function(t,r){return e.removeItems([t],r)},e.removeItems=function(e,r){return t("deleteStorageValues",{keys:e},r)},e.getKeys=function(e){return t("getStorageKeys",{},e)},e}(),ae=function(){var e=!1,r=!1,n="unknown",i=!1,s=!1,o=!1,a="",c={};Object.defineProperty(c,"isInited",{get:function(){return e},enumerable:!0}),Object.defineProperty(c,"isBiometricAvailable",{get:function(){return e&&r},enumerable:!0}),Object.defineProperty(c,"biometricType",{get:function(){return n||"unknown"},enumerable:!0}),Object.defineProperty(c,"isAccessRequested",{get:function(){return i},enumerable:!0}),Object.defineProperty(c,"isAccessGranted",{get:function(){return i&&s},enumerable:!0}),Object.defineProperty(c,"isBiometricTokenSaved",{get:function(){return o},enumerable:!0}),Object.defineProperty(c,"deviceId",{get:function(){return a||""},enumerable:!0});var u={callbacks:[]},d=!1,h=!1,f=!1;function p(){return!!$("7.2")||(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+l),!1)}function m(){if(!e)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return t.onEvent("biometry_info_received",(function(t,c){e=!0,c.available?(r=!0,n=c.type||"unknown",c.access_requested?(i=!0,s=!!c.access_granted,o=!!c.token_saved):(i=!1,s=!1,o=!1)):(r=!1,n="unknown",i=!1,s=!1,o=!1);if(a=c.device_id||"",u.callbacks.length>0)for(var l=0;l<u.callbacks.length;l++){(0,u.callbacks[l])()}if(d){var h=d;d=!1,h.callback&&h.callback(s)}b("biometricManagerUpdated")})),t.onEvent("biometry_auth_requested",(function(e,t){var r="authorized"==t.status,n=t.token||"";if(h){var i=h;h=!1,i.callback&&i.callback(r,r?n:null)}b("biometricAuthRequested",r?{isAuthenticated:!0,biometricToken:n}:{isAuthenticated:!1})})),t.onEvent("biometry_token_updated",(function(e,t){var n=!1;r&&i&&("updated"==t.status?(o=!0,n=!0):"removed"==t.status&&(o=!1,n=!0));if(f){var s=f;f=!1,s.callback&&s.callback(n)}b("biometricTokenUpdated",{isUpdated:n})})),c.init=function(r){return p()?(e||(r&&u.callbacks.push(r),t.postEvent("web_app_biometry_get_info",!1)),c):c},c.requestAccess=function(e,n){if(!p())return c;if(m(),!r)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(d)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var i={};if("undefined"!==typeof e.reason){var s=y(e.reason);if(s.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",s),Error("WebAppBiometricRequestAccessParamInvalid");s.length>0&&(i.reason=s)}return d={callback:n},t.postEvent("web_app_biometry_request_access",!1,i),c},c.authenticate=function(e,n){if(!p())return c;if(m(),!r)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!s)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(h)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var i={};if("undefined"!==typeof e.reason){var o=y(e.reason);if(o.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",o),Error("WebAppBiometricRequestAccessParamInvalid");o.length>0&&(i.reason=o)}return h={callback:n},t.postEvent("web_app_biometry_request_auth",!1,i),c},c.updateBiometricToken=function(e,n){if(!p())return c;if((e=e||"").length>1024)throw console.error("[Telegram.WebApp] Token is too long",e),Error("WebAppBiometricManagerTokenInvalid");if(m(),!r)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!s)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(f)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return f={callback:n},t.postEvent("web_app_biometry_update_token",!1,{token:e}),c},c.openSettings=function(){if(!p())return c;if(m(),!r)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!i)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return s?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),c):(t.postEvent("web_app_biometry_open_settings",!1),c)},c}(),ce={};var le=!1;var ue=!1;var de=!1;var he=!1;function fe(e,r,n){if(!$("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+l),Error("WebAppMethodUnsupported");var i=x(16),s={req_id:i,method:e,params:r||{}};E[i]={callback:n},t.postEvent("web_app_invoke_custom_method",!1,s)}window.Telegram||(window.Telegram={}),Object.defineProperty(i,"initData",{get:function(){return s},enumerable:!0}),Object.defineProperty(i,"initDataUnsafe",{get:function(){return o},enumerable:!0}),Object.defineProperty(i,"version",{get:function(){return l},enumerable:!0}),Object.defineProperty(i,"platform",{get:function(){return u},enumerable:!0}),Object.defineProperty(i,"colorScheme",{get:function(){return c},enumerable:!0}),Object.defineProperty(i,"themeParams",{get:function(){return a},enumerable:!0}),Object.defineProperty(i,"isExpanded",{get:function(){return P},enumerable:!0}),Object.defineProperty(i,"viewportHeight",{get:function(){return(!1===k?window.innerHeight:k)-Z},enumerable:!0}),Object.defineProperty(i,"viewportStableHeight",{get:function(){return(!1===S?window.innerHeight:S)-Z},enumerable:!0}),Object.defineProperty(i,"isClosingConfirmationEnabled",{set:function(e){var r;r=e,$("6.2")?(I=!!r,t.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:I})):console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+l)},get:function(){return I},enumerable:!0}),Object.defineProperty(i,"isVerticalSwipesEnabled",{set:function(e){var r;r=e,$("7.7")?(O=!!r,t.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:O})):console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+l)},get:function(){return O},enumerable:!0}),Object.defineProperty(i,"headerColor",{set:function(e){!function(e){if($("6.1")){$("6.9")||(a.bg_color&&a.bg_color==e?e="bg_color":a.secondary_bg_color&&a.secondary_bg_color==e&&(e="secondary_bg_color"));var t=null,r=null;if("bg_color"==e||"secondary_bg_color"==e)r=e;else if($("6.9")&&!(t=q(e)))throw console.error("[Telegram.WebApp] Header color format is invalid",e),Error("WebAppHeaderColorInvalid");if(!$("6.9")&&"bg_color"!=r&&"secondary_bg_color"!=r)throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",e),Error("WebAppHeaderColorKeyInvalid");R=r,C=t,M()}else console.warn("[Telegram.WebApp] Header color is not supported in version "+l)}(e)},get:function(){return"secondary_bg_color"==R?a.secondary_bg_color:"bg_color"==R?a.bg_color:C},enumerable:!0}),Object.defineProperty(i,"backgroundColor",{set:function(e){!function(e){if($("6.1")){var t;if("bg_color"==e||"secondary_bg_color"==e)t=e;else if(!(t=q(e)))throw console.error("[Telegram.WebApp] Background color format is invalid",e),Error("WebAppBackgroundColorInvalid");B=t,U()}else console.warn("[Telegram.WebApp] Background color is not supported in version "+l)}(e)},get:function(){return D()},enumerable:!0}),Object.defineProperty(i,"bottomBarColor",{set:function(e){!function(e){if($("7.10")){var t;if("bg_color"==e||"secondary_bg_color"==e||"bottom_bar_bg_color"==e)t=e;else if(!(t=q(e)))throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",e),Error("WebAppBottomBarColorInvalid");F=t,G(),window.Telegram.WebApp.SecondaryButton.setParams({})}else console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+l)}(e)},get:function(){return H()},enumerable:!0}),Object.defineProperty(i,"BackButton",{value:K,enumerable:!0}),Object.defineProperty(i,"MainButton",{value:re,enumerable:!0}),Object.defineProperty(i,"SecondaryButton",{value:ne,enumerable:!0}),Object.defineProperty(i,"SettingsButton",{value:ie,enumerable:!0}),Object.defineProperty(i,"HapticFeedback",{value:se,enumerable:!0}),Object.defineProperty(i,"CloudStorage",{value:oe,enumerable:!0}),Object.defineProperty(i,"BiometricManager",{value:ae,enumerable:!0}),i.setHeaderColor=function(e){i.headerColor=e},i.setBackgroundColor=function(e){i.backgroundColor=e},i.setBottomBarColor=function(e){i.bottomBarColor=e},i.enableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!0},i.disableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!1},i.enableVerticalSwipes=function(){i.isVerticalSwipesEnabled=!0},i.disableVerticalSwipes=function(){i.isVerticalSwipesEnabled=!1},i.isVersionAtLeast=function(e){return $(e)},i.onEvent=function(e,t){v(e,t)},i.offEvent=function(e,t){w(e,t)},i.sendData=function(e){if(!e||!e.length)throw console.error("[Telegram.WebApp] Data is required",e),Error("WebAppDataInvalid");if(function(e){if(window.Blob)try{return new Blob([e]).size}catch(pe){}for(var t=e.length,r=e.length-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}(e)>4096)throw console.error("[Telegram.WebApp] Data is too long",e),Error("WebAppDataInvalid");t.postEvent("web_app_data_send",!1,{data:e})},i.switchInlineQuery=function(e,n){if(!$("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+l),Error("WebAppMethodUnsupported");if(!r.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if((e=e||"").length>256)throw console.error("[Telegram.WebApp] Inline query is too long",e),Error("WebAppInlineQueryInvalid");var i=[];if(n){if(!Array.isArray(n))throw console.error("[Telegram.WebApp] Choose chat types should be an array",n),Error("WebAppInlineChooseChatTypesInvalid");for(var s={users:1,bots:1,groups:1,channels:1},o=0;o<n.length;o++){var a=n[o];if(!s[a])throw console.error("[Telegram.WebApp] Choose chat type is invalid",a),Error("WebAppInlineChooseChatTypeInvalid");2!=s[a]&&(s[a]=2,i.push(a))}}t.postEvent("web_app_switch_inline_query",!1,{query:e,chat_types:i})},i.openLink=function(e,r){var n=document.createElement("A");if(n.href=e,"http:"!=n.protocol&&"https:"!=n.protocol)throw console.error("[Telegram.WebApp] Url protocol is not supported",e),Error("WebAppTgUrlInvalid");e=n.href;if(r=r||{},$("6.1")){var i={url:e};$("6.4")&&r.try_instant_view&&(i.try_instant_view=!0),$("7.6")&&r.try_browser&&(i.try_browser=r.try_browser),t.postEvent("web_app_open_link",!1,i)}else window.open(e,"_blank")},i.openTelegramLink=function(e){var r=document.createElement("A");if(r.href=e,"http:"!=r.protocol&&"https:"!=r.protocol)throw console.error("[Telegram.WebApp] Url protocol is not supported",e),Error("WebAppTgUrlInvalid");if("t.me"!=r.hostname)throw console.error("[Telegram.WebApp] Url host is not supported",e),Error("WebAppTgUrlInvalid");var i=r.pathname+r.search;n||$("6.1")?t.postEvent("web_app_open_tg_link",!1,{path_full:i}):location.href="https://t.me"+i},i.openInvoice=function(e,r){var n,i,s=document.createElement("A");if(s.href=e,"http:"!=s.protocol&&"https:"!=s.protocol||"t.me"!=s.hostname||!(n=s.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(i=n[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",e),Error("WebAppInvoiceUrlInvalid");if(!$("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+l),Error("WebAppMethodUnsupported");if(ce[i])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");ce[i]={url:e,callback:r},t.postEvent("web_app_open_invoice",!1,{slug:i})},i.showPopup=function(e,r){if(!$("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+l),Error("WebAppMethodUnsupported");if(le)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var n="",i="",s=[],o={};if("undefined"!==typeof e.title){if((n=y(e.title)).length>64)throw console.error("[Telegram.WebApp] Popup title is too long",n),Error("WebAppPopupParamInvalid");n.length>0&&(o.title=n)}if("undefined"!==typeof e.message&&(i=y(e.message)),!i.length)throw console.error("[Telegram.WebApp] Popup message is required",e.message),Error("WebAppPopupParamInvalid");if(i.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",i),Error("WebAppPopupParamInvalid");if(o.message=i,"undefined"!==typeof e.buttons){if(!Array.isArray(e.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",e.buttons),Error("WebAppPopupParamInvalid");for(var a=0;a<e.buttons.length;a++){var c=e.buttons[a],u={},d="";if("undefined"!==typeof c.id&&(d=c.id.toString()).length>64)throw console.error("[Telegram.WebApp] Popup button id is too long",d),Error("WebAppPopupParamInvalid");u.id=d;var h=c.type;if("undefined"===typeof h&&(h="default"),u.type=h,"ok"==h||"close"==h||"cancel"==h);else{if("default"!=h&&"destructive"!=h)throw console.error("[Telegram.WebApp] Popup button type is invalid",h),Error("WebAppPopupParamInvalid");var f="";if("undefined"!==typeof c.text&&(f=y(c.text)),!f.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+h,c.text),Error("WebAppPopupParamInvalid");if(f.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",f),Error("WebAppPopupParamInvalid");u.text=f}s.push(u)}}else s.push({id:"",type:"close"});if(s.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(s.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");o.buttons=s,le={callback:r},t.postEvent("web_app_open_popup",!1,o)},i.showAlert=function(e,t){i.showPopup({message:e},t?function(){t()}:null)},i.showConfirm=function(e,t){i.showPopup({message:e,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},t?function(e){t("ok"==e)}:null)},i.showScanQrPopup=function(e,r){if(!$("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+l),Error("WebAppMethodUnsupported");if(ue)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var n="",i={};if("undefined"!==typeof e.text){if((n=y(e.text)).length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",n),Error("WebAppScanQrPopupParamInvalid");n.length>0&&(i.text=n)}ue={callback:r},t.postEvent("web_app_open_scan_qr_popup",!1,i)},i.closeScanQrPopup=function(){if(!$("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+l),Error("WebAppMethodUnsupported");ue=!1,t.postEvent("web_app_close_scan_qr_popup",!1)},i.readTextFromClipboard=function(e){if(!$("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+l),Error("WebAppMethodUnsupported");var r=x(16),n={req_id:r};E[r]={callback:e},t.postEvent("web_app_read_text_from_clipboard",!1,n)},i.requestWriteAccess=function(e){if(!$("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+l),Error("WebAppMethodUnsupported");if(de)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");de={callback:e},t.postEvent("web_app_request_write_access")},i.requestContact=function(e){if(!$("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+l),Error("WebAppMethodUnsupported");if(he)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");he={callback:e},t.postEvent("web_app_request_phone")},i.shareToStory=function(e,r){if(r=r||{},!$("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+l),Error("WebAppMethodUnsupported");var n=document.createElement("A");if(n.href=e,"http:"!=n.protocol&&"https:"!=n.protocol)throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var i={};if(i.media_url=n.href,"undefined"!==typeof r.text){var s=y(r.text);if(s.length>2048)throw console.error("[Telegram.WebApp] Text is too long",s),Error("WebAppShareToStoryParamInvalid");s.length>0&&(i.text=s)}if("undefined"!==typeof r.widget_link){if(r.widget_link=r.widget_link||{},n.href=r.widget_link.url,"http:"!=n.protocol&&"https:"!=n.protocol)throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var o={url:n.href};if("undefined"!==typeof r.widget_link.name){var a=y(r.widget_link.name);if(a.length>48)throw console.error("[Telegram.WebApp] Link name is too long",a),Error("WebAppShareToStoryParamInvalid");a.length>0&&(o.name=a)}i.widget_link=o}t.postEvent("web_app_share_to_story",!1,i)},i.invokeCustomMethod=function(e,t,r){fe(e,t,r)},i.ready=function(){t.postEvent("web_app_ready")},i.expand=function(){t.postEvent("web_app_expand")},i.close=function(e){e=e||{};var r={};$("7.6")&&e.return_back&&(r.return_back=!0),t.postEvent("web_app_close",!1,r)},window.Telegram.WebApp=i,M(),U(),G(),T(),r.tgWebAppShowSettings&&ie.show(),window.addEventListener("resize",g),n&&document.addEventListener("click",(function(e){if(!e.metaKey&&!e.ctrlKey){for(var t=e.target;"A"!=t.tagName&&t.parentNode;)t=t.parentNode;"A"!=t.tagName||"_blank"==t.target||"http:"!=t.protocol&&"https:"!=t.protocol||"t.me"!=t.hostname||(i.openTgLink(t.href),e.preventDefault())}})),t.onEvent("theme_changed",(function(e,t){t.theme_params&&(_(t.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),M(),U(),G(),b("themeChanged"))})),t.onEvent("viewport_changed",(function(e,t){t.height&&(window.removeEventListener("resize",g),T(t))})),t.onEvent("invoice_closed",(function(e,t){if(t.slug&&ce[t.slug]){var r=ce[t.slug];delete ce[t.slug],r.callback&&r.callback(t.status),b("invoiceClosed",{url:r.url,status:t.status})}})),t.onEvent("popup_closed",(function(e,t){if(le){var r=le;le=!1;var n=null;"undefined"!==typeof t.button_id&&(n=t.button_id),r.callback&&r.callback(n),b("popupClosed",{button_id:n})}})),t.onEvent("qr_text_received",(function(e,r){if(ue){var n=ue,i=null;"undefined"!==typeof r.data&&(i=r.data),n.callback&&n.callback(i)&&(ue=!1,t.postEvent("web_app_close_scan_qr_popup",!1)),b("qrTextReceived",{data:i})}})),t.onEvent("scan_qr_popup_closed",(function(e,t){ue=!1,b("scanQrPopupClosed")})),t.onEvent("clipboard_text_received",(function(e,t){if(t.req_id&&E[t.req_id]){var r=E[t.req_id];delete E[t.req_id];var n=null;"undefined"!==typeof t.data&&(n=t.data),r.callback&&r.callback(n),b("clipboardTextReceived",{data:n})}})),t.onEvent("write_access_requested",(function(e,t){if(de){var r=de;de=!1,r.callback&&r.callback("allowed"==t.status),b("writeAccessRequested",{status:t.status})}})),t.onEvent("phone_requested",(function(t,r){if(he){var n=he;he=!1;var i="sent"==r.status,s={status:r.status};i?function(e,t){var r,n,i=0,s=function(){fe("getRequestedContact",{},(function(t,o){o&&o.length?(clearTimeout(n),e(o)):r=setTimeout(s,i+=50)}))};n=setTimeout((function(){clearTimeout(r),e("")}),t),s()}((function(t){if(t&&t.length)for(var r in s.response=t,s.responseUnsafe=e.urlParseQueryString(t),s.responseUnsafe){var o=s.responseUnsafe[r];try{("{"==o.substr(0,1)&&"}"==o.substr(-1)||"["==o.substr(0,1)&&"]"==o.substr(-1))&&(s.responseUnsafe[r]=JSON.parse(o))}catch(pe){}}n.callback&&n.callback(i,s),b("contactRequested",s)}),3e3):(n.callback&&n.callback(i,s),b("contactRequested",s))}})),t.onEvent("custom_method_invoked",(function(e,t){if(t.req_id&&E[t.req_id]){var r=E[t.req_id];delete E[t.req_id];var n=null,i=null;"undefined"!==typeof t.result&&(n=t.result),"undefined"!==typeof t.error&&(i=t.error),r.callback&&r.callback(i,n)}})),t.postEvent("web_app_request_theme"),t.postEvent("web_app_request_viewport")}()},1240:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(255!==t[s])throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var s=(e.length-r)*c+1>>>0,l=new Uint8Array(s);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var d=0,h=s-1;(0!==u||d<i)&&-1!==h;h--,d++)u+=o*l[h]>>>0,l[h]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,r++}for(var f=s-i;f!==s&&0===l[f];)f++;for(var p=new Uint8Array(n+(s-f)),m=n;f!==s;)p[m++]=l[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var c=(s-i)*l+1>>>0,u=new Uint8Array(c);i!==s;){for(var d=t[i],h=0,f=c-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*u[f]>>>0,u[f]=d%o>>>0,d=d/o>>>0;if(0!==d)throw new Error("Non-zero carry");n=h,i++}for(var p=c-n;p!==c&&0===u[p];)p++;for(var m=a.repeat(r);p<c;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},7690:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,s=a(e),o=s[0],c=s[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,c)),u=0,d=c>0?o-4:o;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=16383,a=0,l=n-i;a<l;a+=o)s.push(c(e,a,a+o>l?l:a+o));1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,s,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},1080:(e,t,r)=>{const n=r(6617);function i(e,t,r){const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function s(e,t,r,n){let i=e[t]+r;r<0&&(i+=4294967296);let s=e[t+1]+n;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,r,n,o,a){const c=d[o],l=d[o+1],h=d[a],f=d[a+1];i(u,e,t),s(u,e,c,l);let p=u[n]^u[e],m=u[n+1]^u[e+1];u[n]=m,u[n+1]=p,i(u,r,n),p=u[t]^u[r],m=u[t+1]^u[r+1],u[t]=p>>>24^m<<8,u[t+1]=m>>>24^p<<8,i(u,e,t),s(u,e,h,f),p=u[n]^u[e],m=u[n+1]^u[e+1],u[n]=p>>>16^m<<16,u[n+1]=m>>>16^p<<16,i(u,r,n),p=u[t]^u[r],m=u[t+1]^u[r+1],u[t]=m>>>31^p<<1,u[t+1]=p>>>31^m<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),u=new Uint32Array(32),d=new Uint32Array(32);function h(e,t){let r=0;for(r=0;r<16;r++)u[r]=e.h[r],u[r+16]=c[r];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),r=0;r<32;r++)d[r]=o(e.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,l[16*r+0],l[16*r+1]),a(2,10,18,26,l[16*r+2],l[16*r+3]),a(4,12,20,28,l[16*r+4],l[16*r+5]),a(6,14,22,30,l[16*r+6],l[16*r+7]),a(0,10,20,30,l[16*r+8],l[16*r+9]),a(2,12,22,24,l[16*r+10],l[16*r+11]),a(4,14,16,26,l[16*r+12],l[16*r+13]),a(6,8,18,28,l[16*r+14],l[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^u[r]^u[r+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,r,n){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,r&&f.set(r,32),n&&f.set(n,48);for(let s=0;s<16;s++)i.h[s]=c[s]^o(f,4*s);return t&&(m(i,t),i.c=128),i}function m(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function g(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function y(e,t,r,i,s){r=r||64,e=n.normalizeInput(e),i&&(i=n.normalizeInput(i)),s&&(s=n.normalizeInput(s));const o=p(r,t,i,s);return m(o,e),g(o)}e.exports={blake2b:y,blake2bHex:function(e,t,r,i,s){const o=y(e,t,r,i,s);return n.toHex(o)},blake2bInit:p,blake2bUpdate:m,blake2bFinal:g}},2239:(e,t,r)=>{const n=r(6617);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,r,n,i,s){l[e]=l[e]+l[t]+i,l[n]=o(l[n]^l[e],16),l[r]=l[r]+l[n],l[t]=o(l[t]^l[r],12),l[e]=l[e]+l[t]+s,l[n]=o(l[n]^l[e],8),l[r]=l[r]+l[n],l[t]=o(l[t]^l[r],7)}function o(e,t){return e>>>t^e<<32-t}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),u=new Uint32Array(16);function d(e,t){let r=0;for(r=0;r<8;r++)l[r]=e.h[r],l[r+8]=a[r];for(l[12]^=e.t,l[13]^=e.t/4294967296,t&&(l[14]=~l[14]),r=0;r<16;r++)u[r]=i(e.b,4*r);for(r=0;r<10;r++)s(0,4,8,12,u[c[16*r+0]],u[c[16*r+1]]),s(1,5,9,13,u[c[16*r+2]],u[c[16*r+3]]),s(2,6,10,14,u[c[16*r+4]],u[c[16*r+5]]),s(3,7,11,15,u[c[16*r+6]],u[c[16*r+7]]),s(0,5,10,15,u[c[16*r+8]],u[c[16*r+9]]),s(1,6,11,12,u[c[16*r+10]],u[c[16*r+11]]),s(2,7,8,13,u[c[16*r+12]],u[c[16*r+13]]),s(3,4,9,14,u[c[16*r+14]],u[c[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=l[r]^l[r+8]}function h(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(f(n,t),n.c=64),n}function f(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[r]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;d(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function m(e,t,r){r=r||32,e=n.normalizeInput(e);const i=h(r,t);return f(i,e),p(i)}e.exports={blake2s:m,blake2sHex:function(e,t,r){const i=m(e,t,r);return n.toHex(i)},blake2sInit:h,blake2sUpdate:f,blake2sFinal:p}},2129:(e,t,r)=>{const n=r(1080),i=r(2239);e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},6617:e=>{function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!==typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,r,n){let i="\n"+e+" = ";for(let s=0;s<r.length;s+=2){if(32===n)i+=t(r[s]).toUpperCase(),i+=" ",i+=t(r[s+1]).toUpperCase();else{if(64!==n)throw new Error("Invalid size "+n);i+=t(r[s+1]).toUpperCase(),i+=t(r[s]).toUpperCase()}s%6===4?i+="\n"+new Array(e.length+4).join(" "):s<r.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,r){let n=(new Date).getTime();const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=o%256;const s=(new Date).getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let o=0;o<r;o++){const r=e(i),s=(new Date).getTime(),o=s-n;n=s,console.log("Hashed in "+o+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(o/1e3)*100)/100+" MB PER SECOND")}}}},5720:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(8379).Buffer}catch(k){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function l(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,c=0,u=r;u<a;u+=n)c=l(e,u,u+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var d=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var l=1;l<n;l++){for(var u=c>>>26,d=67108863&c,h=Math.min(l,t.length-1),f=Math.max(0,l-e.length+1);f<=h;f++){var p=l-f|0;u+=(o=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&o}r.words[l]=0|d,c=0|u}return 0!==c?r.words[l]=0|c:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?u[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],f=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?m+r:u[l-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n("undefined"!==typeof o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,c="le"===t,l=new e(s),u=this.clone();if(c){for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-i;a++)l[a]=0;for(a=0;!u.isZero();a++)o=u.andln(255),u.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,c=r.words,l=0,u=0|o[0],d=8191&u,h=u>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,v=0|o[3],w=8191&v,A=v>>>13,_=0|o[4],E=8191&_,x=_>>>13,k=0|o[5],S=8191&k,P=k>>>13,T=0|o[6],I=8191&T,O=T>>>13,R=0|o[7],C=8191&R,N=R>>>13,L=0|o[8],M=8191&L,B=L>>>13,D=0|o[9],j=8191&D,U=D>>>13,F=0|a[0],H=8191&F,z=F>>>13,G=0|a[1],q=8191&G,W=G>>>13,$=0|a[2],K=8191&$,V=$>>>13,Q=0|a[3],Z=8191&Q,Y=Q>>>13,J=0|a[4],X=8191&J,ee=J>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ce=8191&ae,le=ae>>>13,ue=0|a[8],de=8191&ue,he=ue>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(l+(n=Math.imul(d,H))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(h,H)|0))<<13)|0;l=((s=Math.imul(h,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,H),i=(i=Math.imul(p,z))+Math.imul(m,H)|0,s=Math.imul(m,z);var ye=(l+(n=n+Math.imul(d,q)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(h,q)|0))<<13)|0;l=((s=s+Math.imul(h,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,H),i=(i=Math.imul(y,z))+Math.imul(b,H)|0,s=Math.imul(b,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,W)|0;var be=(l+(n=n+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(h,K)|0))<<13)|0;l=((s=s+Math.imul(h,V)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(w,H),i=(i=Math.imul(w,z))+Math.imul(A,H)|0,s=Math.imul(A,z),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,q)|0,s=s+Math.imul(b,W)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,V)|0;var ve=(l+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,Y)|0)+Math.imul(h,Z)|0))<<13)|0;l=((s=s+Math.imul(h,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,H),i=(i=Math.imul(E,z))+Math.imul(x,H)|0,s=Math.imul(x,z),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(A,q)|0,s=s+Math.imul(A,W)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,V)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,V)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,Y)|0;var we=(l+(n=n+Math.imul(d,X)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,X)|0))<<13)|0;l=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,H),i=(i=Math.imul(S,z))+Math.imul(P,H)|0,s=Math.imul(P,z),n=n+Math.imul(E,q)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,W)|0,n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(A,K)|0,s=s+Math.imul(A,V)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,Y)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,ee)|0;var Ae=(l+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;l=((s=s+Math.imul(h,ne)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(I,H),i=(i=Math.imul(I,z))+Math.imul(O,H)|0,s=Math.imul(O,z),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(P,q)|0,s=s+Math.imul(P,W)|0,n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,V)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,Y)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,X)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var _e=(l+(n=n+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,oe)|0)+Math.imul(h,se)|0))<<13)|0;l=((s=s+Math.imul(h,oe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(C,H),i=(i=Math.imul(C,z))+Math.imul(N,H)|0,s=Math.imul(N,z),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(P,K)|0,s=s+Math.imul(P,V)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(x,Z)|0,s=s+Math.imul(x,Y)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(A,X)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Ee=(l+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(h,ce)|0))<<13)|0;l=((s=s+Math.imul(h,le)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(M,H),i=(i=Math.imul(M,z))+Math.imul(B,H)|0,s=Math.imul(B,z),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,V)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,Y)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(A,re)|0,s=s+Math.imul(A,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(m,ce)|0,s=s+Math.imul(m,le)|0;var xe=(l+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;l=((s=s+Math.imul(h,he)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(j,H),i=(i=Math.imul(j,z))+Math.imul(U,H)|0,s=Math.imul(U,z),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,W)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,V)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(P,X)|0,s=s+Math.imul(P,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(x,re)|0,s=s+Math.imul(x,ne)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,n=n+Math.imul(y,ce)|0,i=(i=i+Math.imul(y,le)|0)+Math.imul(b,ce)|0,s=s+Math.imul(b,le)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(m,de)|0,s=s+Math.imul(m,he)|0;var ke=(l+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(h,pe)|0))<<13)|0;l=((s=s+Math.imul(h,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,q),i=(i=Math.imul(j,W))+Math.imul(U,q)|0,s=Math.imul(U,W),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,s=s+Math.imul(B,V)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(N,Z)|0,s=s+Math.imul(N,Y)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(P,re)|0,s=s+Math.imul(P,ne)|0,n=n+Math.imul(E,se)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(x,se)|0,s=s+Math.imul(x,oe)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(A,ce)|0,s=s+Math.imul(A,le)|0,n=n+Math.imul(y,de)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(b,de)|0,s=s+Math.imul(b,he)|0;var Se=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;l=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,V))+Math.imul(U,K)|0,s=Math.imul(U,V),n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,Z)|0,s=s+Math.imul(B,Y)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(S,se)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(P,se)|0,s=s+Math.imul(P,oe)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,le)|0)+Math.imul(x,ce)|0,s=s+Math.imul(x,le)|0,n=n+Math.imul(w,de)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(A,de)|0,s=s+Math.imul(A,he)|0;var Pe=(l+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;l=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,Y))+Math.imul(U,Z)|0,s=Math.imul(U,Y),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(P,ce)|0,s=s+Math.imul(P,le)|0,n=n+Math.imul(E,de)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(x,de)|0,s=s+Math.imul(x,he)|0;var Te=(l+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(A,pe)|0))<<13)|0;l=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,X),i=(i=Math.imul(j,ee))+Math.imul(U,X)|0,s=Math.imul(U,ee),n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,s=s+Math.imul(B,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,oe)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(O,ce)|0,s=s+Math.imul(O,le)|0,n=n+Math.imul(S,de)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(P,de)|0,s=s+Math.imul(P,he)|0;var Ie=(l+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(x,pe)|0))<<13)|0;l=((s=s+Math.imul(x,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(U,re)|0,s=Math.imul(U,ne),n=n+Math.imul(M,se)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(B,se)|0,s=s+Math.imul(B,oe)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(N,ce)|0,s=s+Math.imul(N,le)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(O,de)|0,s=s+Math.imul(O,he)|0;var Oe=(l+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(P,pe)|0))<<13)|0;l=((s=s+Math.imul(P,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,se),i=(i=Math.imul(j,oe))+Math.imul(U,se)|0,s=Math.imul(U,oe),n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(B,ce)|0,s=s+Math.imul(B,le)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(N,de)|0,s=s+Math.imul(N,he)|0;var Re=(l+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(O,pe)|0))<<13)|0;l=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(j,ce),i=(i=Math.imul(j,le))+Math.imul(U,ce)|0,s=Math.imul(U,le),n=n+Math.imul(M,de)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(B,de)|0,s=s+Math.imul(B,he)|0;var Ce=(l+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(N,pe)|0))<<13)|0;l=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,de),i=(i=Math.imul(j,he))+Math.imul(U,de)|0,s=Math.imul(U,he);var Ne=(l+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(B,pe)|0))<<13)|0;l=((s=s+Math.imul(B,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var Le=(l+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,me))+Math.imul(U,pe)|0))<<13)|0;return l=((s=Math.imul(U,me))+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=Ae,c[6]=_e,c[7]=Ee,c[8]=xe,c[9]=ke,c[10]=Se,c[11]=Pe,c[12]=Te,c[13]=Ie,c[14]=Oe,c[15]=Re,c[16]=Ce,c[17]=Ne,c[18]=Le,0!==l&&(c[19]=l,r.length++),r};function m(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,t.length-1),l=Math.max(0,s-e.length+1);l<=c;l++){var u=s-l,d=(0|e.words[u])*(0|t.words[l]),h=67108863&d;a=67108863&(h=h+a|0),i+=(o=(o=o+(d/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),u=0;u<i;u+=a)for(var d=c,h=l,f=0;f<o;f++){var p=r[u+f],m=n[u+f],g=r[u+f+o],y=n[u+f+o],b=d*g-h*y;y=d*y+h*g,g=b,r[u+f]=p+g,n[u+f]=m+y,r[u+f+o]=p-g,n[u+f+o]=m-y,f!==a&&(b=c*d-l*h,h=c*h+l*d,d=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(0===(-8192&s))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),c=new Array(n),l=new Array(n),u=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,l,n),this.transform(o,s,a,c,n,i),this.transform(l,s,u,d,n,i);for(var f=0;f<n;f++){var p=a[f]*u[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*u[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,h,s,n,i),this.conjugate(h,s,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(i-=o,i=Math.max(0,i),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=i);l--){var d=0|this.words[l];this.words[l]=u<<26-s|d>>>s,u=d&a}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var u=n.clone()._ishlnsubmul(i,1,c);0===u.negative&&(n=u,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(h=Math.min(h/o|0,67108863),n._ishlnsubmul(i,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var u=r.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(u),o.isub(d)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(u),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(c)):(r.isub(t),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:r.iushln(l)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,u=1;0===(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var d=0,h=1;0===(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new E(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(A,b),i(_,b),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return y[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var d=this.pow(u,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(d,new s(1).iushln(p-g-1));h=h.redMul(y),d=y.redSqr(),f=f.redMul(d),p=g}return h},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],u=c-1;u>=0;u--){var d=l>>u&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==o?(o<<=1,o|=d,(4===++a||0===n&&0===u)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}c=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new x(e)},i(x,E),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},361:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(3553);if("function"!==typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(o){}},5759:(e,t,r)=>{const n=r(1240);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},5776:(e,t,r)=>{"use strict";var n=r(5759);e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=Uint8Array.from(t),i=e(r),s=r.length+4,o=new Uint8Array(s);return o.set(r,0),o.set(i.subarray(0,4),r.length),n.encode(o,s)},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},2981:(e,t,r)=>{"use strict";var{sha256:n}=r(3411),i=r(5776);e.exports=i((function(e){return n(n(e))}))},4507:(e,t,r)=>{"use strict";const n=r(7690),i=r(5151),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||Z(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(i)return n?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let s,o=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(l(e,s)===l(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(l(e,s+n)!==l(t,n)){r=!1;break}if(r)return s}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(Z(n))return o;e[r+o]=n}return o}function A(e,t,r,n){return V($(t,e.length-r),e,r,n)}function _(e,t,r,n){return V(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return V(K(t),e,r,n)}function x(e,t,r,n){return V(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,c;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(c=(31&t)<<6|63&r,c>127&&(s=c));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Q(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),l=this.slice(n,i),u=e.slice(t,r);for(let c=0;c<a;++c)if(l[c]!==u[c]){s=l[c],o=u[c];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return _(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Y[e[s]];return i}function R(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function C(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n,i){z(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function M(e,t,r,n,i){z(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function B(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,s){return t=+t,r>>>=0,s||B(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,s){return t=+t,r>>>=0,s||B(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){N(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){N(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=c.isBuffer(e)?e:c.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const U={};function F(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||q(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=H(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function $(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function K(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!==e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},7700:(e,t,r)=>{"use strict";var n=r(6473).Buffer,i=r(5050).Transform,s=r(7185).I;function o(e){i.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(3238)(o,i);var a="undefined"!==typeof Uint8Array,c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&ArrayBuffer.isView&&(n.prototype instanceof Uint8Array||n.TYPED_ARRAY_SUPPORT);o.prototype.update=function(e,t,r){var i;if(e instanceof n)i=e;else if("string"===typeof e)i=n.from(e,t);else if(c&&ArrayBuffer.isView(e))i=n.from(e.buffer,e.byteOffset,e.byteLength);else if(a&&e instanceof Uint8Array)i=n.from(e);else{if(!(n.isBuffer(e)&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))throw new Error('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.');i=n.from(e)}var s=this._update(i);return this.hashMode?this:(r&&(s=this._toString(s,r)),s)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){n=i}finally{r(n)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can\u2019t switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=o},8066:(e,t)=>{var r;r=function(e){e.version="1.2.2";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}(),r=function(e){var t=0,r=0,n=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)i[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=i[t]=r>>>8^e[255&r];var s=[];for(n=1;16!=n;++n)s[n-1]="undefined"!==typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return s}(t),n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],c=r[5],l=r[6],u=r[7],d=r[8],h=r[9],f=r[10],p=r[11],m=r[12],g=r[13],y=r[14];e.table=t,e.bstr=function(e,r){for(var n=~r,i=0,s=e.length;i<s;)n=n>>>8^t[255&(n^e.charCodeAt(i++))];return~n},e.buf=function(e,r){for(var b=~r,v=e.length-15,w=0;w<v;)b=y[e[w++]^255&b]^g[e[w++]^b>>8&255]^m[e[w++]^b>>16&255]^p[e[w++]^b>>>24]^f[e[w++]]^h[e[w++]]^d[e[w++]]^u[e[w++]]^l[e[w++]]^c[e[w++]]^a[e[w++]]^o[e[w++]]^s[e[w++]]^i[e[w++]]^n[e[w++]]^t[e[w++]];for(v+=15;w<v;)b=b>>>8^t[255&(b^e[w++])];return~b},e.str=function(e,r){for(var n=~r,i=0,s=e.length,o=0,a=0;i<s;)(o=e.charCodeAt(i++))<128?n=n>>>8^t[255&(n^o)]:o<2048?n=(n=n>>>8^t[255&(n^(192|o>>6&31))])>>>8^t[255&(n^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),a=1023&e.charCodeAt(i++),n=(n=(n=(n=n>>>8^t[255&(n^(240|o>>8&7))])>>>8^t[255&(n^(128|o>>2&63))])>>>8^t[255&(n^(128|a>>6&15|(3&o)<<4))])>>>8^t[255&(n^(128|63&a))]):n=(n=(n=n>>>8^t[255&(n^(224|o>>12&15))])>>>8^t[255&(n^(128|o>>6&63))])>>>8^t[255&(n^(128|63&o))];return~n}},"undefined"===typeof DO_NOT_EXPORT_CRC?r(t):r({})},3576:(e,t,r)=>{"use strict";var n=r(3238),i=r(5456),s=r(8623),o=r(5718),a=r(7700);function c(e){a.call(this,"digest"),this._hash=e}n(c,a),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new s:new c(o(e))}},2709:(e,t,r)=>{var n="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,n="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in r,a="ArrayBuffer"in r;if(a)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=m(t);return t.readAsArrayBuffer(e),r}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(g)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=m(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=d(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},i&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function A(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];E.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(S){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(i,o){var c=new w(e,n);if(c.signal&&c.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}l.onload=function(){var e={status:l.status,statusText:l.statusText,headers:_(l.getAllResponseHeaders()||"")};e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;setTimeout((function(){i(new E(t,e))}),0)},l.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},l.onabort=function(){setTimeout((function(){o(new t.DOMException("Aborted","AbortError"))}),0)},l.open(c.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?l.withCredentials=!0:"omit"===c.credentials&&(l.withCredentials=!1),"responseType"in l&&(s?l.responseType="blob":a&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!n||"object"!==typeof n.headers||n.headers instanceof f?c.headers.forEach((function(e,t){l.setRequestHeader(t,e)})):Object.getOwnPropertyNames(n.headers).forEach((function(e){l.setRequestHeader(e,d(n.headers[e]))})),c.signal&&(c.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&c.signal.removeEventListener("abort",u)}),l.send("undefined"===typeof c._bodyInit?null:c._bodyInit)}))}k.polyfill=!0,r.fetch||(r.fetch=k,r.Headers=f,r.Request=w,r.Response=E),t.Headers=f,t.Request=w,t.Response=E,t.fetch=k}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},8965:(e,t,r)=>{"use strict";var n=t;n.version=r(183).rE,n.utils=r(4047),n.rand=r(361),n.curve=r(202),n.curves=r(6772),n.ec=r(1051),n.eddsa=r(7254)},9705:(e,t,r)=>{"use strict";var n=r(5720),i=r(4047),s=i.getNAF,o=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=s(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,c,l=[];for(o=0;o<n.length;o+=r.step){c=0;for(var u=o+r.step-1;u>=o;u--)c=(c<<1)+n[u];l.push(c)}for(var d=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<l.length;o++)(c=l[o])===f?h=h.mixedAdd(r.points[o]):c===-f&&(h=h.mixedAdd(r.points[o].neg()));d=d.add(h)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=s(t,r,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&0===o[l];l--)u++;if(l>=0&&u++,c=c.dblp(u),l<0)break;var d=o[l];a(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var a,c,l,u=this._wnafT1,d=this._wnafT2,h=this._wnafT3,f=0;for(a=0;a<n;a++){var p=(l=t[a])._getNAFPoints(e);u[a]=p.wnd,d[a]=p.points}for(a=n-1;a>=1;a-=2){var m=a-1,g=a;if(1===u[m]&&1===u[g]){var y=[t[m],null,null,t[g]];0===t[m].y.cmp(t[g].y)?(y[1]=t[m].add(t[g]),y[2]=t[m].toJ().mixedAdd(t[g].neg())):0===t[m].y.cmp(t[g].y.redNeg())?(y[1]=t[m].toJ().mixedAdd(t[g]),y[2]=t[m].add(t[g].neg())):(y[1]=t[m].toJ().mixedAdd(t[g]),y[2]=t[m].toJ().mixedAdd(t[g].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[m],r[g]);for(f=Math.max(v[0].length,f),h[m]=new Array(f),h[g]=new Array(f),c=0;c<f;c++){var w=0|v[0][c],A=0|v[1][c];h[m][c]=b[3*(w+1)+(A+1)],h[g][c]=0,d[m]=y}}else h[m]=s(r[m],u[m],this._bitLength),h[g]=s(r[g],u[g],this._bitLength),f=Math.max(h[m].length,f),f=Math.max(h[g].length,f)}var _=this.jpoint(null,null,null),E=this._wnafT4;for(a=f;a>=0;a--){for(var x=0;a>=0;){var k=!0;for(c=0;c<n;c++)E[c]=0|h[c][a],0!==E[c]&&(k=!1);if(!k)break;x++,a--}if(a>=0&&x++,_=_.dblp(x),a<0)break;for(c=0;c<n;c++){var S=E[c];0!==S&&(S>0?l=d[c][S-1>>1]:S<0&&(l=d[c][-S-1>>1].neg()),_="affine"===l.type?_.mixedAdd(l):_.add(l))}}for(a=0;a<n;a++)d[a]=null;return i?_:_.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},1750:(e,t,r)=>{"use strict";var n=r(4047),i=r(5720),s=r(3238),o=r(9705),a=n.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function l(e,t,r,n,s){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(l,o.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new l(this,e,t,r,n)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),o=s.redSub(r),a=n.redSub(t),c=i.redMul(o),l=s.redMul(a),u=i.redMul(a),d=o.redMul(s);return this.curve.point(c,l,d,u)},l.prototype._projDbl=function(){var e,t,r,n,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var l=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=o.redSub(a).redSub(c).redMul(l.redSub(this.curve.two)),t=l.redMul(n.redSub(c)),r=l.redSqr().redSub(l).redSub(l)):(i=this.z.redSqr(),s=l.redSub(i).redISub(i),e=o.redSub(a).redISub(c).redMul(s),t=l.redMul(n.redSub(c)),r=l.redMul(s))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),e=this.curve._mulC(o.redISub(n)).redMul(s),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(s);return this.curve.point(e,t,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),l=s.redMul(o),u=a.redMul(c),d=s.redMul(c),h=o.redMul(a);return this.curve.point(l,u,h,d)},l.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),c=i.redSub(a),l=i.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),d=n.redMul(c).redMul(u);return this.curve.twisted?(t=n.redMul(l).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(l)):(t=n.redMul(l).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(l)),this.curve.point(d,t,r)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},l.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},202:(e,t,r)=>{"use strict";var n=t;n.base=r(9705),n.short=r(1720),n.mont=r(526),n.edwards=r(1750)},526:(e,t,r)=>{"use strict";var n=r(5720),i=r(3238),s=r(9705),o=r(4047);function a(e){s.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=i.redMul(n),a=t.z.redMul(s.redAdd(o).redSqr()),c=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},1720:(e,t,r)=>{"use strict";var n=r(4047),i=r(5720),s=r(3238),o=r(9705),a=n.assert;function c(e){o.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,r,n){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),s=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,s,o,a,c,l,u,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),p=new i(1),m=new i(0),g=new i(0),y=new i(1),b=0;0!==h.cmpn(0);){var v=f.div(h);l=f.sub(v.mul(h)),u=g.sub(v.mul(p));var w=y.sub(v.mul(m));if(!n&&l.cmp(d)<0)t=c.neg(),r=p,n=l.neg(),s=u;else if(n&&2===++b)break;c=l,f=h,h=l,g=p,p=u,y=m,m=w}o=l.neg(),a=u;var A=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(A)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),l=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var l=this._wnafMulAdd(1,n,i,2*s,r),u=0;u<2*s;u++)n[u]=null,i[u]=null;return l},s(l,o.BasePoint),c.prototype.point=function(e,t,r){return new l(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},l.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(u,o.BasePoint),c.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),d=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(d).redISub(d),f=c.redMul(d.redISub(h)).redISub(s.redMul(u)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=r.redMul(c),d=a.redSqr().redIAdd(l).redISub(u).redISub(u),h=a.redMul(u.redISub(d)).redISub(i.redMul(l)),f=this.z.redMul(o);return this.curve.jpoint(d,h,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var u=s.redSqr(),d=l.redSqr(),h=d.redSqr(),f=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(c)),p=s.redMul(d),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=f.redMul(g);y=y.redIAdd(y).redISub(h);var b=l.redMul(a);t+1<e&&(c=c.redMul(h)),s=m,a=b,l=y}return this.curve.jpoint(s,l.redMul(i),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),f=this.x.redAdd(d).redSqr().redISub(u).redISub(h);f=f.redIAdd(f);var p=u.redAdd(u).redIAdd(u),m=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},u.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var l=s.redIAdd(s);l=(l=l.redIAdd(l)).redIAdd(l),t=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),f=this.x.redSub(u).redMul(this.x.redAdd(u));f=f.redAdd(f).redIAdd(f);var p=h.redIAdd(h),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(u);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=a.redSqr().redISub(l.redAdd(l)),d=l.redISub(u),h=o.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=a.redMul(d).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(u,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.x.redMul(a).redISub(u);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,h,f)},u.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},6772:(e,t,r)=>{"use strict";var n,i=t,s=r(8876),o=r(202),a=r(4047).assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(5047)}catch(u){n=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},1051:(e,t,r)=>{"use strict";var n=r(5720),i=r(9663),s=r(4047),o=r(6772),a=r(361),c=s.assert,l=r(2292),u=r(8709);function d(e){if(!(this instanceof d))return new d(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new l(this,e)},d.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(t.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},d.prototype._truncateToN=function(e,t,r){var i;if(n.isBN(e)||"number"===typeof e)i=(e=new n(e,16)).byteLength();else if("object"===typeof e)i=e.length,e=new n(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new n(s,16)}"number"!==typeof r&&(r=8*i);var o=r-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,s){if("object"===typeof r&&(s=r,r=null),s||(s={}),"string"!==typeof e&&"number"!==typeof e&&!n.isBN(e)){c("object"===typeof e&&e&&"number"===typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),c(e.length>>>0===e.length);for(var o=0;o<e.length;o++)c((255&e[o])===e[o])}t=this.keyFromPrivate(t,r),e=this._truncateToN(e,!1,s.msgBitLength),c(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),l=t.getPrivate().toArray("be",a),d=e.toArray("be",a);c(new n(d).eq(e),"Can not sign message");for(var h=new i({hash:this.hash,entropy:l,nonce:d,pers:s.pers,persEnc:s.persEnc||"utf8"}),f=this.n.sub(new n(1)),p=0;;p++){var m=s.k?s.k(p):new n(h.generate(this.n.byteLength()));if(!((m=this._truncateToN(m,!0)).cmpn(1)<=0||m.cmp(f)>=0)){var g=this.g.mul(m);if(!g.isInfinity()){var y=g.getX(),b=y.umod(this.n);if(0!==b.cmpn(0)){var v=m.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var w=(g.getY().isOdd()?1:0)|(0!==y.cmp(b)?2:0);return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),w^=1),new u({r:b,s:v,recoveryParam:w})}}}}}},d.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var s=(t=new u(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,c=o.invm(this.n),l=c.mul(e).umod(this.n),d=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,r.getPublic(),d)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(l,r.getPublic(),d)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new u(t,i);var s=this.n,o=new n(e),a=t.r,l=t.s,d=1&r,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),d):this.curve.pointFromX(a,d);var f=t.r.invm(s),p=s.sub(o).mul(f).umod(s),m=l.mul(f).umod(s);return this.g.mulAdd(p,a,m)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new u(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},2292:(e,t,r)=>{"use strict";var n=r(5720),i=r(4047).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},8709:(e,t,r)=>{"use strict";var n=r(5720),i=r(4047),s=i.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;if(0===e[t.place])return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function l(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;if(s+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(0!==(128&e[r.place]))return!1;var l=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var u=c(e,r);if(!1===u)return!1;if(e.length!==u+r.place)return!1;if(0!==(128&e[r.place]))return!1;var d=e.slice(r.place,u+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(l),this.s=new n(d),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=l(t),r=l(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];u(n,t.length),(n=n.concat(t)).push(2),u(n,r.length);var s=n.concat(r),o=[48];return u(o,s.length),o=o.concat(s),i.encode(o,e)}},7254:(e,t,r)=>{"use strict";var n=r(8876),i=r(6772),s=r(4047),o=s.assert,a=s.parseBytes,c=r(6273),l=r(5064);function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=u,u.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})},u.prototype.verify=function(e,t,r){if(e=a(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!==(128&e[t]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return s.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},6273:(e,t,r)=>{"use strict";var n=r(4047),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},5064:(e,t,r)=>{"use strict";var n=r(5720),i=r(4047),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(s(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},5047:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},4047:(e,t,r)=>{"use strict";var n=t,i=r(5720),s=r(2697),o=r(7395);n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var s=1<<t+1,o=e.clone();for(n=0;n<i.length;n++){var a,c=o.andln(s-1);o.isOdd()?(a=c>(s>>1)-1?(s>>1)-c:c,o.isubn(a)):a=0,i[n]=a,o.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var o,a,c=e.andln(3)+i&3,l=t.andln(3)+s&3;3===c&&(c=-1),3===l&&(l=-1),o=0===(1&c)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==l?c:-c,r[0].push(o),a=0===(1&l)?0:3!==(n=t.andln(7)+s&7)&&5!==n||2!==c?l:-l,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"===typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},3960:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,s),!0;case 6:return u.fn.call(u.context,t,n,i,s,o),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},5211:e=>{"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&m(e,"error",t,r)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,s,o,l;if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"===typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var l=c.length,u=p(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,o;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},744:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r,n="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},s={key:n,value:e[n]};return r(i,s)}}),s=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==s.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=s.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(o="",r=0;r<c.length;r++){var l=c[r],u=e(t[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return s.splice(a,1),"{"+o+"}"}}(e)}},3501:(e,t,r)=>{"use strict";var n=r(6473).Buffer,i=r(547).Transform;function s(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(3238)(s,i),s.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)},s.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},s.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var o=0,a=8*e.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},s.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=s},8876:(e,t,r)=>{var n=t;n.utils=r(3390),n.common=r(4234),n.sha=r(5769),n.ripemd=r(8244),n.hmac=r(9656),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},4234:(e,t,r)=>{"use strict";var n=r(3390),i=r(2697);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},9656:(e,t,r)=>{"use strict";var n=r(3390),i=r(2697);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},8244:(e,t,r)=>{"use strict";var n=r(3390),i=r(4234),s=n.rotl32,o=n.sum32,a=n.sum32_3,c=n.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],b=r,v=n,w=i,A=l,_=u,E=0;E<80;E++){var x=o(s(c(r,d(E,n,i,l),e[p[E]+t],h(E)),g[E]),u);r=u,u=l,l=s(i,10),i=n,n=x,x=o(s(c(b,d(79-E,v,w,A),e[m[E]+t],f(E)),y[E]),_),b=_,_=A,A=s(w,10),w=v,v=x}x=a(this.h[1],i,A),this.h[1]=a(this.h[2],l,_),this.h[2]=a(this.h[3],u,b),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,w),this.h[0]=x},u.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},5769:(e,t,r)=>{"use strict";t.sha1=r(937),t.sha224=r(1558),t.sha256=r(9851),t.sha384=r(9947),t.sha512=r(7738)},937:(e,t,r)=>{"use strict";var n=r(3390),i=r(4234),s=r(7469),o=n.rotl32,a=n.sum32,c=n.sum32_5,l=s.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,u),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],u=this.h[2],h=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),m=c(o(i,5),l(p,s,u,h),f,r[n],d[p]);f=h,h=u,u=o(s,30),s=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],u),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],f)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},1558:(e,t,r)=>{"use strict";var n=r(3390),i=r(9851);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},9851:(e,t,r)=>{"use strict";var n=r(3390),i=r(4234),s=r(7469),o=r(2697),a=n.sum32,c=n.sum32_4,l=n.sum32_5,u=s.ch32,d=s.maj32,h=s.s0_256,f=s.s1_256,p=s.g0_256,m=s.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(b,g),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(m(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],g=this.h[2],y=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],A=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var _=l(A,f(b),u(b,v,w),this.k[n],r[n]),E=a(h(i),d(i,s,g));A=w,w=v,v=b,b=a(y,_),y=g,g=s,s=i,i=a(_,E)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],A)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},9947:(e,t,r)=>{"use strict";var n=r(3390),i=r(7738);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},7738:(e,t,r)=>{"use strict";var n=r(3390),i=r(4234),s=r(2697),o=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,l=n.shr64_lo,u=n.sum64,d=n.sum64_hi,h=n.sum64_lo,f=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,y=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function A(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function E(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function x(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function T(e,t){var r=o(e,t,1)^o(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function I(e,t){var r=a(e,t,1)^a(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=o(e,t,19)^o(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function R(e,t){var r=a(e,t,19)^a(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,y),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=O(r[n-4],r[n-3]),s=R(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],c=T(r[n-30],r[n-29]),l=I(r[n-30],r[n-29]),u=r[n-32],d=r[n-31];r[n]=f(i,s,o,a,c,l,u,d),r[n+1]=p(i,s,o,a,c,l,u,d)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],f=this.h[6],p=this.h[7],y=this.h[8],b=this.h[9],v=this.h[10],T=this.h[11],I=this.h[12],O=this.h[13],R=this.h[14],C=this.h[15];s(this.k.length===r.length);for(var N=0;N<r.length;N+=2){var L=R,M=C,B=S(y,b),D=P(y,b),j=w(y,b,v,T,I),U=A(y,b,v,T,I,O),F=this.k[N],H=this.k[N+1],z=r[N],G=r[N+1],q=m(L,M,B,D,j,U,F,H,z,G),W=g(L,M,B,D,j,U,F,H,z,G);L=x(n,i),M=k(n,i),B=_(n,i,o,a,c),D=E(n,i,o,a,c,l);var $=d(L,M,B,D),K=h(L,M,B,D);R=I,C=O,I=v,O=T,v=y,T=b,y=d(f,p,q,W),b=h(p,p,q,W),f=c,p=l,c=o,l=a,o=n,a=i,n=d(q,W,$,K),i=h(q,W,$,K)}u(this.h,0,n,i),u(this.h,2,o,a),u(this.h,4,c,l),u(this.h,6,f,p),u(this.h,8,y,b),u(this.h,10,v,T),u(this.h,12,I,O),u(this.h,14,R,C)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7469:(e,t,r)=>{"use strict";var n=r(3390).rotr32;function i(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?o(t,r,n):2===e?s(t,r,n):void 0},t.ch32=i,t.maj32=s,t.p32=o,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},3390:(e,t,r)=>{"use strict";var n=r(2697),i=r(3238);function s(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):s(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=c(i.toString(16))}return r},t.zero2=a,t.zero8=c,t.join32=function(e,t,r,i){var s=r-t;n(s%4===0);for(var o=new Array(s/4),a=0,c=t;a<o.length;a++,c+=4){var l;l="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[a]=l>>>0}return o},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,s,o,a){var c=0,l=t;return c+=(l=l+n>>>0)<t?1:0,c+=(l=l+s>>>0)<s?1:0,e+r+i+o+(c+=(l=l+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,s,o,a,c,l){var u=0,d=t;return u+=(d=d+n>>>0)<t?1:0,u+=(d=d+s>>>0)<s?1:0,u+=(d=d+a>>>0)<a?1:0,e+r+i+o+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,s,o,a,c,l){return t+n+s+a+l>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},9663:(e,t,r)=>{"use strict";var n=r(8876),i=r(7395),s=r(2697);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=o,o.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},o.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,i.encode(o,t)}},5151:(e,t)=>{t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,l=c>>1,u=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=l}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,c,l=8*s-i-1,u=(1<<l)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*c-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[r+f]=255&o,f+=p,o/=256,l-=8);e[r+f-p]|=128*m}},3238:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},4191:e=>{var t;self,t=()=>{return e={7629:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(9474),o=r(1687),a=r(8652),c=r(8160),l=r(3292),u=r(6354),d=r(8901),h=r(9708),f=r(6914),p=r(2294),m=r(6133),g=r(1152),y=r(8863),b=r(2036),v={Base:class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new p.Ids,this._preferences=null,this._refs=new m.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return n("function"==typeof h.describe,"Manifest functionality disabled"),h.describe(this)}allow(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.verifyFlat(t,"allow"),this._values(t,"_valids")}alter(e){n(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");const t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(const r in e){const i=e[r];n("function"==typeof i,"Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:i})}return t.$_temp.ruleset=!1,t}artifact(e){return n(void 0!==e,"Artifact cannot be undefined"),n(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}cast(e){return n(!1===e||"string"==typeof e,"Invalid to value"),n(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return n(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){const t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return n(e,"Missing error"),n(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(void 0!==e,"Missing example"),c.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return"object"==typeof e&&(n(!t,"Cannot combine options with description"),t=e.description,e=e.method),n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(n("string"==typeof e,"id must be a non-empty string"),n(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._values(t,"_invalids")}label(e){return n(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return n(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing notes");for(const i of t)n(i&&"string"==typeof i,"Notes must be non-empty strings");return this._inner("notes",t)}only(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){n(e,"Missing preferences"),n(void 0===e.context,"Cannot override context"),n(void 0===e.externals,"Cannot override externals"),n(void 0===e.warnings,"Cannot override warnings"),n(void 0===e.debug,"Cannot override debug"),c.checkPreferences(e);const t=this.clone();return t._preferences=c.preferences(t._preferences,e),t}presence(e){return n(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"raw":void 0)}result(e){return n(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){const t=this.clone(),r=void 0!==e&&!e;return t._preferences=c.preferences(t._preferences,{convert:r}),t}strip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("result",e?"strip":void 0)}tag(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing tags");for(const i of t)n(i&&"string"==typeof i,"Tags must be non-empty strings");return this._inner("tags",t)}unit(e){return n(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];c.verifyFlat(t,"valid");const n=this.allow(...t);return n.$_setFlag("only",!!n._valids,{clone:!1}),n}when(e,t){const r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);const i=l.when(r,e,t);if(!["any","link"].includes(r.type)){const e=i.is?[i]:i.switch;for(const t of e)n(!t.then||"any"===t.then.type||t.then.type===r.type,"Cannot combine",r.type,"with",t.then&&t.then.type),n(!t.otherwise||"any"===t.otherwise.type||t.otherwise.type===r.type,"Cannot combine",r.type,"with",t.otherwise&&t.otherwise.type)}return r.$_terms.whens.push(i),r.$_mutateRebuild()}cache(e){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache"),n(void 0===this._flags.artifact,"Cannot cache a rule with an artifact");const t=this.clone();return t._cache=e||a.provider.provision(),t.$_temp.ruleset=!1,t}clone(){const e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){n(c.isSchema(e),"Invalid schema object"),n("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if("any"===this.type&&"any"!==e.type){const r=e.clone();for(const e of Object.keys(t))"type"!==e&&(r[e]=t[e]);t=r}t._ids.concat(e._ids),t._refs.register(e,m.toSibling),t._preferences=t._preferences?c.preferences(t._preferences,e._preferences):e._preferences,t._valids=b.merge(t._valids,e._valids,e._invalids),t._invalids=b.merge(t._invalids,e._invalids,e._valids);for(const r of e._singleRules.keys())t._singleRules.has(r)&&(t._rules=t._rules.filter((e=>e.keep||e.name!==r)),t._singleRules.delete(r));for(const r of e._rules)e._definition.rules[r.method].multi||t._singleRules.set(r.name,r),t._rules.push(r);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);const r=Object.assign({},e._flags);delete r.empty,o(t._flags,r)}else if(e._flags.empty){t._flags.empty=e._flags.empty;const r=Object.assign({},e._flags);delete r.empty,o(t._flags,r)}else o(t._flags,e._flags);for(const r in e.$_terms){const n=e.$_terms[r];n?t.$_terms[r]?t.$_terms[r]=t.$_terms[r].concat(n):t.$_terms[r]=n.slice():t.$_terms[r]||(t.$_terms[r]=n)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return n(!e.base,"Cannot extend type with another base"),d.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){n(!this._inRuleset(),"Cannot fork inside a ruleset");let r=this;for(let n of[].concat(e))n=Array.isArray(n)?n:n.split("."),r=r._ids.fork(n,t,r);return r.$_temp.ruleset=!1,r}rule(e){const t=this._definition;c.assertOptions(e,Object.keys(t.modifiers)),n(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const r=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;n(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");const s=this.clone();for(let o=r;o<s._rules.length;++o){const r=s._rules[o],a=i(r);for(const i in e)t.modifiers[i](a,e[i]),n(a.name===r.name,"Cannot change rule name");s._rules[o]=a,s._singleRules.get(a.name)===r&&s._singleRules.set(a.name,a)}return s.$_temp.ruleset=!1,s.$_mutateRebuild()}get ruleset(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),n(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(const{target:r,adjuster:i}of this.$_terms.alterations)e.includes(r)&&(t=i(t),n(c.isSchema(t),"Alteration adjuster for",r,"failed to return a schema object"));return t=t.$_modify({each:t=>t.tailor(e),ref:!1}),t.$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return g.location?g.location(this):this}validate(e,t){return y.entry(e,this,t)}validateAsync(e,t){return y.entryAsync(e,this,t)}$_addRule(e){"string"==typeof e&&(e={name:e}),n(e&&"object"==typeof e,"Invalid options"),n(e.name&&"string"==typeof e.name,"Invalid rule name");for(const o in e)n("_"!==o[0],"Cannot set private rule properties");const t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;const r=this._definition.rules[t.method],i=t.args;n(r,"Unknown rule",t.method);const s=this.clone();if(i){n(1===Object.keys(i).length||Object.keys(i).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(const e in i){let o=i[e];if(r.argsByName){const a=r.argsByName.get(e);if(a.ref&&c.isResolvable(o))t._resolve.push(e),s.$_mutateRegister(o);else if(a.normalize&&(o=a.normalize(o),i[e]=o),a.assert){const t=c.validateArg(o,e,a);n(!t,t,"or reference")}}void 0!==o?i[e]=o:delete i[e]}}return r.multi||(s._ruleRemove(t.name,{clone:!1}),s._singleRules.set(t.name,t)),!1===s.$_temp.ruleset&&(s.$_temp.ruleset=null),r.priority?s._rules.unshift(t):s._rules.push(t),s}$_compile(e,t){return l.schema(this.$_root,e,t)}$_createError(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=!1!==s.flags?this._flags:{},a=s.messages?f.merge(this._definition.messages,s.messages):this._definition.messages;return new u.Report(e,t,r,o,a,n,i)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,r,n){(r=Object.assign({},r)).abortEarly=!0,r._externals=!1,t.snapshot();const i=!y.validate(e,this,t,r,n).errors;return t.restore(),i}$_modify(e){return c.assertOptions(e,["each","once","ref","schema"]),p.schema(this,e)||this}$_mutateRebuild(){return n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(e,t)=>{let{source:r,name:n,path:i,key:s}=t;const o=this._definition[r][n]&&this._definition[r][n].register;!1!==o&&this.$_mutateRegister(e,{family:o,key:s})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e){let{family:t,key:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._refs.register(e,t),this._ids.register(e,{key:r})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");const i=this._definition.flags[e]||{};if(s(t,i.default)&&(t=void 0),s(t,this._flags[e]))return this;const o=!1!==r.clone?this.clone():this;return void 0!==t?(o._flags[e]=t,o.$_mutateRegister(t)):delete o._flags[e],"_"!==e[0]&&(o.$_temp.ruleset=!1),o}$_parent(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this[e][c.symbols.parent].call(this,...r)}$_validate(e,t,r){return y.validate(e,this,t,r)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=i(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(const t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(const t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_bare(){const e=this.clone();e._reset();const t=e._definition.terms;for(const r in t){const n=t[r];e.$_terms[r]=n.init}return e.$_mutateRebuild()}_default(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c.assertOptions(r,"literal"),n(void 0!==t,"Missing",e,"value"),n("function"==typeof t||!r.literal,"Only function value supports literal option"),"function"==typeof t&&r.literal&&(t={[c.symbols.literal]:!0,literal:t}),this.$_setFlag(e,t)}_generate(e,t,r){if(!this.$_terms.whens)return{schema:this};const n=[],i=[];for(let a=0;a<this.$_terms.whens.length;++a){const s=this.$_terms.whens[a];if(s.concat){n.push(s.concat),i.push(`${a}.concat`);continue}const o=s.ref?s.ref.resolve(e,t,r):e,c=s.is?[s]:s.switch,l=i.length;for(let u=0;u<c.length;++u){const{is:l,then:d,otherwise:h}=c[u],f=`${a}${s.switch?"."+u:""}`;if(l.$_match(o,t.nest(l,`${f}.is`),r)){if(d){const s=t.localize([...t.path,`${f}.then`],t.ancestors,t.schemas),{schema:o,id:a}=d._generate(e,s,r);n.push(o),i.push(`${f}.then${a?`(${a})`:""}`);break}}else if(h){const s=t.localize([...t.path,`${f}.otherwise`],t.ancestors,t.schemas),{schema:o,id:a}=h._generate(e,s,r);n.push(o),i.push(`${f}.otherwise${a?`(${a})`:""}`);break}}if(s.break&&i.length>l)break}const s=i.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",s),!s)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[s])return{schema:this.$_temp.whens[s],id:s};let o=this;this._definition.generate&&(o=this._definition.generate(this,e,t,r));for(const a of n)o=o.concat(a);return this.$_root._tracer&&this.$_root._tracer._combine(o,[this,...n]),this.$_temp.whens[s]=o,{schema:o,id:s}}_inner(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(!this._inRuleset(),`Cannot set ${e} inside a ruleset`);const i=this.clone();return i.$_terms[e]&&!r.override||(i.$_terms[e]=[]),r.single?i.$_terms[e].push(t):i.$_terms[e].push(...t),i.$_temp.ruleset=!1,i}_inRuleset(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}_ruleRemove(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._singleRules.has(e))return this;const r=!1!==t.clone?this.clone():this;r._singleRules.delete(e);const n=[];for(let i=0;i<r._rules.length;++i){const t=r._rules[i];t.name!==e||t.keep?n.push(t):r._inRuleset()&&i<r.$_temp.ruleset&&--r.$_temp.ruleset}return r._rules=n,r}_values(e,t){c.verifyFlat(e,t.slice(1,-1));const r=this.clone(),i=e[0]===c.symbols.override;if(i&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new b:i&&(r[t]=e.length?new b:null,r.$_mutateRebuild()),!r[t])return r;i&&r[t].override();for(const s of e){n(void 0!==s,"Cannot call allow/valid/invalid with undefined"),n(s!==c.symbols.override,"Override must be the first value");const e="_invalids"===t?"_valids":"_invalids";r[e]&&(r[e].remove(s),r[e].length||(n("_valids"===t||!r._flags.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),r[e]=null)),r[t].add(s,r._refs)}return r}}};v.Base.prototype[c.symbols.any]={version:c.version,compile:l.compile,root:"$_root"},v.Base.prototype.isImmutable=!0,v.Base.prototype.deny=v.Base.prototype.invalid,v.Base.prototype.disallow=v.Base.prototype.invalid,v.Base.prototype.equal=v.Base.prototype.valid,v.Base.prototype.exist=v.Base.prototype.required,v.Base.prototype.not=v.Base.prototype.invalid,v.Base.prototype.options=v.Base.prototype.prefs,v.Base.prototype.preferences=v.Base.prototype.prefs,e.exports=new v.Base},8652:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(8160),o={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:e=>new o.Cache(e)},o.Cache=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assertOptions(e,["max"]),n(void 0===e.max||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||o.max,this._map=new Map,this._list=new o.List}get length(){return this._map.size}set(e,t){if(null!==e&&!o.supported.has(typeof e))return;let r=this._map.get(e);if(r)return r.value=t,void this._list.first(r);r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}get(e){const t=this._map.get(e);if(t)return this._list.first(t),i(t.value)}_compact(){if(this._map.size>this._max){const e=this._list.pop();this._map.delete(e.key)}}},o.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){e!==this.head&&(this._remove(e),this.unshift(e))}pop(){return this._remove(this.tail)}_remove(e){const{next:t,prev:r}=e;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}},8160:(e,t,r)=>{"use strict";const n=r(375),i=r(7916),s=r(5934);let o,a;const c={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=s.version,t.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},t.assertOptions=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Options";n(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");const i=Object.keys(e).filter((e=>!t.includes(e)));n(0===i.length,`${r} contain unknown keys: ${i}`)},t.checkPreferences=function(e){a=a||r(3378);const t=a.preferences.validate(e);if(t.error)throw new i([t.error.details[0].message])},t.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return c.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=e&&e[t.symbols.any];return!!i&&(n(r.legacy||i.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,n){o=o||r(6914),e=e||{},n=n||{};const i=Object.assign({},e,n);return n.errors&&e.errors&&(i.errors=Object.assign({},e.errors,n.errors),i.errors.wrap=Object.assign({},e.errors.wrap,n.errors.wrap)),n.messages&&(i.messages=o.compile(n.messages,e.messages)),delete i[t.symbols.prefs],i},t.tryWithPath=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return e()}catch(e){throw void 0!==e.path?e.path=t+"."+e.path:e.path=t,r.append&&(e.message=`${e.message} (${e.path})`),e}},t.validateArg=function(e,r,n){let{assert:i,message:s}=n;if(t.isSchema(i)){const t=i.validate(e);if(!t.error)return;return t.error.message}if(!i(e))return r?`${r} ${s}`:s},t.verifyFlat=function(e,t){for(const r of e)n(!Array.isArray(r),"Method no longer accepts array arguments:",t)}},3292:(e,t,r)=>{"use strict";const n=r(375),i=r(8160),s=r(6133),o={};t.schema=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(r,["appendPath","override"]);try{return o.schema(e,t,r)}catch(e){throw r.appendPath&&void 0!==e.path&&(e.message=`${e.message} (${e.path})`),e}},o.schema=function(e,t,r){n(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(n(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));const s=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return!1!==r.override?t.valid(e.override,...i):t.valid(...i)};if(o.simple(t))return s(e,t);if("function"==typeof t)return e.custom(t);if(n("object"==typeof t,"Invalid schema content:",typeof t),i.isResolvable(t))return s(e,t);if(i.isSchema(t))return t;if(Array.isArray(t)){for(const r of t)if(!o.simple(r))return e.alternatives().try(...t);return s(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?s(e.date(),t):(n(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return s.isRef(e)?e:s.create(e,t)},t.compile=function(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.assertOptions(s,["legacy"]);const a=r&&r[i.symbols.any];if(a)return n(s.legacy||a.version===i.version,"Cannot mix different versions of joi schemas:",a.version,i.version),r;if("object"!=typeof r||!s.legacy)return t.schema(e,r,{appendPath:!0});const c=o.walk(r);return c?c.compile(c.root,r):t.schema(e,r,{appendPath:!0})},o.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){for(const t of e){const e=o.walk(t);if(e)return e}return null}const t=e[i.symbols.any];if(t)return{root:e[t.root],compile:t.compile};n(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const r in e){const t=o.walk(e[r]);if(t)return t}return null},o.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,r,a){if(void 0===a&&(n(r&&"object"==typeof r,"Missing options"),a=r,r=s.create(".")),Array.isArray(a)&&(a={switch:a}),i.assertOptions(a,["is","not","then","otherwise","switch","break"]),i.isSchema(r))return n(void 0===a.is,'"is" can not be used with a schema condition'),n(void 0===a.not,'"not" can not be used with a schema condition'),n(void 0===a.switch,'"switch" can not be used with a schema condition'),o.condition(e,{is:r,then:a.then,otherwise:a.otherwise,break:a.break});if(n(s.isRef(r)||"string"==typeof r,"Invalid condition:",r),n(void 0===a.not||void 0===a.is,'Cannot combine "is" with "not"'),void 0===a.switch){let c=a;void 0!==a.not&&(c={is:a.not,then:a.otherwise,otherwise:a.then,break:a.break});let l=void 0!==c.is?e.$_compile(c.is):e.$_root.invalid(null,!1,0,"").required();return n(void 0!==c.then||void 0!==c.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),n(void 0===c.break||void 0===c.then||void 0===c.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===a.is||s.isRef(a.is)||i.isSchema(a.is)||(l=l.required()),o.condition(e,{ref:t.ref(r),is:l,then:c.then,otherwise:c.otherwise,break:c.break})}n(Array.isArray(a.switch),'"switch" must be an array'),n(void 0===a.is,'Cannot combine "switch" with "is"'),n(void 0===a.not,'Cannot combine "switch" with "not"'),n(void 0===a.then,'Cannot combine "switch" with "then"');const c={ref:t.ref(r),switch:[],break:a.break};for(let t=0;t<a.switch.length;++t){const r=a.switch[t],o=t===a.switch.length-1;i.assertOptions(r,o?["is","then","otherwise"]:["is","then"]),n(void 0!==r.is,'Switch statement missing "is"'),n(void 0!==r.then,'Switch statement missing "then"');const l={is:e.$_compile(r.is),then:e.$_compile(r.then)};if(s.isRef(r.is)||i.isSchema(r.is)||(l.is=l.is.required()),o){n(void 0===a.otherwise||void 0===r.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');const t=void 0!==a.otherwise?a.otherwise:r.otherwise;void 0!==t&&(n(void 0===c.break,"Cannot specify both otherwise and break"),l.otherwise=e.$_compile(t))}c.switch.push(l)}return c},o.condition=function(e,t){for(const r of["then","otherwise"])void 0===t[r]?delete t[r]:t[r]=e.$_compile(t[r]);return t}},6354:(e,t,r)=>{"use strict";const n=r(5688),i=r(8160),s=r(3328);t.Report=class{constructor(e,r,n,i,s,o,a){if(this.code=e,this.flags=i,this.messages=s,this.path=o.path,this.prefs=a,this.state=o,this.value=r,this.message=null,this.template=null,this.local=n||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const e=this.path[this.path.length-1];"object"!=typeof e&&(this.local.key=e)}}_setTemplate(e){if(this.template=e,!this.flags.label&&0===this.path.length){const e=this._template(this.template,"root");e&&(this.local.label=e)}}toString(){if(this.message)return this.message;const e=this.code;if(!this.prefs.errors.render)return this.code;const t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?`Error code "${e}" is not defined, your custom type is missing the correct messages definition`:(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,r){return t.template(this.value,e,r||this.code,this.state,this.prefs)}},t.path=function(e){let t="";for(const r of e)"object"!=typeof r&&("string"==typeof r?(t&&(t+="."),t+=r):t+=`[${r}]`);return t},t.template=function(e,t,r,n,o){if(!t)return;if(s.isTemplate(t))return"root"!==r?t:null;let a=o.errors.language;if(i.isResolvable(a)&&(a=a.resolve(e,n,o)),a&&t[a]){if(void 0!==t[a][r])return t[a][r];if(void 0!==t[a]["*"])return t[a]["*"]}return t[r]?t[r]:t["*"]},t.label=function(e,r,n,i){if(!n.errors.label)return"";if(e.label)return e.label;let s=r.path;return"key"===n.errors.label&&r.path.length>1&&(s=r.path.slice(-1)),t.path(s)||t.template(null,n.messages,"root",r,n)||i&&t.template(null,i,"root",r,n)||"value"},t.process=function(e,r,n){if(!e)return null;const{override:i,message:s,details:o}=t.details(e);if(i)return i;if(n.errors.stack)return new t.ValidationError(s,o,r);const a=Error.stackTraceLimit;Error.stackTraceLimit=0;const c=new t.ValidationError(s,o,r);return Error.stackTraceLimit=a,c},t.details=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];const n=[];for(const i of e){if(i instanceof Error){if(!1!==t.override)return{override:i};const e=i.toString();r.push(e),n.push({message:e,type:"override",context:{error:i}});continue}const e=i.toString();r.push(e),n.push({message:e,path:i.path.filter((e=>"object"!=typeof e)),type:i.code,context:i.local})}return r.length>1&&(r=[...new Set(r)]),{message:r.join(". "),details:n}},t.ValidationError=class extends Error{constructor(e,t,r){super(e),this._original=r,this.details=t}static isError(e){return e instanceof t.ValidationError}},t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=n.error},8901:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(8160),o=r(6914),a={};t.type=function(e,t){const r=Object.getPrototypeOf(e),c=i(r),l=e._assign(Object.create(c)),u=Object.assign({},t);delete u.base,c._definition=u;const d=r._definition||{};u.messages=o.merge(d.messages,u.messages),u.properties=Object.assign({},d.properties,u.properties),l.type=u.type,u.flags=Object.assign({},d.flags,u.flags);const h=Object.assign({},d.terms);if(u.terms)for(const i in u.terms){const e=u.terms[i];n(void 0===l.$_terms[i],"Invalid term override for",u.type,i),l.$_terms[i]=e.init,h[i]=e}u.terms=h,u.args||(u.args=d.args),u.prepare=a.prepare(u.prepare,d.prepare),u.coerce&&("function"==typeof u.coerce&&(u.coerce={method:u.coerce}),u.coerce.from&&!Array.isArray(u.coerce.from)&&(u.coerce={method:u.coerce.method,from:[].concat(u.coerce.from)})),u.coerce=a.coerce(u.coerce,d.coerce),u.validate=a.validate(u.validate,d.validate);const f=Object.assign({},d.rules);if(u.rules)for(const i in u.rules){const e=u.rules[i];n("object"==typeof e,"Invalid rule definition for",u.type,i);let t=e.method;if(void 0===t&&(t=function(){return this.$_addRule(i)}),t&&(n(!c[i],"Rule conflict in",u.type,i),c[i]=t),n(!f[i],"Rule conflict in",u.type,i),f[i]=e,e.alias){const t=[].concat(e.alias);for(const r of t)c[r]=e.method}e.args&&(e.argsByName=new Map,e.args=e.args.map((t=>("string"==typeof t&&(t={name:t}),n(!e.argsByName.has(t.name),"Duplicated argument name",t.name),s.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),e.argsByName.set(t.name,t),t))))}u.rules=f;const p=Object.assign({},d.modifiers);if(u.modifiers)for(const i in u.modifiers){n(!c[i],"Rule conflict in",u.type,i);const e=u.modifiers[i];n("function"==typeof e,"Invalid modifier definition for",u.type,i);const t=function(e){return this.rule({[i]:e})};c[i]=t,p[i]=e}if(u.modifiers=p,u.overrides){c._super=r,l.$_super={};for(const e in u.overrides)n(r[e],"Cannot override missing",e),u.overrides[e][s.symbols.parent]=r[e],l.$_super[e]=r[e].bind(l);Object.assign(c,u.overrides)}u.cast=Object.assign({},d.cast,u.cast);const m=Object.assign({},d.manifest,u.manifest);return m.build=a.build(u.manifest&&u.manifest.build,d.manifest&&d.manifest.build),u.manifest=m,u.rebuild=a.rebuild(u.rebuild,d.rebuild),l},a.build=function(e,t){return e&&t?function(r,n){return t(e(r,n),n)}:e||t},a.coerce=function(e,t){return e&&t?{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(r,n){let i;if((!t.from||t.from.includes(typeof r))&&(i=t.method(r,n),i)){if(i.errors||void 0===i.value)return i;r=i.value}if(!e.from||e.from.includes(typeof r)){const t=e.method(r,n);if(t)return t}return i}}:e||t},a.prepare=function(e,t){return e&&t?function(r,n){const i=e(r,n);if(i){if(i.errors||void 0===i.value)return i;r=i.value}return t(r,n)||i}:e||t},a.rebuild=function(e,t){return e&&t?function(r){t(r),e(r)}:e||t},a.validate=function(e,t){return e&&t?function(r,n){const i=t(r,n);if(i){if(i.errors&&(!Array.isArray(i.errors)||i.errors.length))return i;r=i.value}return e(r,n)||i}:e||t}},5107:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(8652),o=r(8160),a=r(3292),c=r(6354),l=r(8901),u=r(9708),d=r(6133),h=r(3328),f=r(1152);let p;const m={types:{alternatives:r(4946),any:r(8068),array:r(546),boolean:r(4937),date:r(7500),function:r(390),link:r(8785),number:r(3832),object:r(8966),string:r(7417),symbol:r(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const e={_types:new Set(Object.keys(m.types))};for(const t of e._types)e[t]=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n(!r.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),m.generate(this,m.types[t],r)};for(const t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(){return this.any()[t](...arguments)};Object.assign(e,m.methods);for(const t in m.aliases){const r=m.aliases[t];e[t]=e[r]}return e.x=e.expression,f.setup&&f.setup(e),e}};m.methods={ValidationError:c.ValidationError,version:o.version,cache:s.provider,assert(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];m.assert(e,t,!0,n)},attempt:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return m.assert(e,t,!1,n)},build(e){return n("function"==typeof u.build,"Manifest functionality disabled"),u.build(this,e)},checkPreferences(e){o.checkPreferences(e)},compile(e,t){return a.compile(this,e,t)},defaults(e){n("function"==typeof e,"modifier must be a function");const t=Object.assign({},this);for(const r of t._types){const i=e(t[r]());n(o.isSchema(i),"modifier must return a valid schema object"),t[r]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.generate(this,i,t)}}return t},expression:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new h(...t)},extend(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];o.verifyFlat(t,"extend"),p=p||r(3378),n(t.length,"You need to provide at least one extension"),this.assert(t,p.extensions);const s=Object.assign({},this);s._types=new Set(s._types);for(let r of t){"function"==typeof r&&(r=r(s)),this.assert(r,p.extension);const e=m.expandExtension(r,s);for(const t of e){n(void 0===s[t.type]||s._types.has(t.type),"Cannot override name",t.type);const e=t.base||this.any(),r=l.type(e,t);s._types.add(t.type),s[t.type]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.generate(this,r,t)}}}return s},isError:c.ValidationError.isError,isExpression:h.isTemplate,isRef:d.isRef,isSchema:o.isSchema,in:function(){return d.in(...arguments)},override:o.symbols.override,ref:function(){return d.create(...arguments)},types(){const e={};for(const t of this._types)e[t]=this[t]();for(const t in m.aliases)e[t]=this[t]();return e}},m.assert=function(e,t,r,n){const s=n[0]instanceof Error||"string"==typeof n[0]?n[0]:null,a=null!==s?n[1]:n[0],l=t.validate(e,o.preferences({errors:{stack:!0}},a||{}));let u=l.error;if(!u)return l.value;if(s instanceof Error)throw s;const d=r&&"function"==typeof u.annotate?u.annotate():u.message;throw u instanceof c.ValidationError==0&&(u=i(u)),u.message=s?`${s} ${d}`:d,u},m.generate=function(e,t,r){return n(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&r.length?t._definition.args(t,...r):t},m.expandExtension=function(e,t){if("string"==typeof e.type)return[e];const r=[];for(const n of t._types)if(e.type.test(n)){const i=Object.assign({},e);i.type=n,i.base=t[n](),r.push(i)}return r},e.exports=m.root()},6914:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(3328);t.compile=function(e,t){if("string"==typeof e)return n(!t,"Cannot set single message string"),new s(e);if(s.isTemplate(e))return n(!t,"Cannot set single message template"),e;n("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?i(t):{};for(let r in e){const i=e[r];if("root"===r||s.isTemplate(i)){t[r]=i;continue}if("string"==typeof i){t[r]=new s(i);continue}n("object"==typeof i&&!Array.isArray(i),"Invalid message for",r);const o=r;for(r in t[o]=t[o]||{},i){const e=i[r];"root"===r||s.isTemplate(e)?t[o][r]=e:(n("string"==typeof e,"Invalid message for",r,"in",o),t[o][r]=new s(e))}}return t},t.decompile=function(e){const t={};for(let r in e){const n=e[r];if("root"===r){t.root=n;continue}if(s.isTemplate(n)){t[r]=n.describe({compact:!0});continue}const i=r;for(r in t[i]={},n){const e=n[r];"root"!==r?t[i][r]=e.describe({compact:!0}):t[i].root=e}}return t},t.merge=function(e,r){if(!e)return t.compile(r);if(!r)return e;if("string"==typeof r)return new s(r);if(s.isTemplate(r))return r;const o=i(e);for(let t in r){const e=r[t];if("root"===t||s.isTemplate(e)){o[t]=e;continue}if("string"==typeof e){o[t]=new s(e);continue}n("object"==typeof e&&!Array.isArray(e),"Invalid message for",t);const i=t;for(t in o[i]=o[i]||{},e){const r=e[t];"root"===t||s.isTemplate(r)?o[i][t]=r:(n("string"==typeof r,"Invalid message for",t,"in",i),o[i][t]=new s(r))}}return o}},2294:(e,t,r)=>{"use strict";const n=r(375),i=r(8160),s=r(6133),o={};t.Ids=o.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const e=new o.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(const[t,r]of e._byId.entries())n(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,r);for(const[t,r]of e._byKey.entries())n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,r)}fork(e,t,r){const s=this._collect(e);s.push({schema:r});const a=s.shift();let c={id:a.id,schema:t(a.schema)};n(i.isSchema(c.schema),"adjuster function failed to return a joi schema type");for(const n of s)c={id:n.id,schema:o.fork(n.schema,c.id,c.schema)};return c.schema}labels(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=e[0],n=this._get(r);if(!n)return[...t,...e].join(".");const i=e.slice(1);return t=[...t,n.schema._flags.label||r],i.length?n.schema._ids.labels(i,t):t.join(".")}reach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=e[0],i=this._get(r);n(i,"Schema does not contain path",[...t,...e].join("."));const s=e.slice(1);return s.length?i.schema._ids.reach(s,[...t,r]):i.schema}register(e){let{key:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!i.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);const r=e._flags.id;if(r){const t=this._byId.get(r);n(!t||t.schema===e,"Cannot add different schemas with the same id:",r),n(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(n(!this._byKey.has(t),"Schema already contains key:",t),n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const i=e[0],s=this._get(i);n(s,"Schema does not contain path",[...t,...e].join(".")),r=[s,...r];const o=e.slice(1);return o.length?s.schema._ids._collect(o,[...t,i],r):r}_get(e){return this._byId.get(e)||this._byKey.get(e)}},o.fork=function(e,r,n){const i=t.schema(e,{each:(e,t)=>{let{key:i}=t;if(r===(e._flags.id||i))return n},ref:!1});return i?i.$_mutateRebuild():e},t.schema=function(e,t){let r;for(const n in e._flags){if("_"===n[0])continue;const i=o.scan(e._flags[n],{source:"flags",name:n},t);void 0!==i&&(r=r||e.clone(),r._flags[n]=i)}for(let n=0;n<e._rules.length;++n){const i=e._rules[n],s=o.scan(i.args,{source:"rules",name:i.name},t);if(void 0!==s){r=r||e.clone();const t=Object.assign({},i);t.args=s,r._rules[n]=t,r._singleRules.get(i.name)===i&&r._singleRules.set(i.name,t)}}for(const n in e.$_terms){if("_"===n[0])continue;const i=o.scan(e.$_terms[n],{source:"terms",name:n},t);void 0!==i&&(r=r||e.clone(),r.$_terms[n]=i)}return r},o.scan=function(e,t,r,n,a){const c=n||[];if(null===e||"object"!=typeof e)return;let l;if(Array.isArray(e)){for(let n=0;n<e.length;++n){const i="terms"===t.source&&"keys"===t.name&&e[n].key,s=o.scan(e[n],t,r,[n,...c],i);void 0!==s&&(l=l||e.slice(),l[n]=s)}return l}if(!1!==r.schema&&i.isSchema(e)||!1!==r.ref&&s.isRef(e)){const n=r.each(e,{...t,path:c,key:a});if(n===e)return;return n}for(const i in e){if("_"===i[0])continue;const n=o.scan(e[i],t,r,[i,...c],a);void 0!==n&&(l=l||Object.assign({},e),l[i]=n)}return l}},6133:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(9621),o=r(8160);let a;const c={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n("string"==typeof e,"Invalid reference key:",e),o.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),n(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");const r=Object.assign({},c.defaults,t);delete r.prefix;const i=r.separator,s=c.context(e,i,t.prefix);if(r.type=s.type,e=s.key,"value"===r.type)if(s.root&&(n(!i||e[0]!==i,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),i&&i===e)e=null,r.ancestor=0;else if(void 0!==r.ancestor)n(!i||!e||e[0]!==i,"Cannot combine prefix with ancestor option");else{const[t,n]=c.ancestor(e,i);n&&""===(e=e.slice(n))&&(e=null),r.ancestor=t}return r.path=i?null===e?[]:e.split(i):[e],new c.Ref(r)},t.in=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.create(e,{...r,in:!0})},t.isRef=function(e){return!!e&&!!e[o.symbols.ref]},c.Ref=class{constructor(e){n("object"==typeof e,"Invalid reference construction"),o.assertOptions(e,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),n([!1,void 0].includes(e.separator)||"string"==typeof e.separator&&1===e.separator.length,"Invalid separator"),n(!e.adjust||"function"==typeof e.adjust,"options.adjust must be a function"),n(!e.map||Array.isArray(e.map),"options.map must be an array"),n(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,c.defaults,e),n("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,r,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return n(!this.in||s.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(r.context,t,s):"local"===this.type?this._resolve(i,t,s):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,s):(n(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,s)):this._resolve(e,t,s)}_resolve(e,t,r){let n;if("value"===this.type&&t.mainstay.shadow&&!1!==r.shadow&&(n=t.mainstay.shadow.get(this.absolute(t))),void 0===n&&(n=s(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){const e=this.map.get(n);void 0!==e&&(n=e)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new c.Ref(this)}describe(){const e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(const t of["adjust","iterables","render"])null!==this[t]&&void 0!==this[t]&&(e[t]=this[t]);return!1!==this.in&&(e.in=!0),{ref:e}}updateDisplay(){const e=null!==this.key?this.key:"";if("value"!==this.type)return void(this.display=`ref:${this.type}:${e}`);if(!this.separator)return void(this.display=`ref:${e}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${e}`);if("root"===this.ancestor)return void(this.display=`ref:root:${e}`);if(1===this.ancestor)return void(this.display=`ref:${e||".."}`);const t=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${t}${e||""}`}},c.Ref.prototype[o.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},c.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new c.Ref(e)},c.context=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=e.trim(),r){const n=void 0===r.global?"$":r.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};const i=void 0===r.local?"#":r.local;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"local"};const s=void 0===r.root?"/":r.root;if(s!==t&&e.startsWith(s))return{key:e.slice(s.length),type:"value",root:!0}}return{key:e,type:"value"}},c.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let r=2;for(;e[r]===t;)++r;return[r-1,r]},t.toSibling=0,t.toParent=1,t.Manager=class{constructor(){this.refs=[]}register(e,n){if(e)if(n=void 0===n?t.toParent:n,Array.isArray(e))for(const t of e)this.register(t,n);else if(o.isSchema(e))for(const t of e._refs.refs)t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root});else t.isRef(e)&&"value"===e.type&&e.ancestor-n>=0&&this.refs.push({ancestor:e.ancestor-n,root:e.root}),a=a||r(3328),a.isTemplate(e)&&this.register(e.refs(),n)}get length(){return this.refs.length}clone(){const e=new t.Manager;return e.refs=i(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter((e=>!e.ancestor)).map((e=>e.root))}}},3378:(e,t,r)=>{"use strict";const n=r(5107),i={};i.wrap=n.string().min(1).max(2).allow(!1),t.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrap:{label:i.wrap,array:i.wrap,string:i.wrap}},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),i.nameRx=/^[a-zA-Z0-9]\w*$/,i.rule=n.object({alias:n.array().items(n.string().pattern(i.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(i.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),t.extension=n.object({type:n.alternatives([n.string(),n.object().regex()]).required(),args:n.function(),cast:n.object().pattern(i.nameRx,n.object({from:n.function().maxArity(1).required(),to:n.function().minArity(1).maxArity(2).required()})),base:n.object().schema().when("type",{is:n.object().regex(),then:n.forbidden()}),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(i.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(i.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(i.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(i.nameRx,i.rule),terms:n.object().pattern(i.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),t.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),i.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean(),render:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},i.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),i.desc.buffer,i.desc.func,i.desc.ref,i.desc.regex,i.desc.special,i.desc.template,i.desc.value,n.link("/")]),i.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),i.desc.buffer,i.desc.func,i.desc.override,i.desc.ref,i.desc.regex,i.desc.template,i.desc.value),i.desc.messages=n.object().pattern(/.+/,[n.string(),i.desc.template,n.object().pattern(/.+/,[n.string(),i.desc.template])]),t.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:i.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),i.desc.ref],wrap:{label:i.wrap,array:i.wrap}},externals:n.boolean(),messages:i.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:i.desc.values,invalid:i.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),i.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:i.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},493:(e,t,r)=>{"use strict";const n=r(8571),i=r(9621),s=r(8160),o={value:Symbol("value")};e.exports=o.State=class{constructor(e,t,r){this.path=e,this.ancestors=t,this.mainstay=r.mainstay,this.schemas=r.schemas,this.debug=null}localize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=new o.State(e,t,this);return r&&n.schemas&&(n.schemas=[o.schemas(r),...n.schemas]),n}nest(e,t){const r=new o.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[o.schemas(e),...r.schemas],r.debug=t,r}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},o.schemas=function(e){return s.isSchema(e)?{schema:e}:e},o.Shadow=class{constructor(){this._values=null}set(e,t,r){if(!e.length)return;if("strip"===r&&"number"==typeof e[e.length-1])return;this._values=this._values||new Map;let n=this._values;for(let i=0;i<e.length;++i){const t=e[i];let r=n.get(t);r||(r=new Map,n.set(t,r)),n=r}n[o.value]=t}get(e){const t=this.node(e);if(t)return t[o.value]}node(e){if(this._values)return i(this._values,e,{iterables:!0})}override(e,t){if(!this._values)return;const r=e.slice(0,-1),n=e[e.length-1],s=i(this._values,r,{iterables:!0});t?s.set(n,t):s&&s.delete(n)}}},3328:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(5277),o=r(1447),a=r(8160),c=r(6354),l=r(6133),u={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=u.Template=class{constructor(e,t){if(n("string"==typeof e,"Template source must be a string"),n(!e.includes("\0")&&!e.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,t){const{functions:e,...r}=t;this._settings=Object.keys(r).length?i(r):void 0,this._functions=e,this._functions&&(n(Object.keys(this._functions).every((e=>"string"==typeof e)),"Functions keys must be strings"),n(Object.values(this._functions).every((e=>"function"==typeof e)),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const e=u.encode(this.source),t=u.split(e);let r=!1;const n=[],i=t.shift();i&&n.push(i);for(const s of t){const e="{"!==s[0],t=e?"}":"}}",i=s.indexOf(t);if(-1===i||"{"===s[1]){n.push(`{${u.decode(s)}`);continue}let o=s.slice(e?0:1,i);const a=":"===o[0];a&&(o=o.slice(1));const c=this._ref(u.decode(o),{raw:e,wrapped:a});n.push(c),"string"!=typeof c&&(r=!0);const l=s.slice(i+t.length);l&&n.push(u.decode(l))}r?this._template=n:this.rendered=n.join("")}static date(e,t){return u.dateFormat[t.dateFormat].call(e)}describe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._settings&&e.compact)return this.source;const t={template:this.source};return this._settings&&(t.options=this._settings),this._functions&&(t.functions=this._functions),t}static build(e){return new u.Template(e.template,e.options||e.functions?{...e.options,functions:e.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(e){return!!e&&!!e[a.symbols.template]}refs(){if(!this._template)return;const e=[];for(const t of this._template)"string"!=typeof t&&e.push(...t.refs);return e}resolve(e,t,r,n){return this._template&&1===this._template.length?this._part(this._template[0],e,t,r,n,{}):this.render(e,t,r,n)}_part(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.ref?e.ref.resolve(...r):e.formula.evaluate(r)}render(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!this.isDynamic())return this.rendered;const o=[];for(const a of this._template)if("string"==typeof a)o.push(a);else{const c=this._part(a,e,t,r,n,i),l=u.stringify(c,e,t,r,n,i);if(void 0!==l){const e=a.raw||!1===(i.errors&&i.errors.escapeHtml)?l:s(l);o.push(u.wrap(e,a.wrapped&&r.errors.wrap.label))}}return o.join("")}_ref(e,t){let{raw:r,wrapped:n}=t;const i=[],s=e=>{const t=l.create(e,this._settings);return i.push(t),e=>{const r=t.resolve(...e);return void 0!==r?r:null}};try{const t=this._functions?{...u.functions,...this._functions}:u.functions;var a=new o.Parser(e,{reference:s,functions:t,constants:u.constants})}catch(r){throw r.message=`Invalid template variable "${e}" fails due to: ${r.message}`,r}if(a.single){if("reference"===a.single.type){const e=i[0];return{ref:e,raw:r,refs:i,wrapped:n||"local"===e.type&&"label"===e.key}}return u.stringify(a.single.value)}return{formula:a,raw:r,refs:i}}toString(){return this.source}},u.Template.prototype[a.symbols.template]=!0,u.Template.prototype.isImmutable=!0,u.encode=function(e){return e.replace(/\\(\{+)/g,((e,t)=>u.opens.slice(0,t.length))).replace(/\\(\}+)/g,((e,t)=>u.closes.slice(0,t.length)))},u.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},u.split=function(e){const t=[];let r="";for(let n=0;n<e.length;++n){const i=e[n];if("{"===i){let i="";for(;n+1<e.length&&"{"===e[n+1];)i+="{",++n;t.push(r),r=i}else r+=i}return t.push(r),t},u.wrap=function(e,t){return t?1===t.length?`${t}${e}${t}`:`${t[0]}${e}${t[1]}`:e},u.stringify=function(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=typeof e,a=n&&n.errors&&n.errors.wrap||{};let c=!1;if(l.isRef(e)&&e.render&&(c=e.in,e=e.resolve(t,r,n,i,{in:e.in,...s})),null===e)return"null";if("string"===o)return u.wrap(e,s.arrayItems&&a.string);if("number"===o||"function"===o||"symbol"===o)return e.toString();if("object"!==o)return JSON.stringify(e);if(e instanceof Date)return u.Template.date(e,n);if(e instanceof Map){const t=[];for(const[r,n]of e.entries())t.push(`${r.toString()} -> ${n.toString()}`);e=t}if(!Array.isArray(e))return e.toString();const d=[];for(const l of e)d.push(u.stringify(l,t,r,n,i,{arrayItems:!0,...s}));return u.wrap(d.join(", "),!c&&a.array)},u.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},u.functions={if:(e,t,r)=>e?t:r,length:e=>"string"==typeof e?e.length:e&&"object"==typeof e?Array.isArray(e)?e.length:Object.keys(e).length:null,msg(e){const[t,r,n,i,s]=this,o=s.messages;if(!o)return"";const a=c.template(t,o[0],e,r,n)||c.template(t,o[1],e,r,n);return a?a.render(t,r,n,i,s):""},number:e=>"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}},4946:(e,t,r)=>{"use strict";const n=r(375),i=r(1687),s=r(8068),o=r(8160),a=r(3292),c=r(6354),l=r(6133),u={};e.exports=s.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:l.toSibling}},args:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return 1===r.length&&Array.isArray(r[0])?e.try(...r[0]):e.try(...r)},validate(e,t){const{schema:r,error:n,state:s,prefs:o}=t;if(r._flags.match){const t=[],a=[];for(let n=0;n<r.$_terms.matches.length;++n){const i=r.$_terms.matches[n],c=s.nest(i.schema,`match.${n}`);c.snapshot();const l=i.schema.$_validate(e,c,o);l.errors?(a.push(l.errors),c.restore()):(t.push(l.value),c.commit())}if(0===t.length)return{errors:n("alternatives.any",{details:a.map((e=>c.details(e,{override:!1})))})};if("one"===r._flags.match)return 1===t.length?{value:t[0]}:{errors:n("alternatives.one")};if(t.length!==r.$_terms.matches.length)return{errors:n("alternatives.all",{details:a.map((e=>c.details(e,{override:!1})))})};const l=e=>e.$_terms.matches.some((e=>"object"===e.schema.type||"alternatives"===e.schema.type&&l(e.schema)));return l(r)?{value:t.reduce(((e,t)=>i(e,t,{mergeArrays:!1})))}:{value:t[t.length-1]}}const a=[];for(let i=0;i<r.$_terms.matches.length;++i){const t=r.$_terms.matches[i];if(t.schema){const r=s.nest(t.schema,`match.${i}`);r.snapshot();const n=t.schema.$_validate(e,r,o);if(!n.errors)return r.commit(),n;r.restore(),a.push({schema:t.schema,reports:n.errors});continue}const n=t.ref?t.ref.resolve(e,s,o):e,c=t.is?[t]:t.switch;for(let r=0;r<c.length;++r){const a=c[r],{is:l,then:u,otherwise:d}=a,h=`match.${i}${t.switch?"."+r:""}`;if(l.$_match(n,s.nest(l,`${h}.is`),o)){if(u)return u.$_validate(e,s.nest(u,`${h}.then`),o)}else if(d)return d.$_validate(e,s.nest(d,`${h}.otherwise`),o)}}return u.errors(a,t)},rules:{conditional:{method(e,t){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(void 0===t.break,"Cannot use break option with alternatives conditional");const r=this.clone(),i=a.when(r,e,t),s=i.is?[i]:i.switch;for(const n of s)if(n.then&&n.otherwise){r.$_setFlag("_endedSwitch",!0,{clone:!1});break}return r.$_terms.matches.push(i),r.$_mutateRebuild()}},match:{method(e){if(n(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e)for(const t of this.$_terms.matches)n(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n(t.length,"Missing alternative schemas"),o.verifyFlat(t,"try"),n(!this._flags._endedSwitch,"Unreachable condition");const i=this.clone();for(const n of t)i.$_terms.matches.push({schema:i.$_compile(n)});return i.$_mutateRebuild()}}},overrides:{label(e){return this.$_parent("label",e).$_modify({each:(t,r)=>"is"!==r.path[0]&&"string"!=typeof t._flags.label?t.label(e):void 0,ref:!1})}},rebuild(e){e.$_modify({each:t=>{o.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(e,t){if(t.matches)for(const r of t.matches){const{schema:t,ref:n,is:i,not:s,then:o,otherwise:a}=r;e=t?e.try(t):n?e.conditional(n,{is:i,then:o,not:s,otherwise:a,switch:r.switch}):e.conditional(i,{then:o,otherwise:a})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),u.errors=function(e,t){let{error:r,state:n}=t;if(!e.length)return{errors:r("alternatives.any")};if(1===e.length)return{errors:e[0].reports};const i=new Set,s=[];for(const{reports:o,schema:a}of e){if(o.length>1)return u.unmatched(e,r);const t=o[0];if(t instanceof c.Report==0)return u.unmatched(e,r);if(t.state.path.length!==n.path.length){s.push({type:a.type,report:t});continue}if("any.only"===t.code){for(const e of t.local.valids)i.add(e);continue}const[l,d]=t.code.split(".");"base"!==d?s.push({type:a.type,report:t}):"object.base"===t.code?i.add(t.local.type):i.add(l)}return s.length?1===s.length?{errors:s[0].report}:u.unmatched(e,r):{errors:r("alternatives.types",{types:[...i]})}},u.unmatched=function(e,t){const r=[];for(const n of e)r.push(...n.reports);return{errors:t("alternatives.match",c.details(r,{override:!1}))}}},8068:(e,t,r)=>{"use strict";const n=r(375),i=r(7629),s=r(8160),o=r(6914);e.exports=i.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,r){let{method:n}=r;try{return n(e,t)}catch(e){return t.error("any.custom",{error:e})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){n(s.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");const t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return n(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:(e,t,r)=>{let{code:n,local:i}=r;return t.error(n,i)},args:["code","local"],multi:!0}},modifiers:{keep(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.keep=t},message(e,t){e.message=o.compile(t)},warn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.warn=t}},manifest:{build(e,t){for(const r in t){const n=t[r];if(["examples","externals","metas","notes","tags"].includes(r))for(const t of n)e=e[r.slice(0,-1)](t);else if("alterations"!==r)if("whens"!==r){if("shared"===r)for(const t of n)e=e.shared(t)}else for(const t of n){const{ref:r,is:n,not:i,then:s,otherwise:o,concat:a}=t;e=a?e.concat(a):r?e.when(r,{is:n,not:i,then:s,otherwise:o,switch:t.switch,break:t.break}):e.when(n,{then:s,otherwise:o,break:t.break})}else{const t={};for(const{target:e,adjuster:r}of n)t[e]=r;e=e.alter(t)}}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(e,t,r)=>{"use strict";const n=r(375),i=r(9474),s=r(9621),o=r(8068),a=r(8160),c=r(3292),l={};e.exports=o.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,t){let{schema:r,state:n,prefs:i}=t;if(!Array.isArray(e))return;const s=r.$_getRule("sort");return s?l.sort(r,e,s.args.options,n,i):void 0}},validate(e,t){let{schema:r,error:n}=t;if(!Array.isArray(e)){if(r._flags.single){const t=[e];return t[a.symbols.arraySingle]=!0,{value:t}}return{errors:n("array.base")}}if(r.$_getRule("items")||r.$_terms.externals)return{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});const t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,t,r){let{state:n,prefs:i,error:s}=t,{schema:o}=r;const a=[e,...n.ancestors];for(let l=0;l<e.length;++l){const t=n.localize([...n.path,l],a,o);if(o.$_match(e[l],t,i))return e}const c=o._flags.label;return c?s("array.hasKnown",{patternLabel:c}):s("array.hasUnknown",null)},multi:!0},items:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"items");const n=this.$_addRule("items");for(let i=0;i<t.length;++i){const e=a.tryWithPath((()=>this.$_compile(t[i])),i,{append:!0});n.$_terms.items.push(e)}return n.$_mutateRebuild()},validate(e,t){let{schema:r,error:n,state:i,prefs:s,errorsArray:o}=t;const c=r.$_terms._requireds.slice(),u=r.$_terms.ordered.slice(),d=[...r.$_terms._inclusions,...c],h=!e[a.symbols.arraySingle];delete e[a.symbols.arraySingle];const f=o();let p=e.length;for(let a=0;a<p;++a){const t=e[a];let o=!1,m=!1;const g=h?a:new Number(a),y=[...i.path,g];if(!r._flags.sparse&&void 0===t){if(f.push(n("array.sparse",{key:g,path:y,pos:a,value:void 0},i.localize(y))),s.abortEarly)return f;u.shift();continue}const b=[e,...i.ancestors];for(const e of r.$_terms._exclusions)if(e.$_match(t,i.localize(y,b,e),s,{presence:"ignore"})){if(f.push(n("array.excludes",{pos:a,value:t},i.localize(y))),s.abortEarly)return f;o=!0,u.shift();break}if(o)continue;if(r.$_terms.ordered.length){if(u.length){const o=u.shift(),c=o.$_validate(t,i.localize(y,b,o),s);if(c.errors){if(f.push(...c.errors),s.abortEarly)return f}else if("strip"===o._flags.result)l.fastSplice(e,a),--a,--p;else{if(!r._flags.sparse&&void 0===c.value){if(f.push(n("array.sparse",{key:g,path:y,pos:a,value:void 0},i.localize(y))),s.abortEarly)return f;continue}e[a]=c.value}continue}if(!r.$_terms.items.length){if(f.push(n("array.orderedLength",{pos:a,limit:r.$_terms.ordered.length})),s.abortEarly)return f;break}}const v=[];let w=c.length;for(let u=0;u<w;++u){const o=i.localize(y,b,c[u]);o.snapshot();const d=c[u].$_validate(t,o,s);if(v[u]=d,!d.errors){if(o.commit(),e[a]=d.value,m=!0,l.fastSplice(c,u),--u,--w,!r._flags.sparse&&void 0===d.value&&(f.push(n("array.sparse",{key:g,path:y,pos:a,value:void 0},i.localize(y))),s.abortEarly))return f;break}o.restore()}if(m)continue;const A=s.stripUnknown&&!!s.stripUnknown.arrays||!1;w=d.length;for(const u of d){let d;const h=c.indexOf(u);if(-1!==h)d=v[h];else{const c=i.localize(y,b,u);if(c.snapshot(),d=u.$_validate(t,c,s),!d.errors){c.commit(),"strip"===u._flags.result?(l.fastSplice(e,a),--a,--p):r._flags.sparse||void 0!==d.value?e[a]=d.value:(f.push(n("array.sparse",{key:g,path:y,pos:a,value:void 0},i.localize(y))),o=!0),m=!0;break}c.restore()}if(1===w){if(A){l.fastSplice(e,a),--a,--p,m=!0;break}if(f.push(...d.errors),s.abortEarly)return f;o=!0;break}}if(!o&&(r.$_terms._inclusions.length||r.$_terms._requireds.length)&&!m){if(A){l.fastSplice(e,a),--a,--p;continue}if(f.push(n("array.includes",{pos:a,value:t},i.localize(y))),s.abortEarly)return f}}return c.length&&l.fillMissedErrors(r,f,c,e,i,s),u.length&&(l.fillOrderedErrors(r,f,u,e,i,s),f.length||l.fillDefault(u,e,i,s)),f.length?f:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,r,n)=>{let{limit:i}=r,{name:s,operator:o,args:c}=n;return a.compare(e.length,i,o)?e:t.error("array."+s,{limit:c.limit,value:e})},args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.verifyFlat(t,"ordered");const n=this.$_addRule("items");for(let i=0;i<t.length;++i){const e=a.tryWithPath((()=>this.$_compile(t[i])),i,{append:!0});l.validateSingle(e,n),n.$_mutateRegister(e),n.$_terms.ordered.push(e)}return n.$_mutateRebuild()}},single:{method(e){const t=void 0===e||!!e;return n(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.assertOptions(e,["by","order"]);const t={order:e.order||"ascending"};return e.by&&(t.by=c.ref(e.by,{ancestor:0}),n(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,t,r){let{error:n,state:i,prefs:s,schema:o}=t,{options:a}=r;const{value:c,errors:u}=l.sort(o,e,a,i,s);if(u)return u;for(let l=0;l<e.length;++l)if(e[l]!==c[l])return n("array.sort",{order:a.order,by:a.by?a.by.key:"value"});return e},convert:!0},sparse:{method(e){const t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),a.assertOptions(t,["ignoreUndefined","separator"]);const r={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){const n=a.default(t.separator,".");r.path=n?e.split(n):[e]}else r.comparator=e;return this.$_addRule(r)},validate(e,t,r,o){let{state:a,error:c,schema:l}=t,{comparator:u,options:d}=r,{comparator:h,path:f}=o;const p={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},m=h||i,g=d.ignoreUndefined;for(let i=0;i<e.length;++i){const t=f?s(e[i],f):e[i],r=h?p.custom:p[typeof t];if(n(r,"Failed to find unique map container for type",typeof t),r instanceof Map){const n=r.entries();let s;for(;!(s=n.next()).done;)if(m(s.value[0],t)){const t=a.localize([...a.path,i],[e,...a.ancestors]),r={pos:i,value:e[i],dupePos:s.value[1],dupeValue:e[s.value[1]]};return f&&(r.path=u),c("array.unique",r,t)}r.set(t,i)}else{if((!g||void 0!==t)&&void 0!==r[t]){const n={pos:i,value:e[i],dupePos:r[t],dupeValue:e[r[t]]};return f&&(n.path=u),c("array.unique",n,a.localize([...a.path,i],[e,...a.ancestors]))}r[t]=i}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(e,t)=>new Set(e)}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(const t of e.$_terms.items)l.validateSingle(t,e),"required"===t._flags.presence?e.$_terms._requireds.push(t):"forbidden"===t._flags.presence?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(const t of e.$_terms.ordered)l.validateSingle(t,e)},manifest:{build:(e,t)=>(t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),l.fillMissedErrors=function(e,t,r,n,i,s){const o=[];let a=0;for(const c of r){const e=c._flags.label;e?o.push(e):++a}o.length?a?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:o,unknownMisses:a},i,s)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:o},i,s)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:a},i,s))},l.fillOrderedErrors=function(e,t,r,n,i,s){const o=[];for(const a of r)"required"===a._flags.presence&&o.push(a);o.length&&l.fillMissedErrors(e,t,o,n,i,s)},l.fillDefault=function(e,t,r,n){const i=[];let s=!0;for(let o=e.length-1;o>=0;--o){const a=e[o],c=[t,...r.ancestors],l=a.$_validate(void 0,r.localize(r.path,c,a),n).value;if(s){if(void 0===l)continue;s=!1}i.unshift(l)}i.length&&t.push(...i)},l.fastSplice=function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length},l.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(n(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},l.sort=function(e,t,r,n,i){const s="ascending"===r.order?1:-1,o=-1*s,a=s,c=(c,u)=>{let d=l.compare(c,u,o,a);if(null!==d)return d;if(r.by&&(c=r.by.resolve(c,n,i),u=r.by.resolve(u,n,i)),d=l.compare(c,u,o,a),null!==d)return d;const h=typeof c;if(h!==typeof u)throw e.$_createError("array.sort.mismatching",t,null,n,i);if("number"!==h&&"string"!==h)throw e.$_createError("array.sort.unsupported",t,{type:h},n,i);return"number"===h?(c-u)*s:c<u?o:a};try{return{value:t.slice().sort(c)}}catch(e){return{errors:e}}},l.compare=function(e,t,r,n){return e===t?0:void 0===e?1:void 0===t?-1:null===e?n:null===t?r:null}},4937:(e,t,r)=>{"use strict";const n=r(375),i=r(8068),s=r(8160),o=r(2036),a={isBool:function(e){return"boolean"==typeof e}};e.exports=i.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,t){let{schema:r}=t;if("boolean"!=typeof e){if("string"==typeof e){const t=r._flags.sensitive?e:e.toLowerCase();e="true"===t||"false"!==t&&e}return"boolean"!=typeof e&&(e=r.$_terms.truthy&&r.$_terms.truthy.has(e,null,null,!r._flags.sensitive)||(!r.$_terms.falsy||!r.$_terms.falsy.has(e,null,null,!r._flags.sensitive))&&e),{value:e}}},validate(e,t){let{error:r}=t;if("boolean"!=typeof e)return{value:e,errors:r("boolean.base")}},rules:{truthy:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s.verifyFlat(t,"truthy");const i=this.clone();i.$_terms.truthy=i.$_terms.truthy||new o;for(let s=0;s<t.length;++s){const e=t[s];n(void 0!==e,"Cannot call truthy with undefined"),i.$_terms.truthy.add(e)}return i}},falsy:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s.verifyFlat(t,"falsy");const i=this.clone();i.$_terms.falsy=i.$_terms.falsy||new o;for(let s=0;s<t.length;++s){const e=t[s];n(void 0!==e,"Cannot call falsy with undefined"),i.$_terms.falsy.add(e)}return i}},sensitive:{method(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("sensitive",e)}}},cast:{number:{from:a.isBool,to:(e,t)=>e?1:0},string:{from:a.isBool,to:(e,t)=>e?"true":"false"}},manifest:{build:(e,t)=>(t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(e,t,r)=>{"use strict";const n=r(375),i=r(8068),s=r(8160),o=r(3328),a={isDate:function(e){return e instanceof Date}};e.exports=i.extend({type:"date",coerce:{from:["number","string"],method:(e,t)=>{let{schema:r}=t;return{value:a.parse(e,r._flags.format)||e}}},validate(e,t){let{schema:r,error:n,prefs:i}=t;if(e instanceof Date&&!isNaN(e.getTime()))return;const s=r._flags.format;return i.convert&&s&&"string"==typeof e?{value:e,errors:n("date.format",{format:s})}:{value:e,errors:n("date.base")}},rules:{compare:{method:!1,validate(e,t,r,n){let{date:i}=r,{name:o,operator:a,args:c}=n;const l="now"===i?Date.now():i.getTime();return s.compare(e.getTime(),l,a)?e:t.error("date."+o,{limit:c.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>"now"===e?e:a.parse(e),assert:e=>null!==e,message:"must have a valid date format"}]},format:{method(e){return n(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";return n(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:a.isDate,to:(e,t)=>e.getTime()},string:{from:a.isDate,to:(e,t)=>{let{prefs:r}=t;return o.date(e,r)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),a.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if("iso"===t)return s.isIsoDate(e)?a.date(e.toString()):null;const r=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return a.date(1*e);if("unix"===t)return a.date(1e3*e);if("string"==typeof r)return null}return a.date(e)},a.date=function(e){const t=new Date(e);return isNaN(t.getTime())?null:t}},390:(e,t,r)=>{"use strict";const n=r(375),i=r(7824);e.exports=i.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:(e,t,r)=>{let{n:n}=r;return e.length===n?e:t.error("function.arity",{n:n})}},class:{method(){return this.$_addRule("class")},validate:(e,t)=>/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})},minArity:{method(e){return n(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:(e,t,r)=>{let{n:n}=r;return e.length>=n?e:t.error("function.minArity",{n:n})}},maxArity:{method(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:(e,t,r)=>{let{n:n}=r;return e.length<=n?e:t.error("function.maxArity",{n:n})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(e,t,r)=>{"use strict";const n=r(978),i=r(375),s=r(8571),o=r(3652),a=r(8068),c=r(8160),l=r(3292),u=r(6354),d=r(6133),h=r(3328),f={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=a.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(e,t)=>e.keys(t),validate(e,t){let{schema:r,error:n,state:i,prefs:s}=t;if(!e||typeof e!==r.$_property("typeof")||Array.isArray(e))return{value:e,errors:n("object.base",{type:r.$_property("typeof")})};if(!(r.$_terms.renames||r.$_terms.dependencies||r.$_terms.keys||r.$_terms.patterns||r.$_terms.externals))return;e=f.clone(e,s);const o=[];if(r.$_terms.renames&&!f.rename(r,e,i,s,o))return{value:e,errors:o};if(!r.$_terms.keys&&!r.$_terms.patterns&&!r.$_terms.dependencies)return{value:e,errors:o};const a=new Set(Object.keys(e));if(r.$_terms.keys){const t=[e,...i.ancestors];for(const n of r.$_terms.keys){const r=n.key,c=e[r];a.delete(r);const l=i.localize([...i.path,r],t,n),u=n.schema.$_validate(c,l,s);if(u.errors){if(s.abortEarly)return{value:e,errors:u.errors};void 0!==u.value&&(e[r]=u.value),o.push(...u.errors)}else"strip"===n.schema._flags.result||void 0===u.value&&void 0!==c?delete e[r]:void 0!==u.value&&(e[r]=u.value)}}if(a.size||r._flags._hasPatternMatch){const t=f.unknown(r,e,a,o,i,s);if(t)return t}if(r.$_terms.dependencies)for(const c of r.$_terms.dependencies){if(null!==c.key&&!1===f.isPresent(c.options)(c.key.resolve(e,i,s,null,{shadow:!1})))continue;const t=f.dependencies[c.rel](r,c,e,i,s);if(t){const n=r.$_createError(t.code,e,t.context,i,s);if(s.abortEarly)return{value:e,errors:n};o.push(n)}}return{value:e,errors:o}},rules:{and:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.verifyFlat(t,"and"),f.dependency(this,"and",null,t)}},append:{method(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method(e,t,r){h.isTemplate(e)||(e=l.ref(e)),i(void 0===r||"string"==typeof r,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});const n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate(e,t,r){let{error:n,prefs:i,state:s}=t,{subject:o,schema:a,message:c}=r;const l=o.resolve(e,s,i),u=d.isRef(o)?o.absolute(s):[];return a.$_match(l,s.localize(u,[e,...s.ancestors],a),i)?e:n("object.assert",{subject:o,message:c})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return i("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:(e,t,r)=>{let{constructor:n,name:i}=r;return e instanceof n?e:t.error("object.instance",{type:i,value:e})},args:["constructor","name"]},keys:{method(e){i(void 0===e||"object"==typeof e,"Object schema must be a valid object"),i(!c.isSchema(e),"Object schema cannot be a joi schema");const t=this.clone();if(e)if(Object.keys(e).length){t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter((t=>!e.hasOwnProperty(t.key))):new f.Keys;for(const r in e)c.tryWithPath((()=>t.$_terms.keys.push({key:r,schema:this.$_compile(e[r])})),r)}else t.$_terms.keys=new f.Keys;else t.$_terms.keys=null;return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,r,n)=>{let{limit:i}=r,{name:s,operator:o,args:a}=n;return c.compare(Object.keys(e).length,i,o)?e:t.error("object."+s,{limit:a.limit,value:e})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.verifyFlat(t,"nand"),f.dependency(this,"nand",null,t)}},or:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.verifyFlat(t,"or"),f.dependency(this,"or",null,t)}},oxor:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f.dependency(this,"oxor",null,t)}},pattern:{method(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e instanceof RegExp;n||(e=this.$_compile(e,{appendPath:!0})),i(void 0!==t,"Invalid rule"),c.assertOptions(r,["fallthrough","matches"]),n&&i(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});const s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];const o={[n?"regex":"schema"]:e,rule:t};return r.matches&&(o.matches=this.$_compile(r.matches),"array"!==o.matches.type&&(o.matches=o.matches.$_root.array().items(o.matches)),s.$_mutateRegister(o.matches),s.$_setFlag("_hasPatternMatch",!0,{clone:!1})),r.fallthrough&&(o.fallthrough=!0),s.$_terms.patterns.push(o),s.$_mutateRegister(t),s}},ref:{method(){return this.$_addRule("ref")},validate:(e,t)=>d.isRef(e)?e:t.error("object.refType",{value:e})},regex:{method(){return this.$_addRule("regex")},validate:(e,t)=>e instanceof RegExp?e:t.error("object.regex",{value:e})},rename:{method(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),i("string"==typeof t||t instanceof h,"Invalid rename to argument"),i(t!==e,"Cannot rename key to same name:",e),c.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);const s=this.clone();s.$_terms.renames=s.$_terms.renames||[];for(const n of s.$_terms.renames)i(n.from!==e,"Cannot rename the same key multiple times");return t instanceof h&&s.$_mutateRegister(t),s.$_terms.renames.push({from:e,to:t,options:n(f.renameDefaults,r)}),s}},schema:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:e}})},validate:(e,t,r)=>{let{type:n}=r;return!c.isSchema(e)||"any"!==n&&e.type!==n?t.error("object.schema",{type:n}):e}},unknown:{method(e){return this.$_setFlag("unknown",!1!==e)}},with:{method(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f.dependency(this,"with",e,t,r)}},without:{method(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f.dependency(this,"without",e,t,r)}},xor:{method(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.verifyFlat(t,"xor"),f.dependency(this,"xor",null,t)}}},overrides:{default(e,t){return void 0===e&&(e=c.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild(e){if(e.$_terms.keys){const t=new o.Sorter;for(const r of e.$_terms.keys)c.tryWithPath((()=>t.add(r,{after:r.schema.$_rootReferences(),group:r.key})),r.key);e.$_terms.keys=new f.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(const{rel:r,key:n=null,peers:i,options:s}of t.dependencies)e=f.dependency(e,r,n,i,s);if(t.patterns)for(const{regex:r,schema:n,rule:i,fallthrough:s,matches:o}of t.patterns)e=e.pattern(r||n,i,{fallthrough:s,matches:o});if(t.renames)for(const{from:r,to:n,options:i}of t.renames)e=e.rename(r,n,i);return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),f.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return s(e,{shallow:!0});const r=Object.create(Object.getPrototypeOf(e));return Object.assign(r,e),r}const r=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r)};return r.prototype=s(e.prototype),Object.defineProperty(r,"name",{value:e.name,writable:!1}),Object.defineProperty(r,"length",{value:e.length,writable:!1}),Object.assign(r,e),r},f.dependency=function(e,t,r,n,s){i(null===r||"string"==typeof r,t,"key must be a strings"),s||(s=n.length>1&&"object"==typeof n[n.length-1]?n.pop():{}),c.assertOptions(s,["separator","isPresent"]),n=[].concat(n);const o=c.default(s.separator,"."),a=[];for(const c of n)i("string"==typeof c,t,"peers must be strings"),a.push(l.ref(c,{separator:o,ancestor:0,prefix:!1}));null!==r&&(r=l.ref(r,{separator:o,ancestor:0,prefix:!1}));const u=e.clone();return u.$_terms.dependencies=u.$_terms.dependencies||[],u.$_terms.dependencies.push(new f.Dependency(t,r,a,n,s)),u},f.dependencies={and(e,t,r,n,i){const s=[],o=[],a=t.peers.length,c=f.isPresent(t.options);for(const l of t.peers)!1===c(l.resolve(r,n,i,null,{shadow:!1}))?s.push(l.key):o.push(l.key);if(s.length!==a&&o.length!==a)return{code:"object.and",context:{present:o,presentWithLabels:f.keysToLabels(e,o),missing:s,missingWithLabels:f.keysToLabels(e,s)}}},nand(e,t,r,n,i){const s=[],o=f.isPresent(t.options);for(const l of t.peers)o(l.resolve(r,n,i,null,{shadow:!1}))&&s.push(l.key);if(s.length!==t.peers.length)return;const a=t.paths[0],c=t.paths.slice(1);return{code:"object.nand",context:{main:a,mainWithLabel:f.keysToLabels(e,a),peers:c,peersWithLabels:f.keysToLabels(e,c)}}},or(e,t,r,n,i){const s=f.isPresent(t.options);for(const o of t.peers)if(s(o.resolve(r,n,i,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:f.keysToLabels(e,t.paths)}}},oxor(e,t,r,n,i){const s=[],o=f.isPresent(t.options);for(const c of t.peers)o(c.resolve(r,n,i,null,{shadow:!1}))&&s.push(c.key);if(!s.length||1===s.length)return;const a={peers:t.paths,peersWithLabels:f.keysToLabels(e,t.paths)};return a.present=s,a.presentWithLabels=f.keysToLabels(e,s),{code:"object.oxor",context:a}},with(e,t,r,n,i){const s=f.isPresent(t.options);for(const o of t.peers)if(!1===s(o.resolve(r,n,i,null,{shadow:!1})))return{code:"object.with",context:{main:t.key.key,mainWithLabel:f.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:f.keysToLabels(e,o.key)}}},without(e,t,r,n,i){const s=f.isPresent(t.options);for(const o of t.peers)if(s(o.resolve(r,n,i,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:f.keysToLabels(e,t.key.key),peer:o.key,peerWithLabel:f.keysToLabels(e,o.key)}}},xor(e,t,r,n,i){const s=[],o=f.isPresent(t.options);for(const c of t.peers)o(c.resolve(r,n,i,null,{shadow:!1}))&&s.push(c.key);if(1===s.length)return;const a={peers:t.paths,peersWithLabels:f.keysToLabels(e,t.paths)};return 0===s.length?{code:"object.missing",context:a}:(a.present=s,a.presentWithLabels=f.keysToLabels(e,s),{code:"object.xor",context:a})}},f.keysToLabels=function(e,t){return Array.isArray(t)?t.map((t=>e.$_mapLabels(t))):e.$_mapLabels(t)},f.isPresent=function(e){return"function"==typeof e.isPresent?e.isPresent:e=>void 0!==e},f.rename=function(e,t,r,n,i){const s={};for(const o of e.$_terms.renames){const a=[],c="string"!=typeof o.from;if(c)for(const e in t){if(void 0===t[e]&&o.options.ignoreUndefined)continue;if(e===o.to)continue;const r=o.from.exec(e);r&&a.push({from:e,to:o.to,match:r})}else!Object.prototype.hasOwnProperty.call(t,o.from)||void 0===t[o.from]&&o.options.ignoreUndefined||a.push(o);for(const l of a){const a=l.from;let u=l.to;if(u instanceof h&&(u=u.render(t,r,n,l.match)),a!==u){if(!o.options.multiple&&s[u]&&(i.push(e.$_createError("object.rename.multiple",t,{from:a,to:u,pattern:c},r,n)),n.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,u)&&!o.options.override&&!s[u]&&(i.push(e.$_createError("object.rename.override",t,{from:a,to:u,pattern:c},r,n)),n.abortEarly))return!1;void 0===t[a]?delete t[u]:t[u]=t[a],s[u]=!0,o.options.alias||delete t[a]}}}return!0},f.unknown=function(e,t,r,n,i,s){if(e.$_terms.patterns){let o=!1;const a=e.$_terms.patterns.map((e=>{if(e.matches)return o=!0,[]})),c=[t,...i.ancestors];for(const l of r){const o=t[l],u=[...i.path,l];for(let d=0;d<e.$_terms.patterns.length;++d){const h=e.$_terms.patterns[d];if(h.regex){const e=h.regex.test(l);if(i.mainstay.tracer.debug(i,"rule",`pattern.${d}`,e?"pass":"error"),!e)continue}else if(!h.schema.$_match(l,i.nest(h.schema,`pattern.${d}`),s))continue;r.delete(l);const f=i.localize(u,c,{schema:h.rule,key:l}),p=h.rule.$_validate(o,f,s);if(p.errors){if(s.abortEarly)return{value:t,errors:p.errors};n.push(...p.errors)}if(h.matches&&a[d].push(l),t[l]=p.value,!h.fallthrough)break}}if(o)for(let r=0;r<a.length;++r){const o=a[r];if(!o)continue;const l=e.$_terms.patterns[r].matches,d=i.localize(i.path,c,l),h=l.$_validate(o,d,s);if(h.errors){const r=u.details(h.errors,{override:!1});r.matches=o;const a=e.$_createError("object.pattern.match",t,r,i,s);if(s.abortEarly)return{value:t,errors:a};n.push(a)}}}if(r.size&&(e.$_terms.keys||e.$_terms.patterns)){if(s.stripUnknown&&void 0===e._flags.unknown||s.skipFunctions){const e=!(!s.stripUnknown||!0!==s.stripUnknown&&!s.stripUnknown.objects);for(const n of r)e?(delete t[n],r.delete(n)):"function"==typeof t[n]&&r.delete(n)}if(!c.default(e._flags.unknown,s.allowUnknown))for(const o of r){const r=i.localize([...i.path,o],[]),a=e.$_createError("object.unknown",t[o],{child:o},r,s,{flags:!1});if(s.abortEarly)return{value:t,errors:a};n.push(a)}}},f.Dependency=class{constructor(e,t,r,n,i){this.rel=e,this.key=t,this.peers=r,this.paths=n,this.options=i}describe(){const e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options={...e.options,separator:this.peers[0].separator}),this.options.isPresent&&(e.options={...e.options,isPresent:this.options.isPresent}),e}},f.Keys=class extends Array{concat(e){const t=this.slice(),r=new Map;for(let n=0;n<t.length;++n)r.set(t[n].key,n);for(const n of e){const e=n.key,i=r.get(e);void 0!==i?t[i]={key:e,schema:t[i].schema.concat(n.schema)}:t.push(n)}return t}}},8785:(e,t,r)=>{"use strict";const n=r(375),i=r(8068),s=r(8160),o=r(3292),a=r(6354),c={};e.exports=i.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(e,t)=>e.ref(t),validate(e,t){let{schema:r,state:i,prefs:s}=t;n(r.$_terms.link,"Uninitialized link schema");const o=c.generate(r,e,i,s),a=r.$_terms.link[0].ref;return o.$_validate(e,i.nest(o,`link:${a.display}:${o.type}`),s)},generate:(e,t,r,n)=>c.generate(e,t,r,n),rules:{ref:{method(e){n(!this.$_terms.link,"Cannot reinitialize schema"),e=o.ref(e),n("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),n("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");const t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$_setFlag("relative",e)}}},overrides:{concat(e){n(this.$_terms.link,"Uninitialized link schema"),n(s.isSchema(e),"Invalid schema object"),n("link"!==e.type,"Cannot merge type link with another link");const t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:(e,t)=>(n(t.link,"Invalid link description missing link"),e.ref(t.link))}}),c.generate=function(e,t,r,n){let i=r.mainstay.links.get(e);if(i)return i._generate(t,r,n).schema;const s=e.$_terms.link[0].ref,{perspective:o,path:a}=c.perspective(s,r);c.assert(o,"which is outside of schema boundaries",s,e,r,n);try{i=a.length?o.$_reach(a):o}catch(t){c.assert(!1,"to non-existing schema",s,e,r,n)}return c.assert("link"!==i.type,"which is another link",s,e,r,n),e._flags.relative||r.mainstay.links.set(e,i),i._generate(t,r,n).schema},c.perspective=function(e,t){if("local"===e.type){for(const{schema:r,key:n}of t.schemas){if((r._flags.id||n)===e.path[0])return{perspective:r,path:e.path.slice(1)};if(r.$_terms.shared)for(const t of r.$_terms.shared)if(t._flags.id===e.path[0])return{perspective:t,path:e.path.slice(1)}}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},c.assert=function(e,t,r,i,s,o){e||n(!1,`"${a.label(i._flags,s,o)}" contains link reference "${r.display}" ${t}`)}},3832:(e,t,r)=>{"use strict";const n=r(375),i=r(8068),s=r(8160),o={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(e){const t=e.toString(),r=t.indexOf("."),n=t.indexOf("e");return(r<0?0:(n<0?t.length:n)-r-1)+(n<0?0:Math.max(0,-parseInt(t.slice(n+1))))}};e.exports=i.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,t){let{schema:r,error:n}=t;if(!e.match(o.numberRx))return;e=e.trim();const i={value:parseFloat(e)};if(0===i.value&&(i.value=0),!r._flags.unsafe)if(e.match(/e/i)){if(o.extractSignificantDigits(e)!==o.extractSignificantDigits(String(i.value)))return i.errors=n("number.unsafe"),i}else{const t=i.value.toString();if(t.match(/e/i))return i;if(t!==o.normalizeDecimal(e))return i.errors=n("number.unsafe"),i}return i}},validate(e,t){let{schema:r,error:n,prefs:i}=t;if(e===1/0||e===-1/0)return{value:e,errors:n("number.infinity")};if(!s.isNumber(e))return{value:e,errors:n("number.base")};const o={value:e};if(i.convert){const e=r.$_getRule("precision");if(e){const t=Math.pow(10,e.args.limit);o.value=Math.round(o.value*t)/t}}return 0===o.value&&(o.value=0),!r._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(o.errors=n("number.unsafe")),o},rules:{compare:{method:!1,validate:(e,t,r,n)=>{let{limit:i}=r,{name:o,operator:a,args:c}=n;return s.compare(e,i,a)?e:t.error("number."+o,{limit:c.limit,value:e})},args:[{name:"limit",ref:!0,assert:s.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(e,t)=>Math.trunc(e)-e==0?e:t.error("number.integer")},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){const t="number"==typeof e?o.decimalPlaces(e):null,r=Math.pow(10,t);return this.$_addRule({name:"multiple",args:{base:e,baseDecimalPlace:t,pfactor:r}})},validate:(e,t,r,n)=>{let{base:i,baseDecimalPlace:s,pfactor:a}=r;return o.decimalPlaces(e)>s?t.error("number.multiple",{multiple:n.args.base,value:e}):Math.round(a*e)%Math.round(a*i)==0?e:t.error("number.multiple",{multiple:n.args.base,value:e})},args:[{name:"base",ref:!0,assert:e=>"number"==typeof e&&isFinite(e)&&e>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(e,t)=>Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(e){return n(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,r){let{limit:n}=r;const i=e.toString().match(o.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=n?e:t.error("number.precision",{limit:n,value:e})},convert:!0},sign:{method(e){return n(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:(e,t,r)=>{let{sign:n}=r;return"negative"===n&&e<0||"positive"===n&&e>0?e:t.error(`number.${n}`)}},unsafe:{method(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>"number"==typeof e,to:(e,t)=>e.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),o.extractSignificantDigits=function(e){return e.replace(o.exponentialPartRegex,"").replace(o.dotRegex,"").replace(o.trailingZerosRegex,"").replace(o.leadingSignAndZerosRegex,"")},o.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},8966:(e,t,r)=>{"use strict";const n=r(7824);e.exports=n.extend({type:"object",cast:{map:{from:e=>e&&"object"==typeof e,to:(e,t)=>new Map(Object.entries(e))}}})},7417:(e,t,r)=>{"use strict";const n=r(375),i=r(5380),s=r(1745),o=r(9959),a=r(6064),c=r(9926),l=r(5752),u=r(8068),d=r(8160),h={tlds:c instanceof Set&&{tlds:{allow:c,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:o.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=u.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,t){let{schema:r,state:n,prefs:i}=t;const s=r.$_getRule("normalize");s&&(e=e.normalize(s.args.form));const o=r.$_getRule("case");o&&(e="upper"===o.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());const a=r.$_getRule("trim");if(a&&a.args.enabled&&(e=e.trim()),r.$_terms.replacements)for(const l of r.$_terms.replacements)e=e.replace(l.pattern,l.replacement);const c=r.$_getRule("hex");if(c&&c.args.options.byteAligned&&e.length%2!=0&&(e=`0${e}`),r.$_getRule("isoDate")){const t=h.isoDate(e);t&&(e=t)}if(r._flags.truncate){const t=r.$_getRule("max");if(t){let s=t.args.limit;if(d.isResolvable(s)&&(s=s.resolve(e,n,i),!d.limit(s)))return{value:e,errors:r.$_createError("any.ref",s,{ref:t.args.limit,arg:"limit",reason:"must be a positive integer"},n,i)};e=e.slice(0,s)}}return{value:e}}},validate(e,t){let{schema:r,error:n}=t;if("string"!=typeof e)return{value:e,errors:n("string.base")};if(""===e){const t=r.$_getRule("min");if(t&&0===t.args.limit)return;return{value:e,errors:n("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(e,t)=>/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")},base64:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.assertOptions(e,["paddingRequired","urlSafe"]),e={urlSafe:!1,paddingRequired:!0,...e},n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),n("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:(e,t,r)=>{let{options:n}=r;return h.base64Regex[n.paddingRequired][n.urlSafe].test(e)?e:t.error("string.base64")}},case:{method(e){return n(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:(e,t,r)=>{let{direction:n}=r;return"lower"===n&&e===e.toLocaleLowerCase()||"upper"===n&&e===e.toLocaleUpperCase()?e:t.error(`string.${n}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let r=e.length,n=0,i=1;for(;r--;){const t=e.charAt(r)*i;n+=t-9*(t>9),i^=3}return n>0&&n%10==0?e:t.error("string.creditCard")}},dataUri:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.assertOptions(e,["paddingRequired"]),e={paddingRequired:!0,...e},n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,r){let{options:n}=r;const i=e.match(h.dataUriRegex);if(i){if(!i[2])return e;if("base64"!==i[2])return e;if(h.base64Regex[n.paddingRequired].false.test(i[3]))return e}return t.error("string.dataUri")}},domain:{method(e){e&&d.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const t=h.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:(e,t,r,n)=>{let{address:s}=n;return i.isValid(e,s)?e:t.error("string.domain")}},email:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),n(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");const t=h.addressOptions(e),r=new RegExp(`\\s*[${e.separator?a(e.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate(e,t,r,n){let{options:i}=r,{regex:o,address:a}=n;const c=i.multiple?e.split(o):[e],l=[];for(const u of c)s.isValid(u,a)||l.push(u);return l.length?t.error("string.email",{value:e,invalids:l}):e}},guid:{alias:"uuid",method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d.assertOptions(e,["version","separator"]);let t="";if(e.version){const r=[].concat(e.version);n(r.length>=1,"version must have at least 1 valid version specified");const i=new Set;for(let e=0;e<r.length;++e){const s=r[e];n("string"==typeof s,"version at position "+e+" must be a string");const o=h.guidVersions[s.toLowerCase()];n(o,"version at position "+e+" must be one of "+Object.keys(h.guidVersions).join(", ")),n(!i.has(o),"version at position "+e+" must not be a duplicate"),t+=o,i.add(o)}}n(h.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');const r=void 0===e.separator?"[:-]?":!0===e.separator?"[:-]":!1===e.separator?"[]?":`\\${e.separator}`,i=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${r})[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:e},regex:i})},validate(e,t,r,n){let{regex:i}=n;const s=i.exec(e);return s?h.guidBrackets[s[1]]!==s[s.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.assertOptions(e,["byteAligned","prefix"]),e={byteAligned:!1,prefix:!1,...e},n("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),n("boolean"==typeof e.prefix||"optional"===e.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:e}})},validate:(e,t,r)=>{let{options:n}=r;return("optional"===n.prefix?h.hexRegex.withOptionalPrefix:!0===n.prefix?h.hexRegex.withPrefix:h.hexRegex.withoutPrefix).test(e)?n.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate:(e,t)=>i.isValid(e,{minDomainSegments:1})||h.ipRegex.test(e)?e:t.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d.assertOptions(e,["cidr","version"]);const{cidr:t,versions:r,regex:n}=o.regex(e),i=e.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:t,version:i}},regex:n})},validate:(e,t,r,n)=>{let{options:i}=r,{regex:s}=n;return s.test(e)?e:i.version?t.error("string.ipVersion",{value:e,cidr:i.cidr,version:i.version}):t.error("string.ip",{value:e,cidr:i.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate:(e,t)=>{let{error:r}=t;return h.isoDate(e)?e:r("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(e,t)=>h.isoDurationRegex.test(e)?e:t.error("string.isoDuration")},length:{method(e,t){return h.length(this,"length",e,"=",t)},validate(e,t,r,n){let{limit:i,encoding:s}=r,{name:o,operator:a,args:c}=n;const l=!s&&e.length;return d.compare(l,i,a)?e:t.error("string."+o,{limit:c.limit,value:e,encoding:s})},args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return h.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return h.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";return n(h.normalizationForms.includes(e),"normalization form must be one of "+h.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:(e,t,r)=>{let{error:n}=t,{form:i}=r;return e===e.normalize(i)?e:n("string.normalize",{value:e,form:i})},convert:!0},pattern:{alias:"regex",method(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(e instanceof RegExp,"regex must be a RegExp"),n(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),d.assertOptions(t,["invert","name"]);const r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate:(e,t,r,n)=>{let{regex:i,options:s}=r,{errorCode:o}=n;return i.test(e)^s.invert?e:t.error(o,{name:s.name,regex:i,value:e})},args:["regex","options"],multi:!0},replace:{method(e,t){"string"==typeof e&&(e=new RegExp(a(e),"g")),n(e instanceof RegExp,"pattern must be a RegExp"),n("string"==typeof t,"replacement must be a String");const r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method(){return this.$_addRule("token")},validate:(e,t)=>/^\w+$/.test(e)?e:t.error("string.token")},trim:{method(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:(e,t,r)=>{let{enabled:n}=r;return n&&e!==e.trim()?t.error("string.trim"):e},convert:!0},truncate:{method(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),e.domain&&d.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:t,scheme:r}=l.regex(e),n=e.domain?h.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:t,domain:n,scheme:r})},validate(e,t,r,n){let{options:s}=r,{regex:o,domain:a,scheme:c}=n;if(["http:/","https:/"].includes(e))return t.error("string.uri");let l=o.exec(e);if(!l&&t.prefs.convert&&s.encodeUri){const t=encodeURI(e);l=o.exec(t),l&&(e=t)}if(l){const r=l[1]||l[2];return!a||s.allowRelative&&!r||i.isValid(r,a)?e:t.error("string.domain",{value:r})}return s.relativeOnly?t.error("string.uriRelativeOnly"):s.scheme?t.error("string.uriCustomScheme",{scheme:c,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(const{pattern:r,replacement:n}of t.replacements)e=e.replace(r,n);return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),h.addressOptions=function(e){if(!e)return h.tlds||e;if(n(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),n(void 0===e.maxDomainSegments||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return n(h.tlds,"Built-in TLD list disabled"),Object.assign({},e,h.tlds);n("object"==typeof e.tlds,"tlds must be true, false, or an object");const t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),n(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),n(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),h.validateTlds(e.tlds.deny,"tlds.deny"),e;const r=e.tlds.allow;return r?!0===r?(n(h.tlds,"Built-in TLD list disabled"),Object.assign({},e,h.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),n(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),h.validateTlds(e.tlds.allow,"tlds.allow"),e):e},h.validateTlds=function(e,t){for(const r of e)n(i.isValid(r,{minDomainSegments:1,maxDomainSegments:1}),`${t} must contain valid top level domain names`)},h.isoDate=function(e){if(!d.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},h.length=function(e,t,r,i,s){return n(!s||!1,"Invalid encoding:",s),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:s},operator:i})}},8826:(e,t,r)=>{"use strict";const n=r(375),i=r(8068),s={};s.Map=class extends Map{slice(){return new s.Map(this)}},e.exports=i.extend({type:"symbol",terms:{map:{init:new s.Map}},coerce:{method(e,t){let{schema:r,error:n}=t;const i=r.$_terms.map.get(e);return i&&(e=i),r._flags.only&&"symbol"!=typeof e?{value:e,errors:n("symbol.map",{map:r.$_terms.map})}:{value:e}}},validate(e,t){let{error:r}=t;if("symbol"!=typeof e)return{value:e,errors:r("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),n(e&&e[Symbol.iterator],"Iterable must be an iterable or object");const t=this.clone(),r=[];for(const i of e){n(i&&i[Symbol.iterator],"Entry must be an iterable");const[e,s]=i;n("object"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e,"Key must not be of type object, function, or Symbol"),n("symbol"==typeof s,"Value must be a Symbol"),t.$_terms.map.set(e,s),r.push(s)}return t.valid(...r)}}},manifest:{build:(e,t)=>(t.map&&(e=e.map(t.map)),e)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(738),o=r(9621),a=r(8160),c=r(6354),l=r(493),u={result:Symbol("result")};t.entry=function(e,t,r){let i=a.defaults;r&&(n(void 0===r.warnings,"Cannot override warnings preference in synchronous validation"),n(void 0===r.artifacts,"Cannot override artifacts preference in synchronous validation"),i=a.preferences(a.defaults,r));const s=u.entry(e,t,i);n(!s.mainstay.externals.length,"Schema with external rules must use validateAsync()");const o={value:s.value};return s.error&&(o.error=s.error),s.mainstay.warnings.length&&(o.warning=c.details(s.mainstay.warnings)),s.mainstay.debug&&(o.debug=s.mainstay.debug),s.mainstay.artifacts&&(o.artifacts=s.mainstay.artifacts),o},t.entryAsync=async function(e,t,r){let n=a.defaults;r&&(n=a.preferences(a.defaults,r));const i=u.entry(e,t,n),s=i.mainstay;if(i.error)throw s.debug&&(i.error.debug=s.debug),i.error;if(s.externals.length){let t=i.value;const l=[];for(const i of s.externals){const d=i.state.path,h="link"===i.schema.type?s.links.get(i.schema):null;let f,p,m=t;const g=d.length?[t]:[],y=d.length?o(e,d):e;if(d.length){f=d[d.length-1];let e=t;for(const t of d.slice(0,-1))e=e[t],g.unshift(e);p=g[0],m=p[f]}try{const e=(e,t)=>(h||i.schema).$_createError(e,m,t,i.state,n),o=await i.method(m,{schema:i.schema,linked:h,state:i.state,prefs:r,original:y,error:e,errorsArray:u.errorsArray,warn:(e,t)=>s.warnings.push((h||i.schema).$_createError(e,m,t,i.state,n)),message:(e,t)=>(h||i.schema).$_createError("external",m,t,i.state,n,{messages:e})});if(void 0===o||o===m)continue;if(o instanceof c.Report){if(s.tracer.log(i.schema,i.state,"rule","external","error"),l.push(o),n.abortEarly)break;continue}if(Array.isArray(o)&&o[a.symbols.errors]){if(s.tracer.log(i.schema,i.state,"rule","external","error"),l.push(...o),n.abortEarly)break;continue}p?(s.tracer.value(i.state,"rule",m,o,"external"),p[f]=o):(s.tracer.value(i.state,"rule",t,o,"external"),t=o)}catch(e){throw n.errors.label&&(e.message+=` (${i.label})`),e}}if(i.value=t,l.length)throw i.error=c.process(l,e,n),s.debug&&(i.error.debug=s.debug),i.error}if(!n.warnings&&!n.debug&&!n.artifacts)return i.value;const l={value:i.value};return s.warnings.length&&(l.warning=c.details(s.warnings)),s.debug&&(l.debug=s.debug),s.artifacts&&(l.artifacts=s.artifacts),l},u.Mainstay=class{constructor(e,t,r){this.externals=[],this.warnings=[],this.tracer=e,this.debug=t,this.links=r,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}commit(){this._snapshots.pop()}},u.entry=function(e,r,n){const{tracer:i,cleanup:s}=u.tracer(r,n),o=n.debug?[]:null,a=r._ids._schemaChain?new Map:null,d=new u.Mainstay(i,o,a),h=r._ids._schemaChain?[{schema:r}]:null,f=new l([],[],{mainstay:d,schemas:h}),p=t.validate(e,r,f,n);s&&r.$_root.untrace();const m=c.process(p.errors,e,n);return{value:p.value,error:m,mainstay:d}},u.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(n(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:u.ignore}},t.validate=function(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(t.$_terms.whens&&(t=t._generate(e,r,n).schema),t._preferences&&(n=u.prefs(t,n)),t._cache&&n.cache){const n=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!n),n)return n}const s=(i,s,o)=>t.$_createError(i,e,s,o||r,n),o={original:e,prefs:n,schema:t,state:r,error:s,errorsArray:u.errorsArray,warn:(e,t,n)=>r.mainstay.warnings.push(s(e,t,n)),message:(i,s)=>t.$_createError("custom",e,s,r,n,{messages:i})};r.mainstay.tracer.entry(t,r);const c=t._definition;if(c.prepare&&void 0!==e&&n.convert){const t=c.prepare(e,o);if(t){if(r.mainstay.tracer.value(r,"prepare",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),o);e=t.value}}if(c.coerce&&void 0!==e&&n.convert&&(!c.coerce.from||c.coerce.from.includes(typeof e))){const t=c.coerce.method(e,o);if(t){if(r.mainstay.tracer.value(r,"coerced",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),o);e=t.value}}const l=t._flags.empty;l&&l.$_match(u.trim(e,t),r.nest(l),a.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);const d=i.presence||t._flags.presence||(t._flags._endedSwitch?null:n.presence);if(void 0===e){if("forbidden"===d)return u.finalize(e,null,o);if("required"===d)return u.finalize(e,[t.$_createError("any.required",e,null,r,n)],o);if("optional"===d){if(t._flags.default!==a.symbols.deepDefault)return u.finalize(e,null,o);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if("forbidden"===d)return u.finalize(e,[t.$_createError("any.unknown",e,null,r,n)],o);const h=[];if(t._valids){const i=t._valids.get(e,r,n,t._flags.insensitive);if(i)return n.convert&&(r.mainstay.tracer.value(r,"valids",e,i.value),e=i.value),r.mainstay.tracer.filter(t,r,"valid",i),u.finalize(e,null,o);if(t._flags.only){const i=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,n);if(n.abortEarly)return u.finalize(e,[i],o);h.push(i)}}if(t._invalids){const i=t._invalids.get(e,r,n,t._flags.insensitive);if(i){r.mainstay.tracer.filter(t,r,"invalid",i);const s=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,n);if(n.abortEarly)return u.finalize(e,[s],o);h.push(s)}}if(c.validate){const t=c.validate(e,o);if(t&&(r.mainstay.tracer.value(r,"base",e,t.value),e=t.value,t.errors)){if(!Array.isArray(t.errors))return h.push(t.errors),u.finalize(e,h,o);if(t.errors.length)return h.push(...t.errors),u.finalize(e,h,o)}}return t._rules.length?u.rules(e,h,o):u.finalize(e,h,o)},u.rules=function(e,t,r){const{schema:n,state:i,prefs:s}=r;for(const o of n._rules){const c=n._definition.rules[o.method];if(c.convert&&s.convert){i.mainstay.tracer.log(n,i,"rule",o.name,"full");continue}let l,d=o.args;if(o._resolve.length){d=Object.assign({},d);for(const t of o._resolve){const r=c.argsByName.get(t),o=d[t].resolve(e,i,s),u=r.normalize?r.normalize(o):o,h=a.validateArg(u,null,r);if(h){l=n.$_createError("any.ref",o,{arg:t,ref:d[t],reason:h},i,s);break}d[t]=u}}l=l||c.validate(e,r,d,o);const h=u.rule(l,o);if(h.errors){if(i.mainstay.tracer.log(n,i,"rule",o.name,"error"),o.warn){i.mainstay.warnings.push(...h.errors);continue}if(s.abortEarly)return u.finalize(e,h.errors,r);t.push(...h.errors)}else i.mainstay.tracer.log(n,i,"rule",o.name,"pass"),i.mainstay.tracer.value(i,"rule",e,h.value,o.name),e=h.value}return u.finalize(e,t,r)},u.rule=function(e,t){return e instanceof c.Report?(u.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[a.symbols.errors]?(e.forEach((e=>u.error(e,t))),{errors:e,value:null}):{errors:null,value:e}},u.error=function(e,t){return t.message&&e._setTemplate(t.message),e},u.finalize=function(e,t,r){t=t||[];const{schema:i,state:s,prefs:o}=r;if(t.length){const n=u.default("failover",void 0,t,r);void 0!==n&&(s.mainstay.tracer.value(s,"failover",e,n),e=n,t=[])}if(t.length&&i._flags.error)if("function"==typeof i._flags.error){t=i._flags.error(t),Array.isArray(t)||(t=[t]);for(const e of t)n(e instanceof Error||e instanceof c.Report,"error() must return an Error object")}else t=[i._flags.error];if(void 0===e){const n=u.default("default",e,t,r);s.mainstay.tracer.value(s,"default",e,n),e=n}if(i._flags.cast&&void 0!==e){const t=i._definition.cast[i._flags.cast];if(t.from(e)){const n=t.to(e,r);s.mainstay.tracer.value(s,"cast",e,n,i._flags.cast),e=n}}if(i.$_terms.externals&&o.externals&&!1!==o._externals)for(const{method:n}of i.$_terms.externals)s.mainstay.externals.push({method:n,schema:i,state:s,label:c.label(i._flags,s,o)});const a={value:e,errors:t.length?t:null};return i._flags.result&&(a.value="strip"===i._flags.result?void 0:r.original,s.mainstay.tracer.value(s,i._flags.result,e,a.value),s.shadow(e,i._flags.result)),i._cache&&!1!==o.cache&&!i._refs.length&&i._cache.set(r.original,a),void 0===e||a.errors||void 0===i._flags.artifact||(s.mainstay.artifacts=s.mainstay.artifacts||new Map,s.mainstay.artifacts.has(i._flags.artifact)||s.mainstay.artifacts.set(i._flags.artifact,[]),s.mainstay.artifacts.get(i._flags.artifact).push(s.path)),a},u.prefs=function(e,t){const r=t===a.defaults;return r&&e._preferences[a.symbols.prefs]?e._preferences[a.symbols.prefs]:(t=a.preferences(t,e._preferences),r&&(e._preferences[a.symbols.prefs]=t),t)},u.default=function(e,t,r,n){const{schema:s,state:o,prefs:c}=n,l=s._flags[e];if(c.noDefaults||void 0===l)return t;if(o.mainstay.tracer.log(s,o,"rule",e,"full"),!l)return l;if("function"==typeof l){const a=l.length?[i(o.ancestors[0]),n]:[];try{return l(...a)}catch(t){return void r.push(s.$_createError(`any.${e}`,null,{error:t},o,c))}}return"object"!=typeof l?l:l[a.symbols.literal]?l.literal:a.isResolvable(l)?l.resolve(t,o,c):i(l)},u.trim=function(e,t){if("string"!=typeof e)return e;const r=t.$_getRule("trim");return r&&r.args.enabled?e.trim():e},u.ignore={active:!1,debug:s,entry:s,filter:s,log:s,resolve:s,value:s},u.errorsArray=function(){const e=[];return e[a.symbols.errors]=!0,e}},2036:(e,t,r)=>{"use strict";const n=r(375),i=r(9474),s=r(8160),o={};e.exports=o.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=o.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){s.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,r){if(e=e||new o.Values,t){if(t._override)return t.clone();for(const r of[...t._values,...t._refs])e.add(r)}if(r)for(const n of[...r._values,...r._refs])e.remove(n);return e.length?e:null}remove(e){s.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}has(e,t,r,n){return!!this.get(e,t,r,n)}get(e,t,r,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&n){const t=this._lowercase.get(e.toLowerCase());if(t)return{value:t}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e)for(const s of this._values)if(i(s,e))return{value:s};if(t)for(const s of this._refs){const o=s.resolve(e,t,r,null,{in:!0});if(void 0===o)continue;const a=s.in&&"object"==typeof o?Array.isArray(o)?o:Object.keys(o):[o];for(const t of a)if(typeof t==typeof e)if(n&&e&&"string"==typeof e){if(t.toLowerCase()===e.toLowerCase())return{value:t,ref:s}}else if(i(t,e))return{value:t,ref:s}}return!1}override(){this._override=!0}values(e){if(e&&e.display){const e=[];for(const t of[...this._values,...this._refs])void 0!==t&&e.push(t);return e}return Array.from([...this._values,...this._refs])}clone(){const e=new o.Values(this._values,this._refs);return e._override=this._override,e}concat(e){n(!e._override,"Cannot concat override set of values");const t=new o.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){const e=[];this._override&&e.push({override:!0});for(const t of this._values.values())e.push(t&&"object"==typeof t?{value:t}:t);for(const t of this._refs.values())e.push(t.describe());return e}},o.Values.prototype[s.symbols.values]=!0,o.Values.prototype.slice=o.Values.prototype.clone,o.lowercases=function(e){const t=new Map;if(e)for(const r of e)"string"==typeof r&&t.set(r.toLowerCase(),r);return t}},978:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(1687),o=r(9621),a={};e.exports=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n(e&&"object"==typeof e,"Invalid defaults value: must be an object"),n(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),n("object"==typeof r,"Invalid options: must be an object"),!t)return null;if(r.shallow)return a.applyToDefaultsWithShallow(e,t,r);const o=i(e);if(!0===t)return o;const c=void 0!==r.nullOverride&&r.nullOverride;return s(o,t,{nullOverride:c,mergeArrays:!1})},a.applyToDefaultsWithShallow=function(e,t,r){const c=r.shallow;n(Array.isArray(c),"Invalid keys");const l=new Map,u=!0===t?null:new Set;for(let n of c){n=Array.isArray(n)?n:n.split(".");const r=o(e,n);r&&"object"==typeof r?l.set(r,u&&o(t,n)||r):u&&u.add(n)}const d=i(e,{},l);if(!u)return d;for(const n of u)a.reachCopy(d,t,n);const h=void 0!==r.nullOverride&&r.nullOverride;return s(d,t,{nullOverride:h,mergeArrays:!1})},a.reachCopy=function(e,t,r){for(const s of r){if(!(s in t))return;const e=t[s];if("object"!=typeof e||null===e)return;t=e}const n=t;let i=e;for(let s=0;s<r.length-1;++s){const e=r[s];"object"!=typeof i[e]&&(i[e]={}),i=i[e]}i[r[r.length-1]]=n}},375:(e,t,r)=>{"use strict";const n=r(7916);e.exports=function(e){if(!e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(1===r.length&&r[0]instanceof Error)throw r[0];throw new n(r)}}},8571:(e,t,r)=>{"use strict";const n=r(9621),i=r(4277),s=r(7043),o={needsProtoHack:new Set([i.set,i.map,i.weakSet,i.weakMap])};e.exports=o.clone=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("object"!=typeof e||null===e)return e;let n=o.clone,a=r;if(t.shallow){if(!0!==t.shallow)return o.cloneWithShallow(e,t);n=e=>e}else if(a){const t=a.get(e);if(t)return t}else a=new Map;const c=i.getInternalProto(e);if(c===i.buffer)return!1;if(c===i.date)return new Date(e.getTime());if(c===i.regex)return new RegExp(e);const l=o.base(e,c,t);if(l===e)return e;if(a&&a.set(e,l),c===i.set)for(const i of e)l.add(n(i,t,a));else if(c===i.map)for(const[i,s]of e)l.set(i,n(s,t,a));const u=s.keys(e,t);for(const s of u){if("__proto__"===s)continue;if(c===i.array&&"length"===s){l.length=e.length;continue}const r=Object.getOwnPropertyDescriptor(e,s);r?r.get||r.set?Object.defineProperty(l,s,r):r.enumerable?l[s]=n(e[s],t,a):Object.defineProperty(l,s,{enumerable:!1,writable:!0,configurable:!0,value:n(e[s],t,a)}):Object.defineProperty(l,s,{enumerable:!0,writable:!0,configurable:!0,value:n(e[s],t,a)})}return l},o.cloneWithShallow=function(e,t){const r=t.shallow;(t=Object.assign({},t)).shallow=!1;const i=new Map;for(const s of r){const t=n(e,s);"object"!=typeof t&&"function"!=typeof t||i.set(t,t)}return o.clone(e,t,i)},o.base=function(e,t,r){if(!1===r.prototype)return o.needsProtoHack.has(t)?new t.constructor:t===i.array?[]:{};const n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===i.array){const e=[];return n!==t&&Object.setPrototypeOf(e,n),e}if(o.needsProtoHack.has(t)){const e=new n.constructor;return n!==t&&Object.setPrototypeOf(e,n),e}return Object.create(n)}},9474:(e,t,r)=>{"use strict";const n=r(4277),i={mismatched:null};e.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!i.isDeepEqual(e,t,r,[])},i.isDeepEqual=function(e,t,r,s){if(e===t)return 0!==e||1/e==1/t;const o=typeof e;if(o!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===o){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==o)return e!=e&&t!=t;const a=i.getSharedType(e,t,!!r.prototype);switch(a){case n.buffer:return!1;case n.promise:return e===t;case n.regex:return e.toString()===t.toString();case i.mismatched:return!1}for(let n=s.length-1;n>=0;--n)if(s[n].isSame(e,t))return!0;s.push(new i.SeenEntry(e,t));try{return!!i.isDeepEqualObj(a,e,t,r,s)}finally{s.pop()}},i.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?i.mismatched:n.getInternalProto(e);const s=n.getInternalProto(e);return s!==n.getInternalProto(t)?i.mismatched:s},i.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},i.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},i.isSetSimpleEqual=function(e,t){for(const r of Set.prototype.values.call(e))if(!Set.prototype.has.call(t,r))return!1;return!0},i.isDeepEqualObj=function(e,t,r,s,o){const{isDeepEqual:a,valueOf:c,hasOwnEnumerableProperty:l}=i,{keys:u,getOwnPropertySymbols:d}=Object;if(e===n.array){if(!s.part){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!a(t[e],r[e],s,o))return!1;return!0}for(const e of t)for(const t of r)if(a(e,t,s,o))return!0}else if(e===n.set){if(t.size!==r.size)return!1;if(!i.isSetSimpleEqual(t,r)){const e=new Set(Set.prototype.values.call(r));for(const r of Set.prototype.values.call(t)){if(e.delete(r))continue;let t=!1;for(const n of e)if(a(r,n,s,o)){e.delete(n),t=!0;break}if(!t)return!1}}}else if(e===n.map){if(t.size!==r.size)return!1;for(const[e,n]of Map.prototype.entries.call(t)){if(void 0===n&&!Map.prototype.has.call(r,e))return!1;if(!a(n,Map.prototype.get.call(r,e),s,o))return!1}}else if(e===n.error&&(t.name!==r.name||t.message!==r.message))return!1;const h=c(t),f=c(r);if((t!==h||r!==f)&&!a(h,f,s,o))return!1;const p=u(t);if(!s.part&&p.length!==u(r).length&&!s.skip)return!1;let m=0;for(const n of p)if(s.skip&&s.skip.includes(n))void 0===r[n]&&++m;else{if(!l(r,n))return!1;if(!a(t[n],r[n],s,o))return!1}if(!s.part&&p.length-m!==u(r).length)return!1;if(!1!==s.symbols){const e=d(t),n=new Set(d(r));for(const i of e){if(!s.skip||!s.skip.includes(i))if(l(t,i)){if(!l(r,i))return!1;if(!a(t[i],r[i],s,o))return!1}else if(l(r,i))return!1;n.delete(i)}for(const t of n)if(l(r,t))return!1}return!0},i.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}},7916:(e,t,r)=>{"use strict";const n=r(8761);e.exports=class extends Error{constructor(e){super(e.filter((e=>""!==e)).map((e=>"string"==typeof e?e:e instanceof Error?e.message:n(e))).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t.assert)}}},5277:e=>{"use strict";const t={};e.exports=function(e){if(!e)return"";let r="";for(let n=0;n<e.length;++n){const i=e.charCodeAt(n);t.isSafe(i)?r+=e[n]:r+=t.escapeHtmlChar(i)}return r},t.escapeHtmlChar=function(e){return t.namedHtml.get(e)||(e>=256?"&#"+e+";":`&#x${e.toString(16).padStart(2,"0")};`)},t.isSafe=function(e){return t.safeCharCodes.has(e)},t.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),t.safeCharCodes=function(){const e=new Set;for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&e.add(t);return e}()},6064:e=>{"use strict";e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:e=>{"use strict";e.exports=function(){}},1687:(e,t,r)=>{"use strict";const n=r(375),i=r(8571),s=r(7043),o={};e.exports=o.merge=function(e,t,r){if(n(e&&"object"==typeof e,"Invalid target value: must be an object"),n(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){n(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(let n=0;n<t.length;++n)e.push(i(t[n],{symbols:r.symbols}));return e}const a=s.keys(t,r);for(let n=0;n<a.length;++n){const s=a[n];if("__proto__"===s||!Object.prototype.propertyIsEnumerable.call(t,s))continue;const c=t[s];if(c&&"object"==typeof c){if(e[s]===c)continue;!e[s]||"object"!=typeof e[s]||Array.isArray(e[s])!==Array.isArray(c)||c instanceof Date||c instanceof RegExp?e[s]=i(c,{symbols:r.symbols}):o.merge(e[s],c,r)}else(null!=c||r.nullOverride)&&(e[s]=c)}return e}},9621:(e,t,r)=>{"use strict";const n=r(375),i={};e.exports=function(e,t,r){if(!1===t||null==t)return e;"string"==typeof(r=r||{})&&(r={separator:r});const s=Array.isArray(t);n(!s||!r.separator,"Separator option is not valid for array-based chain");const o=s?t:t.split(r.separator||".");let a=e;for(let c=0;c<o.length;++c){let e=o[c];const s=r.iterables&&i.iterables(a);if(Array.isArray(a)||"set"===s){const t=Number(e);Number.isInteger(t)&&(e=t<0?a.length+t:t)}if(!a||"function"==typeof a&&!1===r.functions||!s&&void 0===a[e]){n(!r.strict||c+1===o.length,"Missing segment",e,"in reach path ",t),n("object"==typeof a||!0===r.functions||"function"!=typeof a,"Invalid segment",e,"in reach path ",t),a=r.default;break}a=s?"set"===s?[...a][e]:a.get(e):a[e]}return a},i.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},8761:e=>{"use strict";e.exports=function(){try{return JSON.stringify(...arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}}},4277:(e,t)=>{"use strict";const r={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},r.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;const n=Object.prototype.toString.call(e);return r.typeMap.get(n)||t.generic}},7043:(e,t)=>{"use strict";t.keys=function(e){return!1!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},3652:(e,t,r)=>{"use strict";const n=r(375),i={};t.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(e,t){const r=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),s=t.group||"?",o=t.sort||0;n(!r.includes(s),`Item cannot come before itself: ${s}`),n(!r.includes("?"),"Item cannot come before unassociated items"),n(!i.includes(s),`Item cannot come after itself: ${s}`),n(!i.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(const n of e){const e={seq:this._items.length,sort:o,before:r,after:i,group:s,node:n};this._items.push(e)}if(!t.manual){const e=this._sort();n(e,"item","?"!==s?`added into group ${s}`:"","created a dependencies error")}return this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(const r of e)if(r)for(const e of r._items)this._items.push(Object.assign({},e));this._items.sort(i.mergeSort);for(let r=0;r<this._items.length;++r)this._items[r].seq=r;const t=this._sort();return n(t,"merge created a dependencies error"),this.nodes}sort(){const e=this._sort();return n(e,"sort created a dependencies error"),this.nodes}_sort(){const e={},t=Object.create(null),r=Object.create(null);for(const a of this._items){const n=a.seq,i=a.group;r[i]=r[i]||[],r[i].push(n),e[n]=a.before;for(const e of a.after)t[e]=t[e]||[],t[e].push(n)}for(const a in e){const t=[];for(const n in e[a]){const i=e[a][n];r[i]=r[i]||[],t.push(...r[i])}e[a]=t}for(const a in t)if(r[a])for(const n of r[a])e[n].push(...t[a]);const n={};for(const a in e){const t=e[a];for(const e of t)n[e]=n[e]||[],n[e].push(a)}const i={},s=[];for(let a=0;a<this._items.length;++a){let e=a;if(n[a]){e=null;for(let t=0;t<this._items.length;++t){if(!0===i[t])continue;n[t]||(n[t]=[]);const r=n[t].length;let s=0;for(let e=0;e<r;++e)i[n[t][e]]&&++s;if(s===r){e=t;break}}}null!==e&&(i[e]=!0,s.push(e))}if(s.length!==this._items.length)return!1;const o={};for(const a of this._items)o[a.seq]=a;this._items=[],this.nodes=[];for(const a of s){const e=o[a];this.nodes.push(e.node),this._items.push(e)}return!0}},i.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1},5380:(e,t,r)=>{"use strict";const n=r(443),i=r(2178),s={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:n.URL||URL};t.analyze=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return i.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(e.length>256)return i.code("DOMAIN_TOO_LONG");if(s.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return i.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(s.domainControlRx.test(e))return i.code("DOMAIN_INVALID_CHARS");e=s.punycode(e),t.allowFullyQualified&&"."===e[e.length-1]&&(e=e.slice(0,-1));const r=t.minDomainSegments||s.minDomainSegments,n=e.split(".");if(n.length<r)return i.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&n.length>t.maxDomainSegments)return i.code("DOMAIN_SEGMENTS_COUNT_MAX");const o=t.tlds;if(o){const e=n[n.length-1].toLowerCase();if(o.deny&&o.deny.has(e)||o.allow&&!o.allow.has(e))return i.code("DOMAIN_FORBIDDEN_TLDS")}for(let a=0;a<n.length;++a){const e=n[a];if(!e.length)return i.code("DOMAIN_EMPTY_SEGMENT");if(e.length>63)return i.code("DOMAIN_LONG_SEGMENT");if(a<n.length-1){if(!s.domainSegmentRx.test(e))return i.code("DOMAIN_INVALID_CHARS")}else if(!s.tldSegmentRx.test(e))return i.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(e,r){return!t.analyze(e,r)},s.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new s.URL(`http://${e}`).host}catch(t){return e}}},1745:(e,t,r)=>{"use strict";const n=r(9848),i=r(5380),s=r(2178),o={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};t.analyze=function(e,t){return o.email(e,t)},t.isValid=function(e,t){return!o.email(e,t)},o.email=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return s.code("EMPTY_STRING");const r=!o.nonAsciiRx.test(e);if(!r){if(!1===t.allowUnicode)return s.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}const n=e.split("@");if(2!==n.length)return n.length>2?s.code("MULTIPLE_AT_CHAR"):s.code("MISSING_AT_CHAR");const[a,c]=n;if(!a)return s.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return s.code("ADDRESS_TOO_LONG");if(o.encoder.encode(a).length>64)return s.code("LOCAL_TOO_LONG")}return o.local(a,r)||i.analyze(c,t)},o.local=function(e,t){const r=e.split(".");for(const n of r){if(!n.length)return s.code("EMPTY_LOCAL_SEGMENT");if(t){if(!o.atextRx.test(n))return s.code("INVALID_LOCAL_CHARS")}else for(const e of n){if(o.atextRx.test(e))continue;const t=o.binary(e);if(!o.atomRx.test(t))return s.code("INVALID_LOCAL_CHARS")}}},o.binary=function(e){return Array.from(o.encoder.encode(e)).map((e=>String.fromCharCode(e))).join("")},o.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,o.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(e,t)=>{"use strict";t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(e){return{code:e,error:t.codes[e]}}},9959:(e,t,r)=>{"use strict";const n=r(375),i=r(5752);t.regex=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(void 0===e.cidr||"string"==typeof e.cidr,"options.cidr must be a string");const t=e.cidr?e.cidr.toLowerCase():"optional";n(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),n(void 0===e.version||"string"==typeof e.version||Array.isArray(e.version),"options.version must be a string or an array of string");let r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),n(r.length>=1,"options.version must have at least 1 version specified");for(let i=0;i<r.length;++i)n("string"==typeof r[i],"options.version must only contain strings"),r[i]=r[i].toLowerCase(),n(["ipv4","ipv6","ipvfuture"].includes(r[i]),"options.version contains unknown version "+r[i]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));const s=`(?:${r.map((e=>{if("forbidden"===t)return i.ip[e];const r=`\\/${"ipv4"===e?i.ip.v4Cidr:i.ip.v6Cidr}`;return"required"===t?`${i.ip[e]}${r}`:`${i.ip[e]}(?:${r})?`})).join("|")})`,o=new RegExp(`^${s}$`);return{cidr:t,versions:r,regex:o,raw:s}}},5752:(e,t,r)=>{"use strict";const n=r(375),i=r(6064),s={generate:function(){const e={},t="\\dA-Fa-f",r="["+t+"]",n="\\w-\\.~",i="!\\$&'\\(\\)\\*\\+,;=",s="%"+t,o=n+s+i+":@",a="["+o+"]",c="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+c+"\\.){3}"+c;const l=r+"{1,4}",u="(?:"+l+":"+l+"|"+e.ipv4address+")",d="(?:"+l+":){6}"+u,h="::(?:"+l+":){5}"+u,f="(?:"+l+")?::(?:"+l+":){4}"+u,p="(?:(?:"+l+":){0,1}"+l+")?::(?:"+l+":){3}"+u,m="(?:(?:"+l+":){0,2}"+l+")?::(?:"+l+":){2}"+u,g="(?:(?:"+l+":){0,3}"+l+")?::"+l+":"+u,y="(?:(?:"+l+":){0,4}"+l+")?::"+u,b="(?:(?:"+l+":){0,5}"+l+")?::"+l,v="(?:(?:"+l+":){0,6}"+l+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+d+"|"+h+"|"+f+"|"+p+"|"+m+"|"+g+"|"+y+"|"+b+"|"+v+")",e.ipvFuture="v"+r+"+\\.["+n+i+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);const w="["+n+s+i+":]*",A="["+n+s+i+"]{1,255}",_="(?:\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]|"+e.ipv4address+"|"+A+")",E="(?:"+w+"@)?"+_+"(?::\\d*)?",x="(?:"+w+"@)?("+_+")(?::\\d*)?",k=a+"*",S=a+"+",P="(?:\\/"+k+")*",T="\\/(?:"+S+P+")?",I=S+P,O="["+n+s+i+"@]+"+P,R="(?:\\/\\/\\/"+k+P+")";return e.hierPart="(?:(?:\\/\\/"+E+P+")|"+T+"|"+I+"|"+R+")",e.hierPartCapture="(?:(?:\\/\\/"+x+P+")|"+T+"|"+I+")",e.relativeRef="(?:(?:\\/\\/"+E+P+")|"+T+"|"+O+"|)",e.relativeRefCapture="(?:(?:\\/\\/"+x+P+")|"+T+"|"+O+"|)",e.query="["+o+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+o+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+o+"\\/\\?]*",e}};s.rfc3986=s.generate(),t.ip={v4Cidr:s.rfc3986.ipv4Cidr,v6Cidr:s.rfc3986.ipv6Cidr,ipv4:s.rfc3986.ipv4address,ipv6:s.rfc3986.ipv6address,ipvfuture:s.rfc3986.ipvFuture},s.createRegex=function(e){const t=s.rfc3986,r="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",o=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return s.wrap(o+r);let a="";if(e.scheme){n(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");const r=[].concat(e.scheme);n(r.length>=1,"scheme must have at least 1 scheme specified");const s=[];for(let e=0;e<r.length;++e){const o=r[e];n(o instanceof RegExp||"string"==typeof o,"scheme at position "+e+" must be a RegExp or String"),o instanceof RegExp?s.push(o.source.toString()):(n(t.schemeRegex.test(o),"scheme at position "+e+" must be a valid scheme"),s.push(i(o)))}a=s.join("|")}const c="(?:"+(a?"(?:"+a+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",l=e.allowRelative?"(?:"+c+"|"+o+")":c;return s.wrap(l+r,a)},s.wrap=function(e,t){return{raw:e=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${e}`,regex:new RegExp(`^${e}$`),scheme:t}},s.uriRegex=s.createRegex({}),t.regex=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?s.createRegex(e):s.uriRegex}},1447:(e,t)=>{"use strict";const r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t[r.settings]&&t.constants)for(const r in t.constants){const e=t.constants[r];if(null!==e&&!["boolean","number","string"].includes(typeof e))throw new Error(`Formula constant ${r} contains invalid ${typeof e} value type`)}this.settings=t[r.settings]?t:Object.assign({[r.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let n=[],i="",s=0,o=!1;const a=e=>{if(s)throw new Error("Formula missing closing parenthesis");const a=n.length?n[n.length-1]:null;if(o||i||e){if(a&&"reference"===a.type&&")"===e)return a.type="function",a.value=this._subFormula(i,a.value),void(i="");if(")"===e){const e=new t.Parser(i,this.settings);n.push({type:"segment",value:e})}else if(o){if("]"===o)return n.push({type:"reference",value:i}),void(i="");n.push({type:"literal",value:i})}else if(r.operatorCharacters.includes(i))a&&"operator"===a.type&&r.operators.includes(a.value+i)?a.value+=i:n.push({type:"operator",value:i});else if(i.match(r.numberRx))n.push({type:"constant",value:parseFloat(i)});else if(void 0!==this.settings.constants[i])n.push({type:"constant",value:this.settings.constants[i]});else{if(!i.match(r.tokenRx))throw new Error(`Formula contains invalid token: ${i}`);n.push({type:"reference",value:i})}i=""}};for(const t of e)o?t===o?(a(),o=!1):i+=t:s?"("===t?(i+=t,++s):")"===t?(--s,s?i+=t:a(t)):i+=t:t in r.literals?o=r.literals[t]:"("===t?(a(),++s):r.operatorCharacters.includes(t)?(a(),i=t,a()):" "!==t?i+=t:a();a(),n=n.map(((e,t)=>"operator"!==e.type||"-"!==e.value||t&&"operator"!==n[t-1].type?e:{type:"operator",value:"n"}));let c=!1;for(const t of n){if("operator"===t.type){if(r.operatorsPrefix.includes(t.value))continue;if(!c)throw new Error("Formula contains an operator in invalid position");if(!r.operators.includes(t.value))throw new Error(`Formula contains an unknown operator ${t.value}`)}else if(c)throw new Error("Formula missing expected operator");c=!c}if(!c)throw new Error("Formula contains invalid trailing operator");1===n.length&&["reference","literal","constant"].includes(n[0].type)&&(this.single={type:"reference"===n[0].type?"reference":"value",value:n[0].value}),this._parts=n.map((e=>{if("operator"===e.type)return r.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(e.value))throw new Error(`Formula contains invalid reference ${e.value}`);return this.settings.reference?this.settings.reference(e.value):r.reference(e.value)}))}_subFormula(e,n){const i=this.settings.functions[n];if("function"!=typeof i)throw new Error(`Formula contains unknown function ${n}`);let s=[];if(e){let t="",i=0,o=!1;const a=()=>{if(!t)throw new Error(`Formula contains function ${n} with invalid arguments ${e}`);s.push(t),t=""};for(let n=0;n<e.length;++n){const s=e[n];o?(t+=s,s===o&&(o=!1)):s in r.literals&&!i?(t+=s,o=r.literals[s]):","!==s||i?(t+=s,"("===s?++i:")"===s&&--i):a()}a()}return s=s.map((e=>new t.Parser(e,this.settings))),function(e){const t=[];for(const r of s)t.push(r.evaluate(e));return i.call(e,...t)}}evaluate(e){const t=this._parts.slice();for(let n=t.length-2;n>=0;--n){const i=t[n];if(i&&"operator"===i.type){const s=t[n+1];t.splice(n+1,1);const o=r.evaluate(s,e);t[n]=r.single(i.value,o)}}return r.operatorsOrder.forEach((n=>{for(let i=1;i<t.length-1;)if(n.includes(t[i])){const n=t[i],s=r.evaluate(t[i-1],e),o=r.evaluate(t[i+1],e);t.splice(i,2);const a=r.calculate(n,s,o);t[i-1]=0===a?0:a}else i+=2})),r.evaluate(t[0],e)}},t.Parser.prototype[r.symbol]=!0,r.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},r.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[r.symbol]?e.evaluate(t):e},r.single=function(e,t){if("!"===e)return!t;const r=-t;return 0===r?0:r},r.calculate=function(e,t,n){if("??"===e)return r.exists(t)?t:n;if("string"==typeof t||"string"==typeof n){if("+"===e)return(t=r.exists(t)?t:"")+(r.exists(n)?n:"")}else switch(e){case"^":return Math.pow(t,n);case"*":return t*n;case"/":return t/n;case"%":return t%n;case"+":return t+n;case"-":return t-n}switch(e){case"<":return t<n;case"<=":return t<=n;case">":return t>n;case">=":return t>=n;case"==":return t===n;case"!=":return t!==n;case"&&":return t&&n;case"||":return t||n}return null},r.exists=function(e){return null!=e}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:e=>{"use strict";e.exports=JSON.parse('{"version":"17.13.3"}')}},t={},function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(5107);var e,t},e.exports=t()},5456:(e,t,r)=>{"use strict";var n=r(3238),i=r(3501),s=r(6473).Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function l(e,t,r,n,i,s,o){return c(e+(t&r|~t&n)+i+s|0,o)+t|0}function u(e,t,r,n,i,s,o){return c(e+(t&n|r&~n)+i+s|0,o)+t|0}function d(e,t,r,n,i,s,o){return c(e+(t^r^n)+i+s|0,o)+t|0}function h(e,t,r,n,i,s,o){return c(e+(r^(t|~n))+i+s|0,o)+t|0}n(a,i),a.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;r=l(r,n,i,s,e[0],3614090360,7),s=l(s,r,n,i,e[1],3905402710,12),i=l(i,s,r,n,e[2],606105819,17),n=l(n,i,s,r,e[3],3250441966,22),r=l(r,n,i,s,e[4],4118548399,7),s=l(s,r,n,i,e[5],1200080426,12),i=l(i,s,r,n,e[6],2821735955,17),n=l(n,i,s,r,e[7],4249261313,22),r=l(r,n,i,s,e[8],1770035416,7),s=l(s,r,n,i,e[9],2336552879,12),i=l(i,s,r,n,e[10],4294925233,17),n=l(n,i,s,r,e[11],2304563134,22),r=l(r,n,i,s,e[12],1804603682,7),s=l(s,r,n,i,e[13],4254626195,12),i=l(i,s,r,n,e[14],2792965006,17),r=u(r,n=l(n,i,s,r,e[15],1236535329,22),i,s,e[1],4129170786,5),s=u(s,r,n,i,e[6],3225465664,9),i=u(i,s,r,n,e[11],643717713,14),n=u(n,i,s,r,e[0],3921069994,20),r=u(r,n,i,s,e[5],3593408605,5),s=u(s,r,n,i,e[10],38016083,9),i=u(i,s,r,n,e[15],3634488961,14),n=u(n,i,s,r,e[4],3889429448,20),r=u(r,n,i,s,e[9],568446438,5),s=u(s,r,n,i,e[14],3275163606,9),i=u(i,s,r,n,e[3],4107603335,14),n=u(n,i,s,r,e[8],1163531501,20),r=u(r,n,i,s,e[13],2850285829,5),s=u(s,r,n,i,e[2],4243563512,9),i=u(i,s,r,n,e[7],1735328473,14),r=d(r,n=u(n,i,s,r,e[12],2368359562,20),i,s,e[5],4294588738,4),s=d(s,r,n,i,e[8],2272392833,11),i=d(i,s,r,n,e[11],1839030562,16),n=d(n,i,s,r,e[14],4259657740,23),r=d(r,n,i,s,e[1],2763975236,4),s=d(s,r,n,i,e[4],1272893353,11),i=d(i,s,r,n,e[7],4139469664,16),n=d(n,i,s,r,e[10],3200236656,23),r=d(r,n,i,s,e[13],681279174,4),s=d(s,r,n,i,e[0],3936430074,11),i=d(i,s,r,n,e[3],3572445317,16),n=d(n,i,s,r,e[6],76029189,23),r=d(r,n,i,s,e[9],3654602809,4),s=d(s,r,n,i,e[12],3873151461,11),i=d(i,s,r,n,e[15],530742520,16),r=h(r,n=d(n,i,s,r,e[2],3299628645,23),i,s,e[0],4096336452,6),s=h(s,r,n,i,e[7],1126891415,10),i=h(i,s,r,n,e[14],2878612391,15),n=h(n,i,s,r,e[5],4237533241,21),r=h(r,n,i,s,e[12],1700485571,6),s=h(s,r,n,i,e[3],2399980690,10),i=h(i,s,r,n,e[10],4293915773,15),n=h(n,i,s,r,e[1],2240044497,21),r=h(r,n,i,s,e[8],1873313359,6),s=h(s,r,n,i,e[15],4264355552,10),i=h(i,s,r,n,e[6],2734768916,15),n=h(n,i,s,r,e[13],1309151649,21),r=h(r,n,i,s,e[4],4149444226,6),s=h(s,r,n,i,e[11],3174756917,10),i=h(i,s,r,n,e[2],718787259,15),n=h(n,i,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},5110:e=>{var t=function(e){void 0==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,e.constructor==Array?this.init_by_array(e,e.length):this.init_seed(e)};t.prototype.init_seed=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},t.prototype.init_by_array=function(e,t){var r,n,i;for(this.init_seed(19650218),r=1,n=0,i=this.N>t?this.N:t;i;i--){var s=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1664525*((4294901760&s)>>>16)<<16)+1664525*(65535&s))+e[n]+n,this.mt[r]>>>=0,n++,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1),n>=t&&(n=0)}for(i=this.N-1;i;i--){s=this.mt[r-1]^this.mt[r-1]>>>30;this.mt[r]=(this.mt[r]^(1566083941*((4294901760&s)>>>16)<<16)+1566083941*(65535&s))-r,this.mt[r]>>>=0,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1)}this.mt[0]=2147483648},t.prototype.random_int=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var r;for(this.mti==this.N+1&&this.init_seed(5489),r=0;r<this.N-this.M;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+this.M]^e>>>1^t[1&e];for(;r<this.N-1;r++)e=this.mt[r]&this.UPPER_MASK|this.mt[r+1]&this.LOWER_MASK,this.mt[r]=this.mt[r+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},t.prototype.random_int31=function(){return this.random_int()>>>1},t.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},t.prototype.random=function(){return this.random_int()*(1/4294967296)},t.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},t.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)},e.exports=t},2697:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},7395:(e,t)=>{"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},5632:(e,t,r)=>{"use strict";var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},7802:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],l=!1,u=-1;function d(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},2627:(e,t,r)=>{"use strict";var n=r(2176),i=r(4442);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,r,n){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var B,D=Object.assign;function j(e){if(void 0===B)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=n.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?j(e):""}function H(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case k:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return z(e(t))}catch(r){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function V(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Z(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=q(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){Y(e,t);var r=q(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&V(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+q(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:q(r)}}function se(e,t){var r=q(t.value),n=q(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ee=null,xe=null;function ke(e){if(e=vi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=Ai(t),_e(e.stateNode,e.type,t))}}function Se(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Pe(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Oe=!1;function Re(e,t,r){if(Oe)return e(t,r);Oe=!0;try{return Te(e,t,r)}finally{Oe=!1,(null!==Ee||null!==xe)&&(Ie(),Pe())}}function Ce(e,t){var r=e.stateNode;if(null===r)return null;var n=Ai(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Ne=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ne=!1}function Me(e,t,r,n,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(u){this.onError(u)}}var Be=!1,De=null,je=!1,Ue=null,Fe={onError:function(e){Be=!0,De=e}};function He(e,t,r,n,i,s,o,a,c){Be=!1,De=null,Me.apply(Fe,arguments)}function ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return qe(i),e;if(o===n)return qe(i),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,c=i.child;c;){if(c===r){a=!0,r=i,n=o;break}if(c===n){a=!0,n=i,r=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===r){a=!0,r=o,n=i;break}if(c===n){a=!0,n=o,r=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ve=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&r;if(0!==o){var a=o&~i;0!==a?n=dt(a):0!==(s&=o)&&(n=dt(s))}else 0!==(o=r&~i)?n=dt(o):0!==s&&(n=dt(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-ot(t)),n|=e[r],t&=~i;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,_t,Et,xt,kt,St=!1,Pt=[],Tt=null,It=null,Ot=null,Rt=new Map,Ct=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Bt(e,t,r,n,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&_t(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=bi(e.target);if(null!==t){var r=ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ge(r)))return e.blockedOn=t,void kt(e.priority,(function(){Et(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vi(r))&&_t(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);we=n,r.target.dispatchEvent(n),we=null,t.shift()}return!0}function Ut(e,t,r){jt(e)&&r.delete(t)}function Ft(){St=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==It&&jt(It)&&(It=null),null!==Ot&&jt(Ot)&&(Ot=null),Rt.forEach(Ut),Ct.forEach(Ut)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function zt(e){function t(t){return Ht(t,e)}if(0<Pt.length){Ht(Pt[0],e);for(var r=1;r<Pt.length;r++){var n=Pt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Tt&&Ht(Tt,e),null!==It&&Ht(It,e),null!==Ot&&Ht(Ot,e),Rt.forEach(t),Ct.forEach(t),r=0;r<Nt.length;r++)(n=Nt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Nt.length&&null===(r=Nt[0]).blockedOn;)Dt(r),null===r.blockedOn&&Nt.shift()}var Gt=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,r,n){var i=vt,s=Gt.transition;Gt.transition=null;try{vt=1,Kt(e,t,r,n)}finally{vt=i,Gt.transition=s}}function $t(e,t,r,n){var i=vt,s=Gt.transition;Gt.transition=null;try{vt=4,Kt(e,t,r,n)}finally{vt=i,Gt.transition=s}}function Kt(e,t,r,n){if(qt){var i=Qt(e,t,r,n);if(null===i)qn(e,t,n,Vt,r),Mt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Tt=Bt(Tt,e,t,r,n,i),!0;case"dragenter":return It=Bt(It,e,t,r,n,i),!0;case"mouseover":return Ot=Bt(Ot,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Bt(Rt.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ct.set(s,Bt(Ct.get(s)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Mt(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=vi(i);if(null!==s&&At(s),null===(s=Qt(e,t,r,n))&&qn(e,t,n,Vt,r),s===i)break;i=s}null!==i&&n.stopPropagation()}else qn(e,t,n,null,r)}}var Vt=null;function Qt(e,t,r,n){if(Vt=null,null!==(e=bi(e=Ae(n))))if(null===(t=ze(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Xt=null;function er(){if(Xt)return Xt;var e,t,r=Jt,n=r.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[s-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,s){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,or,ar,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=ir(cr),ur=D({},cr,{view:0,detail:0}),dr=ir(ur),hr=D({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ar&&(ar&&"mousemove"===e.type?(sr=e.screenX-ar.screenX,or=e.screenY-ar.screenY):or=sr=0,ar=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:or}}),fr=ir(hr),pr=ir(D({},hr,{dataTransfer:0})),mr=ir(D({},ur,{relatedTarget:0})),gr=ir(D({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=D({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=ir(yr),vr=ir(D({},cr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ar={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_r[e])&&!!t[e]}function xr(){return Er}var kr=D({},ur,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ar[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=ir(kr),Pr=ir(D({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tr=ir(D({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr})),Ir=ir(D({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=D({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=ir(Or),Cr=[9,13,27,32],Nr=u&&"CompositionEvent"in window,Lr=null;u&&"documentMode"in document&&(Lr=document.documentMode);var Mr=u&&"TextEvent"in window&&!Lr,Br=u&&(!Nr||Lr&&8<Lr&&11>=Lr),Dr=String.fromCharCode(32),jr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Cr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hr=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zr[e.type]:"textarea"===t}function qr(e,t,r,n){Se(n),0<(t=$n(t,"onChange")).length&&(r=new lr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,$r=null;function Kr(e){jn(e,0)}function Vr(e){if(K(wi(e)))return e}function Qr(e,t){if("change"===e)return t}var Zr=!1;if(u){var Yr;if(u){var Jr="oninput"in document;if(!Jr){var Xr=document.createElement("div");Xr.setAttribute("oninput","return;"),Jr="function"===typeof Xr.oninput}Yr=Jr}else Yr=!1;Zr=Yr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),$r=Wr=null)}function tn(e){if("value"===e.propertyName&&Vr($r)){var t=[];qr(t,$r,e,Ae(e)),Re(Kr,t)}}function rn(e,t,r){"focusin"===e?(en(),$r=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vr($r)}function sn(e,t){if("click"===e)return Vr(t)}function on(e,t){if("input"===e||"change"===e)return Vr(t)}var an="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cn(e,t){if(an(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!d.call(t,i)||!an(e[i],t[i]))return!1}return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=V();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=V((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=void 0===n.end?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=un(r,s);var o=un(r,n);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,yn=null,bn=null,vn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==gn||gn!==V(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&cn(bn,n)||(bn=n,0<(n=$n(yn,"onSelect")).length&&(t=new lr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function An(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _n={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionend:An("Transition","TransitionEnd")},En={},xn={};function kn(e){if(En[e])return En[e];if(!_n[e])return e;var t,r=_n[e];for(t in r)if(r.hasOwnProperty(t)&&t in xn)return En[e]=r[t];return e}u&&(xn=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);var Sn=kn("animationend"),Pn=kn("animationiteration"),Tn=kn("animationstart"),In=kn("transitionend"),On=new Map,Rn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){On.set(e,t),c(t,[e])}for(var Nn=0;Nn<Rn.length;Nn++){var Ln=Rn[Nn];Cn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}Cn(Sn,"onAnimationEnd"),Cn(Pn,"onAnimationIteration"),Cn(Tn,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(In,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Dn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,a,c,l){if(He.apply(this,arguments),Be){if(!Be)throw Error(s(198));var u=De;Be=!1,De=null,je||(je=!0,Ue=u)}}(n,t,void 0,e),e.currentTarget=null}function jn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Dn(i,a,l),s=c}else for(o=0;o<n.length;o++){if(c=(a=n[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Dn(i,a,l),s=c}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Un(e,t){var r=t[mi];void 0===r&&(r=t[mi]=new Set);var n=e+"__bubble";r.has(n)||(Gn(t,e,2,!1),r.add(n))}function Fn(e,t,r){var n=0;t&&(n|=4),Gn(r,e,n,t)}var Hn="_reactListening"+Math.random().toString(36).slice(2);function zn(e){if(!e[Hn]){e[Hn]=!0,o.forEach((function(t){"selectionchange"!==t&&(Bn.has(t)||Fn(t,!1,e),Fn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hn]||(t[Hn]=!0,Fn("selectionchange",!1,t))}}function Gn(e,t,r,n){switch(Zt(t)){case 1:var i=Wt;break;case 4:i=$t;break;default:i=Kt}r=i.bind(null,t,r,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function qn(e,t,r,n,i){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=bi(a)))return;if(5===(c=o.tag)||6===c){n=s=o;continue e}a=a.parentNode}}n=n.return}Re((function(){var n=s,i=Ae(r),o=[];e:{var a=On.get(e);if(void 0!==a){var c=lr,l=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":c=Sr;break;case"focusin":l="focus",c=mr;break;case"focusout":l="blur",c=mr;break;case"beforeblur":case"afterblur":c=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Tr;break;case Sn:case Pn:case Tn:c=gr;break;case In:c=Ir;break;case"scroll":c=dr;break;case"wheel":c=Rr;break;case"copy":case"cut":case"paste":c=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Pr}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ce(p,h))&&u.push(Wn(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new c(a,l,null,r,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||r===we||!(l=r.relatedTarget||r.fromElement)||!bi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=n,null!==(l=(l=r.relatedTarget||r.toElement)?bi(l):null)&&(l!==(d=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=n),c!==l)){if(u=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pr,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?a:wi(c),f=null==l?a:wi(l),(a=new u(m,p+"leave",c,r,i)).target=d,a.relatedTarget=f,m=null,bi(i)===n&&((u=new u(h,p+"enter",l,r,i)).target=f,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Kn(f))p++;for(f=0,m=h;m;m=Kn(m))f++;for(;0<p-f;)u=Kn(u),p--;for(;0<f-p;)h=Kn(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kn(u),h=Kn(h)}u=null}else u=null;null!==c&&Vn(o,a,c,u,!1),null!==l&&null!==d&&Vn(o,d,l,u,!0)}if("select"===(c=(a=n?wi(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Qr;else if(Gr(a))if(Zr)g=on;else{g=nn;var y=rn}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sn);switch(g&&(g=g(e,n))?qr(o,g,r,i):(y&&y(e,a,n),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=n?wi(n):window,e){case"focusin":(Gr(y)||"true"===y.contentEditable)&&(gn=y,yn=n,bn=null);break;case"focusout":bn=yn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,wn(o,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":wn(o,r,i)}var b;if(Nr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hr?Ur(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Br&&"ko"!==r.locale&&(Hr||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hr&&(b=er()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Hr=!0)),0<(y=$n(n,v)).length&&(v=new vr(v,e,null,r,i),o.push({event:v,listeners:y}),b?v.data=b:null!==(b=Fr(r))&&(v.data=b))),(b=Mr?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(jr=!0,Dr);case"textInput":return(e=t.data)===Dr&&jr?null:e;default:return null}}(e,r):function(e,t){if(Hr)return"compositionend"===e||!Nr&&Ur(e,t)?(e=er(),Xt=Jt=Yt=null,Hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Br&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=$n(n,"onBeforeInput")).length&&(i=new vr("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=b))}jn(o,t)}))}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $n(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ce(e,r))&&n.unshift(Wn(e,s,i)),null!=(s=Ce(e,t))&&n.push(Wn(e,s,i))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vn(e,t,r,n,i){for(var s=t._reactName,o=[];null!==r&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(null!==c&&c===n)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Ce(r,s))&&o.unshift(Wn(r,c,a)):i||null!=(c=Ce(r,s))&&o.push(Wn(r,c,a))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Qn=/\r\n?/g,Zn=/\u0000|\uFFFD/g;function Yn(e){return("string"===typeof e?e:""+e).replace(Qn,"\n").replace(Zn,"")}function Jn(e,t,r){if(t=Yn(t),Yn(e)!==t&&r)throw Error(s(425))}function Xn(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ni;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void zt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function bi(e){var t=e[hi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[hi]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ui(e);null!==e;){if(r=e[hi])return r;e=ui(e)}return t}r=(e=r).parentNode}return null}function vi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ai(e){return e[fi]||null}var _i=[],Ei=-1;function xi(e){return{current:e}}function ki(e){0>Ei||(e.current=_i[Ei],_i[Ei]=null,Ei--)}function Si(e,t){Ei++,_i[Ei]=e.current,e.current=t}var Pi={},Ti=xi(Pi),Ii=xi(!1),Oi=Pi;function Ri(e,t){var r=e.type.contextTypes;if(!r)return Pi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in r)s[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){ki(Ii),ki(Ti)}function Li(e,t,r){if(Ti.current!==Pi)throw Error(s(168));Si(Ti,t),Si(Ii,r)}function Mi(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(s(108,G(e)||"Unknown",i));return D({},r,n)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Oi=Ti.current,Si(Ti,e),Si(Ii,Ii.current),!0}function Di(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Mi(e,t,Oi),n.__reactInternalMemoizedMergedChildContext=e,ki(Ii),ki(Ti),Si(Ti,e)):ki(Ii),Si(Ii,r)}var ji=null,Ui=!1,Fi=!1;function Hi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Fi&&null!==ji){Fi=!0;var e=0,t=vt;try{var r=ji;for(vt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Xe,zi),i}finally{vt=t,Fi=!1}}return null}var Gi=[],qi=0,Wi=null,$i=0,Ki=[],Vi=0,Qi=null,Zi=1,Yi="";function Ji(e,t){Gi[qi++]=$i,Gi[qi++]=Wi,Wi=e,$i=t}function Xi(e,t,r){Ki[Vi++]=Zi,Ki[Vi++]=Yi,Ki[Vi++]=Qi,Qi=e;var n=Zi;e=Yi;var i=32-ot(n)-1;n&=~(1<<i),r+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Zi=1<<32-ot(t)+i|r<<i|n,Yi=s+e}else Zi=1<<s|r<<i|n,Yi=e}function es(e){null!==e.return&&(Ji(e,1),Xi(e,1,0))}function ts(e){for(;e===Wi;)Wi=Gi[--qi],Gi[qi]=null,$i=Gi[--qi],Gi[qi]=null;for(;e===Qi;)Qi=Ki[--Vi],Ki[Vi]=null,Yi=Ki[--Vi],Ki[Vi]=null,Zi=Ki[--Vi],Ki[Vi]=null}var rs=null,ns=null,is=!1,ss=null;function os(e,t){var r=Rl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function as(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Qi?{id:Zi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Rl(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=ns;if(t){var r=t;if(!as(e,t)){if(cs(e))throw Error(s(418));t=li(r.nextSibling);var n=rs;t&&as(e,t)?os(n,r):(e.flags=-4097&e.flags|2,is=!1,rs=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,rs=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function ds(e){if(e!==rs)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=ns)){if(cs(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=li(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?li(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=ns;e;)e=li(e.nextSibling)}function fs(){ns=rs=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var i=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Dl(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){var s=r.type;return s===E?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===C&&bs(s)===t.type)?((n=i(t,r.props)).ref=gs(e,t,r),n.return=e,n):((n=Ll(r.type,r.key,r.props,null,e.mode,n)).ref=gs(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=jl(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,s){return null===t||7!==t.tag?((t=Ml(r,e.mode,n,s)).return=e,t):((t=i(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dl(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return(r=Ll(t.type,t.key,t.props,null,e.mode,r)).ref=gs(e,null,t),r.return=e,r;case _:return(t=jl(t,e.mode,r)).return=e,t;case C:return h(e,(0,t._init)(t._payload),r)}if(te(t)||M(t))return(t=Ml(t,e.mode,r,null)).return=e,t;ys(e,t)}return null}function f(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return r.key===i?l(e,t,r,n):null;case _:return r.key===i?u(e,t,r,n):null;case C:return f(e,t,(i=r._init)(r._payload),n)}if(te(r)||M(r))return null!==i?null:d(e,t,r,n,null);ys(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case _:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case C:return p(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||M(n))return d(t,e=e.get(r)||null,n,i,null);ys(t,n)}return null}function m(i,s,a,c){for(var l=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],c);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===u?l=y:u.sibling=y,u=y,d=g}if(m===a.length)return r(i,d),is&&Ji(i,m),l;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],c))&&(s=o(d,s,m),null===u?l=d:u.sibling=d,u=d);return is&&Ji(i,m),l}for(d=n(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,m),l}function g(i,a,c,l){var u=M(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,y=null,b=c.next();null!==m&&!b.done;g++,b=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=f(i,m,b.value,l);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(i,m),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v,m=y}if(b.done)return r(i,m),is&&Ji(i,g),u;if(null===m){for(;!b.done;g++,b=c.next())null!==(b=h(i,b.value,l))&&(a=o(b,a,g),null===d?u=b:d.sibling=b,d=b);return is&&Ji(i,g),u}for(m=n(i,m);!b.done;g++,b=c.next())null!==(b=p(m,i,g,b.value,l))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(n,s,o,c){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case A:e:{for(var l=o.key,u=s;null!==u;){if(u.key===l){if((l=o.type)===E){if(7===u.tag){r(n,u.sibling),(s=i(u,o.props.children)).return=n,n=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===C&&bs(l)===u.type){r(n,u.sibling),(s=i(u,o.props)).ref=gs(n,u,o),s.return=n,n=s;break e}r(n,u);break}t(n,u),u=u.sibling}o.type===E?((s=Ml(o.props.children,n.mode,c,o.key)).return=n,n=s):((c=Ll(o.type,o.key,o.props,null,n.mode,c)).ref=gs(n,s,o),c.return=n,n=c)}return a(n);case _:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(n,s.sibling),(s=i(s,o.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=jl(o,n.mode,c)).return=n,n=s}return a(n);case C:return e(n,s,(u=o._init)(o._payload),c)}if(te(o))return m(n,s,o,c);if(M(o))return g(n,s,o,c);ys(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(r(n,s.sibling),(s=i(s,o)).return=n,n=s):(r(n,s),(s=Dl(o,n.mode,c)).return=n,n=s),a(n)):r(n,s)}}var ws=vs(!0),As=vs(!1),_s=xi(null),Es=null,xs=null,ks=null;function Ss(){ks=xs=Es=null}function Ps(e){var t=_s.current;ki(_s),e._currentValue=t}function Ts(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Is(e,t){Es=e,ks=xs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(va=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===xs){if(null===Es)throw Error(s(308));xs=e,Es.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Rs=null;function Cs(e){null===Rs?Rs=[e]:Rs.push(e)}function Ns(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Cs(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ls(e,n)}function Ls(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ms=!1;function Bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Tc)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ls(e,r)}return null===(i=n.interleaved)?(t.next=t,Cs(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ls(e,r)}function Fs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}function Hs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?i=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?i=s=t:s=s.next=t}else i=s=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zs(e,t,r,n){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var d=i.baseState;for(o=0,u=l=c=null,a=s;;){var h=a.lane,f=a.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Bc|=o,e.lanes=o,e.memoizedState=d}}function Gs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(s(191,i));i.call(n)}}}var qs={},Ws=xi(qs),$s=xi(qs),Ks=xi(qs);function Vs(e){if(e===qs)throw Error(s(174));return e}function Qs(e,t){switch(Si(Ks,t),Si($s,e),Si(Ws,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ws),Si(Ws,t)}function Zs(){ki(Ws),ki($s),ki(Ks)}function Ys(e){Vs(Ks.current);var t=Vs(Ws.current),r=ce(t,e.type);t!==r&&(Si($s,e),Si(Ws,r))}function Js(e){$s.current===e&&(ki(Ws),ki($s))}var Xs=xi(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,co=null,lo=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function go(e,t,r,n,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Xo:ea,e=r(n,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,co=ao=null,t.updateQueue=null,no.current=ta,e=r(n,i)}while(uo)}if(no.current=Jo,t=null!==ao&&null!==ao.next,so=0,co=ao=oo=null,lo=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?oo.memoizedState=co=e:co=co.next=e,co}function vo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===co?oo.memoizedState:co.next;if(null!==t)co=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===co?oo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=ao,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var c=a=null,l=null,u=o;do{var d=u.lane;if((so&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,a=n):l=l.next=h,oo.lanes|=d,Bc|=d}u=u.next}while(null!==u&&u!==o);null===l?a=n:l.next=c,an(n,t.memoizedState)||(va=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Bc|=o,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _o(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);an(o,t.memoizedState)||(va=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Eo(){}function xo(e,t){var r=oo,n=vo(),i=t(),o=!an(n.memoizedState,i);if(o&&(n.memoizedState=i,va=!0),n=n.queue,Bo(Po.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(r.flags|=2048,Ro(9,So.bind(null,r,n,i,t),void 0,null),null===Ic)throw Error(s(349));0!==(30&so)||ko(r,t,i)}return i}function ko(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function So(e,t,r,n){t.value=r,t.getSnapshot=n,To(t)&&Io(e)}function Po(e,t,r){return r((function(){To(t)&&Io(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch(n){return!0}}function Io(e){var t=Ls(e,1);null!==t&&rl(t,e,1,-1)}function Oo(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Vo.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Co(){return vo().memoizedState}function No(e,t,r,n){var i=bo();oo.flags|=e,i.memoizedState=Ro(1|t,r,void 0,void 0===n?null:n)}function Lo(e,t,r,n){var i=vo();n=void 0===n?null:n;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==n&&mo(n,o.deps))return void(i.memoizedState=Ro(t,r,s,n))}oo.flags|=e,i.memoizedState=Ro(1|t,r,s,n)}function Mo(e,t){return No(8390656,8,e,t)}function Bo(e,t){return Lo(2048,8,e,t)}function Do(e,t){return Lo(4,2,e,t)}function jo(e,t){return Lo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Lo(4,4,Uo.bind(null,t,e),r)}function Ho(){}function zo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Go(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qo(e,t,r){return 0===(21&so)?(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=r):(an(r,t)||(r=mt(),oo.lanes|=r,Bc|=r,e.baseState=!0),t)}function Wo(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var n=io.transition;io.transition={};try{e(!1),t()}finally{vt=r,io.transition=n}}function $o(){return vo().memoizedState}function Ko(e,t,r){var n=tl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qo(e))Zo(t,r);else if(null!==(r=Ns(e,t,r,n))){rl(r,e,n,el()),Yo(r,t,n)}}function Vo(e,t,r){var n=tl(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Zo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,an(a,o)){var c=t.interleaved;return null===c?(i.next=i,Cs(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(r=Ns(e,t,i,n))&&(rl(r,e,n,i=el()),Yo(r,t,n))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Zo(e,t){uo=lo=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yo(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,bt(e,r)}}var Jo={readContext:Os,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Xo={readContext:Os,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:Mo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,No(4194308,4,Uo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var r=bo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Oo,useDebugValue:Ho,useDeferredValue:function(e){return bo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Wo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,i=bo();if(is){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Ic)throw Error(s(349));0!==(30&so)||ko(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Mo(Po.bind(null,n,o,e),[e]),n.flags|=2048,Ro(9,So.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=bo(),t=Ic.identifierPrefix;if(is){var r=Yi;t=":"+t+"R"+(r=(Zi&~(1<<32-ot(Zi)-1)).toString(32)+r),0<(r=ho++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Os,useCallback:zo,useContext:Os,useEffect:Bo,useImperativeHandle:Fo,useInsertionEffect:Do,useLayoutEffect:jo,useMemo:Go,useReducer:Ao,useRef:Co,useState:function(){return Ao(wo)},useDebugValue:Ho,useDeferredValue:function(e){return qo(vo(),ao.memoizedState,e)},useTransition:function(){return[Ao(wo)[0],vo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:xo,useId:$o,unstable_isNewReconciler:!1},ta={readContext:Os,useCallback:zo,useContext:Os,useEffect:Bo,useImperativeHandle:Fo,useInsertionEffect:Do,useLayoutEffect:jo,useMemo:Go,useReducer:_o,useRef:Co,useState:function(){return _o(wo)},useDebugValue:Ho,useDeferredValue:function(e){var t=vo();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[_o(wo)[0],vo().memoizedState]},useMutableSource:Eo,useSyncExternalStore:xo,useId:$o,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){for(var r in t=D({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function na(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:D({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=el(),i=tl(e),s=js(n,i);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Us(e,s,i))&&(rl(t,e,i,n),Fs(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=el(),i=tl(e),s=js(n,i);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Us(e,s,i))&&(rl(t,e,i,n),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=el(),n=tl(e),i=js(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,n))&&(rl(t,e,n,r),Fs(t,e,n))}};function sa(e,t,r,n,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cn(r,n)||!cn(i,s))}function oa(e,t,r){var n=!1,i=Pi,s=t.contextType;return"object"===typeof s&&null!==s?s=Os(s):(i=Ci(t)?Oi:Ti.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ri(e,i):Pi),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function ca(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Bs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Os(s):(s=Ci(t)?Oi:Ti.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(na(e,t,s,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),zs(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function la(e,t){try{var r="",n=t;do{r+=H(n),n=n.return}while(n);var i=r}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,r){(r=js(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qc||(qc=!0,Wc=n),da(0,t)},r}function pa(e,t,r){(r=js(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){da(0,t),"function"!==typeof n&&(null===$c?$c=new Set([this]):$c.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ma(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ha;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=kl.bind(null,e,t,r),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=js(-1,1)).tag=2,Us(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,va=!1;function wa(e,t,r,n){t.child=null===e?As(t,null,r,n):ws(t,e.child,r,n)}function Aa(e,t,r,n,i){r=r.render;var s=t.ref;return Is(t,i),n=go(e,t,r,n,s,i),r=yo(),null===e||va?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function _a(e,t,r,n,i){if(null===e){var s=r.type;return"function"!==typeof s||Cl(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ll(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ea(e,t,s,n,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:cn)(o,n)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Nl(s,n)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,r,n,i){if(null!==e){var s=e.memoizedProps;if(cn(s,n)&&e.ref===t.ref){if(va=!1,t.pendingProps=n=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(va=!0)}}return Sa(e,t,r,n,i)}function xa(e,t,r){var n=t.pendingProps,i=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Nc,Cc),Cc|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Nc,Cc),Cc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Si(Nc,Cc),Cc|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Si(Nc,Cc),Cc|=n;return wa(e,t,i,r),t.child}function ka(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,r,n,i){var s=Ci(r)?Oi:Ti.current;return s=Ri(t,s),Is(t,i),r=go(e,t,r,n,s,i),n=yo(),null===e||va?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Pa(e,t,r,n,i){if(Ci(r)){var s=!0;Bi(t)}else s=!1;if(Is(t,i),null===t.stateNode)Ga(e,t),oa(t,r,n),ca(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=r.contextType;"object"===typeof l&&null!==l?l=Os(l):l=Ri(t,l=Ci(r)?Oi:Ti.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==n||c!==l)&&aa(t,o,n,l),Ms=!1;var h=t.memoizedState;o.state=h,zs(t,n,o,i),c=t.memoizedState,a!==n||h!==c||Ii.current||Ms?("function"===typeof u&&(na(t,r,u,n),c=t.memoizedState),(a=Ms||sa(t,r,a,n,h,c,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ds(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ra(t.type,a),o.props=l,d=t.pendingProps,h=o.context,"object"===typeof(c=r.contextType)&&null!==c?c=Os(c):c=Ri(t,c=Ci(r)?Oi:Ti.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==c)&&aa(t,o,n,c),Ms=!1,h=t.memoizedState,o.state=h,zs(t,n,o,i);var p=t.memoizedState;a!==d||h!==p||Ii.current||Ms?("function"===typeof f&&(na(t,r,f,n),p=t.memoizedState),(l=Ms||sa(t,r,l,n,h,p,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=l):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ta(e,t,r,n,s,i)}function Ta(e,t,r,n,i,s){ka(e,t);var o=0!==(128&t.flags);if(!n&&!o)return i&&Di(t,r,!1),qa(e,t,s);n=t.stateNode,ba.current=t;var a=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=n.state,i&&Di(t,r,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Qs(e,t.containerInfo)}function Oa(e,t,r,n,i){return fs(),ps(i),t.flags|=256,wa(e,t,r,n),t.child}var Ra,Ca,Na,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,r){var n,i=t.pendingProps,o=Xs.current,a=!1,c=0!==(128&t.flags);if((n=c)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(Xs,1&o),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Bl(c,i,0,null),e=Ml(e,i,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ba(r),t.memoizedState=Ma,e):ja(t,c));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,i,o,a){if(r)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,n=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Bl({mode:"visible",children:n.children},i,0,null),(o=Ml(o,i,a,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Ba(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var c=n.dgst;return n=c,Ua(e,t,a,n=ua(o=Error(s(419)),n,void 0))}if(c=0!==(a&e.childLanes),va||c){if(null!==(n=Ic)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ls(e,i),rl(n,e,i,-1))}return ml(),Ua(e,t,a,n=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ns=li(i.nextSibling),rs=t,is=!0,ss=null,null!==e&&(Ki[Vi++]=Zi,Ki[Vi++]=Yi,Ki[Vi++]=Qi,Zi=e.id,Yi=e.overflow,Qi=t),t=ja(t,n.children),t.flags|=4096,t)}(e,t,c,i,n,o,r);if(a){a=i.fallback,c=t.mode,n=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Nl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==n?a=Nl(n,a):(a=Ml(a,c,r,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Ba(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Nl(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Bl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,r,n){return null!==n&&ps(n),ws(t,e.child,null,r),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ts(e.return,t,r)}function Ha(e,t,r,n,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function za(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(wa(e,t,n.children,r),0!==(2&(n=Xs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,r,t);else if(19===e.tag)Fa(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Si(Xs,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ha(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ha(t,!0,r,null,s);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Bc|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Nl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Nl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $a(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ka(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(t),null;case 1:case 17:return Ci(t.type)&&Ni(),$a(t),null;case 3:return n=t.stateNode,Zs(),ki(Ii),ki(Ti),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ol(ss),ss=null))),Ca(e,t),$a(t),null;case 5:Js(t);var i=Vs(Ks.current);if(r=t.type,null!==e&&null!=t.stateNode)Na(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return $a(t),null}if(e=Vs(Ws.current),ds(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[hi]=t,n[fi]=o,e=0!==(1&t.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(i=0;i<Mn.length;i++)Un(Mn[i],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":Z(n,o),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Un("invalid",n);break;case"textarea":ie(n,o),Un("invalid",n)}for(var c in be(r,o),i=null,o)if(o.hasOwnProperty(c)){var l=o[c];"children"===c?"string"===typeof l?n.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,l,e),i=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Un("scroll",n)}switch(r){case"input":$(n),X(n,o,!0);break;case"textarea":$(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Xn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),"select"===r&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[hi]=t,e[fi]=n,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(c=ve(r,n),r){case"dialog":Un("cancel",e),Un("close",e),i=n;break;case"iframe":case"object":case"embed":Un("load",e),i=n;break;case"video":case"audio":for(i=0;i<Mn.length;i++)Un(Mn[i],e);i=n;break;case"source":Un("error",e),i=n;break;case"img":case"image":case"link":Un("error",e),Un("load",e),i=n;break;case"details":Un("toggle",e),i=n;break;case"input":Z(e,n),i=Q(e,n),Un("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=D({},n,{value:void 0}),Un("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Un("invalid",e)}for(o in be(r,i),l=i)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==r||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Un("scroll",e):null!=u&&v(e,o,u,c))}switch(r){case"input":$(e),X(e,n,!1);break;case"textarea":$(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+q(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $a(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Vs(Ks.current),Vs(Ws.current),ds(t)){if(n=t.stateNode,r=t.memoizedProps,n[hi]=t,(o=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[hi]=t,t.stateNode=n}return $a(t),null;case 13:if(ki(Xs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$a(t),o=!1}else null!==ss&&(ol(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===Lc&&(Lc=3):ml())),null!==t.updateQueue&&(t.flags|=4),$a(t),null);case 4:return Zs(),Ca(e,t),null===e&&zn(t.stateNode.containerInfo),$a(t),null;case 10:return Ps(t.type._context),$a(t),null;case 19:if(ki(Xs),null===(o=t.memoizedState))return $a(t),null;if(n=0!==(128&t.flags),null===(c=o.rendering))if(n)Wa(o,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(n=c.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Si(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zc&&(t.flags|=128,n=!0,Wa(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(c))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!is)return $a(t),null}else 2*Ye()-o.renderingStartTime>zc&&1073741824!==r&&(t.flags|=128,n=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=o.last)?r.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,r=Xs.current,Si(Xs,n?1&r|2:1&r),t):($a(t),null);case 22:case 23:return dl(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Cc)&&($a(t),6&t.subtreeFlags&&(t.flags|=8192)):$a(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Va(e,t){switch(ts(t),t.tag){case 1:return Ci(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zs(),ki(Ii),ki(Ti),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(ki(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Xs),null;case 4:return Zs(),null;case 10:return Ps(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ra=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ca=function(){},Na=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Vs(Ws.current);var s,o=null;switch(r){case"input":i=Q(e,i),n=Q(e,n),o=[];break;case"select":i=D({},i,{value:void 0}),n=D({},n,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),n=ne(e,n),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Xn)}for(u in be(r,n),r=null,i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(c=null!=i?i[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Un("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,r,n){r!==n&&(t.flags|=4)};var Qa=!1,Za=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Xa(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){xl(e,t,n)}else r.current=null}function ec(e,t,r){try{r()}catch(n){xl(e,t,n)}}var tc=!1;function rc(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&ec(t,r,s)}i=i.next}while(i!==n)}}function nc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ic(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sc(e){var t=e.alternate;null!==t&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Xn));else if(4!==n&&null!==(e=e.child))for(cc(e,t,r),e=e.sibling;null!==e;)cc(e,t,r),e=e.sibling}function lc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(lc(e,t,r),e=e.sibling;null!==e;)lc(e,t,r),e=e.sibling}var uc=null,dc=!1;function hc(e,t,r){for(r=r.child;null!==r;)fc(e,t,r),r=r.sibling}function fc(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,r)}catch(a){}switch(r.tag){case 5:Za||Xa(r,t);case 6:var n=uc,i=dc;uc=null,hc(e,t,r),dc=i,null!==(uc=n)&&(dc?(e=uc,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):uc.removeChild(r.stateNode));break;case 18:null!==uc&&(dc?(e=uc,r=r.stateNode,8===e.nodeType?ci(e.parentNode,r):1===e.nodeType&&ci(e,r),zt(e)):ci(uc,r.stateNode));break;case 4:n=uc,i=dc,uc=r.stateNode.containerInfo,dc=!0,hc(e,t,r),uc=n,dc=i;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&ec(r,t,o),i=i.next}while(i!==n)}hc(e,t,r);break;case 1:if(!Za&&(Xa(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){xl(r,t,a)}hc(e,t,r);break;case 21:hc(e,t,r);break;case 22:1&r.mode?(Za=(n=Za)||null!==r.memoizedState,hc(e,t,r),Za=n):hc(e,t,r);break;default:hc(e,t,r)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Ya),t.forEach((function(t){var n=Tl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function mc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(s(160));fc(o,a,i),uc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){xl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),yc(e),4&n){try{rc(3,e,e.return),nc(3,e)}catch(g){xl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){xl(e,e.return,g)}}break;case 1:mc(t,e),yc(e),512&n&&null!==r&&Xa(r,r.return);break;case 5:if(mc(t,e),yc(e),512&n&&null!==r&&Xa(r,r.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){xl(e,e.return,g)}}if(4&n&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==r?r.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===o.type&&null!=o.name&&Y(i,o),ve(c,a);var u=ve(c,o);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):v(i,d,h,u)}switch(c){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?re(i,!!o.multiple,o.defaultValue,!0):re(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){xl(e,e.return,g)}}break;case 6:if(mc(t,e),yc(e),4&n){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xl(e,e.return,g)}}break;case 3:if(mc(t,e),yc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){xl(e,e.return,g)}break;case 4:default:mc(t,e),yc(e);break;case 13:mc(t,e),yc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Hc=Ye())),4&n&&pc(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Za=(u=Za)||d,mc(t,e),Za=u):mc(t,e),yc(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:Xa(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xl(n,r,g)}}break;case 5:Xa(f,f.return);break;case 22:if(null!==f.memoizedState){Ac(h);continue}}null!==p?(p.return=f,Ja=p):Ac(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=h.stateNode,a=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){xl(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){xl(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mc(t,e),yc(e),4&n&&pc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(oc(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(he(i,""),n.flags&=-33),lc(e,ac(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;cc(e,ac(e),o);break;default:throw Error(s(161))}}catch(a){xl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,r){Ja=e,vc(e,t,r)}function vc(e,t,r){for(var n=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&n){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Za;a=Qa;var l=Za;if(Qa=o,(Za=c)&&!l)for(Ja=i;null!==Ja;)c=(o=Ja).child,22===o.tag&&null!==o.memoizedState?_c(i):null!==c?(c.return=o,Ja=c):_c(i);for(;null!==s;)Ja=s,vc(s,t,r),s=s.sibling;Ja=i,Qa=a,Za=l}wc(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):wc(e)}}function wc(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||nc(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Za)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ra(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Gs(t,o,n);break;case 3:var a=t.updateQueue;if(null!==a){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Gs(t,a,r)}break;case 5:var c=t.stateNode;if(null===r&&4&t.flags){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Za||512&t.flags&&ic(t)}catch(f){xl(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(r=t.sibling)){r.return=t.return,Ja=r;break}Ja=t.return}}function Ac(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Ja=r;break}Ja=t.return}}function _c(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nc(4,t)}catch(c){xl(t,r,c)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(c){xl(t,i,c)}}var s=t.return;try{ic(t)}catch(c){xl(t,s,c)}break;case 5:var o=t.return;try{ic(t)}catch(c){xl(t,o,c)}}}catch(c){xl(t,t.return,c)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Ec,xc=Math.ceil,kc=w.ReactCurrentDispatcher,Sc=w.ReactCurrentOwner,Pc=w.ReactCurrentBatchConfig,Tc=0,Ic=null,Oc=null,Rc=0,Cc=0,Nc=xi(0),Lc=0,Mc=null,Bc=0,Dc=0,jc=0,Uc=null,Fc=null,Hc=0,zc=1/0,Gc=null,qc=!1,Wc=null,$c=null,Kc=!1,Vc=null,Qc=0,Zc=0,Yc=null,Jc=-1,Xc=0;function el(){return 0!==(6&Tc)?Ye():-1!==Jc?Jc:Jc=Ye()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Tc)&&0!==Rc?Rc&-Rc:null!==ms.transition?(0===Xc&&(Xc=mt()),Xc):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function rl(e,t,r,n){if(50<Zc)throw Zc=0,Yc=null,Error(s(185));yt(e,r,n),0!==(2&Tc)&&e===Ic||(e===Ic&&(0===(2&Tc)&&(Dc|=r),4===Lc&&al(e,Rc)),nl(e,n),1===r&&0===Tc&&0===(1&t.mode)&&(zc=Ye()+500,Ui&&zi()))}function nl(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,c=i[o];-1===c?0!==(a&r)&&0===(a&n)||(i[o]=ft(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var n=ht(e,e===Ic?Rc:0);if(0===n)null!==r&&Ve(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ve(r),1===t)0===e.tag?function(e){Ui=!0,Hi(e)}(cl.bind(null,e)):Hi(cl.bind(null,e)),oi((function(){0===(6&Tc)&&zi()})),r=null;else{switch(wt(n)){case 1:r=Xe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Il(r,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function il(e,t){if(Jc=-1,Xc=0,0!==(6&Tc))throw Error(s(327));var r=e.callbackNode;if(_l()&&e.callbackNode!==r)return null;var n=ht(e,e===Ic?Rc:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gl(e,n);else{t=n;var i=Tc;Tc|=2;var o=pl();for(Ic===e&&Rc===t||(Gc=null,zc=Ye()+500,hl(e,t));;)try{bl();break}catch(c){fl(e,c)}Ss(),kc.current=o,Tc=i,null!==Oc?t=0:(Ic=null,Rc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(n=i,t=sl(e,i))),1===t)throw r=Mc,hl(e,0),al(e,n),nl(e,Ye()),r;if(6===t)al(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!an(s(),i))return!1}catch(a){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,n))&&(0!==(o=pt(e))&&(n=o,t=sl(e,o))),1===t))throw r=Mc,hl(e,0),al(e,n),nl(e,Ye()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:Al(e,Fc,Gc);break;case 3:if(al(e,n),(130023424&n)===n&&10<(t=Hc+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&n)!==n){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(Al.bind(null,e,Fc,Gc),t);break}Al(e,Fc,Gc);break;case 4:if(al(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-ot(n);o=1<<a,(a=t[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Ye()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xc(n/1960))-n)){e.timeoutHandle=ni(Al.bind(null,e,Fc,Gc),n);break}Al(e,Fc,Gc);break;default:throw Error(s(329))}}}return nl(e,Ye()),e.callbackNode===r?il.bind(null,e):null}function sl(e,t){var r=Uc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Fc,Fc=r,null!==t&&ol(t)),e}function ol(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function al(e,t){for(t&=~jc,t&=~Dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function cl(e){if(0!==(6&Tc))throw Error(s(327));_l();var t=ht(e,0);if(0===(1&t))return nl(e,Ye()),null;var r=gl(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=sl(e,n))}if(1===r)throw r=Mc,hl(e,0),al(e,t),nl(e,Ye()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e,Fc,Gc),nl(e,Ye()),null}function ll(e,t){var r=Tc;Tc|=1;try{return e(t)}finally{0===(Tc=r)&&(zc=Ye()+500,Ui&&zi())}}function ul(e){null!==Vc&&0===Vc.tag&&0===(6&Tc)&&_l();var t=Tc;Tc|=1;var r=Pc.transition,n=vt;try{if(Pc.transition=null,vt=1,e)return e()}finally{vt=n,Pc.transition=r,0===(6&(Tc=t))&&zi()}}function dl(){Cc=Nc.current,ki(Nc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==Oc)for(r=Oc.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ni();break;case 3:Zs(),ki(Ii),ki(Ti),ro();break;case 5:Js(n);break;case 4:Zs();break;case 13:case 19:ki(Xs);break;case 10:Ps(n.type._context);break;case 22:case 23:dl()}r=r.return}if(Ic=e,Oc=e=Nl(e.current,null),Rc=Cc=t,Lc=0,Mc=null,jc=Dc=Bc=0,Fc=Uc=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(n=(r=Rs[t]).interleaved)){r.interleaved=null;var i=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=i,n.next=o}r.pending=n}Rs=null}return e}function fl(e,t){for(;;){var r=Oc;try{if(Ss(),no.current=Jo,lo){for(var n=oo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}lo=!1}if(so=0,co=ao=oo=null,uo=!1,ho=0,Sc.current=null,null===r||null===r.return){Lc=1,Mc=t,Oc=null;break}e:{var o=e,a=r.return,c=r,l=t;if(t=Rc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ma(o,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ma(o,u,t),ml();break e}l=Error(s(426))}else if(is&&1&c.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,c,0,t),ps(la(l,c));break e}}o=l=la(l,c),4!==Lc&&(Lc=2),null===Uc?Uc=[o]:Uc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Hs(o,fa(0,l,t));break e;case 1:c=l;var b=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===$c||!$c.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Hs(o,pa(o,c,t));break e}}o=o.return}while(null!==o)}wl(r)}catch(w){t=w,Oc===r&&null!==r&&(Oc=r=r.return);continue}break}}function pl(){var e=kc.current;return kc.current=Jo,null===e?Jo:e}function ml(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Ic||0===(268435455&Bc)&&0===(268435455&Dc)||al(Ic,Rc)}function gl(e,t){var r=Tc;Tc|=2;var n=pl();for(Ic===e&&Rc===t||(Gc=null,hl(e,t));;)try{yl();break}catch(i){fl(e,i)}if(Ss(),Tc=r,kc.current=n,null!==Oc)throw Error(s(261));return Ic=null,Rc=0,Lc}function yl(){for(;null!==Oc;)vl(Oc)}function bl(){for(;null!==Oc&&!Qe();)vl(Oc)}function vl(e){var t=Ec(e.alternate,e,Cc);e.memoizedProps=e.pendingProps,null===t?wl(e):Oc=t,Sc.current=null}function wl(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ka(r,t,Cc)))return void(Oc=r)}else{if(null!==(r=Va(r,t)))return r.flags&=32767,void(Oc=r);if(null===e)return Lc=6,void(Oc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oc=t);Oc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Al(e,t,r){var n=vt,i=Pc.transition;try{Pc.transition=null,vt=1,function(e,t,r,n){do{_l()}while(null!==Vc);if(0!==(6&Tc))throw Error(s(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ot(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}(e,o),e===Ic&&(Oc=Ic=null,Rc=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Kc||(Kc=!0,Il(tt,(function(){return _l(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Pc.transition,Pc.transition=null;var a=vt;vt=1;var c=Tc;Tc|=4,Sc.current=null,function(e,t){if(ei=qt,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(A){r=null;break e}var a=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==i&&3!==h.nodeType||(c=a+i),h!==o||0!==n&&3!==h.nodeType||(l=a+n),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===i&&(c=a),f===o&&++d===n&&(l=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===c||-1===l?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},qt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ra(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(A){xl(t,t.return,A)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tc,tc=!1}(e,r),gc(r,e),pn(ti),qt=!!ei,ti=ei=null,e.current=r,bc(r,e,i),Ze(),Tc=c,vt=a,Pc.transition=o}else e.current=r;if(Kc&&(Kc=!1,Vc=e,Qc=i),o=e.pendingLanes,0===o&&($c=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nl(e,Ye()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(qc)throw qc=!1,e=Wc,Wc=null,e;0!==(1&Qc)&&0!==e.tag&&_l(),o=e.pendingLanes,0!==(1&o)?e===Yc?Zc++:(Zc=0,Yc=e):Zc=0,zi()}(e,t,r,n)}finally{Pc.transition=i,vt=n}return null}function _l(){if(null!==Vc){var e=wt(Qc),t=Pc.transition,r=vt;try{if(Pc.transition=null,vt=16>e?16:e,null===Vc)var n=!1;else{if(e=Vc,Vc=null,Qc=0,0!==(6&Tc))throw Error(s(331));var i=Tc;for(Tc|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var c=o.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:rc(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(sc(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,Ja=b;break e}Ja=o.return}}var v=e.current;for(Ja=v;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=v;null!==Ja;){if(0!==(2048&(c=Ja).flags))try{switch(c.tag){case 0:case 11:case 15:nc(9,c)}}catch(_){xl(c,c.return,_)}if(c===a){Ja=null;break e}var A=c.sibling;if(null!==A){A.return=c.return,Ja=A;break e}Ja=c.return}}if(Tc=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}n=!0}return n}finally{vt=r,Pc.transition=t}}return!1}function El(e,t,r){e=Us(e,t=fa(0,t=la(r,t),1),1),t=el(),null!==e&&(yt(e,1,t),nl(e,t))}function xl(e,t,r){if(3===e.tag)El(e,e,r);else for(;null!==t;){if(3===t.tag){El(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===$c||!$c.has(n))){t=Us(t,e=pa(t,e=la(r,e),1),1),e=el(),null!==t&&(yt(t,1,e),nl(t,e));break}}t=t.return}}function kl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&r,Ic===e&&(Rc&r)===r&&(4===Lc||3===Lc&&(130023424&Rc)===Rc&&500>Ye()-Hc?hl(e,0):jc|=r),nl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=el();null!==(e=Ls(e,t))&&(yt(e,t,r),nl(e,r))}function Pl(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sl(e,r)}function Tl(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Sl(e,r)}function Il(e,t){return Ke(e,t)}function Ol(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,r,n){return new Ol(e,t,r,n)}function Cl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var r=e.alternate;return null===r?((r=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ll(e,t,r,n,i,o){var a=2;if(n=e,"function"===typeof e)Cl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Ml(r.children,i,o,t);case x:a=8,i|=8;break;case k:return(e=Rl(12,r,t,2|i)).elementType=k,e.lanes=o,e;case I:return(e=Rl(13,r,t,i)).elementType=I,e.lanes=o,e;case O:return(e=Rl(19,r,t,i)).elementType=O,e.lanes=o,e;case N:return Bl(r,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case P:a=9;break e;case T:a=11;break e;case R:a=14;break e;case C:a=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rl(a,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Ml(e,t,r,n){return(e=Rl(7,e,n,t)).lanes=r,e}function Bl(e,t,r,n){return(e=Rl(22,e,n,t)).elementType=N,e.lanes=r,e.stateNode={isHidden:!1},e}function Dl(e,t,r){return(e=Rl(6,e,null,t)).lanes=r,e}function jl(e,t,r){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fl(e,t,r,n,i,s,o,a,c){return e=new Ul(e,t,r,a,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bs(s),e}function Hl(e){if(!e)return Pi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Ci(r))return Mi(e,r,t)}return t}function zl(e,t,r,n,i,s,o,a,c){return(e=Fl(r,n,!0,e,0,s,0,a,c)).context=Hl(null),r=e.current,(s=js(n=el(),i=tl(r))).callback=void 0!==t&&null!==t?t:null,Us(r,s,i),e.current.lanes=i,yt(e,i,n),nl(e,n),e}function Gl(e,t,r,n){var i=t.current,s=el(),o=tl(i);return r=Hl(r),null===t.context?t.context=r:t.pendingContext=r,(t=js(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Us(i,t,o))&&(rl(e,i,o,s),Fs(e,i,o)),o}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function $l(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Ec=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)va=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return va=!1,function(e,t,r){switch(t.tag){case 3:Ia(t),fs();break;case 5:Ys(t);break;case 1:Ci(t.type)&&Bi(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Si(_s,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Si(Xs,1&Xs.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Da(e,t,r):(Si(Xs,1&Xs.current),null!==(e=qa(e,t,r))?e.sibling:null);Si(Xs,1&Xs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return za(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Xs,Xs.current),n)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,r)}return qa(e,t,r)}(e,t,r);va=0!==(131072&e.flags)}else va=!1,is&&0!==(1048576&t.flags)&&Xi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ga(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Is(t,r),i=go(null,t,n,e,i,r);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(n)?(o=!0,Bi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bs(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,ca(t,n,e,r),t=Ta(null,t,n,!0,o,r)):(t.tag=0,is&&o&&es(t),wa(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return Cl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(n),e=ra(n,e),i){case 0:t=Sa(null,t,n,e,r);break e;case 1:t=Pa(null,t,n,e,r);break e;case 11:t=Aa(null,t,n,e,r);break e;case 14:t=_a(null,t,n,ra(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,Sa(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 1:return n=t.type,i=t.pendingProps,Pa(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 3:e:{if(Ia(t),null===e)throw Error(s(387));n=t.pendingProps,i=(o=t.memoizedState).element,Ds(e,t),zs(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Oa(e,t,n,r,i=la(Error(s(423)),t));break e}if(n!==i){t=Oa(e,t,n,r,i=la(Error(s(424)),t));break e}for(ns=li(t.stateNode.containerInfo.firstChild),rs=t,is=!0,ss=null,r=As(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fs(),n===i){t=qa(e,t,r);break e}wa(e,t,n,r)}t=t.child}return t;case 5:return Ys(t),null===e&&ls(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ri(n,i)?a=null:null!==o&&ri(n,o)&&(t.flags|=32),ka(e,t),wa(e,t,a,r),t.child;case 6:return null===e&&ls(t),null;case 13:return Da(e,t,r);case 4:return Qs(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ws(t,null,n,r):wa(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Aa(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 7:return wa(e,t,t.pendingProps,r),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Si(_s,n._currentValue),n._currentValue=a,null!==o)if(an(o.value,a)){if(o.children===i.children&&!Ii.current){t=qa(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){a=o.child;for(var l=c.firstContext;null!==l;){if(l.context===n){if(1===o.tag){(l=js(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ts(o.return,r,t),c.lanes|=r;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=r,null!==(c=a.alternate)&&(c.lanes|=r),Ts(a,r,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Is(t,r),n=n(i=Os(i)),t.flags|=1,wa(e,t,n,r),t.child;case 14:return i=ra(n=t.type,t.pendingProps),_a(e,t,n,i=ra(n.type,i),r);case 15:return Ea(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ra(n,i),Ga(e,t),t.tag=1,Ci(n)?(e=!0,Bi(t)):e=!1,Is(t,r),oa(t,n,i),ca(t,n,i,r),Ta(null,t,n,!0,e,r);case 19:return za(e,t,r);case 22:return xa(e,t,r)}throw Error(s(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Vl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function Xl(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=ql(o);a.call(e)}}Gl(t,o,e,i)}else o=function(e,t,r,n,i){if(i){if("function"===typeof n){var s=n;n=function(){var e=ql(o);s.call(e)}}var o=zl(t,n,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[pi]=o.current,zn(8===e.nodeType?e.parentNode:e),ul(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var a=n;n=function(){var e=ql(c);a.call(e)}}var c=Fl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=c,e[pi]=c.current,zn(8===e.nodeType?e.parentNode:e),ul((function(){Gl(t,c,r,n)})),c}(r,t,e,i,n);return ql(o)}Ql.prototype.render=Vl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gl(e,t,null,null)},Ql.prototype.unmount=Vl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Gl(null,e,null,null)})),t[pi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nt.length&&0!==t&&t<Nt[r].priority;r++);Nt.splice(r,0,e),0===r&&Dt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(bt(t,1|r),nl(t,Ye()),0===(6&Tc)&&(zc=Ye()+500,zi()))}break;case 13:ul((function(){var t=Ls(e,1);if(null!==t){var r=el();rl(t,e,1,r)}})),$l(e,1)}},_t=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)rl(t,e,134217728,el());$l(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),r=Ls(e,t);if(null!==r)rl(r,e,t,el());$l(e,t)}},xt=function(){return vt},kt=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},_e=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ai(n);if(!i)throw Error(s(90));K(n),J(n,i)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Te=ll,Ie=ul;var eu={usingClientEntryPoint:!1,Events:[vi,wi,Ai,Se,Pe,ll]},tu={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{it=nu.inject(ru),st=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Zl(e))throw Error(s(299));var r=!1,n="",i=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fl(e,1,!1,null,0,r,0,n,i),e[pi]=t.current,zn(8===e.nodeType?e.parentNode:e),new Vl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,r){if(!Yl(t))throw Error(s(200));return Xl(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Zl(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",a=Kl;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),t=zl(t,null,e,1,null!=r?r:null,i,0,o,a),e[pi]=t.current,zn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Ql(t)},t.render=function(e,t,r){if(!Yl(t))throw Error(s(200));return Xl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(s(40));return!!e._reactRootContainer&&(ul((function(){Xl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yl(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xl(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},9454:(e,t,r)=>{"use strict";var n=r(3989);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},3989:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2627)},7094:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(812),u=a(r(2176)),d=c(r(5110)),h=r(3746),f=c(r(1702)),p=c(r(4302)),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.genColor=function(e){t.generator.random();var r=Math.floor(e.length*t.generator.random());return e.splice(r,1)[0]},t.hueShift=function(e,t){var r=30*t.random()-15;return e.map((function(e){return(0,h.colorRotate)(e,r)}))},t.genShape=function(e,r,n,i){var s=r/2,o=t.generator.random(),a=2*Math.PI*o,c=r/i*t.generator.random()+n*r/i,u="translate("+Math.cos(a)*c+" "+Math.sin(a)*c+")"+" "+("rotate("+(360*o+180*t.generator.random()).toFixed(1)+" "+s+" "+s+")"),d=t.genColor(e);return(0,l.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",height:r,width:r,transform:u,fill:d},n)},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.diameter,n=void 0===r?24:r,s=t.paperStyles,o=void 0===s?{}:s,a=t.seed,c=t.svgStyles,u=void 0===c?{}:c;this.generator=new d.default(a);var h=this.hueShift(f.default.slice(),this.generator),m=Array(4).fill(void 0);return(0,l.jsx)(p.default,i({color:this.genColor(h),diameter:n,style:o},{children:(0,l.jsx)("svg",i({xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",height:n,width:n,style:u},{children:m.map((function(t,r){return e.genShape(h,n,r,3)}))}),void 0)}),void 0)},t}(u.PureComponent);t.default=m},4302:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(812),s={borderRadius:"50px",display:"inline-block",margin:0,overflow:"hidden",padding:0};t.default=function(e){var t=e.children,r=e.color,o=e.diameter,a=e.style;return(0,i.jsx)("div",n({className:"paper",style:n(n(n({},s),{backgroundColor:r,height:o,width:o}),a)},{children:t}),void 0)}},3746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HSLToHex=t.hexToHSL=t.colorRotate=void 0;t.colorRotate=function(e,r){var n=(0,t.hexToHSL)(e),i=n.h;return i=(i=(i+r)%360)<0?360+i:i,n.h=i,(0,t.HSLToHex)(n)};t.hexToHSL=function(e){var t="0x"+e[1]+e[2],r="0x"+e[3]+e[4],n="0x"+e[5]+e[6],i=parseInt(t)/255,s=parseInt(r)/255,o=parseInt(n)/255,a=Math.min(i,s,o),c=Math.max(i,s,o),l=c-a,u=0,d=0;return u=0==l?0:c==i?(s-o)/l%6:c==s?(o-i)/l+2:(i-s)/l+4,(u=Math.round(60*u))<0&&(u+=360),d=(c+a)/2,{h:u,s:+(100*(0==l?0:l/(1-Math.abs(2*d-1)))).toFixed(1),l:d=+(100*d).toFixed(1)}};t.HSLToHex=function(e){var t=e.h,r=e.s,n=e.l;r/=100,n/=100;var i=(1-Math.abs(2*n-1))*r,s=i*(1-Math.abs(t/60%2-1)),o=n-i/2,a=0,c=0,l=0;0<=t&&t<60?(a=i,c=s,l=0):60<=t&&t<120?(a=s,c=i,l=0):120<=t&&t<180?(a=0,c=i,l=s):180<=t&&t<240?(a=0,c=s,l=i):240<=t&&t<300?(a=s,c=0,l=i):300<=t&&t<360&&(a=i,c=0,l=s);var u=Math.round(255*(a+o)).toString(16),d=Math.round(255*(c+o)).toString(16),h=Math.round(255*(l+o)).toString(16);return 1==u.length&&(u="0"+u),1==d.length&&(d="0"+d),1==h.length&&(h="0"+h),"#"+u+d+h}},1702:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Object.freeze(["#01888c","#fc7500","#034f5d","#f73f01","#fc1960","#c7144c","#f3c100","#1598f2","#2465e1","#f19e02"])},5948:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.jsNumberForAddress=t.default=void 0;var i=r(7094);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}});var s=r(857);Object.defineProperty(t,"jsNumberForAddress",{enumerable:!0,get:function(){return n(s).default}})},857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.slice(2,10);return parseInt(t,16)}},6656:(e,t,r)=>{"use strict";var n=r(2176),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,s={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!c.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},83:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function b(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,m(w,y.prototype),w.isPureReactComponent=!0;var A=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!x.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:r,type:e,key:o,ref:a,props:s,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0}}if(c)return o=o(c=e),e=""===s?"."+T(c,0):s,A(o)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",A(e))for(var l=0;l<e.length;l++){var u=s+T(a=e[l],l);c+=I(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=I(a=a.value,t,i,u=s+T(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,r){if(null==e)return e;var n=[],i=0;return I(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},N={transition:null},L={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:N,ReactCurrentOwner:E};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,r){O(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:r,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,r){return C.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,r){return C.current.useReducer(e,t,r)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return C.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return C.current.useTransition()},t.version="18.3.1"},2176:(e,t,r)=>{"use strict";e.exports=r(83)},812:(e,t,r)=>{"use strict";e.exports=r(6656)},3748:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"===typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,s,o,a;if("string"===typeof t&&(s="not ",t.substr(!o||o<0?0:+o,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=function(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},1154:(e,t,r)=>{"use strict";var n=r(7802),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var s=r(8800),o=r(8528);r(3238)(u,s);for(var a=i(o.prototype),c=0;c<a.length;c++){var l=a[c];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},4708:(e,t,r)=>{"use strict";e.exports=i;var n=r(3342);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(3238)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},8800:(e,t,r)=>{"use strict";var n,i=r(7802);e.exports=k,k.ReadableState=x;r(5211).EventEmitter;var s=function(e,t){return e.listeners(t).length},o=r(7853),a=r(4507).Buffer,c=("undefined"!==typeof r.g?r.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var l,u=r(3951);l=u&&u.debuglog?u.debuglog("stream"):function(){};var d,h,f,p=r(357),m=r(9276),g=r(1655).getHighWaterMark,y=r(3748).F,b=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,A=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(3238)(k,o);var _=m.errorOrDestroy,E=["error","close","destroy","pause","resume"];function x(e,t,i){n=n||r(1154),e=e||{},"boolean"!==typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(7185).I),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function k(e){if(n=n||r(1154),!(this instanceof k))return new k(e);var t=this instanceof n;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function S(e,t,r,n,i){l("readableAddChunk",t);var s,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,o);else if(i||(s=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof c||"string"===typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(o,t)),s)_(e,s);else if(o.objectMode||t&&t.length>0)if("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)o.endEmitted?_(e,new A):P(e,o,t,!0);else if(o.ended)_(e,new v);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?P(e,o,t,!1):C(e,o)):P(e,o,t,!1)}else n||(o.reading=!1,C(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function P(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),C(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=m.destroy,k.prototype._undestroy=m.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},k.prototype.unshift=function(e){return S(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){d||(d=r(7185).I);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(R,e))}function R(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(l("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){l("readable nexttick read 0"),e.read(0)}function B(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(F,t,e))}function F(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function H(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}k.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):O(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},k.prototype._read=function(e){_(this,new w("_read()"))},k.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,l("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?c:g;function a(t,i){l("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",g),r.removeListener("data",h),d=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){l("onend"),e.end()}n.endEmitted?i.nextTick(o):r.once("end",o),e.on("unpipe",a);var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",u);var d=!1;function h(t){l("ondata");var i=e.write(t);l("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==H(n.pipes,e))&&!d&&(l("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){l("onerror",t),g(),e.removeListener("error",f),0===s(e,"error")&&_(e,t)}function p(){e.removeListener("finish",m),g()}function m(){l("onfinish"),e.removeListener("close",p),g()}function g(){l("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",m),e.emit("pipe",r),n.flowing||(l("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=H(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},k.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,l("on readable",n.length,n.reading),n.length?O(this):n.reading||i.nextTick(M,this))),r},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(L,this),r},k.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(L,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"===typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(3687)),h(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=j,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(k.from=function(e,t){return void 0===f&&(f=r(505)),f(k,e,t)})},3342:(e,t,r)=>{"use strict";e.exports=u;var n=r(3748).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(1154);function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(3238)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},8528:(e,t,r)=>{"use strict";var n,i=r(7802);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=k,k.WritableState=x;var o={deprecate:r(2039)},a=r(7853),c=r(4507).Buffer,l=("undefined"!==typeof r.g?r.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var u,d=r(9276),h=r(1655).getHighWaterMark,f=r(3748).F,p=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,A=f.ERR_UNKNOWN_ENCODING,_=d.errorOrDestroy;function E(){}function x(e,t,o){n=n||r(1154),e=e||{},"boolean"!==typeof o&&(o=t instanceof n),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,s=r.writecb;if("function"!==typeof s)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,s){--t.pendingcb,r?(i.nextTick(s,n),i.nextTick(R,e,t),e._writableState.errorEmitted=!0,_(e,n)):(s(n),e._writableState.errorEmitted=!0,_(e,n),R(e,t))}(e,r,n,t,s);else{var o=I(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||T(e,r),n?i.nextTick(P,e,r,o,s):P(e,r,o,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function k(e){var t=this instanceof(n=n||r(1154));if(!t&&!u.call(k,this))return new k(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),a.call(this)}function S(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function P(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,S(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,d=r.callback;if(S(e,t,!1,t.objectMode?1:l.length,l,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=I(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(3238)(k,a),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===k&&(e&&e._writableState instanceof x)}})):u=function(e){return e instanceof this},k.prototype.pipe=function(){_(this,new y)},k.prototype.write=function(e,t,r){var n,s=this._writableState,o=!1,a=!s.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(r=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!==typeof r&&(r=E),s.ending?function(e,t){var r=new w;_(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var s;return null===r?s=new v:"string"===typeof r||t.objectMode||(s=new p("chunk",["string","Buffer"],r)),!s||(_(e,s),i.nextTick(n,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,a,n,i,s);return l}(this,s,a,e,t,r)),o},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new A(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,r){r(new m("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,r){var n=this._writableState;return"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(e,t){t(e)}},3687:(e,t,r)=>{"use strict";var n,i=r(7802);function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(18),a=Symbol("lastResolve"),c=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function m(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[d]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function g(e){i.nextTick(m,e)}var y=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((s(n={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[l]?r(e[l]):t(p(void 0,!0))}))}));var r,n=this[d];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(p(s,!1));r=new Promise(this[h])}return this[d]=r,r}},Symbol.asyncIterator,(function(){return this})),s(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),y);e.exports=function(e){var t,r=Object.create(b,(s(t={},f,{value:e,writable:!0}),s(t,a,{value:null,writable:!0}),s(t,c,{value:null,writable:!0}),s(t,l,{value:null,writable:!0}),s(t,u,{value:e._readableState.endEmitted,writable:!0}),s(t,h,{value:function(e,t){var n=r[f].read();n?(r[d]=null,r[a]=null,r[c]=null,e(p(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[d]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[d]=null,r[a]=null,r[c]=null,t(e)),void(r[l]=e)}var n=r[a];null!==n&&(r[d]=null,r[a]=null,r[c]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",g.bind(null,r)),r}},357:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var c=r(4507).Buffer,l=r(3011).inspect,u=l&&l.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,n,i=c.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,n=o,c.prototype.copy.call(t,r,n),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return l(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},9276:(e,t,r)=>{"use strict";var n=r(7802);function i(e,t){o(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,e)):n.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(s,r),t(e)):n.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},18:(e,t,r)=>{"use strict";var n=r(3748).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,s){if("function"===typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,o||s.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,d=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",u),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",u),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}},505:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},538:(e,t,r)=>{"use strict";var n;var i=r(3748).F,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function l(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var u,d=function(e){return e.length?"function"!==typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var h=t.map((function(e,i){var s=i<t.length-1;return function(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(18)),n(e,{readable:t,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}(e,s,i>0,(function(e){u||(u=e),e&&h.forEach(c),s||(h.forEach(c),d(u))}))}));return t.reduce(l)}},1655:(e,t,r)=>{"use strict";var n=r(3748).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},7853:(e,t,r)=>{e.exports=r(5211).EventEmitter},547:(e,t,r)=>{(t=e.exports=r(8800)).Stream=t,t.Readable=t,t.Writable=r(8528),t.Duplex=r(1154),t.Transform=r(3342),t.PassThrough=r(4708),t.finished=r(18),t.pipeline=r(538)},8623:(e,t,r)=>{"use strict";var n=r(4507).Buffer,i=r(3238),s=r(3501),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,r,n,i,s,o,a){return p(e+(t^r^n)+s+o|0,a)+i|0}function g(e,t,r,n,i,s,o,a){return p(e+(t&r|~t&n)+s+o|0,a)+i|0}function y(e,t,r,n,i,s,o,a){return p(e+((t|~r)^n)+s+o|0,a)+i|0}function b(e,t,r,n,i,s,o,a){return p(e+(t&n|r&~n)+s+o|0,a)+i|0}function v(e,t,r,n,i,s,o,a){return p(e+(t^(r|~n))+s+o|0,a)+i|0}i(f,s),f.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,f=0|this._e,w=0|this._a,A=0|this._b,_=0|this._c,E=0|this._d,x=0|this._e,k=0;k<80;k+=1){var S,P;k<16?(S=m(r,n,i,s,f,e[a[k]],d[0],l[k]),P=v(w,A,_,E,x,e[c[k]],h[0],u[k])):k<32?(S=g(r,n,i,s,f,e[a[k]],d[1],l[k]),P=b(w,A,_,E,x,e[c[k]],h[1],u[k])):k<48?(S=y(r,n,i,s,f,e[a[k]],d[2],l[k]),P=y(w,A,_,E,x,e[c[k]],h[2],u[k])):k<64?(S=b(r,n,i,s,f,e[a[k]],d[3],l[k]),P=g(w,A,_,E,x,e[c[k]],h[3],u[k])):(S=v(r,n,i,s,f,e[a[k]],d[4],l[k]),P=m(w,A,_,E,x,e[c[k]],h[4],u[k])),r=f,f=s,s=p(i,10),i=n,n=S,w=x,x=E,E=p(_,10),_=A,A=P}var T=this._b+i+E|0;this._b=this._c+s+x|0,this._c=this._d+f+w|0,this._d=this._e+r+A|0,this._e=this._a+n+_|0,this._a=T},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=f},6473:(e,t,r)=>{var n=r(4507),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},8291:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<s(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,o=i>>>1;n<o;){var a=2*(n+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,r))l<i&&0>s(u,c)?(e[n]=u,e[l]=r,n=l):(e[n]=c,e[a]=r,n=a);else{if(!(l<i&&0>s(u,r)))break e;e[n]=u,e[l]=r,n=l}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,r(l,t)}t=n(u)}}function A(e){if(g=!1,w(e),!m)if(null!==n(l))m=!0,N(_);else{var t=n(u);null!==t&&L(A,t.startTime-e)}}function _(e,r){m=!1,g&&(g=!1,b(S),S=-1),p=!0;var s=f;try{for(w(r),h=n(l);null!==h&&(!(h.expirationTime>r)||e&&!I());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof a?h.callback=a:h===n(l)&&i(l),w(r)}else i(l);h=n(l)}if(null!==h)var c=!0;else{var d=n(u);null!==d&&L(A,d.startTime-r),c=!1}return c}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,k=null,S=-1,P=5,T=-1;function I(){return!(t.unstable_now()-T<P)}function O(){if(null!==k){var e=t.unstable_now();T=e;var r=!0;try{r=k(!0,e)}finally{r?E():(x=!1,k=null)}}else x=!1}if("function"===typeof v)E=function(){v(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,C=R.port2;R.port1.onmessage=O,E=function(){C.postMessage(null)}}else E=function(){y(O,0)};function N(e){k=e,x||(x=!0,E())}function L(e,r){S=y((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,r(u,e),null===n(l)&&e===n(u)&&(g?(b(S),S=-1):g=!0,L(A,s-o))):(e.sortIndex=a,r(l,e),m||p||(m=!0,N(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},4442:(e,t,r)=>{"use strict";e.exports=r(8291)},867:function(e,t,r){var n=r(7802);!function(e){"use strict";if(!e.setImmediate){var t,r=1,i={},s=!1,o=e.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(e);a=a&&a.setTimeout?a:e,"[object process]"==={}.toString.call(e.process)?t=function(e){n.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var r="setImmediate$"+Math.random()+"$",n=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(r)&&l(+t.data.slice(r.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),t=function(t){e.postMessage(r+t,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},t=function(t){e.port2.postMessage(t)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;t=function(t){var r=o.createElement("script");r.onreadystatechange=function(){l(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():t=function(e){setTimeout(l,0,e)},a.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var n=new Array(arguments.length-1),s=0;s<n.length;s++)n[s]=arguments[s+1];var o={callback:e,args:n};return i[r]=o,t(r),r++},a.clearImmediate=c}function c(e){delete i[e]}function l(e){if(s)setTimeout(l,0,e);else{var t=i[e];if(t){s=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{c(e),s=!1}}}}}("undefined"===typeof self?"undefined"===typeof r.g?this:r.g:self)},5196:(e,t,r)=>{var n=r(6473).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,s=e.length,o=this._len,a=0;a<s;){for(var c=o%i,l=Math.min(s-a,i-c),u=0;u<l;u++)r[c+u]=e[a+u];a+=l,(o+=l)%i===0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},5718:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(8564),n.sha1=r(141),n.sha224=r(8962),n.sha256=r(7871),n.sha384=r(247),n.sha512=r(4022)},8564:(e,t,r)=>{var n=r(3238),i=r(5196),s=r(6473).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function l(e){return e<<30|e>>>2}function u(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=r[d-3]^r[d-8]^r[d-14]^r[d-16];for(var h=0;h<80;++h){var f=~~(h/20),p=0|((t=n)<<5|t>>>27)+u(f,i,s,a)+c+r[h]+o[f];c=a,a=s,s=l(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},141:(e,t,r)=>{var n=r(3238),i=r(5196),s=r(6473).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function l(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function d(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=(t=r[h-3]^r[h-8]^r[h-14]^r[h-16])<<1|t>>>31;for(var f=0;f<80;++f){var p=~~(f/20),m=l(n)+d(p,i,s,a)+c+r[f]+o[p]|0;c=a,a=s,s=u(i),i=n,n=m}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},8962:(e,t,r)=>{var n=r(3238),i=r(7871),s=r(5196),o=r(6473).Buffer,a=new Array(64);function c(){this.init(),this._w=a,s.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},7871:(e,t,r)=>{var n=r(3238),i=r(5196),s=r(6473).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function l(e,t,r){return r^e&(t^r)}function u(e,t,r){return e&t|r&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function f(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,y=0;y<16;++y)r[y]=e.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((t=r[y-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[y-7]+f(r[y-15])+r[y-16];for(var b=0;b<64;++b){var v=g+h(c)+l(c,p,m)+o[b]+r[b]|0,w=d(n)+u(n,i,s)|0;g=m,m=p,p=c,c=a+v|0,a=s,s=i,i=n,n=v+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},247:(e,t,r)=>{var n=r(3238),i=r(4022),s=r(5196),o=r(6473).Buffer,a=new Array(160);function c(){this.init(),this._w=a,s.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},4022:(e,t,r)=>{var n=r(3238),i=r(5196),s=r(6473).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function l(e,t,r){return r^e&(t^r)}function u(e,t,r){return e&t|r&(e|t)}function d(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,a=0|this._eh,c=0|this._fh,b=0|this._gh,v=0|this._hh,w=0|this._al,A=0|this._bl,_=0|this._cl,E=0|this._dl,x=0|this._el,k=0|this._fl,S=0|this._gl,P=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var I=t[T-30],O=t[T-30+1],R=f(I,O),C=p(O,I),N=m(I=t[T-4],O=t[T-4+1]),L=g(O,I),M=t[T-14],B=t[T-14+1],D=t[T-32],j=t[T-32+1],U=C+B|0,F=R+M+y(U,C)|0;F=(F=F+N+y(U=U+L|0,L)|0)+D+y(U=U+j|0,j)|0,t[T]=F,t[T+1]=U}for(var H=0;H<160;H+=2){F=t[H],U=t[H+1];var z=u(r,n,i),G=u(w,A,_),q=d(r,w),W=d(w,r),$=h(a,x),K=h(x,a),V=o[H],Q=o[H+1],Z=l(a,c,b),Y=l(x,k,S),J=P+K|0,X=v+$+y(J,P)|0;X=(X=(X=X+Z+y(J=J+Y|0,Y)|0)+V+y(J=J+Q|0,Q)|0)+F+y(J=J+U|0,U)|0;var ee=W+G|0,te=q+z+y(ee,W)|0;v=b,P=S,b=c,S=k,c=a,k=x,a=s+X+y(x=E+J|0,E)|0,s=i,E=_,i=n,_=A,n=r,A=w,r=X+te+y(w=J+ee|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+A|0,this._cl=this._cl+_|0,this._dl=this._dl+E|0,this._el=this._el+x|0,this._fl=this._fl+k|0,this._gl=this._gl+S|0,this._hl=this._hl+P|0,this._ah=this._ah+r+y(this._al,w)|0,this._bh=this._bh+n+y(this._bl,A)|0,this._ch=this._ch+i+y(this._cl,_)|0,this._dh=this._dh+s+y(this._dl,E)|0,this._eh=this._eh+a+y(this._el,x)|0,this._fh=this._fh+c+y(this._fl,k)|0,this._gh=this._gh+b+y(this._gl,S)|0,this._hh=this._hh+v+y(this._hl,P)|0},c.prototype._hash=function(){var e=s.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},5050:(e,t,r)=>{e.exports=i;var n=r(5211).EventEmitter;function i(){n.call(this)}r(3238)(i,n),i.Readable=r(8800),i.Writable=r(8528),i.Duplex=r(1154),i.Transform=r(3342),i.PassThrough=r(4708),i.finished=r(18),i.pipeline=r(538),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",c));var o=!1;function a(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"===typeof e.destroy&&e.destroy())}function l(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",i),e.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",l),e.on("error",l),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},7185:(e,t,r)=>{"use strict";var n=r(6473).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.I=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=o(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=o(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1587:(e,t,r)=>{var n=r(4507).Buffer;e.exports=function(e){return ArrayBuffer.isView(e)?n.from(e.buffer,e.byteOffset,e.byteLength):n.from(e)}},8404:function(e,t,r){var n;!function(i,s){"use strict";var o="function",a="undefined",c="object",l="string",u="major",d="model",h="name",f="type",p="vendor",m="version",g="architecture",y="console",b="mobile",v="tablet",w="smarttv",A="wearable",_="embedded",E="Amazon",x="Apple",k="ASUS",S="BlackBerry",P="Browser",T="Chrome",I="Firefox",O="Google",R="Huawei",C="LG",N="Microsoft",L="Motorola",M="Opera",B="Samsung",D="Sharp",j="Sony",U="Xiaomi",F="Zebra",H="Facebook",z="Chromium OS",G="Mac OS",q=" Browser",W=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},$=function(e,t){return typeof e===l&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Q=function(e,t){for(var r,n,i,a,l,u,d=0;d<t.length&&!l;){var h=t[d],f=t[d+1];for(r=n=0;r<h.length&&!l&&h[r];)if(l=h[r++].exec(e))for(i=0;i<f.length;i++)u=l[++n],typeof(a=f[i])===c&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):s:this[a[0]]=u?a[1].call(this,u,a[2]):s:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):s):this[a]=u||s;d+=2}},Z=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if($(t[r][n],e))return"?"===r?s:r}else if($(t[r],e))return"?"===r?s:r;return t.hasOwnProperty("*")?t["*"]:e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[h,M+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[h,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/quark(?:pc)?\/([-\w\.]+)/i],[m,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[m,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+P]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[h,"Smart Lenovo "+P]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+P],m],[/\bfocus\/([\w\.]+)/i],[m,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI "+P]],[/fxios\/([-\w\.]+)/i],[m,[h,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+q]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],m],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+q],m],[/samsungbrowser\/([\w\.]+)/i],[m,[h,B+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,m],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,H],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,T+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+P]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/(wolvic)\/([\w\.]+)/i],[h,m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[m,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,K]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,B],[f,v]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,B],[f,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,x],[f,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,x],[f,v]],[/(macintosh);/i],[d,[p,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,D],[f,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,R],[f,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,R],[f,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[p,U],[f,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,U],[f,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[f,b]],[/\b(opd2\d{3}a?) bui/i],[d,[p,"OPPO"],[f,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[f,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[f,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,L],[f,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,L],[f,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,C],[f,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,C],[f,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[f,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[f,b]],[/(pixel c)\b/i],[d,[p,O],[f,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,O],[f,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,j],[f,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,j],[f,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[f,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,E],[f,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,E],[f,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[f,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,S],[f,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,k],[f,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,k],[f,b]],[/(nexus 9)/i],[d,[p,"HTC"],[f,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[f,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[p,"TCL"],[f,v]],[/(itel) ((\w+))/i],[[p,K],d,[f,Z,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[f,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[f,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[f,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[p,"Nothing"],[f,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[f,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[f,v]],[/(surface duo)/i],[d,[p,N],[f,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[f,b]],[/(u304aa)/i],[d,[p,"AT&T"],[f,b]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[f,b]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[f,v]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[f,v]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[f,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[f,v]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[f,v]],[/\b(k88) b/i],[d,[p,"ZTE"],[f,v]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[f,b]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[f,b]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[f,v]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[f,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[f,v]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[f,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[f,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[f,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[f,b]],[/\b(ph-1) /i],[d,[p,"Essential"],[f,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[f,v]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[f,v]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[f,v]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[f,v]],[/(sprint) (\w+)/i],[p,d,[f,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,N],[f,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,F],[f,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,F],[f,b]],[/smart-tv.+(samsung)/i],[p,[f,w]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,B],[f,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,C],[f,w]],[/(apple) ?tv/i],[p,[d,x+" TV"],[f,w]],[/crkey/i],[[d,T+"cast"],[p,O],[f,w]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,E],[f,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,D],[f,w]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,j],[f,w]],[/(mitv-\w{5}) bui/i],[d,[p,U],[f,w]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[f,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,V],[d,V],[f,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[f,y]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[f,y]],[/(playstation [345portablevi]+)/i],[d,[p,j],[f,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,N],[f,y]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[p,B],[f,A]],[/((pebble))app/i],[p,d,[f,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,x],[f,A]],[/droid.+; (glass) \d/i],[d,[p,O],[f,A]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,F],[f,A]],[/(quest( \d| pro)?)/i],[d,[p,H],[f,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[f,_]],[/(aeobc)\b/i],[d,[p,E],[f,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[f,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[f,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,b]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[m,Z,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,Z,Y],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,G],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,m],[/\(bb(10);/i],[m,[h,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[h,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,z],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,m]]},X=function(e,t){if(typeof e===c&&(t=e,e=s),!(this instanceof X))return new X(e,t).getResult();var r=typeof i!==a&&i.navigator?i.navigator:s,n=e||(r&&r.userAgent?r.userAgent:""),y=r&&r.userAgentData?r.userAgentData:s,w=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2===0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(J,t):J,A=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[h]=s,t[m]=s,Q.call(t,n,w.browser),t[u]=typeof(e=t[m])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:s,A&&r&&r.brave&&typeof r.brave.isBrave==o&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[g]=s,Q.call(e,n,w.cpu),e},this.getDevice=function(){var e={};return e[p]=s,e[d]=s,e[f]=s,Q.call(e,n,w.device),A&&!e[f]&&y&&y.mobile&&(e[f]=b),A&&"Macintosh"==e[d]&&r&&typeof r.standalone!==a&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[f]=v),e},this.getEngine=function(){var e={};return e[h]=s,e[m]=s,Q.call(e,n,w.engine),e},this.getOS=function(){var e={};return e[h]=s,e[m]=s,Q.call(e,n,w.os),A&&!e[h]&&y&&y.platform&&"Unknown"!=y.platform&&(e[h]=y.platform.replace(/chrome os/i,z).replace(/macos/i,G)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>500?V(e,500):e,this},this.setUA(n),this};X.VERSION="1.0.39",X.BROWSER=W([h,m,u]),X.CPU=W([g]),X.DEVICE=W([d,p,f,y,b,w,v,A,_]),X.ENGINE=X.OS=W([h,m]),typeof t!==a?(e.exports&&(t=e.exports=X),t.UAParser=X):r.amdO?(n=function(){return X}.call(t,r,t,e))===s||(e.exports=n):typeof i!==a&&(i.UAParser=X);var ee=typeof i!==a&&(i.jQuery||i.Zepto);if(ee&&!ee.ua){var te=new X;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var r in t)ee.ua[r]=t[r]}}}("object"===typeof window?window:this)},2039:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(n){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},4068:(e,t,r)=>{"use strict";var n=r(6473).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,s=0;e[r]===c;)i++,r++;for(var o=(e.length-r)*l+1>>>0,u=new Uint8Array(o);r<e.length;){var d=t[e.charCodeAt(r)];if(255===d)return;for(var h=0,f=o-1;(0!==d||h<s)&&-1!==f;f--,h++)d+=a*u[f]>>>0,u[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");s=h,r++}for(var p=o-s;p!==o&&0===u[p];)p++;var m=n.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=u[p++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var l=(o-s)*u+1>>>0,d=new Uint8Array(l);s!==o;){for(var h=t[s],f=0,p=l-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,s++}for(var m=l-i;m!==l&&0===d[m];)m++;for(var g=c.repeat(r);m<l;++m)g+=e.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},9643:(e,t,r)=>{var n=r(4068);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},7444:(e,t,r)=>{"use strict";var n=r(9643),i=r(6473).Buffer;e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return n.encode(i.concat([t,r],t.length+4))},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},4065:(e,t,r)=>{"use strict";var n=r(3576),i=r(7444);e.exports=i((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},5423:()=>{},8379:()=>{},3553:()=>{},3011:()=>{},3951:()=>{},183:e=>{"use strict";e.exports={rE:"6.6.1"}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=e,r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,r.d(s,o),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".bc24d728.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="telegram-mini-app:";r.l=(n,i,s,o)=>{if(e[n])e[n].push(i);else{var a,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+s),a.src=n),e[n]=[i];var h=(t,r)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise(((r,n)=>i=e[t]=[r,n]));n.push(i[2]=s);var o=r.p+r.u(t),a=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,s,o=n[0],a=n[1],c=n[2],l=0;if(o.some((t=>0!==e[t]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(c)c(r)}for(t&&t(n);l<o.length;l++)s=o[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunktelegram_mini_app=self.webpackChunktelegram_mini_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{Decoder:()=>Lr,Encoder:()=>Cr,PacketType:()=>Or,protocol:()=>Ir});var t={};r.r(t),r.d(t,{OG:()=>Fy,My:()=>Ry,Ph:()=>Ly,lX:()=>My,Id:()=>Uy,fg:()=>Gy,qj:()=>jy,aT:()=>Ny,lq:()=>By,z:()=>Dy,Q5:()=>Wy});var n={};r.r(n),r.d(n,{abiSchemaToJsonSchema:()=>KS,codePointToInt:()=>YS,ensureIfUint8Array:()=>sP,ethAbiToJsonSchema:()=>VS,fetchArrayElement:()=>QS,hexToNumber:()=>JS,hexToUint8Array:()=>iP,numberToHex:()=>XS,padLeft:()=>eP,parseBaseType:()=>WS,transformJsonDataToAbiFormat:()=>ZS,uint8ArrayToHexString:()=>tP});var i={};r.r(i),r.d(i,{isBatchRequest:()=>gI,isBatchResponse:()=>dI,isResponseRpcError:()=>iI,isResponseWithError:()=>oI,isResponseWithNotification:()=>aI,isResponseWithResult:()=>sI,isSubscriptionResult:()=>cI,isValidResponse:()=>uI,setRequestIdStart:()=>fI,toBatchPayload:()=>mI,toPayload:()=>pI,validateResponse:()=>lI});var s={};r.r(s),r.d(s,{ChunkResponseParser:()=>wI,Eip1193Provider:()=>_I,EventEmitter:()=>aT,SocketProvider:()=>kI,Web3DeferredPromise:()=>vI,asciiToHex:()=>VP,bytesToHex:()=>LP,bytesToUint8Array:()=>CP,checkAddressCheckSum:()=>uT,compareBlockNumbers:()=>bT,convert:()=>LT,convertScalarValue:()=>CT,encodePacked:()=>qT,ethUnitMap:()=>OP,format:()=>MT,fromAscii:()=>QP,fromDecimal:()=>UP,fromTwosComplement:()=>TT,fromUtf8:()=>zP,fromWei:()=>tT,getStorageSlotNumForLongString:()=>KT,hexToAscii:()=>ZP,hexToBytes:()=>MP,hexToNumber:()=>BP,hexToNumberString:()=>FP,hexToString:()=>KP,hexToUtf8:()=>qP,isAddress:()=>dT,isBatchRequest:()=>gI,isBatchResponse:()=>dI,isBloom:()=>hT,isContractAddressInBloom:()=>mT,isContractInitOptions:()=>vT,isDataFormat:()=>OT,isHex:()=>lT,isHexStrict:()=>cT,isInBloom:()=>fT,isNullish:()=>wT,isPromise:()=>YT,isResponseRpcError:()=>iI,isResponseWithError:()=>oI,isResponseWithNotification:()=>aI,isResponseWithResult:()=>sI,isSubscriptionResult:()=>cI,isTopic:()=>gT,isTopicInBloom:()=>yT,isUint8Array:()=>PP,isUserEthereumAddressInBloom:()=>pT,isValidResponse:()=>uI,jsonRpc:()=>i,keccak256:()=>DT,keccak256Wrapper:()=>DT,leftPad:()=>ST,mergeDeep:()=>_T,numberToHex:()=>jP,padLeft:()=>ET,padRight:()=>xT,pollTillDefined:()=>eI,pollTillDefinedAndReturnIntervalId:()=>XT,processSolidityEncodePackedArgs:()=>GT,randomBytes:()=>VT,randomHex:()=>QT,rejectIfConditionAtInterval:()=>rI,rejectIfTimeout:()=>tI,rightPad:()=>kT,setRequestIdStart:()=>fI,sha3:()=>jT,sha3Raw:()=>UT,soliditySha3:()=>WT,soliditySha3Raw:()=>$T,stringToHex:()=>GP,toAscii:()=>YP,toBatchPayload:()=>mI,toBigInt:()=>eT,toBool:()=>iT,toChecksumAddress:()=>nT,toDecimal:()=>DP,toHex:()=>JP,toNumber:()=>XP,toPayload:()=>pI,toTwosComplement:()=>PT,toUtf8:()=>WP,toWei:()=>rT,uint8ArrayConcat:()=>TP,uint8ArrayEquals:()=>IP,utf8ToBytes:()=>$P,utf8ToHex:()=>HP,uuidV4:()=>nI,validateResponse:()=>lI,waitWithTimeout:()=>JT});var o={};r.r(o),r.d(o,{DO:()=>OO,OG:()=>GO,My:()=>CO,Ph:()=>DO,lX:()=>jO,Id:()=>zO,fg:()=>$O,qj:()=>HO,aT:()=>BO,aY:()=>IO,lq:()=>UO,z:()=>FO,Q5:()=>VO});var a={};r.r(a),r.d(a,{secp256k1:()=>OR});var c=r(8677),l=r(2176),u=r.t(l,2),d=r(9454),h=r(812);const f=e=>new Promise((t=>setTimeout(t,e))),p=e=>t=>{e(t.detail)};class m{constructor(e){this._callbacks=new Map,this._timeout=e}addCallback(e){if(this._callbacks.has(e))throw new Error("Callback already exists");return new Promise(((t,r)=>{this._callbacks.set(e,{resolve:t,reject:r}),setTimeout((()=>{const t=this._callbacks.get(e);t&&(this._callbacks.delete(e),t.reject(new Error("Timeout")))}),this._timeout)}))}resolveCallback(e,t){const r=this._callbacks.get(e);return!!r&&(this._callbacks.delete(e),setTimeout((()=>r.resolve(t)),0),!0)}rejectCallback(e,t){const r=this._callbacks.get(e);return!!r&&(this._callbacks.delete(e),setTimeout((()=>r.reject(t)),0),!0)}removeCallback(e){return this._callbacks.delete(e)}}let g,y;try{g=/\s+at\s(?:(?<method>.+?)\s\()?(?<file>.+?):(?<line>\d+):(?<char>\d+)\)?\s*$/}catch(gZ){y=/\s+at\s(?:(.+?)\s\()?(.+?):(\d+):(\d+)\)?\s*$/}class b{constructor(){this._map=new Map}set(e,t,r){const n=this._map.get(e);if(n)n.set(t,r);else{const n=new Map;n.set(t,r),this._map.set(e,n)}return this}has(e,t){return this._map.get(e)?.has(t)??!1}get(e,t){return this._map.get(e)?.get(t)}delete(e,t){const r=this._map.get(e);return r&&(r.delete(t),0===r.size&&this._map.delete(e)),this}clear(){return this._map.clear(),this}entries(){const e=[];for(const[t,r]of this._map.entries())for(const[n,i]of r.entries())e.push([t,n,i]);return e[Symbol.iterator]()}[Symbol.iterator](){return this.entries()}get size(){let e=0;for(const t of this._map.values())e+=t.size;return e}}Symbol.iterator;class v{constructor(){this._target=new EventTarget,this._listeners=new b,this._disposed=!1}on(e,t){if(!this._disposed){const r=p(t);this._target.addEventListener(e,r),this._listeners.set(e,t,r)}return this}once(e,t){if(!this._disposed){const r=p(t);this._target.addEventListener(e,r,{once:!0}),this._listeners.set(e,t,r)}return this}off(e,t){return this.removeListener(e,t)}removeListener(e,t){const r=this._listeners.get(e,t);return r&&(this._target.removeEventListener(e,r),this._listeners.delete(e,t)),this}removeAllListeners(e){for(const[t,r,n]of this._listeners)e&&t!==e||(this._target.removeEventListener(t,n),this._listeners.delete(t,r));return this}dispose(){this._disposed=!0,this.removeAllListeners()}emit(e,t){this._disposed||this._target.dispatchEvent(new CustomEvent(e,{detail:t}))}}const w=new Map([EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map((e=>[e.name,e]))),A=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),_=(e,t)=>{if(Array.isArray(e))return e.map((e=>_(e,t)));if(e&&"object"===typeof e){if((e=>{if("object"===typeof e&&A(e,"t")&&"string"===typeof e.t){const t=Object.keys(e);return 1===t.length||2===t.length&&A(e,"v")&&"string"===typeof e.v}return!1})(e)){const{customParse:r}=t;if(r){const{useResult:n,result:i}=r(e,t);if(n)return i}return((e,t)=>{let{t:r,v:n}=e;var i;switch(r){case"function":case"undefined":return;case"null":return null;case"symbol":return void 0===n?Symbol():Symbol.for(n)}if(void 0===n)throw new Error("No value");switch(r){case"bigint":if(n.startsWith("r")){let e=Number.parseInt(n[1],36);0===e&&(e=36);const t="-"===n[2],r=t?3:2,i=[n.slice(r)].reduce(((t,r)=>t*BigInt(e)+BigInt(Number.parseInt(r,e))),BigInt(0));return t?-i:i}return BigInt(n);case"boolean":return"1"===n;case"Date":return n.includes("T")?new Date(n):new Date(Number(n));case"Error":{const{name:e,message:r,stack:s}=E(n,t),o=new(null!==(i=w.get(e))&&void 0!==i?i:Error)(r);return o.stack=s,o}case"Map":return new Map(E(n,t));case"number":return Number(n);case"Set":return new Set(E(n,t));case"string":return n;default:throw new Error(`Unknown type: ${r}`)}})(e,t)}const r={};for(const[n,i]of Object.entries(e))r[n]=_(i,t);return r}throw new Error("Invalid structure")},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(JSON.parse(e),t)},x=(e,t)=>{const{customStringify:r}=t;if(r){const{useResult:n,result:i}=r(e,t);if(n)return i}if(Array.isArray(e))return e.map((e=>x(e,t)));if(e&&"object"===typeof e&&!(e instanceof Date)&&!(e instanceof Error)&&!(e instanceof Map)&&!(e instanceof Set)){const r={};for(const[n,i]of Object.entries(e))r[n]=x(i,t);return r}return((e,t)=>{const{bigintRadix:r,dateFormat:n,ignoreFunctions:i,skipNull:s,skipUndefined:o}=t;if(null===e)return s?void 0:{t:"null"};if(void 0===e)return o?void 0:{t:"undefined"};if(e instanceof Date)return{t:"Date",v:"iso"===n?e.toISOString():e.getTime().toString()};if(e instanceof Error)return{t:"Error",v:k({name:e.name,message:e.message,stack:e.stack},t)};if(e instanceof Map)return{t:"Map",v:k([...e],t)};if(e instanceof Set)return{t:"Set",v:k([...e],t)};switch(typeof e){case"bigint":if(!Number.isInteger(r)||r<2||r>36)throw new RangeError("bigintRadix must be an integer between 2 and 36");return 10===r?{t:"bigint",v:e.toString()}:{t:"bigint",v:"r"+r.toString(36).slice(-1)+e.toString(r)};case"boolean":return{t:"boolean",v:e?"1":"0"};case"function":if(!i)throw new Error("Functions can not be stringified");return{t:"function"};case"number":return{t:"number",v:e.toString()};case"string":return{t:"string",v:e};case"symbol":return{t:"symbol",v:Symbol.keyFor(e)}}throw new Error("Unknown datatype: "+typeof e)})(e,t)},k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n,i,s,o;return JSON.stringify(x(e,{bigintRadix:null!==(r=t.bigintRadix)&&void 0!==r?r:10,customStringify:t.customStringify,dateFormat:null!==(n=t.dateFormat)&&void 0!==n?n:"iso",ignoreFunctions:null!==(i=t.ignoreFunctions)&&void 0!==i&&i,skipNull:null!==(s=t.skipNull)&&void 0!==s&&s,skipUndefined:null!==(o=t.skipUndefined)&&void 0!==o&&o}))};var S=r(4191),P=r.n(S),T=r(4507).Buffer;const I=(e,t)=>{const{error:r,value:n}=t.validate(e);if(r)throw r;return n},O=(e,t)=>{const{error:r}=t.validate(e);return!r},R=e=>e instanceof T?{useResult:!0,result:{t:"Buffer",v:e.toString("base64")}}:{useResult:!1},C=e=>{const{t:t,v:r}=e;if("Buffer"===t){if(void 0===r)throw new Error("No value");return{useResult:!0,result:T.from(r,"base64")}}return{useResult:!1}},N=e=>k(e,{customStringify:R}),L=e=>E(e,{customParse:C});class M extends Error{constructor(e,t,r){super(e),this.code=t,this.data=r}}var B="",D="function",j="undefined",U="object",F="string",H="major",z="model",G="name",q="type",W="vendor",$="version",K="architecture",V="console",Q="mobile",Z="tablet",Y="smarttv",J="wearable",X="xr",ee="embedded",te="inapp",re="user-agent",ne="brands",ie="formFactors",se="fullVersionList",oe="platform",ae="platformVersion",ce="bitness",le="sec-ch-ua",ue=le+"-full-version-list",de=le+"-arch",he=le+"-"+ce,fe=le+"-form-factors",pe=le+"-"+Q,me=le+"-"+z,ge=le+"-"+oe,ye=ge+"-version",be=[ne,se,Q,z,oe,ae,K,ie,ce],ve="browser",we="cpu",Ae="device",_e="engine",Ee="os",xe="result",ke="Amazon",Se="Apple",Pe="ASUS",Te="BlackBerry",Ie="Google",Oe="Huawei",Re="Lenovo",Ce="LG",Ne="Microsoft",Le="Motorola",Me="Samsung",Be="Sharp",De="Sony",je="Xiaomi",Ue="Zebra",Fe="Mobile ",He=" Browser",ze="Chrome",Ge="Chromecast",qe="Firefox",We="Opera",$e="Facebook",Ke="Sogou",Ve="Windows",Qe=typeof window!==j&&window.navigator?window.navigator:void 0,Ze=Qe&&Qe.userAgentData?Qe.userAgentData:void 0,Ye=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},Je=function(e,t){if(typeof e===U&&e.length>0){for(var r in e)if(rt(e[r])==rt(t))return!0;return!1}return!!et(e)&&-1!==rt(t).indexOf(rt(e))},Xe=function(e,t){for(var r in e)return/^(browser|cpu|device|engine|os)$/.test(r)||!!t&&Xe(e[r])},et=function(e){return typeof e===F},tt=function(e){if(e){for(var t=[],r=st(/\\?\"/g,e).split(","),n=0;n<r.length;n++)if(r[n].indexOf(";")>-1){var i=at(r[n]).split(";v=");t[n]={brand:i[0],version:i[1]}}else t[n]=at(r[n]);return t}},rt=function(e){return et(e)?e.toLowerCase():e},nt=function(e){return et(e)?st(/[^\d\.]/g,e).split(".")[0]:void 0},it=function(e){for(var t in e){var r=e[t];typeof r==U&&2==r.length?this[r[0]]=r[1]:this[r]=void 0}return this},st=function(e,t){return et(t)?t.replace(e,B):t},ot=function(e){return st(/\\?\"/g,e)},at=function(e,t){if(et(e))return e=st(/^\s\s*/,e),typeof t===j?e:e.substring(0,500)},ct=function(e,t){if(e&&t)for(var r,n,i,s,o,a,c=0;c<t.length&&!o;){var l=t[c],u=t[c+1];for(r=n=0;r<l.length&&!o&&l[r];)if(o=l[r++].exec(e))for(i=0;i<u.length;i++)a=o[++n],typeof(s=u[i])===U&&s.length>0?2===s.length?typeof s[1]==D?this[s[0]]=s[1].call(this,a):this[s[0]]=s[1]:3===s.length?typeof s[1]!==D||s[1].exec&&s[1].test?this[s[0]]=a?a.replace(s[1],s[2]):void 0:this[s[0]]=a?s[1].call(this,a,s[2]):void 0:4===s.length&&(this[s[0]]=a?s[3].call(this,a.replace(s[1],s[2])):void 0):this[s]=a||void 0;c+=2}},lt=function(e,t){for(var r in t)if(typeof t[r]===U&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(Je(t[r][n],e))return"?"===r?void 0:r}else if(Je(t[r],e))return"?"===r?void 0:r;return t.hasOwnProperty("*")?t["*"]:e},ut={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},dt={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},ht={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[$,[G,Fe+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[$,[G,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[G,$],[/opios[\/ ]+([\w\.]+)/i],[$,[G,We+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[$,[G,We+" GX"]],[/\bopr\/([\w\.]+)/i],[$,[G,We]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[$,[G,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[$,[G,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[G,$],[/quark(?:pc)?\/([-\w\.]+)/i],[$,[G,"Quark"]],[/\bddg\/([\w\.]+)/i],[$,[G,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[$,[G,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[$,[G,"WeChat"]],[/konqueror\/([\w\.]+)/i],[$,[G,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[$,[G,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[$,[G,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[$,[G,"Smart "+Re+He]],[/(avast|avg)\/([\w\.]+)/i],[[G,/(.+)/,"$1 Secure"+He],$],[/\bfocus\/([\w\.]+)/i],[$,[G,qe+" Focus"]],[/\bopt\/([\w\.]+)/i],[$,[G,We+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[$,[G,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[$,[G,"Dolphin"]],[/coast\/([\w\.]+)/i],[$,[G,We+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[$,[G,"MIUI"+He]],[/fxios\/([\w\.-]+)/i],[$,[G,Fe+qe]],[/\bqihoobrowser\/?([\w\.]*)/i],[$,[G,"360"]],[/\b(qq)\/([\w\.]+)/i],[[G,/(.+)/,"$1Browser"],$],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[G,/(.+)/,"$1"+He],$],[/samsungbrowser\/([\w\.]+)/i],[$,[G,Me+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[$,[G,Ke+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[G,Ke+" Mobile"],$],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[G,$],[/(lbbrowser|rekonq)/i],[G],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[$,G],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[G,$e],$,[q,te]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[G,$,[q,te]],[/\bgsa\/([\w\.]+) .*safari\//i],[$,[G,"GSA"],[q,te]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[$,[G,"TikTok"],[q,te]],[/\[(linkedin)app\]/i],[G,[q,te]],[/(chromium)[\/ ]([-\w\.]+)/i],[G,$],[/headlesschrome(?:\/([\w\.]+)| )/i],[$,[G,ze+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[G,ze+" WebView"],$],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[$,[G,"Android"+He]],[/chrome\/([\w\.]+) mobile/i],[$,[G,Fe+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[G,$],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[$,[G,Fe+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[G,Fe+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[$,G],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[G,[$,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[G,$],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[G,Fe+qe],$],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[G,"Netscape"],$],[/(wolvic|librewolf)\/([\w\.]+)/i],[G,$],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[$,[G,qe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[G,[$,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[G,[$,/[^\d\.]+./,B]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[K,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[K,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[K,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[K,"armhf"]],[/windows (ce|mobile); ppc;/i],[[K,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[K,/ower/,B,rt]],[/(sun4\w)[;\)]/i],[[K,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[K,rt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[z,[W,Me],[q,Z]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[z,[W,Me],[q,Q]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[z,[W,Se],[q,Q]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[z,[W,Se],[q,Z]],[/(macintosh);/i],[z,[W,Se]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[z,[W,Be],[q,Q]],[/(?:honor)([-\w ]+)[;\)]/i],[z,[W,"Honor"],[q,Q]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[z,[W,Oe],[q,Z]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[z,[W,Oe],[q,Q]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[z,/_/g," "],[W,je],[q,Q]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[z,/_/g," "],[W,je],[q,Z]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[z,[W,"OPPO"],[q,Q]],[/\b(opd2\d{3}a?) bui/i],[z,[W,"OPPO"],[q,Z]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[z,[W,"Vivo"],[q,Q]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[z,[W,"Realme"],[q,Q]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[z,[W,Le],[q,Q]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[z,[W,Le],[q,Z]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[z,[W,Ce],[q,Z]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[z,[W,Ce],[q,Q]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[z,[W,Re],[q,Z]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[z,/_/g," "],[W,"Nokia"],[q,Q]],[/(pixel c)\b/i],[z,[W,Ie],[q,Z]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[z,[W,Ie],[q,Q]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[z,[W,De],[q,Q]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[z,"Xperia Tablet"],[W,De],[q,Z]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[z,[W,"OnePlus"],[q,Q]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[z,[W,ke],[q,Z]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[z,/(.+)/g,"Fire Phone $1"],[W,ke],[q,Q]],[/(playbook);[-\w\),; ]+(rim)/i],[z,W,[q,Z]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[z,[W,Te],[q,Q]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[z,[W,Pe],[q,Z]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[z,[W,Pe],[q,Q]],[/(nexus 9)/i],[z,[W,"HTC"],[q,Z]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[W,[z,/_/g," "],[q,Q]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[z,[W,"TCL"],[q,Z]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[z,[W,"TCL"],[q,Q]],[/(itel) ((\w+))/i],[[W,rt],z,[q,lt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[z,[W,"Acer"],[q,Z]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[z,[W,"Meizu"],[q,Q]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[z,[W,"Ulefone"],[q,Q]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[z,[W,"Energizer"],[q,Q]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[z,[W,"Cat"],[q,Q]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[z,[W,"Smartfren"],[q,Q]],[/droid.+; (a(?:015|06[35]|142p?))/i],[z,[W,"Nothing"],[q,Q]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[W,z,[q,Q]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[W,z,[q,Z]],[/(surface duo)/i],[z,[W,Ne],[q,Z]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[z,[W,"Fairphone"],[q,Q]],[/(shield[\w ]+) b/i],[z,[W,"Nvidia"],[q,Z]],[/(sprint) (\w+)/i],[W,z,[q,Q]],[/(kin\.[onetw]{3})/i],[[z,/\./g," "],[W,Ne],[q,Q]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[z,[W,Ue],[q,Z]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[z,[W,Ue],[q,Q]],[/smart-tv.+(samsung)/i],[W,[q,Y]],[/hbbtv.+maple;(\d+)/i],[[z,/^/,"SmartTV"],[W,Me],[q,Y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[W,Ce],[q,Y]],[/(apple) ?tv/i],[W,[z,Se+" TV"],[q,Y]],[/crkey.*devicetype\/chromecast/i],[[z,Ge+" Third Generation"],[W,Ie],[q,Y]],[/crkey.*devicetype\/([^/]*)/i],[[z,/^/,"Chromecast "],[W,Ie],[q,Y]],[/fuchsia.*crkey/i],[[z,Ge+" Nest Hub"],[W,Ie],[q,Y]],[/crkey/i],[[z,Ge],[W,Ie],[q,Y]],[/droid.+aft(\w+)( bui|\))/i],[z,[W,ke],[q,Y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[z,[W,Be],[q,Y]],[/(bravia[\w ]+)( bui|\))/i],[z,[W,De],[q,Y]],[/(mitv-\w{5}) bui/i],[z,[W,je],[q,Y]],[/Hbbtv.*(technisat) (.*);/i],[W,z,[q,Y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[W,at],[z,at],[q,Y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[q,Y]],[/(ouya)/i,/(nintendo) (\w+)/i],[W,z,[q,V]],[/droid.+; (shield) bui/i],[z,[W,"Nvidia"],[q,V]],[/(playstation \w+)/i],[z,[W,De],[q,V]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[z,[W,Ne],[q,V]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[z,[W,Me],[q,J]],[/((pebble))app/i],[W,z,[q,J]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[z,[W,Se],[q,J]],[/droid.+; (wt63?0{2,3})\)/i],[z,[W,Ue],[q,J]],[/droid.+; (glass) \d/i],[z,[W,Ie],[q,X]],[/(pico) (4|neo3(?: link|pro)?)/i],[W,z,[q,X]],[/; (quest( \d| pro)?)/i],[z,[W,$e],[q,X]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[W,[q,ee]],[/(aeobc)\b/i],[z,[W,ke],[q,ee]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[z,[q,Q]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[z,[q,Z]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[q,Z]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[q,Q]],[/(android[-\w\. ]{0,9});.+buil/i],[z,[W,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[$,[G,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[G,$],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[$,[G,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[G,$],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[$,G]],os:[[/microsoft (windows) (vista|xp)/i],[G,$],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[G,[$,lt,ut]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[$,lt,ut],[G,Ve]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[$,/_/g,"."],[G,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[G,"macOS"],[$,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[$,[G,Ge+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[$,[G,Ge+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[$,[G,Ge+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[$,[G,Ge+" Linux"]],[/crkey\/([\d\.]+)/i],[$,[G,Ge]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[$,G],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[G,$],[/\(bb(10);/i],[$,[G,Te]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[$,[G,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[$,[G,qe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[$,[G,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[$,[G,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[G,"Chrome OS"],$],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[G,$],[/(sunos) ?([\w\.\d]*)/i],[[G,"Solaris"],$],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[G,$]]},ft=function(){var e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return it.call(e.init,[[ve,[G,$,H,q]],[we,[K]],[Ae,[q,z,W]],[_e,[G,$]],[Ee,[G,$]]]),it.call(e.isIgnore,[[ve,[$,H]],[_e,[$]],[Ee,[$]]]),it.call(e.isIgnoreRgx,[[ve,/ ?browser$/i],[Ee,/ ?os$/i]]),it.call(e.toString,[[ve,[G,$]],[we,[K]],[Ae,[W,z]],[_e,[G,$]],[Ee,[G,$]]]),e}(),pt=function(e,t){var r=ft.init[t],n=ft.isIgnore[t]||0,i=ft.isIgnoreRgx[t]||0,s=ft.toString[t]||0;function o(){it.call(this,r)}return o.prototype.getItem=function(){return e},o.prototype.withClientHints=function(){return Ze?Ze.getHighEntropyValues(be).then((function(t){return e.setCH(new mt(t,!1)).parseCH().get()})):e.parseCH().get()},o.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=xe&&(o.prototype.is=function(e){var t=!1;for(var r in this)if(this.hasOwnProperty(r)&&!Je(n,r)&&rt(i?st(i,this[r]):this[r])==rt(i?st(i,e):e)){if(t=!0,e!=j)break}else if(e==j&&t){t=!t;break}return t},o.prototype.toString=function(){var e=B;for(var t in s)typeof this[s[t]]!==j&&(e+=(e?" ":B)+this[s[t]]);return e||j}),Ze||(o.prototype.then=function(e){var t=this,r=function(){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};r.prototype={is:o.prototype.is,toString:o.prototype.toString};var n=new r;return e(n),n}),new o};function mt(e,t){if(e=e||{},it.call(this,be),t)it.call(this,[[ne,tt(e[le])],[se,tt(e[ue])],[Q,/\?1/.test(e[pe])],[z,ot(e[me])],[oe,ot(e[ge])],[ae,ot(e[ye])],[K,ot(e[de])],[ie,tt(e[fe])],[ce,ot(e[he])]]);else for(var r in e)this.hasOwnProperty(r)&&typeof e[r]!==j&&(this[r]=e[r])}function gt(e,t,r,n){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:void 0:this.data},this.set=function(e,t){return this.data[e]=t,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(Qe&&Qe.userAgent==this.ua)switch(this.itemType){case ve:Qe.brave&&typeof Qe.brave.isBrave==D&&this.set(G,"Brave");break;case Ae:!this.get(q)&&Ze&&Ze[Q]&&this.set(q,Q),"Macintosh"==this.get(z)&&Qe&&typeof Qe.standalone!==j&&Qe.maxTouchPoints&&Qe.maxTouchPoints>2&&this.set(z,"iPad").set(q,Z);break;case Ee:!this.get(G)&&Ze&&Ze[oe]&&this.set(G,Ze[oe]);break;case xe:var e=this.data,t=function(t){return e[t].getItem().detectFeature().get()};this.set(ve,t(ve)).set(we,t(we)).set(Ae,t(Ae)).set(_e,t(_e)).set(Ee,t(Ee))}return this},this.parseUA=function(){return this.itemType!=xe&&ct.call(this.data,this.ua,this.rgxMap),this.itemType==ve&&this.set(H,nt(this.get($))),this},this.parseCH=function(){var e=this.uaCH,t=this.rgxMap;switch(this.itemType){case ve:var r,n=e[se]||e[ne];if(n)for(var i in n){var s=st(/(Google|Microsoft) /,n[i].brand||n[i]),o=n[i].version;/not.a.brand/i.test(s)||r&&(!/chrom/i.test(r)||/chromi/i.test(s))||(this.set(G,s).set($,o).set(H,nt(o)),r=s)}break;case we:var a=e[K];a&&(a&&"64"==e[ce]&&(a+="64"),ct.call(this.data,a+";",t));break;case Ae:if(e[Q]&&this.set(q,Q),e[z]&&this.set(z,e[z]),"Xbox"==e[z]&&this.set(q,V).set(W,Ne),e[ie]){var c;if("string"!==typeof e[ie])for(var l=0;!c&&l<e[ie].length;)c=lt(e[ie][l++],dt);else c=lt(e[ie],dt);this.set(q,c)}break;case Ee:var u=e[oe];if(u){var d=e[ae];u==Ve&&(d=parseInt(nt(d),10)>=13?"11":"10"),this.set(G,u).set($,d)}this.get(G)==Ve&&"Xbox"==e[z]&&this.set(G,"Xbox").set($,void 0);break;case xe:var h=this.data,f=function(t){return h[t].getItem().setCH(e).parseCH().get()};this.set(ve,f(ve)).set(we,f(we)).set(Ae,f(Ae)).set(_e,f(_e)).set(Ee,f(Ee))}return this},it.call(this,[["itemType",e],["ua",t],["uaCH",n],["rgxMap",r],["data",pt(this,e)]]),this}function yt(e,t,r){if(typeof e===U?(Xe(e,!0)?(typeof t===U&&(r=t),t=e):(r=e,t=void 0),e=void 0):typeof e!==F||Xe(t,!0)||(r=t,t=void 0),r&&typeof r.append===D){var n={};r.forEach((function(e,t){n[t]=e})),r=n}if(!(this instanceof yt))return new yt(e,t,r).getResult();var i=typeof e===F?e:r&&r[re]?r[re]:Qe&&Qe.userAgent?Qe.userAgent:B,s=new mt(r,!0),o=t?function(e,t){var r={},n=t;if(!Xe(t))for(var i in n={},t)for(var s in t[i])n[s]=t[i][s].concat(n[s]?n[s]:[]);for(var o in e)r[o]=n[o]&&n[o].length%2===0?n[o].concat(e[o]):e[o];return r}(ht,t):ht,a=function(e){return e==xe?function(){return new gt(e,i,o,s).set("ua",i).set(ve,this.getBrowser()).set(we,this.getCPU()).set(Ae,this.getDevice()).set(_e,this.getEngine()).set(Ee,this.getOS()).get()}:function(){return new gt(e,i,o[e],s).parseUA().get()}};return it.call(this,[["getBrowser",a(ve)],["getCPU",a(we)],["getDevice",a(Ae)],["getEngine",a(_e)],["getOS",a(Ee)],["getResult",a(xe)],["getUA",function(){return i}],["setUA",function(e){return et(e)&&(i=e.length>500?at(e,500):e),this}]]).setUA(i),this}yt.VERSION="2.0.0",yt.BROWSER=Ye([G,$,H,q]),yt.CPU=Ye([K]),yt.DEVICE=Ye([z,W,q,V,Q,Y,Z,J,ee]),yt.ENGINE=yt.OS=Ye([G,$]);const bt=()=>{const e=new yt;return!!e.getOS().name?.match(/android/i)},vt=()=>{const e=(new yt).getOS().name;return e?.match(/^Android(-x86)?$/)?"android":e?.match(/^iOS$/)?"ios":void 0},wt=Object.create(null);wt.open="0",wt.close="1",wt.ping="2",wt.pong="3",wt.message="4",wt.upgrade="5",wt.noop="6";const At=Object.create(null);Object.keys(wt).forEach((e=>{At[wt[e]]=e}));const _t={type:"error",data:"parser error"},Et="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),xt="function"===typeof ArrayBuffer,kt=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,St=(e,t,r)=>{let{type:n,data:i}=e;return Et&&i instanceof Blob?t?r(i):Pt(i,r):xt&&(i instanceof ArrayBuffer||kt(i))?t?r(i):Pt(new Blob([i]),r):r(wt[n]+(i||""))},Pt=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function Tt(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let It;const Ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rt="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)Rt[Ot.charCodeAt(r)]=r;const Ct="function"===typeof ArrayBuffer,Nt=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Mt(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:Lt(e.substring(1),t)};return At[r]?e.length>1?{type:At[r],data:e.substring(1)}:{type:At[r]}:_t},Lt=(e,t)=>{if(Ct){const r=(e=>{let t,r,n,i,s,o=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const l=new ArrayBuffer(o),u=new Uint8Array(l);for(t=0;t<a;t+=4)r=Rt[e.charCodeAt(t)],n=Rt[e.charCodeAt(t+1)],i=Rt[e.charCodeAt(t+2)],s=Rt[e.charCodeAt(t+3)],u[c++]=r<<2|n>>4,u[c++]=(15&n)<<4|i>>2,u[c++]=(3&i)<<6|63&s;return l})(e);return Mt(r,t)}return{base64:!0,data:e}},Mt=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Bt=String.fromCharCode(30);function Dt(){return new TransformStream({transform(e,t){!function(e,t){Et&&e.data instanceof Blob?e.data.arrayBuffer().then(Tt).then(t):xt&&(e.data instanceof ArrayBuffer||kt(e.data))?t(Tt(e.data)):St(e,!1,(e=>{It||(It=new TextEncoder),t(It.encode(e))}))}(e,(r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(r)}))}})}let jt;function Ut(e){return e.reduce(((e,t)=>e+t.length),0)}function Ft(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Ht(e){if(e)return function(e){for(var t in Ht.prototype)e[t]=Ht.prototype[t];return e}(e)}Ht.prototype.on=Ht.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Ht.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},Ht.prototype.off=Ht.prototype.removeListener=Ht.prototype.removeAllListeners=Ht.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},Ht.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},Ht.prototype.emitReserved=Ht.prototype.emit,Ht.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Ht.prototype.hasListeners=function(e){return!!this.listeners(e).length};const zt="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Gt="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function qt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const Wt=Gt.setTimeout,$t=Gt.clearTimeout;function Kt(e,t){t.useNativeTimers?(e.setTimeoutFn=Wt.bind(Gt),e.clearTimeoutFn=$t.bind(Gt)):(e.setTimeoutFn=Gt.setTimeout.bind(Gt),e.clearTimeoutFn=Gt.clearTimeout.bind(Gt))}function Vt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Qt extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Zt extends Ht{constructor(e){super(),this.writable=!1,Kt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Qt(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Nt(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class Yt extends Zt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(Bt),n=[];for(let i=0;i<r.length;i++){const e=Nt(r[i],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach(((e,s)=>{St(e,!1,(e=>{n[s]=e,++i===r&&t(n.join(Bt))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Vt()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Jt=!1;try{Jt="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(yZ){}const Xt=Jt;function er(){}class tr extends Yt{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class rr extends Ht{constructor(e,t,r){super(),this.createRequest=e,Kt(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=qt(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(n){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{r.setRequestHeader("Accept","*/*")}catch(n){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof r.status?r.status:0)}),0))},r.send(this._data)}catch(n){return void this.setTimeoutFn((()=>{this._onError(n)}),0)}"undefined"!==typeof document&&(this._index=rr.requestsCount++,rr.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=er,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete rr.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(rr.requestsCount=0,rr.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",nr);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Gt?"pagehide":"unload",nr,!1)}function nr(){for(let e in rr.requests)rr.requests.hasOwnProperty(e)&&rr.requests[e].abort()}const ir=function(){const e=sr({xdomain:!1});return e&&null!==e.responseType}();function sr(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Xt))return new XMLHttpRequest}catch(r){}if(!t)try{return new(Gt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}const or="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ar extends Zt{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=or?{}:qt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(yZ){return this.emitReserved("error",yZ)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;St(r,this.supportsBinary,(e=>{try{this.doWrite(r,e)}catch(t){}n&&zt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Vt()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const cr=Gt.WebSocket||Gt.MozWebSocket;const lr={websocket:class extends ar{createSocket(e,t,r){return or?new cr(e,t,r):t?new cr(e,t):new cr(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Zt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(yZ){return this.emitReserved("error",yZ)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){jt||(jt=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(0===n){if(Ut(r)<1)break;const e=Ft(r,1);s=128===(128&e[0]),i=127&e[0],n=i<126?3:126===i?1:2}else if(1===n){if(Ut(r)<2)break;const e=Ft(r,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(Ut(r)<8)break;const e=Ft(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){a.enqueue(_t);break}i=s*Math.pow(2,32)+t.getUint32(4),n=3}else{if(Ut(r)<i)break;const e=Ft(r,i);a.enqueue(Nt(s?e:jt.decode(e),t)),n=0}if(0===i||i>e){a.enqueue(_t);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=Dt();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const i=()=>{r.read().then((e=>{let{done:t,value:r}=e;t||(this.onPacket(r),i())})).catch((e=>{}))};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this._writer.write(r).then((()=>{n&&zt((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends tr{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=ir&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new rr(sr,this.uri(),e)}}},ur=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,dr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function hr(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=ur.exec(e||""),s={},o=14;for(;o--;)s[dr[o]]=i[o]||"";return-1!=r&&-1!=n&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,s.path),s.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,s.query),s}const fr="function"===typeof addEventListener&&"function"===typeof removeEventListener,pr=[];fr&&addEventListener("offline",(()=>{pr.forEach((e=>e()))}),!1);class mr extends Ht{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=hr(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=hr(t.host).host);Kt(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),fr&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&mr.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",mr.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(e+="string"===typeof(t=n)?function(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this._maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,zt((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}_onError(e){if(mr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fr&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=pr.indexOf(this._offlineEventListener);-1!==e&&pr.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}mr.protocol=4;class gr extends mr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;mr.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;mr.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){r||(r=!0,l(),t.close(),t=null)}const s=e=>{const r=new Error("probe error: "+e);r.transport=t.name,i(),this.emitReserved("upgradeError",r)};function o(){s("transport closed")}function a(){s("socket closed")}function c(e){t&&e.name!==t.name&&i()}const l=()=>{t.removeListener("open",n),t.removeListener("error",s),t.removeListener("close",o),this.off("close",a),this.off("upgrading",c)};t.once("open",n),t.once("error",s),t.once("close",o),this.once("close",a),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{r||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class yr extends gr{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>lr[e])).filter((e=>!!e))),super(e,t)}}const br="function"===typeof ArrayBuffer,vr=Object.prototype.toString,wr="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===vr.call(Blob),Ar="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===vr.call(File);function _r(e){return br&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||wr&&e instanceof Blob||Ar&&e instanceof File}function Er(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(Er(e[t]))return!0;return!1}if(_r(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Er(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Er(e[r]))return!0;return!1}function xr(e){const t=[],r=e.data,n=e;return n.data=kr(r,t),n.attachments=t.length,{packet:n,buffers:t}}function kr(e,t){if(!e)return e;if(_r(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=kr(e[n],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=kr(e[n],t));return r}return e}function Sr(e,t){return e.data=Pr(e.data,t),delete e.attachments,e}function Pr(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Pr(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Pr(e[r],t));return e}const Tr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ir=5;var Or,Rr;(Rr=Or||(Or={}))[Rr.CONNECT=0]="CONNECT",Rr[Rr.DISCONNECT=1]="DISCONNECT",Rr[Rr.EVENT=2]="EVENT",Rr[Rr.ACK=3]="ACK",Rr[Rr.CONNECT_ERROR=4]="CONNECT_ERROR",Rr[Rr.BINARY_EVENT=5]="BINARY_EVENT",Rr[Rr.BINARY_ACK=6]="BINARY_ACK";class Cr{constructor(e){this.replacer=e}encode(e){return e.type!==Or.EVENT&&e.type!==Or.ACK||!Er(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Or.EVENT?Or.BINARY_EVENT:Or.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Or.BINARY_EVENT&&e.type!==Or.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=xr(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function Nr(e){return"[object Object]"===Object.prototype.toString.call(e)}class Lr extends Ht{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===Or.BINARY_EVENT;r||t.type===Or.BINARY_ACK?(t.type=r?Or.EVENT:Or.ACK,this.reconstructor=new Mr(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!_r(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Or[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Or.BINARY_EVENT||r.type===Or.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(n,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!Lr.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Or.CONNECT:return Nr(t);case Or.DISCONNECT:return void 0===t;case Or.CONNECT_ERROR:return"string"===typeof t||Nr(t);case Or.EVENT:case Or.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Tr.indexOf(t[0]));case Or.ACK:case Or.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Mr{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Sr(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Br(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Dr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jr extends Ht{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Br(e,"open",this.onopen.bind(this)),Br(e,"packet",this.onpacket.bind(this)),Br(e,"error",this.onerror.bind(this)),Br(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,n;if(Dr.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const a={type:Or.EVENT,data:s,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),a.id=e}const c=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,l=this.connected&&!(null===(n=this.io.engine)||void 0===n?void 0:n._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var r,n=this;const i=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i),o=function(){n.io.clearTimeoutFn(s);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.apply(n,r)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(((t,n)=>{const i=(e,r)=>e?n(e):t(r);i.withError=!0,r.push(i),this.emit(e,...r)}))}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(n!==t._queue[0])return;if(null!==e)n.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];r(null,...s)}return n.pending=!1,t._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Or.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Or.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Or.EVENT:case Or.BINARY_EVENT:this.onevent(e);break;case Or.ACK:case Or.BINARY_ACK:this.onack(e);break;case Or.DISCONNECT:this.ondisconnect();break;case Or.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];t.packet({type:Or.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Or.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Ur(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ur.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},Ur.prototype.reset=function(){this.attempts=0},Ur.prototype.setMin=function(e){this.ms=e},Ur.prototype.setMax=function(e){this.max=e},Ur.prototype.setJitter=function(e){this.jitter=e};class Fr extends Ht{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(r=t,t=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,Kt(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=r.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Ur({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new yr(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=Br(t,"open",(function(){r.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=Br(t,"error",i);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn((()=>{n(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(n),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Br(e,"ping",this.onping.bind(this)),Br(e,"data",this.ondata.bind(this)),Br(e,"error",this.onerror.bind(this)),Br(e,"close",this.onclose.bind(this)),Br(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){zt((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new jr(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Hr={};function zr(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=hr(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=Hr[i]&&s in Hr[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?a=new Fr(n,t):(Hr[i]||(Hr[i]=new Fr(n,t)),a=Hr[i]),r.query&&!t.query&&(t.query=r.queryKey),a.socket(r.path,t)}Object.assign(zr,{Manager:Fr,Socket:jr,io:zr,connect:zr});class Gr extends v{constructor(e,t,r,n){super(),this._requestCallbacks=new m(6e4),this.bridgeUrl=e,this.path=t,this.requestChannel=r,this.eventChannel=n}async connect(){return this._socket&&this.disconnect(),this._socket=zr(this.bridgeUrl,{path:this.path,transports:["polling"]}),this._socket.on("error",(e=>{try{this.emit("error",e)}catch(e){console.error(e)}})),this._socket.on(this.requestChannel,(e=>{try{let t;try{t=I(e,P().object({requestId:P().string().uuid().required(),response:P().any()}).required())}catch(gZ){return void console.error("Invalid response wrapper",gZ)}this._requestCallbacks.resolveCallback(t.requestId,t.response)}catch(gZ){console.error(gZ)}})),this._socket.on(this.eventChannel,(e=>{try{this.emit("event",e)}catch(gZ){console.error(gZ)}})),new Promise((e=>{try{this._socket?.once("connect",(()=>{try{e()}catch(gZ){console.error(gZ)}}))}catch(gZ){console.error(gZ)}}))}connected(){return!!this._socket?.connected}send(e){if(!this._socket)throw new Error("Can't send request without connection");const t={requestId:crypto.randomUUID(),request:e},r=this._requestCallbacks.addCallback(t.requestId);return this._socket?.emit(this.requestChannel,t),r}disconnect(){this._socket&&(this._socket.removeAllListeners(),this._socket.disconnect(),this._socket=void 0)}serialize(){return N({bridgeUrl:this.bridgeUrl,path:this.path,requestChannel:this.requestChannel,eventChannel:this.eventChannel})}static deserialize(e){const{bridgeUrl:t,path:r,requestChannel:n,eventChannel:i}=L(e);return new Gr(t,r,n,i)}}class qr extends Error{constructor(e,t){super(t),this.errorType=e}}const Wr=(e,t)=>{let r=encodeURIComponent(t);switch(bt()&&(r=encodeURIComponent(r)),e){case"bitget":return`https://bkapp.vip/wc?uri=${r}`;case"metaMask":return`https://metamask.app.link/wc?uri=${r}`;case"rainbow":return`https://rnbwapp.com/wc?uri=${r}`;case"safePal":return`https://link.safepal.io/wc?uri=${r}`;case"trust":return`https://link.trustwallet.com/wc?uri=${r}`}};class $r extends v{constructor(e){super(),this.bridgeUrl=e.bridgeUrl,this.walletApp=e?.walletApp,this._apiKey=e.apiKey,this._communicationController=new Gr(this.bridgeUrl,"/api/v1/socket.io/evm","evmRequest","evmEvent")}async connect(){this._communicationController.connected()&&await this.disconnect(),await this._communicationController.connect(),this._communicationController.on("event",this._createEvmEventHandler());const{payload:{sessionId:e,walletConnectUri:t}}=await this._sendEvmRequest({type:"connect",payload:{apiKey:this._apiKey}});this._sessionId=e,this._walletConnectUri=t,this.walletApp&&(bt()?(c.A.openLink(Wr(this.walletApp,t),{try_instant_view:!0}),await f(1e3),c.A.openLink(Wr(this.walletApp,t),{try_instant_view:!0})):c.A.openLink(Wr(this.walletApp,t))),this.emit("connectionString",t)}async connected(){if(!this._sessionId||!this._communicationController.connected())return!1;return(await this._sendEvmRequest({type:"connected",sessionId:this._getSessionId()})).payload.connected}async request(e){if(this.walletApp&&"bitget"!==this.walletApp)switch(e.method){case"eth_sendTransaction":case"eth_sign":case"eth_signTransaction":case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"personal_sign":c.A.openLink((e=>{switch(e){case"bitget":return"https://bkapp.vip";case"metaMask":return"https://metamask.app.link";case"rainbow":return"https://rnbwapp.com";case"safePal":return"https://link.safepal.io";case"trust":return"https://link.trustwallet.com"}})(this.walletApp))}return(await this._communicationController.send({type:"request",sessionId:this._getSessionId(),payload:e})).payload}async disconnect(){try{await this._communicationController.send({type:"disconnect",sessionId:this._getSessionId()})}finally{this.emit("disconnect",new M("Disconnected",4900)),this._communicationController.disconnect()}}serialize(){return N({bridgeUrl:this.bridgeUrl,walletApp:this.walletApp,_apiKey:this._apiKey,_communicationController:this._communicationController.serialize(),_sessionId:this._getSessionId(),_walletConnectUri:this._getWalletConnectUri()})}static async deserialize(e){const t=L(e),r=new $r({bridgeUrl:t.bridgeUrl,apiKey:t._apiKey,walletApp:t.walletApp});return r._communicationController=Gr.deserialize(t._communicationController),r._sessionId=t._sessionId,r._walletConnectUri=t._walletConnectUri,await r._reconnect(),r}async _reconnect(){this._communicationController.on("event",this._createEvmEventHandler()),await this._communicationController.connect(),await this._sendEvmRequest({type:"reconnect",sessionId:this._getSessionId()})}_createEvmEventHandler(){return e=>{try{const t=I(e,P().alternatives().try(P().object({type:P().string().valid("connect").required(),payload:P().object({chainId:P().string().required()})}),P().object({type:P().string().valid("message").required(),payload:P().object({type:P().string().required(),data:P().any()})}),P().object({type:P().string().valid("chainChanged").required(),payload:P().string().required()}),P().object({type:P().string().valid("accountsChanged").required(),payload:P().array().items(P().string()).required()}),P().object({type:P().string().valid("disconnect").required(),payload:P().object({message:P().string().required(),code:P().number().required(),data:P().any()})})).required());switch(t.type){case"connect":this.emit("connect",t.payload);break;case"message":this.emit("message",t.payload);break;case"chainChanged":this.emit("chainChanged",t.payload);break;case"accountsChanged":this.emit("accountsChanged",t.payload);break;case"disconnect":{const{message:e,code:r,data:n}=t.payload;this.emit("disconnect",new M(e,r,n));break}}}catch(gZ){console.error(gZ)}}}async _sendEvmRequest(e){if(!this._communicationController.connected())throw new Error("Can't send request without connection");const t=await this._communicationController.send(e),r=I(t,P().alternatives().try(P().object({type:P().string().valid("error").required(),payload:P().alternatives(P().object({type:P().string().valid("generic").required(),key:P().string().required(),message:P().string()}),P().object({type:P().string().valid("invalidSessionId","walletRequestFailed","invalidApiKey").required(),message:P().string()}))}),P().object({type:P().string().valid("connect").required(),payload:P().object({sessionId:P().string().required(),walletConnectUri:P().string().required()})}),P().object({type:P().string().valid("connected").required(),payload:P().object({connected:P().boolean().required()})}),P().object({type:P().string().valid("request").required(),payload:P().any()}),P().object({type:P().string().valid("reconnect").required()}),P().object({type:P().string().valid("disconnect").required()})).required());if("error"===r.type){if("generic"===r.payload.type){let e=`Error Code: ${r.payload.key}`;throw r.payload.message&&(e+=`: ${r.payload.message}`),new Error(e)}throw new qr(r.payload.type,r.payload.message)}if(e.type!==r.type)throw new Error("Response type is different from request type");return t}_getSessionId(){if(!this._sessionId)throw new Error("Session ID is not set");return this._sessionId}_getWalletConnectUri(){if(!this._walletConnectUri)throw new Error("WalletConnect URI is not set");return this._walletConnectUri}}Math.imul;Number.isInteger,Number.MAX_SAFE_INTEGER,Number.isSafeInteger;function Kr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function Vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function Qr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array(4),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function Zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array(4),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function Yr(e){for(let t=0;t<e.length;t++)e[t]=0;return e}const Jr=128,Xr=Math.pow(2,32)-1,en=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),tn=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]];class rn{digestLength;blockSize=(()=>Jr)();_state=(()=>new Int32Array(en))();_buffer=(()=>new Uint8Array(Jr))();_bufferLength=0;_ctr=(()=>new Uint32Array(4))();_flag=(()=>new Uint32Array(4))();_lastNode=!1;_finished=!1;_vtmp=(()=>new Uint32Array(32))();_mtmp=(()=>new Uint32Array(32))();_paddedKey;_initialState;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,t=arguments.length>1?arguments[1]:void 0;if(this.digestLength=e,e<1||e>64)throw new Error("blake2b: wrong digest length");t&&this.validateConfig(t);let r=0;t&&t.key&&(r=t.key.length);let n=1,i=1;t&&t.tree&&(n=t.tree.fanout,i=t.tree.maxDepth),this._state[0]^=e|r<<8|n<<16|i<<24,t&&t.tree&&(this._state[1]^=t.tree.leafSize,this._state[2]^=t.tree.nodeOffsetLowBits,this._state[3]^=t.tree.nodeOffsetHighBits,this._state[4]^=t.tree.nodeDepth|t.tree.innerDigestLength<<8,this._lastNode=t.tree.lastNode),t&&t.salt&&(this._state[8]^=Vr(t.salt,0),this._state[9]^=Vr(t.salt,4),this._state[10]^=Vr(t.salt,8),this._state[11]^=Vr(t.salt,12)),t&&t.personalization&&(this._state[12]^=Vr(t.personalization,0),this._state[13]^=Vr(t.personalization,4),this._state[14]^=Vr(t.personalization,8),this._state[15]^=Vr(t.personalization,12)),this._initialState=new Uint32Array(this._state),t&&t.key&&r>0&&(this._paddedKey=new Uint8Array(Jr),this._paddedKey.set(t.key),this._buffer.set(this._paddedKey),this._bufferLength=Jr)}reset(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=Jr):this._bufferLength=0,Yr(this._ctr),Yr(this._flag),this._finished=!1,this}validateConfig(e){if(e.key&&e.key.length>64)throw new Error("blake2b: wrong key length");if(e.salt&&16!==e.salt.length)throw new Error("blake2b: wrong salt length");if(e.personalization&&16!==e.personalization.length)throw new Error("blake2b: wrong personalization length");if(e.tree){if(e.tree.fanout<0||e.tree.fanout>255)throw new Error("blake2b: wrong tree fanout");if(e.tree.maxDepth<0||e.tree.maxDepth>255)throw new Error("blake2b: wrong tree depth");if(e.tree.leafSize<0||e.tree.leafSize>Xr)throw new Error("blake2b: wrong leaf size");if(e.tree.innerDigestLength<0||e.tree.innerDigestLength>64)throw new Error("blake2b: wrong tree inner digest length")}}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(this._finished)throw new Error("blake2b: can't update because hash was finished.");const r=Jr-this._bufferLength;let n=0;if(0===t)return this;if(t>r){for(let t=0;t<r;t++)this._buffer[this._bufferLength+t]=e[n+t];this._processBlock(Jr),n+=r,t-=r,this._bufferLength=0}for(;t>Jr;){for(let t=0;t<Jr;t++)this._buffer[t]=e[n+t];this._processBlock(Jr),n+=Jr,t-=Jr,this._bufferLength=0}for(let i=0;i<t;i++)this._buffer[this._bufferLength+i]=e[n+i];return this._bufferLength+=t,this}finish(e){if(!this._finished){for(let e=this._bufferLength;e<Jr;e++)this._buffer[e]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}const t=this._buffer.subarray(0,64);for(let r=0;r<16;r++)Zr(this._state[r],t,4*r);return e.set(t.subarray(0,e.length)),this}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}clean(){Yr(this._vtmp),Yr(this._mtmp),Yr(this._state),Yr(this._buffer),Yr(this._initialState),this._paddedKey&&Yr(this._paddedKey),this._bufferLength=0,Yr(this._ctr),Yr(this._flag),this._lastNode=!1,this._finished=!1}saveState(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}}restoreState(e){return this._state.set(e.state),this._buffer.set(e.buffer),this._bufferLength=e.bufferLength,this._ctr.set(e.ctr),this._flag.set(e.flag),this._lastNode=e.lastNode,this._paddedKey&&Yr(this._paddedKey),this._paddedKey=e.paddedKey?new Uint8Array(e.paddedKey):void 0,this._initialState.set(e.initialState),this}cleanSavedState(e){Yr(e.state),Yr(e.buffer),Yr(e.initialState),e.paddedKey&&Yr(e.paddedKey),e.bufferLength=0,Yr(e.ctr),Yr(e.flag),e.lastNode=!1}_G(e,t,r,n,i,s,o,a,c,l,u,d,h){let f=e[t],p=e[s],m=e[r],g=e[o],y=e[n],b=e[a],v=e[i],w=e[c],A=65535&f,_=f>>>16,E=65535&p,x=p>>>16;A+=65535&m,_+=m>>>16,E+=65535&g,x+=g>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,p=65535&E|x<<16,f=65535&A|_<<16,A=65535&f,_=f>>>16,E=65535&p,x=p>>>16,A+=65535&l,_+=l>>>16,E+=65535&u,x+=u>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,p=65535&E|x<<16,f=65535&A|_<<16,v^=f,w^=p,A=w,w=v,v=A,A=65535&y,_=y>>>16,E=65535&b,x=b>>>16,A+=65535&v,_+=v>>>16,E+=65535&w,x+=w>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,b=65535&E|x<<16,y=65535&A|_<<16,m^=y,g^=b,A=m<<8|g>>>24,m=g<<8|m>>>24,g=A,A=65535&f,_=f>>>16,E=65535&p,x=p>>>16,A+=65535&m,_+=m>>>16,E+=65535&g,x+=g>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,p=65535&E|x<<16,f=65535&A|_<<16,A=65535&f,_=f>>>16,E=65535&p,x=p>>>16,A+=65535&d,_+=d>>>16,E+=65535&h,x+=h>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,p=65535&E|x<<16,f=65535&A|_<<16,v^=f,w^=p,A=v<<16|w>>>16,v=w<<16|v>>>16,w=A,A=65535&y,_=y>>>16,E=65535&b,x=b>>>16,A+=65535&v,_+=v>>>16,E+=65535&w,x+=w>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,b=65535&E|x<<16,y=65535&A|_<<16,m^=y,g^=b,A=g<<1|m>>>31,m=m<<1|g>>>31,g=A,e[t]=f,e[s]=p,e[r]=m,e[o]=g,e[n]=y,e[a]=b,e[i]=v,e[c]=w}_incrementCounter(e){for(let t=0;t<3;t++){let r=this._ctr[t]+e;if(this._ctr[t]=r>>>0,this._ctr[t]===r)return;e=1}}_processBlock(e){this._incrementCounter(e);let t=this._vtmp;t.set(this._state),t.set(en,16),t[24]^=this._ctr[0],t[25]^=this._ctr[1],t[26]^=this._ctr[2],t[27]^=this._ctr[3],t[28]^=this._flag[0],t[29]^=this._flag[1],t[30]^=this._flag[2],t[31]^=this._flag[3];let r=this._mtmp;for(let n=0;n<32;n++)r[n]=Vr(this._buffer,4*n);for(let n=0;n<12;n++)this._G(t,0,8,16,24,1,9,17,25,r[tn[n][0]],r[tn[n][0]+1],r[tn[n][1]],r[tn[n][1]+1]),this._G(t,2,10,18,26,3,11,19,27,r[tn[n][2]],r[tn[n][2]+1],r[tn[n][3]],r[tn[n][3]+1]),this._G(t,4,12,20,28,5,13,21,29,r[tn[n][4]],r[tn[n][4]+1],r[tn[n][5]],r[tn[n][5]+1]),this._G(t,6,14,22,30,7,15,23,31,r[tn[n][6]],r[tn[n][6]+1],r[tn[n][7]],r[tn[n][7]+1]),this._G(t,0,10,20,30,1,11,21,31,r[tn[n][8]],r[tn[n][8]+1],r[tn[n][9]],r[tn[n][9]+1]),this._G(t,2,12,22,24,3,13,23,25,r[tn[n][10]],r[tn[n][10]+1],r[tn[n][11]],r[tn[n][11]+1]),this._G(t,4,14,16,26,5,15,17,27,r[tn[n][12]],r[tn[n][12]+1],r[tn[n][13]],r[tn[n][13]+1]),this._G(t,6,8,18,28,7,9,19,29,r[tn[n][14]],r[tn[n][14]+1],r[tn[n][15]],r[tn[n][15]+1]);for(let n=0;n<16;n++)this._state[n]^=t[n]^t[n+16]}}function nn(e){const t=new rn(arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,arguments.length>2?arguments[2]:void 0);t.update(e);const r=t.digest();return t.clean(),r}new class{isAvailable=!1;isInstantiated=!1;constructor(){"undefined"!==typeof crypto&&"getRandomValues"in crypto&&(this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");const t=new Uint8Array(e);for(let r=0;r<t.length;r+=65536)crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}};class sn{digestLength=64;blockSize=128;_stateHi=(()=>new Int32Array(8))();_stateLo=(()=>new Int32Array(8))();_tempHi=(()=>new Int32Array(16))();_tempLo=(()=>new Int32Array(16))();_buffer=(()=>new Uint8Array(256))();_bufferLength=0;_bytesHashed=0;_finished=!1;constructor(){this.reset()}_initState(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209}reset(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this}clean(){Yr(this._buffer),Yr(this._tempHi),Yr(this._tempLo),this.reset()}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(this._finished)throw new Error("SHA512: can't update because hash was finished.");let r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<128&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(an(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=an(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this}finish(e){if(!this._finished){const e=this._bytesHashed,t=this._bufferLength,r=e/536870912|0,n=e<<3,i=e%128<112?128:256;this._buffer[t]=128;for(let s=t+1;s<i-8;s++)this._buffer[s]=0;Qr(r,this._buffer,i-8),Qr(n,this._buffer,i-4),an(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,i),this._finished=!0}for(let t=0;t<this.digestLength/8;t++)Qr(this._stateHi[t],e,8*t),Qr(this._stateLo[t],e,8*t+4);return this}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}saveState(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}}restoreState(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this}cleanSavedState(e){Yr(e.stateHi),Yr(e.stateLo),e.buffer&&Yr(e.buffer),e.bufferLength=0,e.bytesHashed=0}}const on=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function an(e,t,r,n,i,s,o){let a,c,l,u,d,h,f,p,m=r[0],g=r[1],y=r[2],b=r[3],v=r[4],w=r[5],A=r[6],_=r[7],E=n[0],x=n[1],k=n[2],S=n[3],P=n[4],T=n[5],I=n[6],O=n[7];for(;o>=128;){for(let r=0;r<16;r++){const n=8*r+s;e[r]=Kr(i,n),t[r]=Kr(i,n+4)}for(let r=0;r<80;r++){let n=m,i=g,s=y,o=b,R=v,C=w,N=A,L=_,M=E,B=x,D=k,j=S,U=P,F=T,H=I,z=O;if(a=_,c=O,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=(v>>>14|P<<18)^(v>>>18|P<<14)^(P>>>9|v<<23),c=(P>>>14|v<<18)^(P>>>18|v<<14)^(v>>>9|P<<23),d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,a=v&w^~v&A,c=P&T^~P&I,d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,a=on[2*r],c=on[2*r+1],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,a=e[r%16],c=t[r%16],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,l=65535&f|p<<16,u=65535&d|h<<16,a=l,c=u,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=(m>>>28|E<<4)^(E>>>2|m<<30)^(E>>>7|m<<25),c=(E>>>28|m<<4)^(m>>>2|E<<30)^(m>>>7|E<<25),d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,a=m&g^m&y^g&y,c=E&x^E&k^x&k,d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,L=65535&f|p<<16,z=65535&d|h<<16,a=o,c=j,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=l,c=u,d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,o=65535&f|p<<16,j=65535&d|h<<16,g=n,y=i,b=s,v=o,w=R,A=C,_=N,m=L,x=M,k=B,S=D,P=j,T=U,I=F,O=H,E=z,r%16===15)for(let r=0;r<16;r++)a=e[r],c=t[r],d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=e[(r+9)%16],c=t[(r+9)%16],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,l=e[(r+1)%16],u=t[(r+1)%16],a=(l>>>1|u<<31)^(l>>>8|u<<24)^l>>>7,c=(u>>>1|l<<31)^(u>>>8|l<<24)^(u>>>7|l<<25),d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,l=e[(r+14)%16],u=t[(r+14)%16],a=(l>>>19|u<<13)^(u>>>29|l<<3)^l>>>6,c=(u>>>19|l<<13)^(l>>>29|u<<3)^(u>>>6|l<<26),d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,e[r]=65535&f|p<<16,t[r]=65535&d|h<<16}a=m,c=E,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=r[0],c=n[0],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,r[0]=m=65535&f|p<<16,n[0]=E=65535&d|h<<16,a=g,c=x,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=r[1],c=n[1],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,r[1]=g=65535&f|p<<16,n[1]=x=65535&d|h<<16,a=y,c=k,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=r[2],c=n[2],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,r[2]=y=65535&f|p<<16,n[2]=k=65535&d|h<<16,a=b,c=S,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=r[3],c=n[3],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,r[3]=b=65535&f|p<<16,n[3]=S=65535&d|h<<16,a=v,c=P,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=r[4],c=n[4],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,r[4]=v=65535&f|p<<16,n[4]=P=65535&d|h<<16,a=w,c=T,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=r[5],c=n[5],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,r[5]=w=65535&f|p<<16,n[5]=T=65535&d|h<<16,a=A,c=I,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=r[6],c=n[6],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,r[6]=A=65535&f|p<<16,n[6]=I=65535&d|h<<16,a=_,c=O,d=65535&c,h=c>>>16,f=65535&a,p=a>>>16,a=r[7],c=n[7],d+=65535&c,h+=c>>>16,f+=65535&a,p+=a>>>16,h+=d>>>16,f+=h>>>16,p+=f>>>16,r[7]=_=65535&f|p<<16,n[7]=O=65535&d|h<<16,s+=128,o-=128}return s}function cn(e){const t=new sn;t.update(e);const r=t.digest();return t.clean(),r}function ln(e){const t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}new Uint8Array(32)[0]=9;const un=ln(),dn=ln([1]),hn=ln([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),fn=ln([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),pn=ln([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),mn=ln([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),gn=ln([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function yn(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function bn(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function vn(e,t,r){const n=~(r-1);for(let i=0;i<16;i++){const r=n&(e[i]^t[i]);e[i]^=r,t[i]^=r}}function wn(e,t){const r=ln(),n=ln();for(let i=0;i<16;i++)n[i]=t[i];bn(n),bn(n),bn(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const e=r[15]>>16&1;r[14]&=65535,vn(n,r,1-e)}for(let i=0;i<16;i++)e[2*i]=255&n[i],e[2*i+1]=n[i]>>8}function An(e,t){let r=0;for(let n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1}function _n(e,t){const r=new Uint8Array(32),n=new Uint8Array(32);return wn(r,e),wn(n,t),An(r,n)}function En(e){const t=new Uint8Array(32);return wn(t,e),1&t[0]}function xn(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function kn(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function Sn(e,t,r){let n,i,s=0,o=0,a=0,c=0,l=0,u=0,d=0,h=0,f=0,p=0,m=0,g=0,y=0,b=0,v=0,w=0,A=0,_=0,E=0,x=0,k=0,S=0,P=0,T=0,I=0,O=0,R=0,C=0,N=0,L=0,M=0,B=r[0],D=r[1],j=r[2],U=r[3],F=r[4],H=r[5],z=r[6],G=r[7],q=r[8],W=r[9],$=r[10],K=r[11],V=r[12],Q=r[13],Z=r[14],Y=r[15];n=t[0],s+=n*B,o+=n*D,a+=n*j,c+=n*U,l+=n*F,u+=n*H,d+=n*z,h+=n*G,f+=n*q,p+=n*W,m+=n*$,g+=n*K,y+=n*V,b+=n*Q,v+=n*Z,w+=n*Y,n=t[1],o+=n*B,a+=n*D,c+=n*j,l+=n*U,u+=n*F,d+=n*H,h+=n*z,f+=n*G,p+=n*q,m+=n*W,g+=n*$,y+=n*K,b+=n*V,v+=n*Q,w+=n*Z,A+=n*Y,n=t[2],a+=n*B,c+=n*D,l+=n*j,u+=n*U,d+=n*F,h+=n*H,f+=n*z,p+=n*G,m+=n*q,g+=n*W,y+=n*$,b+=n*K,v+=n*V,w+=n*Q,A+=n*Z,_+=n*Y,n=t[3],c+=n*B,l+=n*D,u+=n*j,d+=n*U,h+=n*F,f+=n*H,p+=n*z,m+=n*G,g+=n*q,y+=n*W,b+=n*$,v+=n*K,w+=n*V,A+=n*Q,_+=n*Z,E+=n*Y,n=t[4],l+=n*B,u+=n*D,d+=n*j,h+=n*U,f+=n*F,p+=n*H,m+=n*z,g+=n*G,y+=n*q,b+=n*W,v+=n*$,w+=n*K,A+=n*V,_+=n*Q,E+=n*Z,x+=n*Y,n=t[5],u+=n*B,d+=n*D,h+=n*j,f+=n*U,p+=n*F,m+=n*H,g+=n*z,y+=n*G,b+=n*q,v+=n*W,w+=n*$,A+=n*K,_+=n*V,E+=n*Q,x+=n*Z,k+=n*Y,n=t[6],d+=n*B,h+=n*D,f+=n*j,p+=n*U,m+=n*F,g+=n*H,y+=n*z,b+=n*G,v+=n*q,w+=n*W,A+=n*$,_+=n*K,E+=n*V,x+=n*Q,k+=n*Z,S+=n*Y,n=t[7],h+=n*B,f+=n*D,p+=n*j,m+=n*U,g+=n*F,y+=n*H,b+=n*z,v+=n*G,w+=n*q,A+=n*W,_+=n*$,E+=n*K,x+=n*V,k+=n*Q,S+=n*Z,P+=n*Y,n=t[8],f+=n*B,p+=n*D,m+=n*j,g+=n*U,y+=n*F,b+=n*H,v+=n*z,w+=n*G,A+=n*q,_+=n*W,E+=n*$,x+=n*K,k+=n*V,S+=n*Q,P+=n*Z,T+=n*Y,n=t[9],p+=n*B,m+=n*D,g+=n*j,y+=n*U,b+=n*F,v+=n*H,w+=n*z,A+=n*G,_+=n*q,E+=n*W,x+=n*$,k+=n*K,S+=n*V,P+=n*Q,T+=n*Z,I+=n*Y,n=t[10],m+=n*B,g+=n*D,y+=n*j,b+=n*U,v+=n*F,w+=n*H,A+=n*z,_+=n*G,E+=n*q,x+=n*W,k+=n*$,S+=n*K,P+=n*V,T+=n*Q,I+=n*Z,O+=n*Y,n=t[11],g+=n*B,y+=n*D,b+=n*j,v+=n*U,w+=n*F,A+=n*H,_+=n*z,E+=n*G,x+=n*q,k+=n*W,S+=n*$,P+=n*K,T+=n*V,I+=n*Q,O+=n*Z,R+=n*Y,n=t[12],y+=n*B,b+=n*D,v+=n*j,w+=n*U,A+=n*F,_+=n*H,E+=n*z,x+=n*G,k+=n*q,S+=n*W,P+=n*$,T+=n*K,I+=n*V,O+=n*Q,R+=n*Z,C+=n*Y,n=t[13],b+=n*B,v+=n*D,w+=n*j,A+=n*U,_+=n*F,E+=n*H,x+=n*z,k+=n*G,S+=n*q,P+=n*W,T+=n*$,I+=n*K,O+=n*V,R+=n*Q,C+=n*Z,N+=n*Y,n=t[14],v+=n*B,w+=n*D,A+=n*j,_+=n*U,E+=n*F,x+=n*H,k+=n*z,S+=n*G,P+=n*q,T+=n*W,I+=n*$,O+=n*K,R+=n*V,C+=n*Q,N+=n*Z,L+=n*Y,n=t[15],w+=n*B,A+=n*D,_+=n*j,E+=n*U,x+=n*F,k+=n*H,S+=n*z,P+=n*G,T+=n*q,I+=n*W,O+=n*$,R+=n*K,C+=n*V,N+=n*Q,L+=n*Z,M+=n*Y,s+=38*A,o+=38*_,a+=38*E,c+=38*x,l+=38*k,u+=38*S,d+=38*P,h+=38*T,f+=38*I,p+=38*O,m+=38*R,g+=38*C,y+=38*N,b+=38*L,v+=38*M,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=b,e[14]=v,e[15]=w}function Pn(e,t){Sn(e,t,t)}function Tn(e,t){const r=ln();let n;for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)Pn(r,r),2!==n&&4!==n&&Sn(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function In(e,t){const r=ln(),n=ln(),i=ln(),s=ln(),o=ln(),a=ln(),c=ln(),l=ln(),u=ln();kn(r,e[1],e[0]),kn(u,t[1],t[0]),Sn(r,r,u),xn(n,e[0],e[1]),xn(u,t[0],t[1]),Sn(n,n,u),Sn(i,e[3],t[3]),Sn(i,i,fn),Sn(s,e[2],t[2]),xn(s,s,s),kn(o,n,r),kn(a,s,i),xn(c,s,i),xn(l,n,r),Sn(e[0],o,a),Sn(e[1],l,c),Sn(e[2],c,a),Sn(e[3],o,l)}function On(e,t,r){for(let n=0;n<4;n++)vn(e[n],t[n],r)}function Rn(e,t){const r=ln(),n=ln(),i=ln();Tn(i,t[2]),Sn(r,t[0],i),Sn(n,t[1],i),wn(e,n),e[31]^=En(r)<<7}function Cn(e,t,r){yn(e[0],un),yn(e[1],dn),yn(e[2],dn),yn(e[3],un);for(let n=255;n>=0;--n){const i=r[n/8|0]>>(7&n)&1;On(e,t,i),In(t,e),In(e,e),On(e,t,i)}}function Nn(e,t){const r=[ln(),ln(),ln(),ln()];yn(r[0],pn),yn(r[1],mn),yn(r[2],dn),Sn(r[3],pn,mn),Cn(e,r,t)}function Ln(e){if(32!==e.length)throw new Error("ed25519: seed must be 32 bytes");const t=cn(e);t[0]&=248,t[31]&=127,t[31]|=64;const r=new Uint8Array(32),n=[ln(),ln(),ln(),ln()];Nn(n,t),Rn(r,n);const i=new Uint8Array(64);return i.set(e),i.set(r,32),{publicKey:r,secretKey:i}}const Mn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Bn(e,t){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*Mn[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*Mn[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*Mn[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function Dn(e){const t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let r=0;r<64;r++)e[r]=0;Bn(e,t)}function jn(e,t){const r=ln(),n=ln(),i=ln(),s=ln(),o=ln(),a=ln(),c=ln();return yn(e[2],dn),function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),Pn(i,e[1]),Sn(s,i,hn),kn(i,i,e[2]),xn(s,e[2],s),Pn(o,s),Pn(a,o),Sn(c,a,o),Sn(r,c,i),Sn(r,r,s),function(e,t){const r=ln();let n;for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)Pn(r,r),1!==n&&Sn(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(r,r),Sn(r,r,i),Sn(r,r,s),Sn(r,r,s),Sn(e[0],r,s),Pn(n,e[0]),Sn(n,n,s),_n(n,i)&&Sn(e[0],e[0],gn),Pn(n,e[0]),Sn(n,n,s),_n(n,i)?-1:(En(e[0])===t[31]>>7&&kn(e[0],un,e[0]),Sn(e[3],e[0],e[1]),0)}function Un(e){let t=[ln(),ln(),ln(),ln()];if(jn(t,e))throw new Error("Ed25519: invalid public key");let r=ln(),n=ln(),i=t[1];xn(r,dn,i),kn(n,dn,i),Tn(n,n),Sn(r,r,n);let s=new Uint8Array(32);return wn(s,r),s}function Fn(e){const t=cn(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;const r=new Uint8Array(t.subarray(0,32));return Yr(t),r}const Hn="utf8: invalid string";function zn(e){const t=new Uint8Array(function(e){let t=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n>=55296&&n<=56319){if(r===e.length-1)throw new Error(Hn);r++;const t=e.charCodeAt(r);if(t<56320||t>57343)throw new Error(Hn);n=t-56320+(n-55296<<10)+65536}t+=n<128?1:n<2048?2:n<65536?3:4}return t}(e));let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i>=55296&&i<=56319&&(i=(i-55296<<10)+(e.charCodeAt(++n)-56320)+65536),i<128?t[r++]=i:i<2048?(t[r++]=192|i>>6,t[r++]=128|63&i):i<65536?(t[r++]=224|i>>12,t[r++]=128|i>>6&63,t[r++]=128|63&i):(t[r++]=240|i>>18,t[r++]=128|i>>12&63,t[r++]=128|i>>6&63,t[r++]=128|63&i)}return t}class Gn extends Error{constructor(e,t){super(t),this.errorType=e}}var qn=r(4065),Wn=r.n(qn);const $n=e=>BigInt(e).toString(),Kn=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?BigInt(e).toString():(BigInt(e)*10n**6n).toString()};Math.imul;Number.isInteger,Number.MAX_SAFE_INTEGER,Number.isSafeInteger;new class{isAvailable=!1;isInstantiated=!1;constructor(){"undefined"!==typeof crypto&&"getRandomValues"in crypto&&(this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");const t=new Uint8Array(e);for(let r=0;r<t.length;r+=65536)crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}};function Vn(e){const t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}const Qn=new Uint8Array(32);Qn[0]=9;const Zn=Vn([56129,1]);function Yn(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function Jn(e,t,r){const n=~(r-1);for(let i=0;i<16;i++){const r=n&(e[i]^t[i]);e[i]^=r,t[i]^=r}}function Xn(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function ei(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function ti(e,t,r){let n,i,s=0,o=0,a=0,c=0,l=0,u=0,d=0,h=0,f=0,p=0,m=0,g=0,y=0,b=0,v=0,w=0,A=0,_=0,E=0,x=0,k=0,S=0,P=0,T=0,I=0,O=0,R=0,C=0,N=0,L=0,M=0,B=r[0],D=r[1],j=r[2],U=r[3],F=r[4],H=r[5],z=r[6],G=r[7],q=r[8],W=r[9],$=r[10],K=r[11],V=r[12],Q=r[13],Z=r[14],Y=r[15];n=t[0],s+=n*B,o+=n*D,a+=n*j,c+=n*U,l+=n*F,u+=n*H,d+=n*z,h+=n*G,f+=n*q,p+=n*W,m+=n*$,g+=n*K,y+=n*V,b+=n*Q,v+=n*Z,w+=n*Y,n=t[1],o+=n*B,a+=n*D,c+=n*j,l+=n*U,u+=n*F,d+=n*H,h+=n*z,f+=n*G,p+=n*q,m+=n*W,g+=n*$,y+=n*K,b+=n*V,v+=n*Q,w+=n*Z,A+=n*Y,n=t[2],a+=n*B,c+=n*D,l+=n*j,u+=n*U,d+=n*F,h+=n*H,f+=n*z,p+=n*G,m+=n*q,g+=n*W,y+=n*$,b+=n*K,v+=n*V,w+=n*Q,A+=n*Z,_+=n*Y,n=t[3],c+=n*B,l+=n*D,u+=n*j,d+=n*U,h+=n*F,f+=n*H,p+=n*z,m+=n*G,g+=n*q,y+=n*W,b+=n*$,v+=n*K,w+=n*V,A+=n*Q,_+=n*Z,E+=n*Y,n=t[4],l+=n*B,u+=n*D,d+=n*j,h+=n*U,f+=n*F,p+=n*H,m+=n*z,g+=n*G,y+=n*q,b+=n*W,v+=n*$,w+=n*K,A+=n*V,_+=n*Q,E+=n*Z,x+=n*Y,n=t[5],u+=n*B,d+=n*D,h+=n*j,f+=n*U,p+=n*F,m+=n*H,g+=n*z,y+=n*G,b+=n*q,v+=n*W,w+=n*$,A+=n*K,_+=n*V,E+=n*Q,x+=n*Z,k+=n*Y,n=t[6],d+=n*B,h+=n*D,f+=n*j,p+=n*U,m+=n*F,g+=n*H,y+=n*z,b+=n*G,v+=n*q,w+=n*W,A+=n*$,_+=n*K,E+=n*V,x+=n*Q,k+=n*Z,S+=n*Y,n=t[7],h+=n*B,f+=n*D,p+=n*j,m+=n*U,g+=n*F,y+=n*H,b+=n*z,v+=n*G,w+=n*q,A+=n*W,_+=n*$,E+=n*K,x+=n*V,k+=n*Q,S+=n*Z,P+=n*Y,n=t[8],f+=n*B,p+=n*D,m+=n*j,g+=n*U,y+=n*F,b+=n*H,v+=n*z,w+=n*G,A+=n*q,_+=n*W,E+=n*$,x+=n*K,k+=n*V,S+=n*Q,P+=n*Z,T+=n*Y,n=t[9],p+=n*B,m+=n*D,g+=n*j,y+=n*U,b+=n*F,v+=n*H,w+=n*z,A+=n*G,_+=n*q,E+=n*W,x+=n*$,k+=n*K,S+=n*V,P+=n*Q,T+=n*Z,I+=n*Y,n=t[10],m+=n*B,g+=n*D,y+=n*j,b+=n*U,v+=n*F,w+=n*H,A+=n*z,_+=n*G,E+=n*q,x+=n*W,k+=n*$,S+=n*K,P+=n*V,T+=n*Q,I+=n*Z,O+=n*Y,n=t[11],g+=n*B,y+=n*D,b+=n*j,v+=n*U,w+=n*F,A+=n*H,_+=n*z,E+=n*G,x+=n*q,k+=n*W,S+=n*$,P+=n*K,T+=n*V,I+=n*Q,O+=n*Z,R+=n*Y,n=t[12],y+=n*B,b+=n*D,v+=n*j,w+=n*U,A+=n*F,_+=n*H,E+=n*z,x+=n*G,k+=n*q,S+=n*W,P+=n*$,T+=n*K,I+=n*V,O+=n*Q,R+=n*Z,C+=n*Y,n=t[13],b+=n*B,v+=n*D,w+=n*j,A+=n*U,_+=n*F,E+=n*H,x+=n*z,k+=n*G,S+=n*q,P+=n*W,T+=n*$,I+=n*K,O+=n*V,R+=n*Q,C+=n*Z,N+=n*Y,n=t[14],v+=n*B,w+=n*D,A+=n*j,_+=n*U,E+=n*F,x+=n*H,k+=n*z,S+=n*G,P+=n*q,T+=n*W,I+=n*$,O+=n*K,R+=n*V,C+=n*Q,N+=n*Z,L+=n*Y,n=t[15],w+=n*B,A+=n*D,_+=n*j,E+=n*U,x+=n*F,k+=n*H,S+=n*z,P+=n*G,T+=n*q,I+=n*W,O+=n*$,R+=n*K,C+=n*V,N+=n*Q,L+=n*Z,M+=n*Y,s+=38*A,o+=38*_,a+=38*E,c+=38*x,l+=38*k,u+=38*S,d+=38*P,h+=38*T,f+=38*I,p+=38*O,m+=38*R,g+=38*C,y+=38*N,b+=38*L,v+=38*M,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=b,e[14]=v,e[15]=w}function ri(e,t){ti(e,t,t)}function ni(e,t){const r=new Uint8Array(32),n=new Float64Array(80),i=Vn(),s=Vn(),o=Vn(),a=Vn(),c=Vn(),l=Vn();for(let f=0;f<31;f++)r[f]=e[f];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t);for(let f=0;f<16;f++)s[f]=n[f];i[0]=a[0]=1;for(let f=254;f>=0;--f){const e=r[f>>>3]>>>(7&f)&1;Jn(i,s,e),Jn(o,a,e),Xn(c,i,o),ei(i,i,o),Xn(o,s,a),ei(s,s,a),ri(a,c),ri(l,i),ti(i,o,i),ti(o,s,c),Xn(c,i,o),ei(i,i,o),ri(s,i),ei(o,a,l),ti(i,o,Zn),Xn(i,i,a),ti(o,o,i),ti(i,a,l),ti(a,s,n),ri(s,c),Jn(i,s,e),Jn(o,a,e)}for(let f=0;f<16;f++)n[f+16]=i[f],n[f+32]=o[f],n[f+48]=s[f],n[f+64]=a[f];const u=n.subarray(32),d=n.subarray(16);!function(e,t){const r=Vn();for(let n=0;n<16;n++)r[n]=t[n];for(let n=253;n>=0;n--)ri(r,r),2!==n&&4!==n&&ti(r,r,t);for(let n=0;n<16;n++)e[n]=r[n]}(u,u),ti(d,d,u);const h=new Uint8Array(32);return function(e,t){const r=Vn(),n=Vn();for(let i=0;i<16;i++)n[i]=t[i];Yn(n),Yn(n),Yn(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const e=r[15]>>16&1;r[14]&=65535,Jn(n,r,1-e)}for(let i=0;i<16;i++)e[2*i]=255&n[i],e[2*i+1]=n[i]>>8}(h,d),h}function ii(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(32!==e.length)throw new Error("X25519: incorrect secret key length");if(32!==t.length)throw new Error("X25519: incorrect public key length");const n=ni(e,t);if(r){let e=0;for(let t=0;t<n.length;t++)e|=n[t];if(0===e)throw new Error("X25519: invalid shared key")}return n}Math.imul;Number.isInteger,Number.MAX_SAFE_INTEGER,Number.isSafeInteger;function si(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array(4),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}Math.imul;Number.isInteger,Number.MAX_SAFE_INTEGER,Number.isSafeInteger;function oi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array(4),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function ai(e){for(let t=0;t<e.length;t++)e[t]=0;return e}function ci(e,t,r){let n,i=1634760805,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],o=r[7]<<24|r[6]<<16|r[5]<<8|r[4],a=r[11]<<24|r[10]<<16|r[9]<<8|r[8],c=r[15]<<24|r[14]<<16|r[13]<<8|r[12],l=857760878,u=t[3]<<24|t[2]<<16|t[1]<<8|t[0],d=t[7]<<24|t[6]<<16|t[5]<<8|t[4],h=t[11]<<24|t[10]<<16|t[9]<<8|t[8],f=t[15]<<24|t[14]<<16|t[13]<<8|t[12],p=2036477234,m=r[19]<<24|r[18]<<16|r[17]<<8|r[16],g=r[23]<<24|r[22]<<16|r[21]<<8|r[20],y=r[27]<<24|r[26]<<16|r[25]<<8|r[24],b=r[31]<<24|r[30]<<16|r[29]<<8|r[28],v=1797285236,w=i,A=s,_=o,E=a,x=c,k=l,S=u,P=d,T=h,I=f,O=p,R=m,C=g,N=y,L=b,M=v;for(let B=0;B<20;B+=2)n=w+C|0,x^=n<<7|n>>>25,n=x+w|0,T^=n<<9|n>>>23,n=T+x|0,C^=n<<13|n>>>19,n=C+T|0,w^=n<<18|n>>>14,n=k+A|0,I^=n<<7|n>>>25,n=I+k|0,N^=n<<9|n>>>23,n=N+I|0,A^=n<<13|n>>>19,n=A+N|0,k^=n<<18|n>>>14,n=O+S|0,L^=n<<7|n>>>25,n=L+O|0,_^=n<<9|n>>>23,n=_+L|0,S^=n<<13|n>>>19,n=S+_|0,O^=n<<18|n>>>14,n=M+R|0,E^=n<<7|n>>>25,n=E+M|0,P^=n<<9|n>>>23,n=P+E|0,R^=n<<13|n>>>19,n=R+P|0,M^=n<<18|n>>>14,n=w+E|0,A^=n<<7|n>>>25,n=A+w|0,_^=n<<9|n>>>23,n=_+A|0,E^=n<<13|n>>>19,n=E+_|0,w^=n<<18|n>>>14,n=k+x|0,S^=n<<7|n>>>25,n=S+k|0,P^=n<<9|n>>>23,n=P+S|0,x^=n<<13|n>>>19,n=x+P|0,k^=n<<18|n>>>14,n=O+I|0,R^=n<<7|n>>>25,n=R+O|0,T^=n<<9|n>>>23,n=T+R|0,I^=n<<13|n>>>19,n=I+T|0,O^=n<<18|n>>>14,n=M+L|0,C^=n<<7|n>>>25,n=C+M|0,N^=n<<9|n>>>23,n=N+C|0,L^=n<<13|n>>>19,n=L+N|0,M^=n<<18|n>>>14;oi(w+i|0,e,0),oi(A+s|0,e,4),oi(_+o|0,e,8),oi(E+a|0,e,12),oi(x+c|0,e,16),oi(k+l|0,e,20),oi(S+u|0,e,24),oi(P+d|0,e,28),oi(T+h|0,e,32),oi(I+f|0,e,36),oi(O+p|0,e,40),oi(R+m|0,e,44),oi(C+g|0,e,48),oi(N+y|0,e,52),oi(L+b|0,e,56),oi(M+v|0,e,60)}function li(e,t,r,n){let i,s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(32!==e.length)throw new Error("Salsa20: key size must be 32 bytes");if(n.length<r.length)throw new Error("Salsa20: destination is shorter than source");if(0===o){if(8!==t.length)throw new Error("Salsa20 nonce must be 8 bytes");i=new Uint8Array(16),i.set(t),s=t.length}else{if(16!==t.length)throw new Error("Salsa20 nonce with counter must be 16 bytes");i=t,s=16-o}const a=new Uint8Array(64);for(let c=0;c<r.length;c+=64){ci(a,i,e);for(let e=c;e<c+64&&e<r.length;e++)n[e]=r[e]^a[e-c];ui(i,s,i.length-s)}return ai(a),0===o&&ai(i),n}function ui(e,t,r){let n=1;for(;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw new Error("Salsa20: counter overflow")}function di(e){for(let t=0;t<e.length;t++)e[t]=0;return e}function hi(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(0===i){if(24!==t.length)throw new Error("XSalsa20 nonce must be 24 bytes")}else if(32!==t.length)throw new Error("XSalsa20 nonce with counter must be 32 bytes");const s=mi(e,t.subarray(0,16),new Uint8Array(32)),o=li(s,t.subarray(16),r,n,i);return di(s),o}function fi(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return di(r),hi(e,t,r,r,n)}const pi=20;function mi(e,t,r){let n,i=1634760805,s=e[3]<<24|e[2]<<16|e[1]<<8|e[0],o=e[7]<<24|e[6]<<16|e[5]<<8|e[4],a=e[11]<<24|e[10]<<16|e[9]<<8|e[8],c=e[15]<<24|e[14]<<16|e[13]<<8|e[12],l=857760878,u=t[3]<<24|t[2]<<16|t[1]<<8|t[0],d=t[7]<<24|t[6]<<16|t[5]<<8|t[4],h=t[11]<<24|t[10]<<16|t[9]<<8|t[8],f=t[15]<<24|t[14]<<16|t[13]<<8|t[12],p=2036477234,m=e[19]<<24|e[18]<<16|e[17]<<8|e[16],g=e[23]<<24|e[22]<<16|e[21]<<8|e[20],y=e[27]<<24|e[26]<<16|e[25]<<8|e[24],b=e[31]<<24|e[30]<<16|e[29]<<8|e[28],v=1797285236;for(let w=0;w<pi;w+=2)n=i+g|0,c^=n<<7|n>>>25,n=c+i|0,h^=n<<9|n>>>23,n=h+c|0,g^=n<<13|n>>>19,n=g+h|0,i^=n<<18|n>>>14,n=l+s|0,f^=n<<7|n>>>25,n=f+l|0,y^=n<<9|n>>>23,n=y+f|0,s^=n<<13|n>>>19,n=s+y|0,l^=n<<18|n>>>14,n=p+u|0,b^=n<<7|n>>>25,n=b+p|0,o^=n<<9|n>>>23,n=o+b|0,u^=n<<13|n>>>19,n=u+o|0,p^=n<<18|n>>>14,n=v+m|0,a^=n<<7|n>>>25,n=a+v|0,d^=n<<9|n>>>23,n=d+a|0,m^=n<<13|n>>>19,n=m+d|0,v^=n<<18|n>>>14,n=i+a|0,s^=n<<7|n>>>25,n=s+i|0,o^=n<<9|n>>>23,n=o+s|0,a^=n<<13|n>>>19,n=a+o|0,i^=n<<18|n>>>14,n=l+c|0,u^=n<<7|n>>>25,n=u+l|0,d^=n<<9|n>>>23,n=d+u|0,c^=n<<13|n>>>19,n=c+d|0,l^=n<<18|n>>>14,n=p+f|0,m^=n<<7|n>>>25,n=m+p|0,h^=n<<9|n>>>23,n=h+m|0,f^=n<<13|n>>>19,n=f+h|0,p^=n<<18|n>>>14,n=v+b|0,g^=n<<7|n>>>25,n=g+v|0,y^=n<<9|n>>>23,n=y+g|0,b^=n<<13|n>>>19,n=b+y|0,v^=n<<18|n>>>14;return si(i,r,0),si(l,r,4),si(p,r,8),si(v,r,12),si(u,r,16),si(d,r,20),si(h,r,24),si(f,r,28),r}function gi(e){for(let t=0;t<e.length;t++)e[t]=0;return e}class yi{digestLength=16;_buffer=(()=>new Uint8Array(16))();_r=(()=>new Uint16Array(10))();_h=(()=>new Uint16Array(10))();_pad=(()=>new Uint16Array(8))();_leftover=0;_fin=0;_finished=!1;constructor(e){let t=e[0]|e[1]<<8;this._r[0]=8191&t;let r=e[2]|e[3]<<8;this._r[1]=8191&(t>>>13|r<<3);let n=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|n<<6);let i=e[6]|e[7]<<8;this._r[3]=8191&(n>>>7|i<<9);let s=e[8]|e[9]<<8;this._r[4]=255&(i>>>4|s<<12),this._r[5]=s>>>1&8190;let o=e[10]|e[11]<<8;this._r[6]=8191&(s>>>14|o<<2);let a=e[12]|e[13]<<8;this._r[7]=8065&(o>>>11|a<<5);let c=e[14]|e[15]<<8;this._r[8]=8191&(a>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}_blocks(e,t,r){let n=this._fin?0:2048,i=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],l=this._h[5],u=this._h[6],d=this._h[7],h=this._h[8],f=this._h[9],p=this._r[0],m=this._r[1],g=this._r[2],y=this._r[3],b=this._r[4],v=this._r[5],w=this._r[6],A=this._r[7],_=this._r[8],E=this._r[9];for(;r>=16;){let x=e[t+0]|e[t+1]<<8;i+=8191&x;let k=e[t+2]|e[t+3]<<8;s+=8191&(x>>>13|k<<3);let S=e[t+4]|e[t+5]<<8;o+=8191&(k>>>10|S<<6);let P=e[t+6]|e[t+7]<<8;a+=8191&(S>>>7|P<<9);let T=e[t+8]|e[t+9]<<8;c+=8191&(P>>>4|T<<12),l+=T>>>1&8191;let I=e[t+10]|e[t+11]<<8;u+=8191&(T>>>14|I<<2);let O=e[t+12]|e[t+13]<<8;d+=8191&(I>>>11|O<<5);let R=e[t+14]|e[t+15]<<8;h+=8191&(O>>>8|R<<8),f+=R>>>5|n;let C=0,N=C;N+=i*p,N+=s*(5*E),N+=o*(5*_),N+=a*(5*A),N+=c*(5*w),C=N>>>13,N&=8191,N+=l*(5*v),N+=u*(5*b),N+=d*(5*y),N+=h*(5*g),N+=f*(5*m),C+=N>>>13,N&=8191;let L=C;L+=i*m,L+=s*p,L+=o*(5*E),L+=a*(5*_),L+=c*(5*A),C=L>>>13,L&=8191,L+=l*(5*w),L+=u*(5*v),L+=d*(5*b),L+=h*(5*y),L+=f*(5*g),C+=L>>>13,L&=8191;let M=C;M+=i*g,M+=s*m,M+=o*p,M+=a*(5*E),M+=c*(5*_),C=M>>>13,M&=8191,M+=l*(5*A),M+=u*(5*w),M+=d*(5*v),M+=h*(5*b),M+=f*(5*y),C+=M>>>13,M&=8191;let B=C;B+=i*y,B+=s*g,B+=o*m,B+=a*p,B+=c*(5*E),C=B>>>13,B&=8191,B+=l*(5*_),B+=u*(5*A),B+=d*(5*w),B+=h*(5*v),B+=f*(5*b),C+=B>>>13,B&=8191;let D=C;D+=i*b,D+=s*y,D+=o*g,D+=a*m,D+=c*p,C=D>>>13,D&=8191,D+=l*(5*E),D+=u*(5*_),D+=d*(5*A),D+=h*(5*w),D+=f*(5*v),C+=D>>>13,D&=8191;let j=C;j+=i*v,j+=s*b,j+=o*y,j+=a*g,j+=c*m,C=j>>>13,j&=8191,j+=l*p,j+=u*(5*E),j+=d*(5*_),j+=h*(5*A),j+=f*(5*w),C+=j>>>13,j&=8191;let U=C;U+=i*w,U+=s*v,U+=o*b,U+=a*y,U+=c*g,C=U>>>13,U&=8191,U+=l*m,U+=u*p,U+=d*(5*E),U+=h*(5*_),U+=f*(5*A),C+=U>>>13,U&=8191;let F=C;F+=i*A,F+=s*w,F+=o*v,F+=a*b,F+=c*y,C=F>>>13,F&=8191,F+=l*g,F+=u*m,F+=d*p,F+=h*(5*E),F+=f*(5*_),C+=F>>>13,F&=8191;let H=C;H+=i*_,H+=s*A,H+=o*w,H+=a*v,H+=c*b,C=H>>>13,H&=8191,H+=l*y,H+=u*g,H+=d*m,H+=h*p,H+=f*(5*E),C+=H>>>13,H&=8191;let z=C;z+=i*E,z+=s*_,z+=o*A,z+=a*w,z+=c*v,C=z>>>13,z&=8191,z+=l*b,z+=u*y,z+=d*g,z+=h*m,z+=f*p,C+=z>>>13,z&=8191,C=(C<<2)+C|0,C=C+N|0,N=8191&C,C>>>=13,L+=C,i=N,s=L,o=M,a=B,c=D,l=j,u=U,d=F,h=H,f=z,t+=16,r-=16}this._h[0]=i,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=l,this._h[6]=u,this._h[7]=d,this._h[8]=h,this._h[9]=f}finish(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=new Uint16Array(10);let n,i,s,o;if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=n,n=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,r[0]=this._h[0]+5,n=r[0]>>>13,r[0]&=8191,o=1;o<10;o++)r[o]=this._h[o]+n,n=r[o]>>>13,r[o]&=8191;for(r[9]-=8192,i=(1^n)-1,o=0;o<10;o++)r[o]&=i;for(i=~i,o=0;o<10;o++)this._h[o]=this._h[o]&i|r[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),s=this._h[0]+this._pad[0],this._h[0]=65535&s,o=1;o<8;o++)s=(this._h[o]+this._pad[o]|0)+(s>>>16)|0,this._h[o]=65535&s;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this}update(e){let t,r=0,n=e.length;if(this._leftover){t=16-this._leftover,t>n&&(t=n);for(let n=0;n<t;n++)this._buffer[this._leftover+n]=e[r+n];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(let t=0;t<n;t++)this._buffer[this._leftover+t]=e[r+t];this._leftover+=n}return this}digest(){if(this._finished)throw new Error("Poly1305 was finished");let e=new Uint8Array(16);return this.finish(e),e}clean(){return gi(this._buffer),gi(this._r),gi(this._h),gi(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this}}function bi(e,t){const r=new yi(e);r.update(t);const n=r.digest();return r.clean(),n}function vi(e){for(let t=0;t<e.length;t++)e[t]=0;return e}Math.imul;Number.isInteger,Number.MAX_SAFE_INTEGER,Number.isSafeInteger;new class{isAvailable=!1;isInstantiated=!1;constructor(){"undefined"!==typeof crypto&&"getRandomValues"in crypto&&(this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");const t=new Uint8Array(e);for(let r=0;r<t.length;r+=65536)crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}};function wi(e,t,r){if(24!==t.length)throw new Error("secretBox nonce must be 24 bytes");const n=new Uint8Array(64),i=new Uint8Array(32);i.set(t),fi(e,i,n,8);const s=new Uint8Array(16+r.length);for(let a=0;a<32&&a<r.length;a++)s[16+a]=r[a]^n[32+a];r.length>32&&hi(e,i,r.subarray(32),s.subarray(48),8);const o=bi(n.subarray(0,32),s.subarray(16));for(let a=0;a<o.length;a++)s[a]=o[a];return vi(o),vi(n),vi(i),s}function Ai(e,t,r){if(24!==t.length)throw new Error("secretBox nonce must be 24 bytes");if(r.length<16)throw new Error("secretBox data must be at least 16 bytes");const n=new Uint8Array(64),i=new Uint8Array(32);i.set(t),fi(e,i,n,8);const s=bi(n.subarray(0,32),r.subarray(16));if(o=s,a=r.subarray(0,16),16!==o.length||16!==a.length||!function(e,t){return 0!==e.length&&0!==t.length&&0!==function(e,t){if(e.length!==t.length)return 0;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}(e,t)}(o,a))return null;var o,a;const c=r.subarray(16),l=new Uint8Array(c.length);for(let u=0;u<32&&u<c.length;u++)l[u]=c[u]^n[32+u];return c.length>32&&hi(e,i,c.subarray(32),l.subarray(32),8),vi(s),vi(n),vi(i),l}const _i=new Uint8Array(16);function Ei(e,t){const r=ni(t,e);return mi(r,_i,r),r}Math.imul;Number.isInteger,Number.MAX_SAFE_INTEGER,Number.isSafeInteger;function xi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function ki(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array(4),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function Si(e){for(let t=0;t<e.length;t++)e[t]=0;return e}const Pi=128,Ti=Math.pow(2,32)-1,Ii=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Oi=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]];class Ri{digestLength;blockSize=(()=>Pi)();_state=(()=>new Int32Array(Ii))();_buffer=(()=>new Uint8Array(Pi))();_bufferLength=0;_ctr=(()=>new Uint32Array(4))();_flag=(()=>new Uint32Array(4))();_lastNode=!1;_finished=!1;_vtmp=(()=>new Uint32Array(32))();_mtmp=(()=>new Uint32Array(32))();_paddedKey;_initialState;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,t=arguments.length>1?arguments[1]:void 0;if(this.digestLength=e,e<1||e>64)throw new Error("blake2b: wrong digest length");t&&this.validateConfig(t);let r=0;t&&t.key&&(r=t.key.length);let n=1,i=1;t&&t.tree&&(n=t.tree.fanout,i=t.tree.maxDepth),this._state[0]^=e|r<<8|n<<16|i<<24,t&&t.tree&&(this._state[1]^=t.tree.leafSize,this._state[2]^=t.tree.nodeOffsetLowBits,this._state[3]^=t.tree.nodeOffsetHighBits,this._state[4]^=t.tree.nodeDepth|t.tree.innerDigestLength<<8,this._lastNode=t.tree.lastNode),t&&t.salt&&(this._state[8]^=xi(t.salt,0),this._state[9]^=xi(t.salt,4),this._state[10]^=xi(t.salt,8),this._state[11]^=xi(t.salt,12)),t&&t.personalization&&(this._state[12]^=xi(t.personalization,0),this._state[13]^=xi(t.personalization,4),this._state[14]^=xi(t.personalization,8),this._state[15]^=xi(t.personalization,12)),this._initialState=new Uint32Array(this._state),t&&t.key&&r>0&&(this._paddedKey=new Uint8Array(Pi),this._paddedKey.set(t.key),this._buffer.set(this._paddedKey),this._bufferLength=Pi)}reset(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=Pi):this._bufferLength=0,Si(this._ctr),Si(this._flag),this._finished=!1,this}validateConfig(e){if(e.key&&e.key.length>64)throw new Error("blake2b: wrong key length");if(e.salt&&16!==e.salt.length)throw new Error("blake2b: wrong salt length");if(e.personalization&&16!==e.personalization.length)throw new Error("blake2b: wrong personalization length");if(e.tree){if(e.tree.fanout<0||e.tree.fanout>255)throw new Error("blake2b: wrong tree fanout");if(e.tree.maxDepth<0||e.tree.maxDepth>255)throw new Error("blake2b: wrong tree depth");if(e.tree.leafSize<0||e.tree.leafSize>Ti)throw new Error("blake2b: wrong leaf size");if(e.tree.innerDigestLength<0||e.tree.innerDigestLength>64)throw new Error("blake2b: wrong tree inner digest length")}}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(this._finished)throw new Error("blake2b: can't update because hash was finished.");const r=Pi-this._bufferLength;let n=0;if(0===t)return this;if(t>r){for(let t=0;t<r;t++)this._buffer[this._bufferLength+t]=e[n+t];this._processBlock(Pi),n+=r,t-=r,this._bufferLength=0}for(;t>Pi;){for(let t=0;t<Pi;t++)this._buffer[t]=e[n+t];this._processBlock(Pi),n+=Pi,t-=Pi,this._bufferLength=0}for(let i=0;i<t;i++)this._buffer[this._bufferLength+i]=e[n+i];return this._bufferLength+=t,this}finish(e){if(!this._finished){for(let e=this._bufferLength;e<Pi;e++)this._buffer[e]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}const t=this._buffer.subarray(0,64);for(let r=0;r<16;r++)ki(this._state[r],t,4*r);return e.set(t.subarray(0,e.length)),this}digest(){const e=new Uint8Array(this.digestLength);return this.finish(e),e}clean(){Si(this._vtmp),Si(this._mtmp),Si(this._state),Si(this._buffer),Si(this._initialState),this._paddedKey&&Si(this._paddedKey),this._bufferLength=0,Si(this._ctr),Si(this._flag),this._lastNode=!1,this._finished=!1}saveState(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}}restoreState(e){return this._state.set(e.state),this._buffer.set(e.buffer),this._bufferLength=e.bufferLength,this._ctr.set(e.ctr),this._flag.set(e.flag),this._lastNode=e.lastNode,this._paddedKey&&Si(this._paddedKey),this._paddedKey=e.paddedKey?new Uint8Array(e.paddedKey):void 0,this._initialState.set(e.initialState),this}cleanSavedState(e){Si(e.state),Si(e.buffer),Si(e.initialState),e.paddedKey&&Si(e.paddedKey),e.bufferLength=0,Si(e.ctr),Si(e.flag),e.lastNode=!1}_G(e,t,r,n,i,s,o,a,c,l,u,d,h){let f=e[t],p=e[s],m=e[r],g=e[o],y=e[n],b=e[a],v=e[i],w=e[c],A=65535&f,_=f>>>16,E=65535&p,x=p>>>16;A+=65535&m,_+=m>>>16,E+=65535&g,x+=g>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,p=65535&E|x<<16,f=65535&A|_<<16,A=65535&f,_=f>>>16,E=65535&p,x=p>>>16,A+=65535&l,_+=l>>>16,E+=65535&u,x+=u>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,p=65535&E|x<<16,f=65535&A|_<<16,v^=f,w^=p,A=w,w=v,v=A,A=65535&y,_=y>>>16,E=65535&b,x=b>>>16,A+=65535&v,_+=v>>>16,E+=65535&w,x+=w>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,b=65535&E|x<<16,y=65535&A|_<<16,m^=y,g^=b,A=m<<8|g>>>24,m=g<<8|m>>>24,g=A,A=65535&f,_=f>>>16,E=65535&p,x=p>>>16,A+=65535&m,_+=m>>>16,E+=65535&g,x+=g>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,p=65535&E|x<<16,f=65535&A|_<<16,A=65535&f,_=f>>>16,E=65535&p,x=p>>>16,A+=65535&d,_+=d>>>16,E+=65535&h,x+=h>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,p=65535&E|x<<16,f=65535&A|_<<16,v^=f,w^=p,A=v<<16|w>>>16,v=w<<16|v>>>16,w=A,A=65535&y,_=y>>>16,E=65535&b,x=b>>>16,A+=65535&v,_+=v>>>16,E+=65535&w,x+=w>>>16,_+=A>>>16,E+=_>>>16,x+=E>>>16,b=65535&E|x<<16,y=65535&A|_<<16,m^=y,g^=b,A=g<<1|m>>>31,m=m<<1|g>>>31,g=A,e[t]=f,e[s]=p,e[r]=m,e[o]=g,e[n]=y,e[a]=b,e[i]=v,e[c]=w}_incrementCounter(e){for(let t=0;t<3;t++){let r=this._ctr[t]+e;if(this._ctr[t]=r>>>0,this._ctr[t]===r)return;e=1}}_processBlock(e){this._incrementCounter(e);let t=this._vtmp;t.set(this._state),t.set(Ii,16),t[24]^=this._ctr[0],t[25]^=this._ctr[1],t[26]^=this._ctr[2],t[27]^=this._ctr[3],t[28]^=this._flag[0],t[29]^=this._flag[1],t[30]^=this._flag[2],t[31]^=this._flag[3];let r=this._mtmp;for(let n=0;n<32;n++)r[n]=xi(this._buffer,4*n);for(let n=0;n<12;n++)this._G(t,0,8,16,24,1,9,17,25,r[Oi[n][0]],r[Oi[n][0]+1],r[Oi[n][1]],r[Oi[n][1]+1]),this._G(t,2,10,18,26,3,11,19,27,r[Oi[n][2]],r[Oi[n][2]+1],r[Oi[n][3]],r[Oi[n][3]+1]),this._G(t,4,12,20,28,5,13,21,29,r[Oi[n][4]],r[Oi[n][4]+1],r[Oi[n][5]],r[Oi[n][5]+1]),this._G(t,6,14,22,30,7,15,23,31,r[Oi[n][6]],r[Oi[n][6]+1],r[Oi[n][7]],r[Oi[n][7]+1]),this._G(t,0,10,20,30,1,11,21,31,r[Oi[n][8]],r[Oi[n][8]+1],r[Oi[n][9]],r[Oi[n][9]+1]),this._G(t,2,12,22,24,3,13,23,25,r[Oi[n][10]],r[Oi[n][10]+1],r[Oi[n][11]],r[Oi[n][11]+1]),this._G(t,4,14,16,26,5,15,17,27,r[Oi[n][12]],r[Oi[n][12]+1],r[Oi[n][13]],r[Oi[n][13]+1]),this._G(t,6,8,18,28,7,9,19,29,r[Oi[n][14]],r[Oi[n][14]+1],r[Oi[n][15]],r[Oi[n][15]+1]);for(let n=0;n<16;n++)this._state[n]^=t[n]^t[n+16]}}new class{isAvailable=!1;isInstantiated=!1;constructor(){"undefined"!==typeof crypto&&"getRandomValues"in crypto&&(this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");const t=new Uint8Array(e);for(let r=0;r<t.length;r+=65536)crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}};const Ci=32;function Ni(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ri;return function(e,t,r){const n=new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ri);if(64!==n.digestLength)throw new Error("X25519: incorrect digest length");const i=n.update(e).update(r).update(t).digest();return{send:i.subarray(0,Ci),receive:i.subarray(Ci)}}(ii(e.secretKey,t),e.publicKey,t,r)}function Li(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ri;return function(e,t,r){const n=new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ri);if(64!==n.digestLength)throw new Error("X25519: incorrect digest length");const i=n.update(e).update(t).update(r).digest();return{receive:i.subarray(0,Ci),send:i.subarray(Ci)}}(ii(e.secretKey,t),e.publicKey,t,r)}var Mi=r(4507).Buffer;const Bi=e=>Mi.from(e).toString("hex"),Di=e=>{const t={edpk:{length:54,prefix:Mi.from(new Uint8Array([6,161,159]))},sppk:{length:55,prefix:Mi.from(new Uint8Array([6,161,161]))},p2pk:{length:55,prefix:Mi.from(new Uint8Array([6,161,164]))}};let r,n;if(64===e.length)r=t.edpk.prefix,n=e;else{const i=Object.entries(t);for(const[t,s]of i)if(e.startsWith(t)&&e.length===s.length){r=s.prefix;const i=Wn().decode(e);n=Mi.from(i.slice(t.length)).toString("hex");break}}if(!r||!n)throw new Error(`invalid publicKey: ${e}`);const i=nn(Mi.from(n,"hex"),20);return Wn().encode(Mi.concat([r,Mi.from(i)]))},ji=(e,t,r)=>{const n=Fn(Mi.from(r)),i=Un(Mi.from(t)),s="string"===typeof e?zn(e):e,o=s.slice(0,32),a=s.slice(32),c=function(e,t,r,n){const i=Ei(e,t),s=Ai(i,r,n);return vi(i),s}(o,n,new rn(24).update(o,32).update(i,32).digest(),a);if(!c)throw new Error("Decryption failed");return Mi.from(c).toString()},Ui=e=>{/^[\da-f]+$/i.test(e)||console.error("PublicKey needs to be in hex format!");const t=Mi.from(nn(Mi.from(e,"hex"),5));return Wn().encode(t)};var Fi=r(4507).Buffer;class Hi extends v{constructor(e){super(),this.appName="Bridge App",this.appUrl="http://localhost",this._permissionRequestCallbacks=new m(36e5),this._operationRequestCallbacks=new m(36e5),this._signPayloadRequestCallbacks=new m(36e5),this._secretSeed=e.secretSeed,this._apiKey=e.apiKey,this._genericWalletUrl=e.genericWalletUrl??"",this.network=e.network??{type:"mainnet"},this.bridgeUrl=e.bridgeUrl,this.walletApp=e.walletApp,this._communicationKeyPair=Ln(nn(zn(this._secretSeed),32)),this._communicationController=new Gr(this.bridgeUrl,"/api/v1/socket.io/tezos-beacon","tezosBeaconRequest","tezosBeaconEvent")}async permissionRequest(){await this._communicationController.connect();const e=await this._sendTezosBeaconRequest({type:"init",payload:{apiKey:this._apiKey,appName:this.appName,appUrl:this.appUrl,publicKey:Fi.from(this._communicationKeyPair.publicKey).toString("hex")}});this._sessionId=e.payload.sessionId;const t=Fi.from(function(e,t){if(64!==e.length)throw new Error("ed25519: secret key must be 64 bytes");const r=new Float64Array(64),n=[ln(),ln(),ln(),ln()],i=cn(e.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;const s=new Uint8Array(64);s.set(i.subarray(32),32);const o=new sn;o.update(s.subarray(32)),o.update(t);const a=o.digest();o.clean(),Dn(a),Nn(n,a),Rn(s,n),o.reset(),o.update(s.subarray(0,32)),o.update(e.subarray(32)),o.update(t);const c=o.digest();Dn(c);for(let l=0;l<32;l++)r[l]=a[l];for(let l=0;l<32;l++)for(let e=0;e<32;e++)r[l+e]+=c[l]*i[e];return Bn(s.subarray(32),r),s}(this._communicationKeyPair.secretKey,Fi.from(e.payload.loginRawDigest,"hex"))).toString("hex"),r=await this._sendTezosBeaconRequest({type:"login",sessionId:this._getSessionId(),payload:{rawSignature:t}}),n=crypto.randomUUID(),i=this._permissionRequestCallbacks.addCallback(n);return this._communicationController.on("event",this._createTezosEventHandler(n)),this.walletApp&&c.A.openLink(((e,t,r)=>{switch(e){case"altme":return`https://app.altme.io/app/download?${t.slice(9)}`;case"kukai":return`https://connect.kukai.app?${t.slice(9)}`;case"_generic_":{const e=new URL(r);return e.searchParams.append("uri",t),e.toString()}}})(this.walletApp,r.payload.connectionString,this._genericWalletUrl)),this.emit("connectionString",r.payload.connectionString),i}async getPKH(){return Di(this._getPublicKey())}async getPK(){return this._getPublicKey()}async mapTransferParamsToWalletParams(e){const t=await e();return console.log("mapTransferParamsToWalletParams()",t),{amount:Kn(t.amount,t.mutez),destination:t.to,fee:void 0===t.fee?void 0:$n(t.fee),gas_limit:void 0===t.gasLimit?void 0:$n(t.gasLimit),kind:"transaction",parameters:t.parameter,source:void 0===this._publicKey?void 0:Di(this._publicKey),storage_limit:void 0===t.storageLimit?void 0:$n(t.storageLimit)}}async mapTransferTicketParamsToWalletParams(e){const t=await e();throw console.log("mapTransferTicketParamsToWalletParams()",t),new Error("mapTransferTicketParamsToWalletParams not implemented yet")}async mapStakeParamsToWalletParams(e){const t=await e();return console.log("mapStakeParamsToWalletParams()",t),{amount:Kn(t.amount,t.mutez),destination:t.to??Di(this._getPublicKey()),fee:void 0===t.fee?void 0:$n(t.fee),gas_limit:void 0===t.gasLimit?void 0:$n(t.gasLimit),kind:"transaction",parameters:t.parameter,source:void 0===this._publicKey?void 0:Di(this._publicKey),storage_limit:void 0===t.storageLimit?void 0:$n(t.storageLimit)}}async mapUnstakeParamsToWalletParams(e){const t=await e();return console.log("mapUnstakeParamsToWalletParams()",t),{amount:Kn(t.amount,t.mutez),destination:t.to??Di(this._getPublicKey()),fee:void 0===t.fee?void 0:$n(t.fee),gas_limit:void 0===t.gasLimit?void 0:$n(t.gasLimit),kind:"transaction",parameters:t.parameter,source:void 0===this._publicKey?void 0:Di(this._publicKey),storage_limit:void 0===t.storageLimit?void 0:$n(t.storageLimit)}}async mapFinalizeUnstakeParamsToWalletParams(e){const t=await e();if(console.log("mapFinalizeUnstakeParamsToWalletParams()",t),void 0===t.amount)throw new Error("Amount is required");return{amount:Kn(t.amount,t.mutez),destination:t.to??Di(this._getPublicKey()),fee:void 0===t.fee?void 0:$n(t.fee),gas_limit:void 0===t.gasLimit?void 0:$n(t.gasLimit),kind:"transaction",parameters:t.parameter,source:void 0===this._publicKey?void 0:Di(this._publicKey),storage_limit:void 0===t.storageLimit?void 0:$n(t.storageLimit)}}async mapOriginateParamsToWalletParams(e){const t=await e();throw console.log("mapOriginateParamsToWalletParams()",t),new Error("mapOriginateParamsToWalletParams not implemented yet")}async mapDelegateParamsToWalletParams(e){const t=await e();return console.log("mapDelegateParamsToWalletParams()",t),{delegate:t.delegate,fee:void 0===t.fee?void 0:$n(t.fee),gas_limit:void 0===t.gasLimit?void 0:$n(t.gasLimit),kind:"delegation",storage_limit:void 0===t.storageLimit?void 0:$n(t.storageLimit)}}async mapIncreasePaidStorageWalletParams(e){const t=await e();return console.log("mapIncreasePaidStorageWalletParams()",t),{amount:Kn(t.amount,!0),destination:t.destination,fee:void 0===t.fee?void 0:$n(t.fee),gas_limit:void 0===t.gasLimit?void 0:$n(t.gasLimit),kind:"increase_paid_storage",storage_limit:void 0===t.storageLimit?void 0:$n(t.storageLimit)}}async sendOperations(e){console.log("sendOperations()",e);return(await this._sendTezosMessage({type:"operation_request",network:this.network,operationDetails:e,sourceAddress:Di(this._getPublicKey())})).transactionHash}async sign(e,t){if(console.log("sign()",e,t),1!==t?.length||3!==t[0])throw new Error("Watermark is not supported");const r=Fi.concat([Fi.from(t),Fi.from(e,"hex")]).toString("hex");return(await this._sendTezosMessage({type:"sign_payload_request",payload:r,sourceAddress:Di(this._getPublicKey()),signingType:"operation"})).signature}async requestSignPayload(e){const{signingType:t,payload:r,sourceAddress:n}=e;switch(t){case"operation":if(!r.startsWith("03"))throw new Error('When using signing type "operation", the payload must start with prefix "03"');break;case"micheline":if(!r.startsWith("05"))throw new Error('When using signing type "micheline", the payload must start with prefix "05"')}return await this._sendTezosMessage({type:"sign_payload_request",payload:r,sourceAddress:n??Di(this._getPublicKey()),signingType:t??"raw"})}connected(){return this._communicationController.connected()}async disconnect(){try{await this._sendTezosMessage({type:"disconnect"})}finally{this.emit("disconnect",void 0),this._communicationController.disconnect()}}serialize(){return N({appName:this.appName,appUrl:this.appUrl,network:this.network,bridgeUrl:this.bridgeUrl,walletApp:this.walletApp,_secretSeed:this._secretSeed,_apiKey:this._apiKey,_genericWalletUrl:this._genericWalletUrl,_communicationController:this._communicationController.serialize(),_sessionId:this._getSessionId(),_otherPublicKey:this._getOtherPublicKey(),_publicKey:this._getPublicKey()})}static async deserialize(e){const t=L(e),r=new Hi({secretSeed:t._secretSeed,apiKey:t._apiKey,network:t.network,bridgeUrl:t.bridgeUrl,walletApp:t.walletApp,genericWalletUrl:t._genericWalletUrl});return r._communicationController=Gr.deserialize(t._communicationController),r._sessionId=t._sessionId,r._otherPublicKey=t._otherPublicKey,r._publicKey=t._publicKey,await r._reconnect(),r}async _reconnect(){this._communicationController.on("event",this._createTezosEventHandler(void 0)),await this._communicationController.connect(),await this._sendTezosBeaconRequest({type:"reconnect",sessionId:this._getSessionId()})}_createTezosEventHandler(e){return async t=>{try{switch((t=I(t,P().alternatives().try(P().object({type:P().string().valid("message").required(),payload:P().object({message:P().string().required()})}),P().object({type:P().string().valid("disconnect").required()})))).type){case"message":{const i=t.payload.message.split(":");if(i.length>1){if(e){const t=i.at(-1);if(!t)throw new Error("Empty text message");const r=JSON.parse(ji(Fi.from(t,"hex"),this._communicationKeyPair.publicKey,this._communicationKeyPair.secretKey));if((e=>O(e,P().object({type:P().string().valid("p2p-pairing-response").required(),id:P().string().required(),name:P().string().required(),version:P().string().required(),publicKey:P().string().required(),relayServer:P().string().required(),appUrl:P().string(),icon:P().string()})))(r)){this._otherPublicKey=Fi.from(r.publicKey,"hex");const t={id:e,type:"permission_request",version:"2",senderId:Ui(Bi(this._communicationKeyPair.publicKey)),appMetadata:{senderId:Ui(Bi(this._communicationKeyPair.publicKey)),name:this.appName},network:this.network,scopes:["operation_request","sign"]};await this._sendTezosMessage(t)}else console.log("PeerInfo isn't valid",r)}}else if(this._otherPublicKey){const e=(r=this._getOtherPublicKey().toString("hex"),Ni({publicKey:Un((n=this._communicationKeyPair).publicKey),secretKey:Fn(n.secretKey)},Un(Mi.from(r,"hex")))),i=((e,t)=>{const r=Ai(t,e.slice(0,24),e.slice(24));if(!r)throw new Error("Decryption failed");return Mi.from(r).toString("utf8")})(Fi.from(t.payload.message,"hex"),e.receive),s=JSON.parse(Fi.from(Wn().decode(i)).toString("utf8"));(e=>O(e,P().object({type:P().string().valid("permission_response").required(),version:P().string().required(),id:P().string().required(),senderId:P().string().required(),publicKey:P().string().required(),network:P().object({type:P().string().valid("mainnet","carthagenet","custom","ghostnet").required(),name:P().string(),rpcUrl:P().string()}).required(),scopes:P().array().items(P().string().valid("sign","operation_request","threshold")).required(),threshold:P().object({amount:P().string().required(),timeframe:P().string().required()}),appMetadata:P().object({senderId:P().string().required(),name:P().string().required(),icon:P().string()})})))(s)?(console.log("PermissionResponse",s),this._publicKey=s.publicKey,this._permissionRequestCallbacks.resolveCallback(s.id,void 0)):(e=>O(e,P().object({type:P().string().valid("operation_response").required(),version:P().string().required(),id:P().string().required(),senderId:P().string().required(),transactionHash:P().string().required()})))(s)?(console.log("OperationResponse",s),this._operationRequestCallbacks.resolveCallback(s.id,s)):(e=>O(e,P().object({type:P().string().valid("sign_payload_response").required(),version:P().string().required(),id:P().string().required(),senderId:P().string().required(),signature:P().string().required(),signingType:P().string()})))(s)?(console.log("SignPayloadResponse",s),this._signPayloadRequestCallbacks.resolveCallback(s.id,s)):(e=>O(e,P().object({type:P().string().valid("disconnect").required(),version:P().string().required(),id:P().string().required(),senderId:P().string().required()})))(s)?(console.log("DisconnectMessage",s),this.disconnect()):(e=>O(e,P().object({type:P().string().valid("error").required(),version:P().string().required(),id:P().string().required(),senderId:P().string().required(),errorType:P().string().valid("BROADCAST_ERROR","NETWORK_NOT_SUPPORTED","NO_ADDRESS_ERROR","NO_PRIVATE_KEY_FOUND_ERROR","NOT_GRANTED_ERROR","PARAMETERS_INVALID_ERROR","TOO_MANY_OPERATIONS","TRANSACTION_INVALID_ERROR","ABORTED_ERROR","UNKNOWN_ERROR").required()})))(s)?(console.error("ErrorResponse",s),this._permissionRequestCallbacks.rejectCallback(s.id,new Error(s.errorType)),this._operationRequestCallbacks.rejectCallback(s.id,new Error(s.errorType)),this._signPayloadRequestCallbacks.rejectCallback(s.id,new Error(s.errorType))):console.log("Unknown message",s)}break}case"disconnect":this.emit("disconnect",void 0)}}catch(gZ){console.error(gZ)}var r,n}}async _sendTezosMessage(e){const t="permission_request"===e.type?{...e,version:"2",senderId:Ui(Bi(this._communicationKeyPair.publicKey))}:{...e,id:crypto.randomUUID(),version:"2",senderId:Ui(Bi(this._communicationKeyPair.publicKey))},r=(n=this._getOtherPublicKey().toString("hex"),Li({publicKey:Un((i=this._communicationKeyPair).publicKey),secretKey:Fn(i.secretKey)},Un(Mi.from(n,"hex"))));var n,i;const s=((e,t)=>{const r=Mi.from(crypto.getRandomValues(new Uint8Array(24))),n=Mi.concat([r,Mi.from(wi(t,r,Mi.from(e,"utf8")))]);return Bi(n)})(Wn().encode(Fi.from(JSON.stringify(t),"utf8")),r.send);switch(t.type){case"operation_request":{const e=this._operationRequestCallbacks.addCallback(t.id);return await this._sendTezosBeaconRequest({type:"message",sessionId:this._getSessionId(),payload:{message:s}}),e}case"sign_payload_request":{const e=this._signPayloadRequestCallbacks.addCallback(t.id);return await this._sendTezosBeaconRequest({type:"message",sessionId:this._getSessionId(),payload:{message:s}}),e}case"disconnect":return void await this._sendTezosBeaconRequest({type:"disconnect",sessionId:this._getSessionId(),payload:{message:s}})}await this._sendTezosBeaconRequest({type:"message",sessionId:this._getSessionId(),payload:{message:s}})}async _sendTezosBeaconRequest(e){if(!this._communicationController.connected())throw new Error("Can't send request without connection");const t=await this._communicationController.send(e),r=I(t,P().alternatives().try(P().object({type:P().string().valid("error").required(),payload:P().alternatives(P().object({type:P().string().valid("generic").required(),key:P().string().required(),message:P().string()}),P().object({type:P().string().valid("invalidSessionId","invalidApiKey").required(),message:P().string()}))}),P().object({type:P().string().valid("init").required(),payload:P().object({sessionId:P().string().required(),loginRawDigest:P().string().hex().required()})}),P().object({type:P().string().valid("login").required(),payload:P().object({connectionString:P().string().required()})}),P().object({type:P().string().valid("message").required()}),P().object({type:P().string().valid("reconnect").required()}),P().object({type:P().string().valid("disconnect").required()})).required());if("error"===r.type){if("generic"===r.payload.type){let e=`Error Code: ${r.payload.key}`;throw r.payload.message&&(e+=`: ${r.payload.message}`),new Error(e)}throw new Gn(r.payload.type,r.payload.message)}if(e.type!==r.type)throw new Error("Response type is different from request type");return t}_getPublicKey(){if(!this._publicKey)throw new Error("Public key is not set");return this._publicKey}_getSessionId(){if(!this._sessionId)throw new Error("Session ID is not set");return this._sessionId}_getOtherPublicKey(){if(!this._otherPublicKey)throw new Error("Wallet public key is not set");return this._otherPublicKey}}class zi extends Error{constructor(e,t){super(t),this.errorType=e}}const Gi=(e,t)=>{let r=encodeURIComponent(t);if(bt()&&(r=encodeURIComponent(r)),"kukai"===e)return`https://connect.kukai.app/wc?uri=${r}`};var qi=r(4507).Buffer;class Wi extends v{constructor(e){super(),this._permissionRequestCallbacks=new m(36e5),this._apiKey=e.apiKey,this.bridgeUrl=e.bridgeUrl,this.walletApp=e.walletApp,this.network=e.network??"mainnet",this._communicationController=new Gr(this.bridgeUrl,"/api/v1/socket.io/tezos-wc","tezosWcRequest","tezosWcEvent")}async permissionRequest(){this._communicationController.connected()&&await this.disconnect(),await this._communicationController.connect(),this._communicationController.on("event",this._createTezosWcEventHandler());const{payload:{sessionId:e,walletConnectUri:t}}=await this._sendTezosWcRequest({type:"connect",payload:{apiKey:this._apiKey,network:this.network}});this._sessionId=e,this._walletConnectUri=t;const r=this._permissionRequestCallbacks.addCallback(e);return this.walletApp&&(bt()?(c.A.openLink(Gi(this.walletApp,t),{try_instant_view:!0}),await f(1e3),c.A.openLink(Gi(this.walletApp,t),{try_instant_view:!0})):c.A.openLink(Gi(this.walletApp,t))),this.emit("connectionString",t),r}async connected(){if(!this._sessionId||!this._communicationController.connected())return!1;return(await this._sendTezosWcRequest({type:"connected",sessionId:this._getSessionId()})).payload.connected}async disconnect(){try{await this._sendTezosWcRequest({type:"disconnect",sessionId:this._getSessionId()})}finally{this.emit("disconnect",void 0),this._communicationController.disconnect()}}serialize(){return N({bridgeUrl:this.bridgeUrl,walletApp:this.walletApp,network:this.network,_apiKey:this._apiKey,_communicationController:this._communicationController.serialize(),_sessionId:this._getSessionId(),_walletConnectUri:this._getWalletConnectUri()})}static async deserialize(e){const t=L(e),r=new Wi({bridgeUrl:t.bridgeUrl,apiKey:t._apiKey,walletApp:t.walletApp,network:t.network});return r._communicationController=Gr.deserialize(t._communicationController),r._sessionId=t._sessionId,r._walletConnectUri=t._walletConnectUri,await r._reconnect(),r}async _reconnect(){this._communicationController.on("event",this._createTezosWcEventHandler()),await this._communicationController.connect(),await this._sendTezosWcRequest({type:"reconnect",sessionId:this._getSessionId()})}async getPKH(){return(await this._getAccounts()).address}async getPK(){return(await this._getAccounts()).pubkey}async mapTransferParamsToWalletParams(e){const t=await e();return console.log("mapTransferParamsToWalletParams()",t),{account:await this.getPKH(),operations:[{kind:"transaction",amount:t.amount,destination:t.to}]}}mapTransferTicketParamsToWalletParams(e){throw new Error("mapTransferTicketParamsToWalletParams not implemented.")}mapStakeParamsToWalletParams(e){throw new Error("mapStakeParamsToWalletParams not implemented.")}mapUnstakeParamsToWalletParams(e){throw new Error("mapUnstakeParamsToWalletParams not implemented.")}mapFinalizeUnstakeParamsToWalletParams(e){throw new Error("mapFinalizeUnstakeParamsToWalletParams not implemented.")}mapOriginateParamsToWalletParams(e){throw new Error("mapOriginateParamsToWalletParams not implemented.")}mapDelegateParamsToWalletParams(e){throw new Error("mapDelegateParamsToWalletParams not implemented.")}mapIncreasePaidStorageWalletParams(e){throw new Error("mapIncreasePaidStorageWalletParams not implemented.")}async sendOperations(e){console.log("sendOperations()",e);const t=await this._sendTezosWcRequest({type:"request",sessionId:this._getSessionId(),payload:{method:"tezos_send",params:e[0]}});if(r=t.payload,!O(r,P().object({operationHash:P().string().required()}).options({allowUnknown:!0})))throw new Error("Invalid tezos_send response");var r;return t.payload.operationHash}async sign(e,t){if(1!==t?.length||3!==t[0])throw new Error("Watermark is not supported");const r=qi.concat([qi.from(t),qi.from(e,"hex")]).toString("hex");return this.requestSignPayload({payload:r,signingType:"operation",sourceAddress:await this.getPKH()})}async requestSignPayload(e){const{signingType:t,payload:r,sourceAddress:n}=e;switch(t){case"operation":if(!r.startsWith("03"))throw new Error('When using signing type "operation", the payload must start with prefix "03"');break;case"micheline":if(!r.startsWith("05"))throw new Error('When using signing type "micheline", the payload must start with prefix "05"')}const i=await this._sendTezosWcRequest({type:"request",sessionId:this._getSessionId(),payload:{method:"tezos_sign",params:{account:n??await this.getPKH(),payload:r}}});if(s=i.payload,!O(s,P().object({signature:P().string().required()}).options({allowUnknown:!0})))throw new Error("Invalid response");var s;return i.payload.signature}_createTezosWcEventHandler(){return e=>{try{const t=I(e,P().alternatives().try(P().object({type:P().string().valid("connect").required(),payload:P().object({sessionId:P().string().required()})})).required());switch(t.type){case"connect":this._permissionRequestCallbacks.resolveCallback(t.payload.sessionId);break;case"disconnect":this.emit("disconnect",void 0)}}catch(gZ){console.error(gZ)}}}async _getAccounts(){const e=await this._sendTezosWcRequest({type:"request",sessionId:this._getSessionId(),payload:{method:"tezos_getAccounts",params:{}}});if(t=e.payload,!O(t,P().array().length(1).items(P().object({address:P().string().required(),pubkey:P().string().required(),algo:P().string().required()}).options({allowUnknown:!0}))))throw new Error("Invalid tezos_getAccounts response");var t;return e.payload[0]}async _sendTezosWcRequest(e){if(!this._communicationController.connected())throw new Error("Can't send request without connection");const t=await this._communicationController.send(e),r=I(t,P().alternatives().try(P().object({type:P().string().valid("error").required(),payload:P().alternatives(P().object({type:P().string().valid("generic").required(),key:P().string().required(),message:P().string()}),P().object({type:P().string().valid("invalidSessionId","invalidApiKey","walletRequestFailed").required(),message:P().string()}))}),P().object({type:P().string().valid("connect").required(),payload:P().object({sessionId:P().string().required(),walletConnectUri:P().string().required()})}),P().object({type:P().string().valid("connected").required(),payload:P().object({connected:P().boolean().required()})}),P().object({type:P().string().valid("request").required(),payload:P().any().required()}),P().object({type:P().string().valid("reconnect").required()}),P().object({type:P().string().valid("disconnect").required()})).required());if("error"===r.type){if("generic"===r.payload.type){let e=`Error Code: ${r.payload.key}`;throw r.payload.message&&(e+=`: ${r.payload.message}`),new Error(e)}throw new zi(r.payload.type,r.payload.message)}if(e.type!==r.type)throw new Error("Response type is different from request type");return t}_getSessionId(){if(!this._sessionId)throw new Error("Session ID is not set");return this._sessionId}_getWalletConnectUri(){if(!this._walletConnectUri)throw new Error("WalletConnect URI is not set");return this._walletConnectUri}}const $i="jdqmbvrjralxgetjnyao",Ki="jkdkvddgajorkvmywwub",Vi="szyzljncagbqzpuimevq",Qi=[{type:"evm",name:"Etherlink",icon:"etherlink",wallets:[{name:"Bitget",icon:"bitget",network:"evm",walletApp:"bitget",addEtherlinkUrl:"",supportedOperatingSystems:["android","ios"]},{name:"MetaMask",icon:"metaMask",network:"evm",walletApp:"metaMask",addEtherlinkUrl:"",supportedOperatingSystems:["android","ios"]},{name:"Rainbow",icon:"rainbow",network:"evm",walletApp:"rainbow",addEtherlinkUrl:"",supportedOperatingSystems:["android","ios"]},{name:"SafePal",icon:"safePal",network:"evm",walletApp:"safePal",addEtherlinkUrl:"",supportedOperatingSystems:["android","ios"]},{name:"Trust",icon:"trust",network:"evm",walletApp:"trust",addEtherlinkUrl:"",supportedOperatingSystems:["android","ios"]}]},{type:"tezos",name:"Tezos",icon:"tezos",wallets:[{name:"AirGap",icon:"airGap",network:"tezos",bridge:"beacon",walletApp:"_generic_",supportedOperatingSystems:["android","ios"]},{name:"Altme",icon:"altme",network:"tezos",bridge:"beacon",walletApp:"altme",supportedOperatingSystems:["android","ios"]},{name:"Kukai",icon:"kukai",network:"tezos",bridge:"wc",walletApp:"kukai",supportedOperatingSystems:["ios"]},{name:"Temple",icon:"temple",network:"tezos",bridge:"beacon",walletApp:"_generic_",supportedOperatingSystems:["android","ios"]}]}],Zi={name:"Experimental",icon:"transparent",network:"tezos",bridge:"beacon",walletApp:"_generic_",supportedOperatingSystems:["android","ios"]};function Yi(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Yi(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ji(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Yi(e))&&(n&&(n+=" "),n+=t);return n}const Xi=Ji;var es=r(3989),ts=r.t(es,2),rs=r(5948),ns=r.n(rs),is={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function ss(e){var t=function(e){if("number"===typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var n=(e.match(/[^0-9]*$/)||"").toString();return is[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var os=function(){return os=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},os.apply(this,arguments)},as=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},cs=function(e,t,r){var n="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return n;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(o,0),n}("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");const ls=function(e){var t=e.loading,r=void 0===t||t,n=e.color,i=void 0===n?"#000000":n,s=e.speedMultiplier,o=void 0===s?1:s,a=e.cssOverride,c=void 0===a?{}:a,u=e.size,d=void 0===u?15:u,h=e.margin,f=void 0===h?2:h,p=as(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),m=os({display:"inherit"},c),g=function(e){return{display:"inline-block",backgroundColor:i,width:ss(d),height:ss(d),margin:ss(f),borderRadius:"100%",animation:"".concat(cs," ").concat(.7/o,"s ").concat(e%2?"0s":"".concat(.35/o,"s")," infinite linear"),animationFillMode:"both"}};return r?l.createElement("span",os({style:m},p),l.createElement("span",{style:g(1)}),l.createElement("span",{style:g(2)}),l.createElement("span",{style:g(3)})):null},us=e=>{const t=ps(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),ds(r,t)||fs(e)},getConflictingClassGroupIds:(e,t)=>{const i=r[e]||[];return t&&n[e]?[...i,...n[e]]:i}}},ds=(e,t)=>{if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?ds(e.slice(1),n):void 0;if(i)return i;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(s)}))?.classGroupId},hs=/^\[(.+)\]$/,fs=e=>{if(hs.test(e)){const t=hs.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ps=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return bs(Object.entries(e.classGroups),r).forEach((e=>{let[r,i]=e;ms(i,n,r,t)})),n},ms=(e,t,r,n)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return ys(e)?void ms(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach((e=>{let[i,s]=e;ms(s,gs(t,i),r,n)}))}else{(""===e?t:gs(t,e)).classGroupId=r}}))},gs=(e,t)=>{let r=e;return t.split("-").forEach((e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)})),r},ys=e=>e.isThemeGetter,bs=(e,t)=>t?e.map((e=>{let[r,n]=e;return[r,n.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[r,n]=e;return[t+r,n]}))):e))]})):e,vs=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(i(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):i(e,t)}}},ws=e=>{const{separator:t,experimentalParseClassName:r}=e,n=1===t.length,i=t[0],s=t.length,o=e=>{const r=[];let o,a=0,c=0;for(let d=0;d<e.length;d++){let l=e[d];if(0===a){if(l===i&&(n||e.slice(d,d+s)===t)){r.push(e.slice(c,d)),c=d+s;continue}if("/"===l){o=d;continue}}"["===l?a++:"]"===l&&a--}const l=0===r.length?e:e.substring(c),u=l.startsWith("!");return{modifiers:r,hasImportantModifier:u,baseClassName:u?l.substring(1):l,maybePostfixModifierPosition:o&&o>c?o-c:void 0}};return r?e=>r({className:e,parseClassName:o}):o},As=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach((e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)})),t.push(...r.sort()),t},_s=/\s+/;function Es(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=xs(e))&&(n&&(n+=" "),n+=t);return n}const xs=e=>{if("string"===typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=xs(e[n]))&&(r&&(r+=" "),r+=t);return r};function ks(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i,s,o,a=function(t){const n=r.reduce(((e,t)=>t(e)),e());return i=(e=>({cache:vs(e.cacheSize),parseClassName:ws(e),...us(e)}))(n),s=i.cache.get,o=i.cache.set,a=c,c(t)};function c(e){const t=s(e);if(t)return t;const r=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(_s);let a="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{modifiers:t,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=r(e);let h=Boolean(d),f=n(h?u.substring(0,d):u);if(!f){if(!h){a=e+(a.length>0?" "+a:a);continue}if(f=n(u),!f){a=e+(a.length>0?" "+a:a);continue}h=!1}const p=As(t).join(":"),m=l?p+"!":p,g=m+f;if(s.includes(g))continue;s.push(g);const y=i(f,h);for(let r=0;r<y.length;++r){const e=y[r];s.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,i);return o(e,r),r}return function(){return a(Es.apply(null,arguments))}}const Ss=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ps=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ts=/^\d+\/\d+$/,Is=new Set(["px","full","screen"]),Os=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rs=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cs=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ns=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ls=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ms=e=>Ds(e)||Is.has(e)||Ts.test(e),Bs=e=>Zs(e,"length",Ys),Ds=e=>Boolean(e)&&!Number.isNaN(Number(e)),js=e=>Zs(e,"number",Ds),Us=e=>Boolean(e)&&Number.isInteger(Number(e)),Fs=e=>e.endsWith("%")&&Ds(e.slice(0,-1)),Hs=e=>Ps.test(e),zs=e=>Os.test(e),Gs=new Set(["length","size","percentage"]),qs=e=>Zs(e,Gs,Js),Ws=e=>Zs(e,"position",Js),$s=new Set(["image","url"]),Ks=e=>Zs(e,$s,eo),Vs=e=>Zs(e,"",Xs),Qs=()=>!0,Zs=(e,t,r)=>{const n=Ps.exec(e);return!!n&&(n[1]?"string"===typeof t?n[1]===t:t.has(n[1]):r(n[2]))},Ys=e=>Rs.test(e)&&!Cs.test(e),Js=()=>!1,Xs=e=>Ns.test(e),eo=e=>Ls.test(e),to=(Symbol.toStringTag,()=>{const e=Ss("colors"),t=Ss("spacing"),r=Ss("blur"),n=Ss("brightness"),i=Ss("borderColor"),s=Ss("borderRadius"),o=Ss("borderSpacing"),a=Ss("borderWidth"),c=Ss("contrast"),l=Ss("grayscale"),u=Ss("hueRotate"),d=Ss("invert"),h=Ss("gap"),f=Ss("gradientColorStops"),p=Ss("gradientColorStopPositions"),m=Ss("inset"),g=Ss("margin"),y=Ss("opacity"),b=Ss("padding"),v=Ss("saturate"),w=Ss("scale"),A=Ss("sepia"),_=Ss("skew"),E=Ss("space"),x=Ss("translate"),k=()=>["auto",Hs,t],S=()=>[Hs,t],P=()=>["",Ms,Bs],T=()=>["auto",Ds,Hs],I=()=>["","0",Hs],O=()=>[Ds,Hs];return{cacheSize:500,separator:":",theme:{colors:[Qs],spacing:[Ms,Bs],blur:["none","",zs,Hs],brightness:O(),borderColor:[e],borderRadius:["none","","full",zs,Hs],borderSpacing:S(),borderWidth:P(),contrast:O(),grayscale:I(),hueRotate:O(),invert:I(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[Fs,Bs],inset:k(),margin:k(),opacity:O(),padding:S(),saturate:O(),scale:O(),sepia:I(),skew:O(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",Hs]}],container:["container"],columns:[{columns:[zs]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Hs]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Us,Hs]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Hs]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Us,Hs]}],"grid-cols":[{"grid-cols":[Qs]}],"col-start-end":[{col:["auto",{span:["full",Us,Hs]},Hs]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Qs]}],"row-start-end":[{row:["auto",{span:[Us,Hs]},Hs]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Hs]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Hs]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Hs,t]}],"min-w":[{"min-w":[Hs,t,"min","max","fit"]}],"max-w":[{"max-w":[Hs,t,"none","full","min","max","fit","prose",{screen:[zs]},zs]}],h:[{h:[Hs,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Hs,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Hs,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Hs,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zs,Bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",js]}],"font-family":[{font:[Qs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Hs]}],"line-clamp":[{"line-clamp":["none",Ds,js]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ms,Hs]}],"list-image":[{"list-image":["none",Hs]}],"list-style-type":[{list:["none","disc","decimal",Hs]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ms,Bs]}],"underline-offset":[{"underline-offset":["auto",Ms,Hs]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Hs]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Hs]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Ws]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qs]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ks]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Ms,Hs]}],"outline-w":[{outline:[Ms,Bs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ms,Bs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zs,Vs]}],"shadow-color":[{shadow:[Qs]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zs,Hs]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Hs]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Hs]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Hs]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Us,Hs]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Hs]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Hs]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Hs]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ms,Bs,js]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),ro=ks(to),no=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":";return function(){let r="";for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const o=ro(i).split(" ").filter(Boolean);for(const a of o){const n=a.split(t);let i="";for(let r=n.length-1;r>=0;r--)if(n.length-1===r){if(n[r].startsWith(e)){i=a;break}i=n[r].startsWith("-")?"-"+e+n[r].slice(1):e+n[r]}else i=n[r]+t+i;r+=(r&&" ")+i}return r}}("eotrzpirnbqlbfjhbqpo-");let io=0;const so=()=>++io,oo=e=>{const[t,r]=(0,l.useState)({value:e,version:so()}),n=(0,l.useCallback)(((e,t)=>{r((r=>e>r.version?{value:"function"===typeof t?t(r.value):t,version:e}:r))}),[]);return(0,l.useMemo)((()=>[t.value,n]),[t.value,n])},ao=(0,l.memo)((e=>{let{children:t,className:r,...n}=e;return(0,h.jsx)("button",{className:no("border-box no-tap-highlight flex cursor-pointer border-none bg-transparent p-0 font-sans text-base text-inherit",r),...n,children:t})}));ao.displayName="BaseButton";const co=(0,l.memo)((0,l.forwardRef)(((e,t)=>{let{children:r,className:n,...i}=e;return(0,h.jsx)("div",{ref:t,className:no("box-border flex",n),...i,children:r})})));co.displayName="BaseFlex";const lo=(0,l.memo)((0,l.forwardRef)(((e,t)=>{let{children:r,className:n,...i}=e;return(0,h.jsx)(co,{ref:t,className:Ji("flex-col",n),...i,children:r})})));lo.displayName="Col";const uo=(0,l.memo)((0,l.forwardRef)((e=>{let{children:t,className:r,...n}=e;return(0,h.jsx)(co,{className:Ji("flex-row",r),...n,children:t})})));uo.displayName="Row";const ho=(0,l.memo)((e=>{let{className:t,children:r,...n}=e;return(0,h.jsx)("div",{className:no("grid",t),...n,children:r})}));ho.displayName="Grid";const fo=r.p+"static/media/air-gap.169a95c49419b0ab8757.png",po=r.p+"static/media/meta-mask.e1b2b16b2dea90488f74.png",mo=r.p+"static/media/rainbow.3c94eafa9ac33a08effe.png",go=r.p+"static/media/temple.ca0cc5771078caa1f30d.png",yo=r.p+"static/media/tezos.95789289b4ba2cda3c9d.png",bo=(0,l.memo)((e=>{let{icon:t,height:r,width:n,className:i,...s}=e;const o=(0,l.useMemo)((()=>{switch(t){case"airGap":return fo;case"altme":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAMAAAAKE/YAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURVgA/1gB/1cA/1oK/14f/2An/2Ep/2It/2Es/2Al/10a/1kB/1gC/2Iv/1wj/00A/0MA/zkA/y4A/ysA/zQA/z0A/0cA/1IA/2Ar/1wV/1wT/08A/z8A/2EA/31M/5Bz/5+O/6OU/5iA/4lj/3A2/1YA/zYA/1cP/1sM/1gY/zEA/18A/56B/8i3/+Pa/+/o//fz//7+//////v4//Tu/+vk/9zQ/72q/5Nw/1MA/zcA/1sj/0UA/1EA/66U/+bc//z6//n1/6CC/0oA/9vO//7///39//38//78/9PF/20n/10l/14q/5l4//Lr/+ng/4VZ/1we/zoA/5t6//n0/+7n/31K/0YA/2Ap/0AA/4JV///+//z8/+DV/10A/1oR/10c/9vP/7um/0EA/6+X//79//by/1oO/2kl/8Wy/1sZ/1wh/zwA/6aN/2wg/1kH/1wX/9bI/6mP/1wc/93R/1kd/1gJ/4ti/1sV/2oi/+jg//z7/8e1/1kT/6GF/9TH/6yT/zMA/0gA//j0/97S/0wA/1oh/7un//r3/41o/1kD/2IA/+vi/2Au/+3l/24v/18h/1se/9fK/2Ix/4BR/1QA/7+s/5Ft/1UH/3Q9/18k/1kA/14o/9rN/zAA//jz/49r/10Z//3+/8Ox/2Mx//37/10e/1wl/4BU//Pt/9jM/1sT/4pk/86+/7Ga/5R0/3Q4///9/8Gv/1kG/3M6/3Iz/6uR/24r/9DB//Xw/7af/2QA/7Sc/6eL/4JY/+ri/4xl/1oM/+fe/1cE/7ii/+LY/2kc/9/T/4hg/1sQ/2UU/3Y//1kF/5x+/5Ry/2cS/8Cs/2Ew/6WH/31P/7mk/+HW/3lH/1sA/2cC/8u7/8e3/6iM/6+W/5d1/1cL/14j/1cU/1ob/3dD/10o/2U2/4dh/2cN/2sp/8q5/1QC/1sO/6OG/3A5/6KD/2Er//Dp/2MH/1kW/1gE/4RX/6WJ/3pC///8/4Vd/4df/2cZ/7We/3xb/+ji/39g/204/4xk/9aDQH4AAAxgSURBVHgB7M7FAQJRDADRJOtuH3fvv0IcWkB2XuQ8AgAAAAAAAAA/RlXv74eCxd5Ef6PZzPODMIqiOEzSzOz7s3MTvyirumm7zg2Go3E0Mcm/vXlazNx8sVytN5vtbn84Nqfi0s5ZBzaRbWE8GVzT8ppa+t5qBev2fmhCi2UzwSVICJMKZIci3W1whyUQpIYWd3d3d3f3dXd3KfYieydNu5H5Ix9uM78czj33zndOEsdUFDdzuarVqteoGf9KAgFq1a5Tt159papBSUYq4hXIlE1MatioMezUpG5TtaKUaBdkAVa4/H+vAtCwWvaxtCyAZs1bBLWUiFat5K3bACxL8H8RlgBt2wW1F2uChOs6dAQhcBJh0amzvrw4y3MXQ9c2YDn8U0YkpyhSxcicFsZ0ozODY9HdlCrCulehpeo1gAdVLHp0VqeLjpkpqe7ZCEYISIteht6iK3sV+mS8zoGHgHi88kZSpkRkModF94URgiLoJxfdxtg/6KUEaCEoHgNkA0WWHyUGBdUDC2FxqDVYnyauUA+RDR2G4XAhghGqcFFBVxxpGgUNcQ1dsBQjGBFBD4qWjcZwFKI3x5QR08k63dJ1LHi4FME46/gSYkpp+QSwKAx64iR5afFkdZYyO6dQaA4YEZMrnrNS+aga0KAwEeRNtk4RSailkqn6aWDdgOYaVpsuEmgmQj1jLAjcoK6bHxvBiOT0r5rpDjNYJMzSlRFHqONm/zfHLWgCjIiqnCmKQJcOHsXBLWmRMyd0rhhCPW++qS8I3BEP7k1Vl3kiCHQ5/YwebkKDxQJJUnnG/9DTF9YD3M6PRYvl5fzPvCSs+jB3Aw1uKZYFxab7HXp5SI0VbkPDiJyXLSv9/siyKqg5NJxzRAlPCM/zxPkPeKCfvHeWv+udafUasE5krAZPpWF5OGg41jJh6/xc73JDJgDEAVkLAE3adOrUpgkAOGKzaLI+0ezfQJdUZMc7BloLcHkbNm7qvHlz502vbaizBdA6ZvXWxG2D/Hq+K6tq2hisAxPiG25PXBicaFHrVVVMO3bGA0bO/kXV2aXwa/2IjFXvxlLOnnnP3uyQ0AbTy5QrN7dcmekNLCH79tcGS+zWKA6YUqV+zI5SpoNtoLUP46HDMdbccnES5omOlMuVqQYftXetjViQdMyP9SNzasZxaOx5TmxWVZ4iYSTSpyr46ZT5USdPwVb8CGqdtpzxGzOz0no2HkY75jrngsOPFCA7NI/OVzLssj+7slgm7+8/h6xPxoVmYG250fFiTHgW44RT4HQsVy1uYqPm0elSmN9O1evyrRtsgSYaXJZPPcNIKV2vK/+5DJs0uKrz2wNuf/21NTZoLfK2J5aisUiZiKR9nexDvUDfx0/5kZlq2GirdwSop2qVJdDI7RJy3QbNYWI7vZ/M6tSklBsYbtdWWZ8h+NQaab2ZYKMm2BpS1i+2njQ16OIK8DaQG7fChB9KqirGgbWzbW4rIxk/QJ8fFHrHbhkCd3WtsgS3oT7BvWzQHLgDMX7xEkrItrexDx6u/2e5RCronMnv2TlnBAssq7b5ozUUdR+sHUazfguXM0LQEnPQAw52u2LCYJPvHVSp5GH+DWjtoBuPCqkkjBERVH+LPTR6hVzxedVjzEGzmoGzg96ys4rbkQZBzhsyX28wUqay7g5YoKg5bXuN/XzvoJ5RTF4D4ujT6VpVEHyNb6m2goVNBGtlb/vKQbVtcRuhgQNF8jxleUYoPd6x1gXr2OI/nFHWt6HOGph0AgSOFOvlQrWXibS+6+idEWCrrmWmbx9Z5PUb/8PHnRATTjcXK0aXHbMfGieHbNhkiy8dVKkkN3gDnMRi2C51OaYi7TVGzq7ubGHz2PK6ar5PnQPr5jZOECAa1NO9d4Rynq7IvF+lO8VBHZ2kNDM+NPCq7YczNLRIWKyqVPDHzszR7+sGj6X89T0fGN7yoXNQVZkMQnEXh+0wLZc4ZkhFhnk/9MOjIBQHtZ5p5BGfBbqM7uJECjTH4sQbwdPjHj2MP4uyJDru/ajbp2i+6nAc/Uid5rN610r3MWgYZCkatasysHQJhnmSqwyTWaZBlRmNQAi1mTEqqneWrxoWoec6gQVFhGDPRkXMJ/NLRnxaosSnESW7xAYn3V9DZQaGY7QiP9VH9e7KQsFhNkKAG5/9N1huUYSFKSzymFuf3QCd+fHKPRg6xCfQTHlldDewLpqFqFPzs3afnzz5edcvRhwCQIT7AhMMR7b5JDu+1C1eJAwN7jFjrTV5eWtqAQDhIAzdNjvJJ/Xj03dMvUAIhGX3pzyBC3Ea1DCt80Wg54Zuz4ERhYgQntjYhUM92pIqkfpg1FG3kwMPj4hg7AxfzKD2TpIsKDTQvNb4WCyBa7Gop/OB17TSVLAMtS7DZ7S9Jo1RC1ficaj6J17fX9KP6be6HnU0EgBjc06cSm70VS0AhWCjqdzrD7i91S+7XIYsC7yyod+kdz+s/t+h1x4c79YRMBJXWT0tqKWXl2LWSEM/V6OOWqDR/ZuyDHmoVSZTB2VEzVtfcxFcVXWMXW3xclan5ysXCI86EhZ79n6dEZrfvuWUlWlpK9966xuFSd11N+cyoWYuvOJd6FT9S7XAC64qjJuhk32Tti7r0QGv4JukRO/+xyzqq7WF90XyaCl61UGtmGq4LJjRLDCCSew9xOkwccT8Tcb/4gVzioD7bEwlb4Y6M+lSHWiFmLnjGcqVlLtXmJuYPcAF9TTTe+e9eCg1R30GjTCzfOASWsgqMlNktxYIZQhBj3ZedFClkm/Ua6EVyufrugYR9J7Et9ElZSnjwApAY2s1Lzqo69Rdbf1AZ//gY/mqJdHOzDZq6+2jMApQD/tQ4a2qJ2VaBs8ELzQczVQtGf2tsPk3N/G7PfT/JR4rvvfeUsx87BPRmb/6wVI6+rwry/It3ff00yFH0NdaNdJbBp7uM6FtbUtT1XJbnKkq8Y2+Jj1B2ALbRv6ld0I9772gtSD0u27QtSr07b9p6l1tqdQEqKdruc0rgZ6i/44+cczjqx2yyEIjVeEt3agfqSXEiKM91Z4969lGHS+DqqW4H1ySqVjoBcz5itFUaBbNPlOV8s6o475DINQ4nbil3ObWoLX8JXoFMaK5Qmn2ilP6/RYaNAEuyN2zXM4MNH0MQmjQe34yecFBjWsQOg0ajmZuDWCU6W5aJvLTe8BSZ1AnGEaW8LxFE/VzD/DUU1pTw5Asd4c8DXdAd1AbnbSW9/yoY8xWgdvFfy0zu20Sy1/qQQs1jy01DOYsT9c72S9HwVLNpF8N3wxy254ab6HX+uFoLstP9zB0bsxnK2jZoUWb1Ykli7Ccx7zO06hZ9FhtGenht7LEyppjKb1YhRWhWDFpipN51FBrcd2UnuXZY4fhpzXQUt38frrKFYrSzFN9DFChj/7Xs4NvmX0yJkBDLbB55/RzmaIMXGc8aAxCdVAveNRBZUpaf4mHkVpfN1hii3SruLfnNQKhO6j6bzz5APOW7sIKsLTls2JUTHgRl3S1CaCJYNH/1Gc8Oeoo2wAjaNBHh6qFG9z0bq/+uybgqBfrHvOW5456K4NmUJch0aBmxqoi7r7zpqrHCZxw296afd5jy3Bk1EYQanGd2DpG+OlOqJUQ0xAENP34IMpjp+p1yrC+VAOPID4lLI0patNGsXkNlZpgWbVwT0EPsU4+BCPdsRhzpRhvFDU1B0uF7mYZX0HiIejQ3xKo5w4krDcUwxsym+hvySX4PfpYuqeg9X9MpEOvDW1QjENwVn5KIxip0AzjMWj1n3UoNyFoXL94T/5DTAewlNAcH/XULE+Z0vmy3RhOcdBHmObPkxanHOUr+6IxpRjNHNPFUwtR2t90sZbzTVgW4259Elm8e5jVc3IwnHfexxddU5s9trukP7TUA2xdQY6wLPBqC3VacSe3+yfOOApobX3Gx1dsaGjPSD24jyt/3QMH7ek+T92/uMySCu31H31cCw5ac8/ysIInj3mp0aabM+MTVjxW48ZtxnV/1xD2r0Y1ysssp5edqL3iiRrXvnF9u+mhh4cLtw2R6aJvvnT4rwKt/+llmU72b2em0tMtuvw5pwuuWKCf54TpZEM837o9sjLWqk98rFBF1bQj/359n2k/UvbsirK3bVf0pJh565Y8kflTCeOZK57pXf7JFc/MY7z1eXi2z9CUevqK3mu6SJ9KRFcMKKCAAgoooIACCiiggAIKKKCAAgoooIACCuhv9V1md13TElEAAAAASUVORK5CYII=";case"bitget":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABcESURBVHgB7d3Bj13lYcbhb/BQExIPARlU1bCnYk0lbxMpVN2AhMwuFQhWRomU2RSFjTdErKZSJFglAjU7XFSyJFWjLiq5ElUXlVDZY1dNIMIZBxJCzMRnyATMPbZn7r3nvN853/Ns/Af4zHl/8507526Uy3t7BQBoym0FAGiOAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGiQAACABgkAAGjQZgGObPPSxXLyqTPl2KV3C1lXnt0uu2e3C3A0TgDgiIx/PYw/LE8AwBEY/3oYf1iNAIBDMv71MP6wOgEAh3Dbld1yz3efNv4VMP6wHgIAbqEb/5NPnim3v/N2Icv4w/oIALgJ418P4w/r5c8A4QaMfz0u/2CnfPjoEwVYHycA0MP418P4wzAEAHyJ8a+H8YfhCAD4AuNfD+MPwxIA8CfGvw57W1vGH0bgQ4BQjH8tuvF/75Xz5ZMHHyrAsJwA0DzjXwfjD+MSADTN+NfB+MP4BADNMv51MP6Q4TMANMn41+HqqQf2x//qqfsLMC4nADTH+NfB+EOWAKApxr8Oxh/yBADNMP51MP5QBwFAE4x/HYw/1EMAMHvGvw7GH+oiAJg1418H4w/1EQDMlvGvg/GHOgkAZsn416F7uY/xhzp5ERCzY/zr0I3/+6+eL5+e2CpAfZwAMCvGvw7GH+onAJgN418H4w/TIACYjXu+87TxDzP+MB0CgFn4+ve3y/G3LhRyfv/waeMPEyIAmLxu/L/609cKOR899kR5z/jDpAgAJs3453Xj/8ELOwWYFgHAZBn/POMP0yUAmCTjn2f8YdoEAJNj/POMP0yfAGBSjH+e8Yd5EABMhvHPM/4wHwKASTD+ecYf5kUAUD3jn2f8YX4EAFUz/nnGH+ZJAFAt459n/GG+BABVMv55xh/mTQBQHeOfZ/xh/gQAVTH+ecYf2iAAqIbxzzP+0A4BQBWMf57xh7YIAOKMf57xh/YIAKKMf57xhzYJAGKMf57xh3YJACKMf95vvv2M8YeGbRYYmfHPu/Lsdtk9u12AdjkBYFTGP8/4Ax0BwGiMf57xBw4IAEZx4qUd4x9m/IEvEgAMrhv/rZd92CzJ+ANfJgAYlPHPM/5AHwHAYIx/nvEHbkQAMAjjn2f8gZsRAKyd8c8z/sCtCADWyvjnGX/gMAQAa2P884w/cFgCgLUw/nnGHzgKAcDKjH+e8QeOSgCwEuOfZ/yBZQgAlmb884w/sCwBwFKMf57xB1YhADgy459n/IFVCQCOxPjnGX9gHQQAh2b884w/sC4CgEMx/nnGH1gnAcAtGf884w+smwDgpox/nvEHhiAAuCHjn2f8gaEIAHoZ/zzjDwxJALDA+OcZf2BoAoDrGP884w+MQQDwZ8Y/z/gDYxEA7DP+ecYfGJMAwPhXwPgDYxMAjTP+ecYfSBAADTP+ecYfSBEAjTL+ecYfSBIADTL+ecYfSBMAjTH+ecYfqIEAaIjxzzP+QC0EQCOMf57xB2oiABpg/POMP1AbATBzxj/P+AM1EgAzZvzzjD9Qq83CLBn/vMs/2CkfPvpEAaiRE4AZMv55xh+onQCYGeOfZ/yBKRAAM2L884w/MBUCYCaMf57xB6ZEAMyA8c8z/sDUCICJM/55xh+YIgEwYcY/z/gDUyUAJsr45xl/YMoEwAQZ/zzjD0ydAJgY459n/IE5EAATYvzzjD8wFwJgIox/nvEH5kQATMDXfvIj4x9m/IG5EQCVu/ON18pdL54r5Bh/YI4EQMW68b/7ed8ln2T8gbkSAJUy/nnGH5gzAVAh459n/IG5EwCVMf55xh9ogQCoiPHP2tvaMv5AMzYLVTD+Wd34v/fK+fLJgw8VgBY4AaiA8c8y/kCLBECY8c8y/kCrBECQ8c8y/kDLBECI8c8y/kDrBECA8c8y/gACYHTGP8v4A3xGAIzI+GcZf4DPCYCRGP8s4w9wPQEwAuOfZfwBFgmAgRn/LOMP0E8ADMj4Zxl/gBsTAAMx/lnGH+DmBMAAjH+W8Qe4NQGwZsY/y/gDHI4AWCPjn2X8AQ5PAKyJ8c8y/gBHs1Eu7+0VVnL7O2+X+x5/pJBh/AGOzgnAijYvXSz3PnWmkGH8AZYjAFZ08tr4b+zuFsZ39dQDxh9gSZuFpXXP/Y9dercwvoPxv3rq/gLA0fkMwAr+8lunBUCA8QdYnUcAS/Lbf4bxB1gPAbCkO984XxiX8QdYHwGwhNuu7Jbjb10ojMf4A6yXAFhC93f/jMf4A6yfAFiCABiP8QcYhgBYwm3+7n8Uxh9gON4DQLU+eGHH+PfoTqD2tu4qjO8Pf+V6ZD4EANXqvlzp/WsnAH8QAQvue/xb3kAZ8NFjT+yHKcyBRwBL+HRrqzC87j0L3auWu+9b4HPdq4+7RyN7rsPR+dZP5kQALMG758cjAvp11+AHL/xjYXwigLkQAEsQAOMSAf1++41HHEeHiADmQAAs4dMTW+Xjh08XxiMC+nkmnSMCmDoBsKTfffORwrhEQD8RkCMCmDIBsKTuputDWOMTAf1EQI4IYKoEwJK6xwC7Z/3QJ4iAfiIgRwQwRRvl8t5eYWn3Pf6IVwOHdG8K/OXrb+7HGJ8zRjkijClxArCiX/3wxx4FhOyfBDx5Zv/bGfmcEcoRX0yJAFhR96raLgLI6E5fRMAiEZAjApgKAbAG3Z8EutnmiIB+IiBHBDAFx8pz584VVta9HKg7DfjKz98sjO/Y+++VO/7j38tv/+7Rsnf8eOEzrsucLkw3/++iPxmmWgJgjQ5utnf814Wy8fHHhXGJgH4iIEcEUDN/BTCA7of+3qfO+La2kG7w3n/1vL8O+BLH0jkex1AjnwEYgG9ry/KZgH5GKEd8USMBMBARkCUC+omAHBFAbQTAgERAlgjoJwJyDiLANUkNfAZgBD4TkOUzAf38RprjmqQGTgBG4CQgy0lAPycBOa5JaiAARiICstxw+4mAHNckaQJgRCIgyw23nwjIcU2SJABGJgKy3HD7dRFw5VmfB0hwTZIiAAJEQJYbbr/ds9siIMQ1SYIACBEBWW64/URAjmuSsQmAIBGQ5YbbTwTkuCYZkwAIEwFZbrj9RECOa5KxCIAKiIAsN9x+IiDHNckYBEAlREBWd8O968VzheuJgBwRwNAEQEVEQJZX4/YTATkigCEJgMqIgCwR0E8E5IgAhiIAKiQCskRAPxGQIwIYggColAjIEgH9RECOCGDdBEDFugj4xT//rFw99UBhfCKgnwjIEQGskwCo3NVT9++fBIiADBHQTwTkiADWRQBMgAjIEgH9RECOCGAdBMBEiIAsEdBPBOSIAFYlACZEBGSJgH4iIKeLgPsef6RsXrpY4KgEwMSIgCwR0E8E5By79G45+dQZEcCRCYAJEgFZIqCfCMgRASxDAEyUCMgSAf1EQI4I4KgEwISJgCwR0E8E5IgAjkIATJwIyBIB/URAjgjgsATADIiALBHQTwTkiAAOQwDMhAjIEgH9RECOCOBWBMCMiIAsEdBPBOSIAG5GAMyMCMgSAf1EQI4I4EYEwAyJgKwuAu568VzheiIgRwTQ51h57ty5wuzsbW2V337jb8tXfv6md4UH/MX//Pf+v7//m9OFz3388OmysVHK8bcuFMbV3Qe6+8Hvrt0XPr12fwABMGMiIOtg5ETA9URAjgjgiwTAzImALBHQTwTkiAAOCIAGiIAsEdBPBOSIADoCoBEiIEsE9BMBOSIAAdAQEZAlAvqJgBwR0DYB0BgRkCUC+omAHBHQLgHQIBGQJQL6iYAcEdAmAdAoEZAlAvqJgBwR0B4B0DARkCUC+omAHBHQFgHQOBGQJQL6iYAcEdAOAYAICBMB/URAjghogy8DYp8vEMraenmnnHhpp3C97guEPvz7Zwrj8wVC8ycA+DMRkCUC+l3+h3Plo8eeKIxPBMybAOA6IiBLBPT74IUdERAiAuZLALBABGSJgH4iIEcEzJMAoJcIyBIB/URAjgiYHwHADYmALBHQTwTkiIB5EQDclAjIEgH9RECOCJgPAcAtiYAsEdBPBOSIgHkQAByKCMgSAf1EQI4ImD4BwKGJgCwR0E8E5IiAaRMAHIkIyBIB/URAjgiYLgHAkYmALBHQTwTkiIBpEgAspYuAX77+ZvnkwYcK4xMB/URAjgiYHgHA0j49sVXef/W8CAgRAf1EQI4ImBYBwEpEQJYI6CcCckTAdAgAViYCskRAPxGQIwKmQQCwFiIgSwT0EwE5BxFw+ztvF+q0US7v7RVYk9uu7JaTT/qhT9k9u12uPLtduN7dz2+XO994rTA+vxzUywkAa+WHPctJQD8nATl+KaiXAGDtRECWCOgnAnJEQJ08AmAwfuizPA5Y5JrM8stBXZwAMBg/7FlOAha5JrMEWF0EAINyw80SAYtck1kioB4CgMG54WaJgEWuySwRUAcBwCjccLNEwCLXZJYIyBMAjMYNN0sELHJNZomALAHAqNxws7oI8EKc67kms0RAjgBgdG64Wd6Kt8g1mSUCMgQAEW64WSJgkWsySwSMTwAQ44abJQIWuSazRMC4BABRbrhZImCRazJLBIxHABB3cMP93TcfKYxPBCwSAVkiYBwCgCp0N9xf/fDHvqwlRAQsEgFZImB4AoCq+Ma2HBGwSARkiYBhCQCqIwJyRMAiEZAlAoYjAKiSCMgRAYtEQNZBBBx/60JhfQQA1RIBOSJgkQjIOogA1+X6bJTLe3sFKmaMckTYIkfSeV2Iffzw6cJqBACTIAJyRMAiEZDVnca89/rPyh9O3V9YnkcATIIRyhFfiw4eB1w99UBhfF2A3fPdpwurEQBMhgjIEQGL9n8LfUUEpHSnL1/9px8VlucRAJNjjHJE2KJjly6We586c+3fdwvj6iLsF//6n/v/cnROAJgcI5QjvhZdvfYc2klARvco4M5/cT0uSwAwSSIgRwQsEgE5d/z8zcJyBACTJQJyRMAiEZDRvRyoOwng6AQAkyYCcroIuOPf/Pb1RSIgw59jLkcAMHkiIOfu57/n5vslImB8t/+va3AZAoBZEAEZXojTTwSMyyOA5WwWmInPIuBMgRp0EdBdk10gQY0EALPi/eDUYvPSxf3PSUCtPAIAWLNu/E96OdBovAhoOQIAYI2M//g++Wtf0bwMAQCwJsY/45MHBcAyBADAGhj/jN8/fNojgCUJAIAVGf+cD/3lz9J8GyDACox/Tveehf//2YXCcpwAACzJ+Gftnv1eYXkCAGAJ3dsPjX9O99u/t3+uxouAAI6oG/97r43/xq5X0CbsbW3tv2qZ1TgBADgC45/32fcs3F9YjQAAOCTjn3f5Bzv+7n9NBADAIRj/vG78P3zUc/91EQAAt2D884z/+gkAgJsw/nnGfxgCAOAGjH+e8R+OAADoYfzzjP+wBADAlxj/POM/PAEA8AXGP8/4j0MAAPyJ8c8z/uMRAADF+NfA+I9LAADNM/55xn98AgBomvHPM/4ZAgBolvHPM/45AgBokvHPM/5ZAgBojvHPM/55AgBoivHPM/51EABAM4x/nvGvhwAAmnDnG68Z/zDjX5fNAjBz3fjf/fx2Icf418cJADBrxj/P+NdJAACzZfzzjH+9BAAwS8Y/z/jXTQAAs2P883793DnjXzkBAMyK8c+78ux2+c23nynUTQAAs2H887rx3z3r/2AKBAAwC8Y/z/hPiwAAJs/45xn/6REAwKQZ/zzjP00CAJgs459n/KdLAACTZPzzjP+0CQBgcox/nvGfPgEATIrxzzP+8yAAgMkw/nnGfz4EADAJxj/P+M+LAACqZ/zzjP/8CACgasY/z/jPkwAAqmX884z/fG0WgAqdeGmnbL28U8gx/vPmBACojvHPM/7zJwCAqhj/POPfBgEAVMP45xn/dggAoArGP8/4t0UAAHHGP8/4t0cAAFHGP8/4t0kAADHGP8/4t0sAABHGP8/4t00AAKMz/nnGHwEAjMr45xl/OgIAGI3xzzP+HBAAwCiMf57x54sEADA4459n/PkyAQAMyvjnGX/6CABgMMY/z/hzIwIAGITxzzP+3IwAANbO+OcZf25FAABrZfzzjD+HIQCAtTH+ecafwxIAwFoY/zzjz1EIAGBlxj/P+HNUAgBYifHPM/4sQwAASzP+ecafZQkAYCnGP8/4swoBAByZ8c8z/qxKAABHYvzzjD/rIACAQzP+ecafdREAwKEY/zzjzzoJAOCWjH+e8WfdBABwU8Y/z/gzBAEA3JDxzzP+DEUAAL2Mf57xZ0gCAFhg/POMP0MTAMB1jH+e8WcMAgD4M+Of95tvP2P8GYUAAPYZ/7yPHnui/Pq5cwXGIAAA41+Bbvw/eMH/AeMRANA4459n/EnYLECz7nrxXPnaT35UyDH+pAgAaNTXv79dvvrT1wo5xp8kjwCgQcY/z/iTJgCgMcY/z/hTAwEADTH+ecafWggAaITxzzP+1EQAQAOMf57xpzYCAGbO+OcZf2okAGDGjH+e8adWAgBmyvjnGX9qJgBghox/nvGndgIAZsb45xl/pkAAwIwY/zzjz1QIAJgJ459n/JkSAQAzYPzzjD9TIwBg4ox/nvFnigQATJjxzzP+TJUAgIky/nnGnykTADBBxj/P+DN1AgAmxvjnGX/mYLMAk3Dbld1yz3eeLsffulDIMf7MxUa5vLdXgKp143/yyTPl9nfeLuR88uBD5Zevv1lgDjwCgMoZ/zp04//+q+cLzIUAgIoZ/zocjP+nJ7YKzIUAgEoZ/zoYf+ZKAECFNi9dNP4VMP7Mmb8CgMrsj/9TZ8qxS+8Wcow/c+cEACpi/Otg/GmBAIBKGP86GH9aIQCgAsa/DsaflggACDP+dTD+tEYAQJDxr4Pxp0UCAEKMfx2MP60SABBg/Otg/GmZ9wDAyLqX+9x7bfw3dncLOcaf1jkBgBEZ/zoYfxAAMBrjXwfjD58RADAC418H4w+fEwAwsDvfeM34V8D4w/V8CBAG1I3/3c9vF7KMPyxyAgADMf51MP7QTwDAAIx/HYw/3JgAgDUz/nUw/nBzPgMAa3TipZ2y9fJOIcv4w605AYA1Mf51MP5wOAIA1sD418H4w+EJAFiR8a/D1VMPlF/98MfGHw5JAMAKjH8duvF/75Xz1/69vwCHIwBgSca/DsYfliMAYAnGvw7GH5a3US7v7RUAoClOAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQQIAABokAACgQX8ETqoLfpMbTcoAAAAASUVORK5CYII=";case"etherlink":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXsAAAF7AQMAAAAJ8LlIAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFAAAAOP+c5YIv+gAAAAJ0Uk5TAP9bkSK1AAALqUlEQVR4nLWcTY7lthHHRY8BzyqeE8TvJmMfJUfILl4Y3bPLNXyEnCDjm1jZZREgzsoGnH4R6/NfH9R7WoQYTLck/shiFSUWi2SPrU8vf7r1D0Z79+Pn47+fvn0aoPwLogO+/vfJw+beeNPffnv/FPDNz/brp9cnAK+graICUEFXRQGwgq6KApiKVgXmGy9RiP32AHj3e7z+75cPgCRRzZCvk0RVpgREHc2U9ZSAIlEtMl5KP8WU+mwC7iX/9suHE+CrXytw/+IECP1IU+xPEShKnWm/LYGq1JmiYgPQNSE3IgCNFaoUeNFYYaZgiQA0VpgpWAKB3LU1hS6OQN/m1GoEWrPNhKZDoDXbTPutBxZtjq0GYNXm2GoAVm2OrQZg2ebQagAWdp4JbA3Ass2h1Q70fZsT9HAHUEkzAxYAanIA+jYXiCWM5jdQ0ihFuJoccCXtN/nF+4qryQFTkpvJTelqMsDbaBVAIa4mA7yJYBprhavJnlr1+FWxal1MA6yw8MqbJlz0/Ch+hWoxBqgK03dOZdpvGVCFpOFAyzG9KmBFLYYkq1ifq1bzMFvuK6BaTeONiWq6UECrLl6Yas9kl5/aV5e+h/ZXzSAFFU/BGqFVKyDqK02wRuy3CNxjOZCkbi1KADXD2gVUQ4wgaRqTKYnCtXUj3G39zrdQVnzfmzZb80b4IYK2zrO0WgwxupsxxcIEYDN0bbb27TcEWM5q55lEg9I+BkQTbZu1NNHgwEKk1pxY3g7o5ySiEZGXAWlXP78RI4lGRr1VUiiO/2dV90oygdlIA6RcKEl1yC1kgPWw33pAHldgoSQVgMtj4A5CNombyBIPEHKhVVUiW44ysRpWWlW9shIBWGk1Ph9eQvd+cmKRWYLhMu63FSBKGfYfa2GpVVV7BpZaVUNQhuHXS60GEYbVuNZqaORzAKvRAVLC2gxqCOobE2A1RzPEqAPkcCB4s2+pgHsAuMIdiiS14Q1qJQk9rElgN74hWvj6n++lhASA3WT84iJeXocYgkqYAGu5+pdsqLf507MYAGbQIZiAgz4aEwGvL0jEQh5ZD/251GPDFgWJrGMe6uR7s0oDXO069nOdx8OjLDaVAiSC2029C67zeDhJstzRmA5QV4vrvLNsAbCL2ATua28MWKEGmKHNL6QiCD+0Q3IKwA0yQ5vnSUWQPo9npHqaJagMBpiHrmYgtALFW4Tvg/aNqbchtZqhzaU2MxBAt1sg+eckoAIz09i8ts1k2DY0wwRIbgSsZ1ib3QxTwfzLoH+mgM2KlFzw9hbAXDpTkpuBfqWCDk2P9Mb7tMfNQACJ2gA+FUvfdVXX8F+jksAM9FANkgHrSWAGB2brXbrNc2zBDPSQqmbgbhJvoFUwAwHUuONmAtL0T14m+xYRQHm0K7lWwQz+eTzkTIBrFcxADx2garXvtWagh5StAq0ZSGGabRi6eY4tmsEVRoAKt3mOLZqBFKZNFUA7a+zcwXe7d4CZga+Dd2gAKYYK9K+eaDn4nyTtSIDaTS6DO2uAfnkQCNMQUTkpMANiN7UKmEEuPr0KIL1b7CYSoRk2zTeUhCLt5bgjfgLYDAzNoKIPbQzIoGYPZtDv+FB1gQxq9jirCIAKcUcZ0qyC8P0WgORSx1mFAXcvJbnUwQwRkFKSSx3MwA9/+RAAbqWN2MEMEZBqwXncshn48gDopwD+rXYBPdzAGQMQXeo0uQsA9q8UG3E/imUf0ha6RXq0HHlytwLSeOp+FKuTAVEMKd5y5NngfNoBliPPBgUQi1ulOY7o/i8Ccjc6Tnk2yL30IRCDmRGInhbOxU6B6DjBNEQAsieXah4LADCLmHZ5DMA0hAw5EDCvC4D99gjwCKB5zw0AwYoEwDREAP5Bd3TsRiBHax8BOBtk4QtgrdRh8wTAkcJeyRaQiiNAfQlng+yGF8DVclcB3/3wCgD3kBXAPs33CwCHlo37P/s0f/vWgJ8KEPs/+zQ/ZiAOrACIT/PpBIgTRvFpviOAOnMAcCzaSO/i05CuHgOHCOIpnQHQF3jaOn8GAHIl4DAEafWrX58FPv79C24LADsCMBaxTP/6wNoqgOTKgFb0GfyzZ4CXV4mOvT0J3LdrwJHvDKjRxEP0a4AavAI4nkLisMMF4Oi014Cjs8HzJ4Ajwxmw3zJw364BHpsSwK3VA7MHXQLmq38JmF/UM6AELOfn8AwoAcv5zp8BJWCZtZiAGn98ANT44wOgvj9ZiwmoXakAscr99v8GaqD5AVADzf6it0ANNJ8Ax7MmbnwOVLvBe9sB7XfvDKh2ewDst4tANQM4/x1AZnj3O1gDfPk6ZFE42ce0J4AXiX6Ass6BH75kycAcMFtoBvbv33PbojtwAvz5g9wfEWDlVeDjjzfJ4mrS8GkPkF80s7g9zoHvZsHzU8dCb1vwNBsX7if6/3MBwJcPwB//QU1/xY/HKcApDr7gaVZHl1Ia6R4DIQK2YRADAHz346wDgerd++04xT0HYkAYgxgLIC5G4DRFpjQwaXKhDcCpXZ2WudARkJ7TA2lCiXPBHuBghgGosx5IC5gI1Omx5fCugUruAY5NGGArIUsgxSYwDtEDKTZBl3IlQQSMa2w5ShYCF00gpI8p6VULpJiSr3ltMTZjjUwxpbAWKEB8JVNMiS8BSAGpElMKESoEUogoXcKOiwLE0F5Y9FUgTjNiaC+EZ7rAYDZDiCy2QDJD6OsG4HQvmSGE1brwaTZD6LotkMwQVBAAFSKaQVQggIWAa5A5xYwxiJ6BaAYJm2MQ3QDZTxLNIKsXGYBBKZpB1xawfRa7h3HSckjkXzXYAdEMIlFYKkgLFsEMuhYR1mMSEMwQF5EBgEUXNENcNtv6VRowg2+C5Moz8Jt4SpsqIC2b+eCFS1NohrRs5jE2XPxCM9gqmFrFF788PIdmsFUwtYovr/nIygCuk23pZUwAvpFlG6kD7h3A6OOLkWqGbtUStilVM1BpDNhCqq/LVjPgQqot1cL+m2IGXKq1czDw6S1mwMVgW26GT29ajNzCcrNKB1tX8mLk5i3FJXPwfErnxiVzcw98FE8r7XaHF+XNAfFR3M0QI/kATNH92JCbQZWEGwvo6fzdP2l1f7FlKkA0Q3XNcPuFu+FmBmrRtoHcuCNklpvMYK6aqTIDyQzmnyJgSyez2mgGn5/hJhVziiZAQsedMJsJqYBeTE1EM8Qwe9mZMwuOZnAXOwDqn1sUQc3gTn7cLGSLZPdkBmoQpbgdiQqcWV9eucy8exlds7AH65ufWS0CwCy52YPFvYotK22ACX8EvL6//BUkxiCHSQ0ABhDKgbq48axubZtqDzGOuLWtrFod6Q//wau0ea6si5UEOYbxFzYAXt9iCNsm+5Q3McJnu09sSd8mCdd9yhsxH+4NzVs901yspryZNM32SkIfnIDLG2Kf23Ir0UCvcm2Isqn38rbh6xuT8U6T6tbnNFdKKTjMsF55Zfv25Q3iaSqTUrMF/fIm98vb6EUPz2/Uv3wU4Pphg8vHGer32lN7YOLykQyRs+tNosF06OPysRId+5tWS/NsvhkFffpozPXDN5eP9+jgX3r46gDR5SNK6sA8fQjq8jErc8JSI5YHuczN228BUHexHBW7fhitnoRDibzPjPLo2QN15hiiTCZRc2Tv8qHAOtXbmvkiFmf+dtMuULYDfnQybVWbqTs66VO39GWYqTucCY+5iXD8E951B/B46CTydQFcTTWBbXLEu0/7rQNcTSX1x3BBTTmN9lef7eW0OEq8Pqwc+iMWtAIWx6HXasJXBIFlq1dHuletXh4aX7U6fBfCK3/14Pv1o/WXD+/3jYif20i3PTx+0OO3tzVdHDIi0JpunFx1jUgjRhoOrv4hiOt/auLyH7Oois3+Sh6Xi2L32zlw+U9+ZJmKB1VchSRT8QyWvgWn6nFVdzvYrtk4UIDQn5744y6h2Y3T2MwAoIqn/kBNP56eAfZ9al3xdlISFx6eAPIOS0z/A7owETTCcnDuAAAAAElFTkSuQmCC";case"kukai":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAAD/CAMAAAAJ1vD4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAv1QTFRFWWP/WWP/WWP/WWP/WWP/WWP/WWP/WWL/WmP/WmT/WmP/WGL/WmT/WGT/WmT/WWP/WWT/WWP/WWP/WWP/WWP/WWP/WWP/WWT/WGL/WWH/WGL/gID/AAAAQID/WmP/WWT/WWP/WmP/WWP/WWP/WWP/WGL/V2L/XWj/VWb/WmT/WGP/WGP/WWP/WWP/WWP/WWT/WmP/YGD/WGT/WWL/WmT/WWP/WWL/WmP/W1v/WWL/WWL/VVX/Wmn/WWP/WGP/XWT/WWb/WWP/WGP/V2L/VVX/SW3/WmP/WmD/W2D/WWP/WGL/WGH/WWX/WmL/VV7/WmL/VWD/XGL/WWP/WWL/WWP/WGP/WWP/WWT/WWT/WGL/WmT/WmP/WWP/Xl7/WGD/WWP/WWT/WWP/WWP/WWP/WWL/WWP/WWP/WGP/WWP/WWP/WGP/VWb/WmP/WGP/VWH/V2b/WWT/VVX/WWL/WWP/WmP/WWT/Zmb/WWP/WGL/V2X/WWP/AAD/WmL/WWT/WWP/TWb/WWP/WWP/WWP/WWL/WWP/WWL/WGL/WGT/WGT/WWP/W2H/WmL/WWT/WmP/WWT/WmP/WGT/WWP/WmP/WWP/WGL/WWP/WGP/WWP/WWT/WWb/WWP/WWP/WWP/WmP/WmP/WWP/XGb/WGP/WGP/WWP/WWP/W2P/WWP/WWL/YmL/WmL/WWP/W2X/WWP/WGX/WWT/WmT/V2L/WGP/WWP/WGT/WGP/WWP/WWP/WWL/WGP/WWT/WmT/WmL/WGH/YGD/WWP/WWP/WmP/WWP/WWP/WWP/WmX/W2T/WGL/WWP/XV3/XGP/WmP/WWT/V2H/WWL/WmX/WWT/WWP/WWP/WWP/WWL/WmL/WWT/WGL/VWP/WWL/WGT/VWr/WmT/WWL/WWP/WWT/WWP/WmP/WWP/WWP/WmP/WGP/WGP/WWT/V2P/WGP/WGP/WWP/WWL/WWP/WmL/WmL/WWP/V2X/WWL/WWP/WWT/W2T/WWP/WWT/WWP/V2T/WWP/WmL/WWP/WmT/WGP/WGT/kC5EtQAAAP90Uk5T//78+uPGr56OfXdoZmuAkKGxy+b95bWKZT8aAgAEH0VqvO3zun9GFh5PiMT4+8J7NghAh830q1gOuFYJEWTHISjqrUkDB6IlLfmZHSuRGyIYJ888Td7s9uSCaW+yEyDZpGeBqjnnSGLf6F0Pg7AVI2EGbZuoFwWNyibcAVuuwwrM7p2myOk0bpzrKkSPbFmlV7Th3VHTk1+SFL73ybn18hlLQ9jRO/HFDV6/TPA60lIvMYlU24ZQjHRcSmA3ELfQPu/idkc4s9ULJFUuMnUwc5iso1OUu04ScD0Ml9d+Qpq2oMGLWpZ4LHF8hHJ5Y0HONb2nwBzUqdYp4HraM5+FCm/0mwAAEaZJREFUeJztnXlcVdUWx88BtQzQUtAGDQQzUcjx5pBjWooNpIiimTjnQA5hpSYO5JiaaaYmSYPmWKY5UAYaVoKlVoqGpkXDcx6g7PmUZ7x7GZTLvWft3zr3nHt9n3O+/+iHtc/e+3fvuefsvdfaa8uSsZE93QEPY+o3NqZ+Y2PqNzamfmNj6jc2pn5jU1a/XOCRbniMMvq9/vFMNzyGef8bG1O/sTH1GxtTv7Ex9RsbU7+xMfUbG1O/sTH1GxtTv7Ex9Rsbz+j3lkuwdeFauaL/n/NAT9ytP+CGboeuWLlYRf7Zrf1xo/4Qm8C/hcV8bcWy3NCfQtykP9yq6TzuWrPdJfvc4olzh36LVc0f7Kt88mp9c02H3tiju37/+2T5V5XXBsnyLk0744jO+gMCAo67VEHtM9V3atQXp+ip37utLGe7XEvon2dy9HsU6Kffu4N8SKOqwv5J1csvr5f+CFn+QcPqGl49eVDD6m6gj37LnfJ+jatskv+7Hp+AHvrlyu326lCt5VSG9pXqoL+bvEf7SgtpLq/XukrN9ffY2sL1Z74SgWcar9W2RjX6Y85U3/SUvOWJlPOO1UVU1fV1LT28+aLjH2PlDVHr5Wj5T/7twdZfrtaVkndRQcRmH/vZ2mB5G7sHXB5LtR9RDX3fcv0PlrQua3i1MfUPk4/a3d2Rckqp3jwnb+BVp4qo70oNiqs+k2XXoWj5j3Wcynj64/fklP1Tg+35xf+z/Hg7qzLVyHmBJa/CsZc3lbX2OrmSUxejrH+ndCd/7S2/Wjg8HSevYNTlGp2rzbD9ExHq7LuOzVuE18TQHx75rnPDtUFL/fosC9Pvse/IwDkvylnh33zv3Hrh33BFDP3Ps35YHqXRZrQkrv+Vt1R1xSPIz05ES6JVTs/W98WuLcNfAxeTYf0z31TbF48QNw4rh+qfnfqj6r54giafYGsmqP6XPlDfF48wIBEqhuqP0mtOpxe5l6BioP6Qq/9v+2JGvggVA/W30dorFX24Y57PT5kh16SHk/OHyiv9ftb4A5YrQz4kUP/8ea70xZ4Gj6zoKyeWfT+FD4mPeihVw3Wj8SOQUqD+xTNc6coNegWfm/pfwj5hXhOvHG2aCoZcJ6D+pdNc6UoxCZcuJ4jvcq+lhzP53jJHNNWfuMyVrtiI/r3yiRSwbFJmXvAqVxucMggpBepfPtmVrkiSj+9F3hO0ao1WDjN7HhWgBkH9MV+50pWmR8cOYF/0zoYodBLjjGn9oGLo+KfvDtU9iborHb3x7bEcXKr+E5geCxVD9aue/AcenDdY5aXWT+DIQLUr/pdyoWKo/renqOvGDPkZdRcWs1J+SdV1gSN6Q+Xg+a+qCYBv9CsqrrJDrrBQTR3g8B/XvzrrPXYn/GJcfG0UMv09fDmvhLlpSVhBfP1rbTyzD6G3btFmTC+H3s1dW610GK0brvKdNbxwBq8g7WJ31o32YpWf3h+Nl2Cs/07IX83owny5O6O0iMGdRzFK146D2+b4PzbE4d/Ck29pG7sW9spzcNlFa3AnIMv/tTAQmlNaafuZ1sG8Xg/9Apbs0qI/Xi3P/xfiB8mKbfYkq1oI2a8SVG7JBE6cDNP/uyUNGI/Fzr3CqxVk67NAoaaRjG+f7//fNkRcJimCWSnKp8CUluH7s8HV3+S01j1gII/6UFimDm+ixtWfIpzMLO+s31Kxd4pwHv23k/gYAq7+z0W/rvmJ+gQqFmGZ2U9Q4imG819i67fMEkyro1prOexxJKaaIMTGspF1+zH1i9aBQx+awquQzY5nBF2+eoZTHU+/f+tv6QIThrPqU8NtVWj7qBc4tfH0V6hG25t/pL+bLLyOYCViRXtGbTz9X/Qhzb5vtWVVp45d+fQzqPvrjMpY+mNr0GsgZ65yalONwBkTOIPxLbD0f9mLNK9pxalMPf416FnIA4wgVI7+8PPk/DcwBp+iusa4FWS31z6EV8XRv7sHaW7NWR5xjTvLkeb1LeCaOPpb/kZZo9LctmlT6nEihzLrE//Ycww5tEMjruwJ+1HVOtF9lynrR83gihj6n/uYsjb4h+fkCkl6LF0e82uBFH1u1Ijgrnk8J1HwjLGUGYt9sMHQv2Q6ZZ04FK9J+jBjZ0d7B3fgrY9ncrZ20K+iR5PRenD94XGUH8anId77N/YfdbYjtsabS0GnhZVhB6hNtZ80RuvB9U8iP9Pq+9B6pv+2TWmQHJD8Pbx4RTtkW6ErwLj+StTyY+hxMLxB/i4uhzA3fqUB2J3YNMq67QGwGlz/Xd6EMSUcq+TDe7sJSsz7GwyVSO1HGOE5AKw/eTUVAAyO/DOWiFfnFnWnAsRukNWZMPqiDkNY/6FOhLH9OejlN64W4sr+Z5HoHikkOIT6QpY+jtTB0D9gO2EcA/mGy3+JrY11s0AxE6F/EUb0AQDrP/woYRyKxOlk3P4I2JZXS+Tx/eAJwphaF2sK1v8ksaG711xg2WfqcnwP/8Z+wFzinQOELyrtfqwlVP8wakfRy8OAhrYCnqPr5FH3dgmNiZXOHS0xByyqv1oFwvhsgriCnzircpL0AuDvr/cnYfyiNtQOqp/0+5wSv7Gmp+SALRXh6ydYabaymlrpBd/IqH6fO5RtyMt2tNhzZ096iLBIWPmzysZ8saPSBqp/zgJl29jRwsvfeJW7MF4jQhw79gERG6jt/hcy/hWY+/jyt0YDy2l+lZVtu4KhVkD9EfnEPS5+VqWPJu5UBZoeFzpSqWdqg61QK6D+ha8SxhdHii7/pTXWjB1fBYlK1M9Ttsl/QL84UH+V25Rt0SuEr1qB38g5/YR7TgZTsw5N4/9zCNdG/c9EV4dEqdnN4XNU9A3Kk5YrG7EBAKj/V8KlIHa4Up8ewSzhXdPumLJt971IG6D+3wmPQmYN0dUNHBPFIOy5R1SC+l1thVaSQP3Uentb4dbgj9U5xkaMd6VibAMEqP/Eg8o28WLzSQvWShnE/lTKD4Z5QUH9p5oq2zJqiq5Ow/bilEW8hfdpZwlZisEcEqD+IGKGI062UVNdVIh4CEN5QcRfiw1Qf2si+HjnfYKLe36NNVKW9zqISlSsqmzDAuE00C98TCdNxRopS5Bw0+HpJsq2/YJYpSJA/dRM4y9iFFqEyvvfi/S329gXqWzT9P4/20jZJp5pt8rBWinDt3eJSlDPPywUD9R/rqGyreJPoqs3xmGtlCGZWnIu5DwxxvmyFtIGqJ9y/okX/+nAEUX23ikqQbkANB3/3OqvbLtHuDOSdJ0qI/4GqU2Z/aFtk6D+A10ImyAgVZJq5YtKOEU8g+tEbMmbQwfrFaPB/v8Q4iFURNJi/vIPsoPdvxHhAsQ8gKD+i4R/W75duFBVR82WkMeECdfKUQ+I1yFnoxb5D/oKk6NQPx9FJgkdRuueV7aFpmq5/hWeS9QmdjVY4slwLaf4nhMuq1GBwOJfZSHo+veoj5RtQLQVNX9UANhFRo3KbzsKtYLq/ypG2TZOPLwJaMhNH9d+t/jggNwwZVu5HKgZVP+8+cq2XnPE11MjVacA/qvkbGJZ9dx/oGZQ/XOpgCLxA1BaNZa3g33keHFcbF59wriuJdQOqp9MAHQW2O/6Zz2wpUIKsv3EhchhJfCd2ED1B/citn7cuxuoQbhzsDT7qgOFvu6pbAv6Wtv8j6QDNCgP2POYHIGvglb7HoiV6XGB8EnO6Iu1BOvfTMW4iIcqVhYOAGOSpJFLEd8VOahaDXocYf3kxmcs3PLvoVgKXd9lbZBi3TMJ41HCYVkaWP9foYSxxhAoaPVyIyQo4dgyoT/ZRvo0akhx/BakDob+iMnUfCJ+DFTJLl9xYohquVgodZcDhPGZmVAdnPjnQOqF3AXMD5j0hWAcFJuzBtwQQw3+pIvic+aKwPWT2Sfq/oDO8O/wox7tDRdDXlsrO8kY2U6EY9wOXD+dAe1nKj7QjuQF45UmgwldguDdUORunII6aLJyXL9/BWoEG9kD33Qa7O3l7PZsEBeHn5UWnUmNbxZEofUw9j/1JvNZYe6WYsLfGlPmG5qW0WQCJ2VQ/88pK+b7sMHQX5ucUSW8LQ7YLI1/m8QWk7Zu2TO5cttjzz//UUXWxVLMeXI+DQ7+JZZ+7ywyfh2ccGpDdkfK+jE+0ubsf6VnME17YBkXtWDhefL5jm//Y+lfRqeUR7ccaMCiWZQ1tgDPVs3RL48kFgGtY4BK7jj9yIYgGzEY+loIK/8BuQfI+kj7wz0nOIc9QZ80BG/+k5j6y7WjI92HTOLUphqBOzGyCSPZMi//yXp6mpMwUY2fi0vGcLoVcdhcKXj6yRVHK9dO63VO6Q2SAujl9oJYTq5+Zv6nTYKN9cCuDVcRrSMC3ohSMPXf7kvbCyoSEbmaIDyGqgq1LuAAU3/ELYITKnwu6PsIiI0QeBLfJEKinMDNf0cFQhay9gg/1T1O++aiQ/bgzMdFcPWLD8IYtUNdtnuE5N2fiopgYS/X4eon9xwWkdlQr2GQ90BxTHPHd1lVcvWTi87FYLvB+ciLyQwsRbThbTVh6s/ogbiVWGshMP5XiCDU68CZ34vg6W/vo3DiZBlGzNP+JxDeEtvRtnIgvorG1J//OJoCvt9MbdN/S5Kl0hGwZE51xnYbjv76jfEjIGdcY6VhFhL8sPDJfx3ffT5wWYb+FXdztnH4Z2FpTDAuJ3IO1502CG4b1x98H+/8g/ZNOSn7aR5d9DCr/MYD6CAM188OYsZdWQKETjNHxKHTxcD6y79I5/50RtZgtaf3lOZYHD+xYO/TYG9h/WS6JSUif9vq6oKA9/23qJlRvdEVK4fqpwKAKRZdhsKwFcmLVDehLriKfWqofiT1vlNiH1iq/uDkgEWqh9LiXUmFoPoj4fx2DgSdvqbu9NCYKatRN7YjK9tBxUD9qw7xn3432DF1O/83fGXAYVeWUiIXaxn/7er5r4Hd7gcTkhWzM3uGi6nEsRSIoH5e9KYzYuPfq4wOStJnn3B9/oStA4L6NTn/9sPM9vvFs4IeExNrajFsuPn0W4lOaJUwXXk4k+w7KGUy96wzBbADwEH9C4AQd5SAsS9vfPpUmTmqf+6qc4nZ4RoeHyDOnmFDi/w3qgjIyMxau97mqe3qu6vepXpa3PKl0fb8azlVXQoDz6Ht+efQuU83FVAGQVz/D4+p74pHwI5/hvWHrUeTd94cWMhk7TeA57/ig69uKmLmYuVg/eHb1SWx8Qyz+4BvUnz9a9k6jQYmbiAgHk24xlj/JXaA1JW52xtdJ7Cd8pS0Hh2oVQrO+r/SJtYll/pcG5qYy1uidY2ELXcmha3dppCUk3EAIyv+LybYyUcesLcoMfzQs2pOyFbH/KMvF3bot/5OfpPRR3Q6/0eSqpVziIFvGFPyU/P67zg1af74DOzaqOTpNuldh/XV+js42SaY/t/0iBfslqR8Br9Uao2/SlteDLg6htcstfUjeeajm0obg3a9y4o/4fr/peDh2TnFN110VM3t9qMCSxgZlq8Fdc9m2XtV3rGUH1Hcod7j8jpynL+SCv1W0o88OHtex5Tai50MiVq04zjq+OTMcpJqPmTmnhObBsRHjuH7XNXoJ4n4daN+L4KETd9oHFiguX7bov0BVxaLlSl4zQVXggI66Jekv9LUJbyiSRuvQ3y9Lvol+et61O5ENTSLxxIaMNFHv5VDucTufDbNEgWR12rRTb8kLd+m0YAwts5ycuudK+ioX5IyOuxzfdUk6Pv3ofNw1KGrfutMJLNurisvg4LRn9/BORaOjc76rVzO7oUdReDIyKga4DZ+1eiv39rGSyNXLuReFH33tGluOE/VHfpt7NrUcz1+PmqDx/d2cM9uSnfpt5HvVXnCepFPf8fBHK8mUP4PTXCnfhvhU3f/q59vdD3HdYveh26t+cjUVc3ds4ewBHfrL8ar6ojo104OHSelVmgjffZ636capV/Q/+h0J3hI/02Dqd/YmPqNjanf2Jj6jY2p39iY+o2Nqd/YmPqNjanf2Jj6jY2p39iY+o2Nqd/YmPqNjanf2Jj6jY2p39iY+o3N/wBWKE88fKF+6AAAAABJRU5ErkJggg==";case"metaMask":return po;case"rainbow":return mo;case"safePal":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAAGACAMAAACTGUWNAAAClFBMVEU4AOs7AOstDOqlmPU4Aes5BOs5AOs3Bes5Aes4Gus4BOszEet+bPJ/bfLp5f00Ees6AOs1AOv39v45AOo3BOs5GuucjfQyAOssDOo4Bes2AOs4Aeo4Auvl4fw8Gus1Aus7A+s0FOswA+s5Bes3A+o5Auo8GestC+qjlfUwCuqci/Q4Auo0EOs3Aes1BuosDOudjPQzAutZSu+QePQ0AOpRLe3Uy/o1D+tfSu9wVPA2DOvk3vx9afIrDOo0BepULO2bjPSVjPU+Few7Hey+s/jc1vtDMO1kQfBAGew0Bet1YfHHvvk/F+xHG+2xoveFbPI8E+suAOp7ZvG9svijj/U5DutDLO1mQu/w7f3X0Pt/ZPKQe/MzCOs2BesuC+qZiPQxCuo3A+tUP+6+sPhYQO86A+tZQO+8rvi7rviWffTi3fwxCeqZh/SklvVbQ+80Auu+r/hIG+1ZPe4xCus6Aus1Aevg2/yWgPRGG+27rfgvCuqejvSLdfNQOu5tXvFuXPHz8P60pvdvXPFuXvGZivU3E+uzpveQefM6Cevr5v12U/HUzfpUPO4xAOuMdfM0B+s3AupxTfCWfPRKMe7d1/u2p/c7F+txXvE0A+tgPu/e2Pt4YPEsEOt9a/JuXfGonfbs6f28sPg/GOsyAOpjRe/18/7f2/ybivR4YfKVfPTx7v359/55YvLx7/35+P76+f86E+xmU/Dq5v2YivU4COuLc/NNPu48G+u7rvfj3/z6+f7k3/zo4/3o5P3u6/3x7/7//v/y8f7y8P77+v/8+//9/P/+///+/f+Wi/WXi/Xp5P39/f84BuuhkvU8Huyej/Xy7/43AOs3FOs2E+uXivX28/7z8f7////+/v/v7P1vXfEzAOtoFo5LAAAGxElEQVR42u3cZXdUVxSH8ZM2OaEEmQR3d3d3d3eou7u74QWKW3F3d4tNy2ADIXcDX6bl9kWySLvgDbM5Z57fR9j/Wc/MuuuuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACKWBuJpGixSX98U7PGrJnNmjylomqv3iaZ2Xj9agMGD5k+o3nTp3X07ZOazJ/+cWPbdxg46HxuNFCRn1/Yr781ycoOGzl+Qq0siUqgI18uFdTLNEnK1hk6fER2nkigp7DglklWduGCH74XCTQV/nnTJKtGc+bNz5FAVWHBzbhJTqkVa8+em3f//vRHQ2p6pcrZEgT0R0fqlWvXb0hAf5SUSr929bYE9EetP89cv01/6A/9oT/0h/7QH/pDf+gP/aE/9If+0B/6Q3/oD/2hP/SH/tAf+kN/6A/9oT/0h/7QH/pDf+gP/aE/9If+0B/6Q3/oD/2hP/SH/tAf+kN/6A/9oT/0h/7QH/pDf+gP/XGgP5IY9Of/rr9/350EOHyE/pQkknPq5O977ybAoYOW/jxIcj797JvaDTLvJQL9KUGyvvjwo9KWP0fV6k/W6M8/+ZgT6fXntVFxPv6Kv3+2v1qnAifS6k8guTva1OVEKv0Jyanj6ZxI8fmPnDxRihvpPf+RPbuq8Q2s+PxZdu/M5EiKz5/lzh/3uJJWf8IB7jLAY+8PA+j258kawNIf1QFSqlv6ozhA5uq169Loj94AVX5asz6jNP1RG+Dej+fPlslIoz9qA9y9k3e5bPk0+qM3QEzKlc0oTX/UBpBALv9TIfqjN0AQu18h+qM3QBBWiP7oDfBvhXj/WW0AjyuU+gj90R/A4wo1rHS/Pw4M4GmFajSuHPbHgQG8rJA9euxCNHBgAE8rZLdsPSOBAwP4WqH45k25TgzgaYXsqpUbJXBhAE8rZFcsjwVODOBrhZYuEzcG8LNCdvGSbY4M4GeFIot+iwZuDOBnhSLN2gaODOBnhVKeberKAH5WKPL8cxcdGcDPCtnWY3IdGcDTCrWaMlXcGMDXCk2e5sgAvlZo0sTT4sQAvlaoXdczUScG8LZCXTYcEBcG8LVCtmOnzjFxYABvK2QrdusRc2AAfytUoXvPc+LAAP5WqEXLsuXEgQH8rVBa+bKXYw4M4G+F0jLKXBYHBvC3QqUzHlIh/QGokPIAVEh5ACqkPAAVUh6ACikPQIWUB6BCygNQIeUBqJDyAFTIhQHCCrVs4X6F3B0gkHM9u1dwv0LuDhDEenSraN2vkLsDSKxzp47W/Qo5O0AgBzZ0Mcb9Cjk7QBA907WdMe5XyNkB5PTESSbkeIVcHSCQaZON8aFCzg4wdUorY3yokKMDBLljWlvjRYUcHeDi229FjB8VcnOA4J0mKcb4USE3B/jqy4gJeVAhFweIfr0oHMCPCrk3gGxbstiakBcVcm+AZUtNyJcKuTZAbPkKa0K+VMitAWTjylXhAB5VyKUBJHfT5rgJeVQhlwY4s3WLNSGfKuTMANELx45aE/KrQo4MIDcqN65hQr5VyIkB5Pb1Sg1NyL8KOTCA3L56LT3VhDys0BM/gNy4fu1K0f39q5D2AA/vzzNFn38vK6Q9wMP7U8qEvK2Q7gD6/dGvkMoA9KdYhWIKA9CfYhXKUxiA/hSr0Nnz3yV8APpTrELr13xbJdED0J8iaevWrs5M9AD0pxhbPcUkegD6U5w1CR+A/ugJB6A/ygPQH+UB6I+izJ27hf7osdV27RH6o6fUiZNCfxSlHz8l9EdP3TY7coX+qKlQ5+XtQn/U2Piol3KE/mh55b0PRmcJ/dFh7Qtt3n0/S+jPg+L3EiGzQe0X275Jf0qyBw/dTYC9b7xeK0/oT0m//Hz4TgLs2y/C75+S4jePFEpi8Pznv9z8qzB4THj/8BHcKnh89+f9w0foz2O7P+8/0x/6Q3/oD/2hP/SH/tAf+kN/6A/9oT/0h/7QH/pDf+gP/aE/9If+0B/6Q3/oD/2hP/SH/tAf+kN/6A/9oT/0h/7QH/pDf+gP/aE/9If+0B/6Q3/oD/2hP/SH/tAf+uNgf7IrV6I/aiRv7uzaFVPpjxLJmT9vTiNDf3SIZP+6YKE19EeDSF72iOFD61iTpDLrFVyS/ECHRCWr1oTxI4dZk6xs/36F+Ur3j+aeHzSwQ/ux44w1SSu1T9+ndTRtPmP6kMEDqtWPW5PMeveq+pSKJs1mzqpR01hrkptN0RKJWMu/owIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABF/gafbef2OPWVUwAAAABJRU5ErkJggg==";case"temple":return go;case"tezos":return yo;case"transparent":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+mSkUrHdpBxCFDdbKLfzjWKhShQqkVWnUwufQPmjQkKS6OgmvBwZ/FqoOLs64OroIg+APi7OCk6CIlfpcUWsR4x3EP733vy913gNCsMtXsiQOqZhmZZELM5VfFwCsGaIYQxrTETH0unU7Bc3zdw8f3uxjP8q77cwwqBZMBPpE4znTDIt4gntm0dM77xBFWlhTic+Jxgy5I/Mh12eU3ziWHBZ4ZMbKZeeIIsVjqYrmLWdlQiaeIo4qqUb6Qc1nhvMVZrdZZ+578hcGCtrLMdVojSGIRS0hDhIw6KqjCQox2jRQTGTpPePiHHX+aXDK5KmDkWEANKiTHD/4Hv3trFicn3KRgAuh9se2PUSCwC7Qatv19bNutE8D/DFxpHX+tCcx+kt7oaNEjILQNXFx3NHkPuNwBhp50yZAcyU9LKBaB9zP6pjwQvgX619y+tc9x+gBkqVepG+DgEBgrUfa6x7v7uvv2b027fz+t4HK+u5mm1QAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+gLCw8UKx9c7HcAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAADElEQVQI12P4//8/AAX+Av7czFnnAAAAAElFTkSuQmCC";case"trust":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI0AAACeCAYAAAAPHImQAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAGllJREFUeJztnQt81FS+x3/JtKKgwuoiV4UVFcUtrKJeUNh1W9YreHGX9aqtTwQuoCtF8YkofqSuV1FU8IWigqKsD4oPUHHlobSiUkHlWSwqWgR5lAIF2lIgM7knM5OZ5OScPGYyM5k2Px9JzjlJzuR883+cZKYCfGmU30FAtwtE3DXs9FfmHd5QtWhG7ZxlCxvXb9mS6Z55SUKmO5BpCTi/o4jbBwrod52Atr3V8nO+mY0juu5BKCiiYd3Wst2fVL67bWb5WwSgHZnsrxfUIqERkN9OxMh7CCgElnankKLD6Da9Vr+O1mfUIRQSIYcCZCmElwSgisYNO76umbX0idr3l1Wnv/eZVwuBpn2ugIF/FXD22QIKiPvpVmC1R681r+PIbjshy+QSyeRfWYFHjEBErI+yXV+5dWHd5+uXNny35aed/17x3sEtu/em4cNkXM0eGhGldwZQOI6stnOyX8+Vb6JNt10QBDl8lSJLmYAjhOGJARReBhSQara//sXDm57+6I3m7sKaHTQCbusnYuAVAk49S0CnHmC4Hjs6d8UstMmLQoM4NJFtsiT/hNeIJVIsT9yNiU3Eha3ev2FHxfZZSz+snbt8oXufzhtqJtD8uauIUX8jFqWYbHR244jnkkC4dZ7G0kC7lPUQKR6MWCDorE8MpOrqCXMeb/xuy+cEoFVu9C3TylJo8toTS9JDxKB8AYXXkw/Rye0znL38HWJpdiNsVaLWReumhPCV08Cj1otkGSL/RmOgMEBBdT1Qs3PR2le3zVyysH7lxjVN1TXb3O53OpRV0AgYfF4Ad40V0O3SVJ+rx1fvoc3vd+sA0VoWgbethUuMuLZYHBQM6CwRWZatG/zcGGKBlqf687gpj0OTf5qIc3oBvc8S0e8CAW3PT9eZz1w6NwINotAwrIu6TtfH4dHWydFMTKCCaBEHa+qX1360akn9yl9W131e9Ulj1ZbN6fqciciD0Ciup+c5xKIMIhblclJweCZ68Ycv3g/P0+hhgQ4ItS4WHBsskhy5wLRFilog6ILo2LKh7rPvZ9fM+fqD3fNXL2jaVFufic9vJo9Ak9daRP//ETHsagJKf1KQk+kedV8yjwGNNoNCbN1ogWzEPjRExIWpE4gqRIo7a9pcN3/ra5+9Sf7zzDxQBqFRQCkcIeCKASK6/wUeAEWrbuUf4Ygz9kDvnuIuSR/X0PXQtYvBBT1I7BgpmsZTVojA1NBYvXPNrvlr3tn89MfTmn6prcvUtUkjNB1bCbiwQMCZfxDQvxexKH8iJz8+fed3pryy+eFnT2bQxGMavSsyBMrQuDFm4EyfI9JWVtZVgEK6bKxmz1c/fb5r0bql+3+qWVFTuvSTdF6bNEDTPlfEyGtElJQILs2hpENnfLpQD43WwgiMAafrmRaJjnO0+1kE1oKaielnoqPpfNXGCXMf3PjI3DfScW1SAo2AwjwB/YYIOD9fQPfTBYdT+F5Q14WLcHjXvRQEiMGisxpMt8RxY2DBw7BcTAuHeAAuR9wY9UC1oXHDjpX1KzYtr3nv61kkla9IxbVxEZq89iIu6idixHDBxgNBr+v0BZ/i8NP3UVYAmvgEmgyKHcvwLRLAcne2LVK0Lr6txD90Kh9+HrbyhztmPtlYtbWcpPLVbl2bJKDpeLSA3l2JRblAxPAryYF6udUpL6jLx2URaKAPZnUuhA52GRaFzrQMEDAho8+n3Y6vG+qjs9GRQFrUPRPbv6nu222vLZm+Z9mGr+tX/bL2UO2+xkSvjWNoFNcjYuJDIjpfRDbbJHpir6vLR5+h1en1VEALasBoawIuXHayLD1EDuu1fdGAHH6twzgTjZp3v3ly1/zVL2x744sqp9fGBjRK1jNwoIi8cwUUdCeu50JkaMItnTrlw8/R6rR64/wKFwB9vTrIvMcNirSDbAx6jQEx090xLZMx1pLDz+QVYKCbC2raVFdWO29VRUPVloq6Jeu/bKyyfq3DBJor+oi45KIAhtyFZmxReOr8/pcRaGKpMfguRgsV6643QAVDnX2LpA/IzSYfue5Q1M8F6S3QtxO3l1a8u/erH9fwXJgGmo6tRAy7UED/ASJ6D0ELBEWrk+ZUEGgaDO6JOzDUU3Be7GMIrKk0234qb+2eWHNFhv1EOfx2EIKIBM9xN7an5p1v/rVrUeXsbTOXlGuvDYHu2WuI6ykE+hZkY2qcKv3u3WVo1aVed5G579MA7IEyWCh6ION1GYmRDJ8lcujw2YO6uaD6uiXfL9r92fq3Nj7y/iwhF/J20vS4NI1F1qjTO1+j1akNxviDsijGbXDubgoGOoWPtmem5iaPHPhQWLhURuaneyKv1KlP5dUn8wSkNde+1M2HhqOOs7/FYacqLp1/p/IfI7CCVZYLgiVcBiipAddZJA1crNlkW/EYMwaK1CvvBa0qesWHhqcTZq3UQwNjzMCdwQXicNCuxQwu7sQg7Upo16PdN3qu6DmMWRtt4SL7ms0LaY+76sqXfWh4Ov7N1RpokISbiK/T9Y7dHXObYXGsLBINMsMq8tzd6qun+dDw1OH1NTjslP3UQCkr+jvaej4F1EAaXRJ9LEO97WDWDGTKImnPxbAq2nWt5VpzzYs+NDx1mLkOuQZoWHcvy2UArAGzmlehXQZ7AKl9zSwV091BByLPivIe0K69zoeGq/avVoWh0Wc7xjvPOmuh4DLEDBy3wLRM+qDX6O5oeIzuiZlmm/Sdfoa27vrnfWh4+u0r65FzcpMLsYDVQJnVa9uxLJK5SzECyYKK6gttsajP+N3g53xoeDr25R+Q0/mAYaDY0NgYbBvuKbG7n4qNLN0TGwaeZYpb1kj9d0Om+NDw9JuXNhBLcyB+MQ1BrdKKE/RC2y4yeAaoKAidxUgA31pYxEhmczJMi6Tv6/phz/jQ8NTuxZ+Rc9JBjemnA0NoYppEA2DtNsNNAUxLZAhiDSm8HkzjBCDHTXEtVfwc64c/5UPDU9upGxGIQQPK4ljFCtbbhsCajpFcgMtRYM2wXCy4fhjxpA8NT0c9tylsaRzFDMyBBTNm4KW0hnpTuGhIYAIT3y0aLRfLckbqfrxhkg8NT0c++ysDGuouNwSaJhaJaQXidcYBT6NFMkBFHVfT1w03PuFDw1Obp7ci8LtDzIvKC3bNX1uwskAADQhi54jXsV2LZl/KarDr6b5xthnW8aeRj/nQ8NT6ye0aaJQS48CzsxPo726z7ASsu117jng9nerTqTTtTmjXYwYms56GKdqnn4on+tDwdPikHRFodHcedEAYBxJMAHgxg3mabcPFGNxhvM7qOVj4MLq+cD4nBejPox7xoeGp1eM7IXY6RA0kYH7nUttmA+lkvsQESL5LofvGDrBjN4AOFsa+iJxr4+gJPjQ8HfbYbogdJXsBJuWe2APFiI3otibuye60P+2eeFaPDsDtuqeNtz7kQ8NTziN7iKUh0Jjd5baCWvuQMTMp7TrDRVrHSDC2Y7pWqxgpcpxfbnvQh4anwIR9xNIEkfxMLxU/0Hc3AzzzeSGwobGZtdEQG+d9tMegPhdZ33THP31oeBIfaoBwYpBh1qMA6DIotV7bjmNpYDOOMVgcjYuh4DLESFRdwoE3o6+/3lniQ8OT8OB+4MSQibmm72A2BLbnSwwDRkPBcS0Ma8Sc29FZFQuXaZK1bRlzvw8NVw8c0EETcymc9NmQnah3Oc8i6VyTU4sE/oA7sUisY1m4u613+9BwFRp/KAKNwzvTeJdr2/HcDm1FjPVM92WwgND1kTuPxO0rZdEYIG+7Z5wPDU/B+0kQfILGGjiZV6FhYMyr8OBig0mdywAfox40XHzrotbRkLIywu3j7vWh4UkaJ4eh0d+ZMFxEdtBLw2Ks582XsDOseJ0hDXcyJWCwTLy+0v2LbCvrNffd40PDk3QPuUzKz0iqdx0nMGTHAhwXwrJYTAgTtUh2Yx5NPcz6qj+OUld7/90+NDxJYzXQgFoKIUv3ZPe9G17sYwisqUzITfdk95FFGJrxY3xoeJLGRKFRpAOGXtdkWLQVMEurncRIGovDc0E0kKmKkXaW3OlDw5N0F7ls/wELYOgyOnCm3ZKd2EfbHqAHTw8DXa/dBgwZH2DiMq1jH6Vu1z9v96HhSbqDAY26tIRHWdHHAoJhUOAcLrP6hKcEqMCaCVf8GLv+7zYfGp6k22xCY1UW2w5xYwZmsKsBhJkJMeHhxDNaaKg643MydiCs9rXuodE+NDxJt0ahUZSIteG24wesRosUaW/uQqwsEnTuzvStQ1OLFFnfM+EWHxqepFvIJeoAe5bFETTapT5oVgedHVPwBzJeT1kks4wqen5mdqdtS4G8d8IoHxqepJuj0Chy4pqSqI8MGJXOMzIwfTwSr3c00WdzkpJO9fc9WuxDw5NUzIFGXbpiaczKQlwA6IHkpdIxFwTo2vEnKTVwcaYE6h+7yYeGJ+kmcomUq+J4sF0o09Wr6W6IO5BsixR3MWyLxMmyzCwUWW984kYfGp6kf0ShUeTK4LtURmdOhvkWaKBhB7tO3BOdyjdOusGHhifpBgoadZk2C2OnnhcD0ZkU2JAJ+jkaOzHS/idH+NDwJI0gl6g9UmNNUgSeQABiWRTz10KNWRvLwqhgNj01zIeGJ2mYTWjslqUdrhCMGRMoi8MHiPWYQfnv4DP/60PDkzQ0Co2iNFkK99wWva5aILChsZWOR9YPPTvYh4YnaQgFDb20GjS327kGIA0Na7YZ4MVIB6dc70PDkzSYXK5jkXqLkal24fX4XBD/6bbeAknPD/Kh4UkaRC7bb6MbmXA5bu1j+9h0Kg/mI4jg1Gt9aHiSruVAoy6z1T3ZLdM9lY9bn9BLV/vQ8CRdrXFPgEetA6Pe7XZhcOJuTH7pKh8anqSrotAoSjU4nrAsNuunF/rQ8CQVcaBRl15zO+k698tFPjQ8SYUEmmPQPAY6mfPRda/40HAlXR6FRpEXBzNT/Xk1As1astoNvnSSLiPQ/Ca6ka0DnIr+vFbUSciB/BXZ7gVfOkmXUpaGXjo16+lql+qyFwraCQH88rGITv3hSydpYNTSZJsVSW27BowVjiTQlL4ionAIfOkk/Y3jntSl12BJz7nLcI/QVxBR+nQAhTfDl07SXwk0beHVOz75domU1VTOwNPdhxJoxt8XQMmD8KWT9N8EmnZoDtYhuT5o6xaX3InFDzyhQHMTgeY5+NJJujgKjaJMDriXYJs38lIsf36uIKBwQA5K58GXTlL/qHtSlK3uxG6Z3frXCrqjurySbJ7fMRdLN8GXTtJFFDTZOtDulTXhieOOReOOxnBxLuQVZNEDvmKS/otAc3R0w9uDma7+LMNDwnmxYhHPjg6g+En4ikn6S4LQ2C1L1z5una9q9kTMKbo71lxAfrsclNWS1QB8hSX1JdAchdSD4vV26vrcon5YP3uhtho5qNsgoO0p8BWWlK+BBrB/cb1oRZKHqwkvdOqAfZv3aouJiVn7oYhul8BXWNIFHPekLjN1x6caTlb93p8rMO2U3qCqSFzzxNgAbp8AX2FJfyLQHAmv3fGZgXXdjHFYMPRhUNVE+V1yUfYDfIUl9YlCoyidliCR86W2PwfxXkFXbC6vBtU0rBxsXyvgOP/dGiLp/GhMoygb3E4i57NzzO1L5+LtPpdCIx00Il6eHMDQW+EL0nmUpaGXXnYnbpYtKS7E2ufehkY6aIiLOo24qAqycgxauKSeHGhSMZBetkDv9e6K7RXfQyMKmnAWNYtkUUV0eUuT9J8EmjbRjUwMnFv7JHe+arwonAxKBmgEDBuQg2kt/gGmdA4HGnWZLZYimbJPC3vh57eXg5IBGuCkY3JRvdNY3rIknU2gaQ3vQJHudk013+PNDl3BEAOasIt6lLioMay6liLpLA00QPIg2C3zilWrLp2G8itHgCEmNIpyIG8XWvD3oaQzo9AoygbL4HZZeVFn/DJ7IxjiQhPA4g9FFLTYxwpSdwfQuF2WaQhryqZgUd9R4IgLjYjxAwIoabEBsdSNQHME9FfI7OKrS6+4l2Tq5/c4A7tXrQdHXGgUkdjmXyS2udasTXOVlJcgNPTSa27Hqmzn0lJ80udKmMgUGuDvXXMxp8q8TfOU9HsCzeEwXlx13S5MXnI7dtqVF/wRO8q/hIksoGm5k33SGVFLoypRaFj7uOlK3CzbV7kMZX3+DGnvAZjIEhoBhXk5KK20atfcJHWNWhpFVjA4rUt2gFMF1xcFJ6M2/jSbJ0toFAXw4QsiLrnBTtvmIuk0yj0B9iDgtbXaL10WhVe/pfQZfHPlLbAhW9Ao7xAHULZeaEHzNlIX8j8CjSxELlL49y2Tgcaqzi0AEm1XUdALO8sNjwxYsgWNIhHPjg+guMRu+2yXdCrC0MQUvVJyIm7ITh1vOx1u69cZJVg99AHYlG1ogLzWuaj8lay0s2zaDCQpr9jTMY12XbOUTep0+yVjiehjJGtp4us1mC+ofw7NlhxAo1ibkfkipnxAdjrKunV2SzqZ/K9VdMNigJmuS11PFhS6zG039t3wIvw6fTYcyBE0igL4aq6IXgOd7pdtkk5CBBonbkh1YWZt7NQl0jYRsA78XIEv498ysCvH0ES/+61M+LWxbJrFChJo5MOQEDR0maklYpWlw40J2IPl3U5Dw7odcKgEoAm/Szw6gKHN+mu8wU5ksFtpChIdPKqN64G0HTfG2ufH4kJs1b/7a1cJQaMogI9fEtF/eKL7e13BjqmBhlUnW1mXZM9Bg7O/ch5W9bkcQfOZX54ShkZA/mk5KPveumV2Kngi+d9h0Q06ZklVfOL0HInAJaABS4UjkYQShkaRiPGFAZS8AeWdrWam4AlQfoPFaBGA5AbPos7S6iRrfWqmFKN6VFK/fJYUNIpINvVvkk1dnOxxvKbg8TBAwxoc20FuYlYhLNfOsa9sKqr63oQklTQ0QMf2OfhmcXP7ZmZQme6i3ZN2nTGwghVErOOY1SVyDt7y0KZKrDu3F6QdjUhSLkCj6KQOuaje5s6xvKEwNLnRjQTv7thzqxS4MRU0GdQ5NHW67e8LeqC+fBVckEvQhOOb60h8Mx3x+zOrFVT+6CkNjcNgV2a1tXM8B/vprA+7zR7UTpmMzaMegEtyDRpFAawgaXiPZpGGB5U/RaiE9wnEIKyylD3otDrHrikT8euou+GiXIVGUQBfzhLRO+vf9AsqfyBMC43bQS5Sn43JByoXoPriQhyK/IKVW3IdGqDnKblY9glZ6ez+sdOnkPJ3EXJtmH9WmcNBD8c+5i7G1nGoshr5h855OLTR9W/LpgAa5aB57QNY/CXJqLqk4vjpUEh5AYQTCDOzGO26k9iHU5fwOYjkYE01tgy6DA0LVrA+W7JKCTSKsv17U2Fo1N86TSSLyYRFiq7LO0suRe0Dc5kfzAWlDBpFIu4sDOCxl8hqW8vGHlNI+ZFGBRo7sUOq4h478Q9VJu+4vRB1kxN6EGlXKYVGEQFneBScrFJIec1MC40dV0NDxKhzKxtTrZum7CDqZ4yRtw99ivFxXFXKoQGODgQw93EBBSOFLJrDCSmP9Gj3pF13MMCxuMQtmBhloX3TJqB2xL3GT+K+0gBNRCQwniyiIGt+zy+kvGLGi2lYZQ4tiGWmZHY8dV3dbiobG9rW91HmB0mB0gYN0LFVAJMeEVGYFeCElF+MEOFqIGuAJpH96aC3af4Lcu2gmxHacYj/adxVGqGJKAeLnyWuqjjd53Uq5YtyshYaBzENs4yX6ThoSy/lYPUceXuvonQCQ3crbRKxeHwABSWZOLddhd/aY0DjWnxiUmcnG5Mbp42V60akzSVplRFoIieeOCoHdz2TqfNbKfxSuRjdsONiqDrmfgnCREMUqi8ZjvoHplt+iBQpY9AoEjHyGhEPk8yq7fGZ7AdLsjIbbAENa5ni70A1hBpKRssNmQNGUUahUSRi/BUBlDj6slY6JKsPKx1mRay2bj1uCB2ccZW8d+gsWx8ghco4NIoEDOgTwNRnBHQ6J9N9URULgpOwGgl/ac64rAnu7d8Phxa48hJVsvIENBH17JKLZcqvFnjiu+LhOELUFCQz+Jp1x98ykBuqQ/WX9JUl69+NSZc8BI2ivNY5mDZTQO/LMt2TjL0wrjmOHFr2Vqjh8lsgb3b8LchUymPQRCTilRsDGDI10/2IyUEq7MiNMcrUc8jS7LtC+4seT7TLqZQnoVFEAuTBJLsqEXBc50z3RVVSU/8262RsqgpJ06fKByeTmyaxb0CmWp6FRpGA/M4BzHhPQGdP/c3w2LszaoFL8Mj4eWVQGjMC0ttfu9hd1+VpaCLqeHQAkx4WUTgM+t+m8pSS/XkRWV46LXjw76OB5L+XlGplATQRCRg8IAczXodHsiszOXRjNcHgrTfIoadS9qad28oaaBQRd9VTxD0jRfQfkum+OBI9wRdZSjIqZ4VCxeNluXxDprqWiLIKGlU5WDxe8PgDT66iVzyEsseCct+s/PNIWQlNRPln5mDKOCHLfk2dZEeLghg0Wkb5ukz3JVFlMTQRBTBrvIiisfBwkKyIuKedMso+CKKoOBuCXTNlPTSKlO9ZiZgyVURBf3jvtwAl4oo+DGHCOBkLsta6aNUsoFEVmdcpXeyhCcE6CUV/lDG7WcCiqllBo0jA+R1FXPcPAQMvFdApU7+ZUxPEpKdCeH82UP5DhvqQMjU7aFRFvho85UWSZQ1A+r460xTCsjkhjLmJBLp1aTpn2tVsoVFFLE9eANNKSJZVmMrzkKxoiYSLBwHrNqbyPF5Qs4dGlYjCniImvuj2cywZlQuCeOxhErcsARpDbh7bq2ox0KgSMPIqJcsiEF2FxNP0gyEsnRXCzPdlfPABsNmTT6NTpRYHjSoBhfk5KJ0Dh8+yZKAyiCHDZLz6VYq65nm1WGgiat+apOnniCi6yuopOrEspSFMfk7GxxXAvhZlWWi1cGjiUixPAPfeKaBHX2gmCEOonBdCcTHJhpp9gGtXPjQGKe/vjL1PxoFdMqZPl+H8r5Q0d/0/WqEwX+vvxw8AAAAASUVORK5CYII="}}),[t]);return(0,h.jsx)("img",{src:o,style:{height:r,width:n},className:no("border-box",i),...s})}));bo.displayName="PngIcon";var vo=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],wo={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"};function Ao(e,t){const{key:r,level:n,...i}=t;switch(e.nodeType){case 1:return l.createElement(function(e){if(/[a-z]+[A-Z]+[a-z]+/.test(e))return e;return e.toLowerCase()}(e.nodeName),function(e,t){const r={key:t};if(e instanceof Element){const t=e.getAttribute("class");t&&(r.className=t),[...e.attributes].forEach((e=>{switch(e.name){case"class":break;case"style":r[e.name]="string"!==typeof(t=e.value)?{}:t.split(/ ?; ?/).reduce(((e,t)=>{const[r,n]=t.split(/ ?: ?/).map(((e,t)=>0===t?e.replace(/\s+/g,""):e.trim()));if(r&&n){const t=r.replace(/(\w)-(\w)/g,((e,t,r)=>`${t}${r.toUpperCase()}`));let i=n.trim();Number.isNaN(Number(n))||(i=Number(n)),e[r.startsWith("-")?r:t]=i}return e}),{});break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":r[wo[e.name]||e.name]=!0;break;default:r[wo[e.name]||e.name]=e.value}var t}))}return r}(e,r),_o(e.childNodes,n,i));case 3:{const t=e.nodeValue?.toString()??"";if(!i.allowWhiteSpaces&&/^\s+$/.test(t)&&!/[\u00A0\u202F]/.test(t))return null;if(!e.parentNode)return t;const r=e.parentNode.nodeName.toLowerCase();return vo.includes(r)?(/\S/.test(t)&&console.warn(`A textNode is not allowed inside '${r}'. Your text "${t}" will be ignored`),null):t}case 8:default:return null;case 11:return _o(e.childNodes,n,t)}}function _o(e,t,r){const n=[...e].map(((e,n)=>Eo(e,{...r,index:n,level:t+1}))).filter(Boolean);return n.length?n:null}function Eo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!(e instanceof Node))return null;const{actions:r=[],index:n=0,level:i=0,randomKey:s}=t;let o=e,a=`${i}-${n}`;const c=[];return s&&0===i&&(a=`${function(){const e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let t="";for(let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;r>0;--r)t+=e[Math.round(61*Math.random())];return t}()}-${a}`),Array.isArray(r)&&r.forEach((t=>{t.condition(o,a,i)&&("function"===typeof t.pre&&(o=t.pre(o,a,i),o instanceof Node||(o=e)),"function"===typeof t.post&&c.push(t.post(o,a,i)))})),c.length?c:Ao(o,{key:a,level:i,...t})}function xo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"string"!==typeof e)return null;const{includeAllNodes:r=!1,nodeOnly:n=!1,selector:i="body > *",type:s="text/html"}=t;try{const o=(new DOMParser).parseFromString(e,s);if(r){const{childNodes:e}=o.body;return n?e:[...e].map((e=>Eo(e,t)))}const a=o.querySelector(i)||o.body.childNodes[0];if(!(a instanceof Node))throw new TypeError("Error parsing input");return n?a:Eo(a,t)}catch(gZ){}return null}(e,t):e instanceof Node?Eo(e,t):null}var ko=Object.defineProperty,So=(e,t,r)=>((e,t,r)=>t in e?ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!==typeof t?t+"":t,r),Po="react-inlinesvg",To={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function Io(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function Oo(){return function(){if(!document)return!1;const e=document.createElement("div");e.innerHTML="<svg />";const t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()&&"undefined"!==typeof window&&null!==window}async function Ro(e,t){const r=await fetch(e,t),n=r.headers.get("content-type"),[i]=(n??"").split(/ ?; ?/);if(r.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some((e=>i.includes(e))))throw new Error(`Content type isn't valid: ${i}`);return r.text()}function Co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((t=>{setTimeout(t,1e3*e)}))}var No,Lo=class{constructor(){So(this,"cacheApi"),So(this,"cacheStore"),So(this,"subscribers",[]),So(this,"isReady",!1),this.cacheStore=new Map;let e=Po,t=!1;Io()&&(e=window.REACT_INLINESVG_CACHE_NAME??Po,t=!!window.REACT_INLINESVG_PERSISTENT_CACHE&&"caches"in window),t?caches.open(e).then((e=>{this.cacheApi=e})).catch((e=>{console.error(`Failed to open cache: ${e.message}`)})).finally((()=>{this.isReady=!0,this.subscribers.forEach((e=>e()))})):this.isReady=!0}onReady(e){this.isReady?e():this.subscribers.push(e)}async get(e,t){return await(this.cacheApi?this.fetchAndAddToPersistentCache(e,t):this.fetchAndAddToInternalCache(e,t)),this.cacheStore.get(e)?.content??""}set(e,t){this.cacheStore.set(e,t)}isCached(e){return this.cacheStore.get(e)?.status===To.LOADED}async fetchAndAddToInternalCache(e,t){const r=this.cacheStore.get(e);if(r?.status!==To.LOADING){if(!r?.content){this.cacheStore.set(e,{content:"",status:To.LOADING});try{const r=await Ro(e,t);this.cacheStore.set(e,{content:r,status:To.LOADED})}catch(gZ){throw this.cacheStore.set(e,{content:"",status:To.FAILED}),gZ}}}else await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:To.IDLE}),await this.fetchAndAddToInternalCache(e,t)}))}async fetchAndAddToPersistentCache(e,t){const r=this.cacheStore.get(e);if(r?.status===To.LOADED)return;if(r?.status===To.LOADING)return void await this.handleLoading(e,(async()=>{this.cacheStore.set(e,{content:"",status:To.IDLE}),await this.fetchAndAddToPersistentCache(e,t)}));this.cacheStore.set(e,{content:"",status:To.LOADING});const n=await(this.cacheApi?.match(e));if(n){const t=await n.text();this.cacheStore.set(e,{content:t,status:To.LOADED})}else try{await(this.cacheApi?.add(new Request(e,t)));const r=await(this.cacheApi?.match(e)),n=await(r?.text())??"";this.cacheStore.set(e,{content:n,status:To.LOADED})}catch(gZ){throw this.cacheStore.set(e,{content:"",status:To.FAILED}),gZ}}async handleLoading(e,t){let r=0;for(;this.cacheStore.get(e)?.status===To.LOADING&&r<10;)await Co(.1),r+=1;r>=10&&await t()}keys(){return[...this.cacheStore.keys()]}data(){return[...this.cacheStore.entries()].map((e=>{let[t,r]=e;return{[t]:r}}))}async delete(e){this.cacheApi&&await this.cacheApi.delete(e),this.cacheStore.delete(e)}async clear(){if(this.cacheApi){const e=await this.cacheApi.keys();for(const t of e)await this.cacheApi.delete(t)}this.cacheStore.clear()}};function Mo(e){const t=(0,l.useRef)();return(0,l.useEffect)((()=>{t.current=e})),t.current}function Bo(e){const{baseURL:t,content:r,description:n,handleError:i,hash:s,preProcessor:o,title:a,uniquifyIDs:c=!1}=e;try{const e=function(e,t){if(t)return t(e);return e}(r,o),i=xo(e,{nodeOnly:!0});if(!i||!(i instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");const l=Do(i,{baseURL:t,hash:s,uniquifyIDs:c});if(n){const e=l.querySelector("desc");e?.parentNode&&e.parentNode.removeChild(e);const t=document.createElementNS("http://www.w3.org/2000/svg","desc");t.innerHTML=n,l.prepend(t)}if("undefined"!==typeof a){const e=l.querySelector("title");if(e?.parentNode&&e.parentNode.removeChild(e),a){const e=document.createElementNS("http://www.w3.org/2000/svg","title");e.innerHTML=a,l.prepend(e)}}return l}catch(gZ){return i(gZ)}}function Do(e,t){const{baseURL:r="",hash:n,uniquifyIDs:i}=t,s=["id","href","xlink:href","xlink:role","xlink:arcrole"],o=["href","xlink:href"];return i?([...e.children].forEach((e=>{if(e.attributes?.length){const t=Object.values(e.attributes).map((e=>{const t=e,i=/url\((.*?)\)/.exec(e.value);return i?.[1]&&(t.value=e.value.replace(i[0],`url(${r}${i[1]}__${n})`)),t}));s.forEach((e=>{const r=t.find((t=>t.name===e));var i,s;r&&(i=e,s=r.value,!o.includes(i)||!s||s.includes("#"))&&(r.value=`${r.value}__${n}`)}))}return e.children.length?Do(e,t):e})),e):e}function jo(e){const{cacheRequests:t=!0,children:r=null,description:n,fetchOptions:i,innerRef:s,loader:o=null,onError:a,onLoad:c,src:u,title:d,uniqueHash:h}=e,[f,p]=(0,l.useReducer)(((e,t)=>({...e,...t})),{content:"",element:null,isCached:t&&No.isCached(e.src),status:To.IDLE}),{content:m,element:g,isCached:y,status:b}=f,v=Mo(e),w=Mo(f),A=(0,l.useRef)(h??function(e){const t="abcdefghijklmnopqrstuvwxyz",r=`${t}${t.toUpperCase()}1234567890`;let n="";for(let s=0;s<e;s++)n+=(i=r)[Math.floor(Math.random()*i.length)];var i;return n}(8)),_=(0,l.useRef)(!1),E=(0,l.useRef)(!1),x=(0,l.useCallback)((e=>{_.current&&(p({status:"Browser does not support SVG"===e.message?To.UNSUPPORTED:To.FAILED}),a?.(e))}),[a]),k=(0,l.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_.current&&p({content:e,isCached:t,status:To.LOADED})}),[]),S=(0,l.useCallback)((async()=>{const e=await Ro(u,i);k(e)}),[i,k,u]),P=(0,l.useCallback)((()=>{try{const t=xo(Bo({...e,handleError:x,hash:A.current,content:m}));if(!t||!(0,l.isValidElement)(t))throw new Error("Could not convert the src to a React element");p({element:t,status:To.READY})}catch(gZ){x(new Error(gZ.message))}}),[m,x,e]),T=(0,l.useCallback)((async()=>{const e=/^data:image\/svg[^,]*?(;base64)?,(.*)/u.exec(u);let r;if(e?r=e[1]?window.atob(e[2]):decodeURIComponent(e[2]):u.includes("<svg")&&(r=u),r)k(r);else try{if(t){const e=await No.get(u,i);k(e,!0)}else await S()}catch(gZ){x(gZ)}}),[t,S,i,x,k,u]),I=(0,l.useCallback)((async()=>{_.current&&p({content:"",element:null,isCached:!1,status:To.LOADING})}),[]);(0,l.useEffect)((()=>{if(_.current=!0,!Io()||E.current)return()=>{};try{if(b===To.IDLE){if(!Oo())throw new Error("Browser does not support SVG");if(!u)throw new Error("Missing src");I()}}catch(gZ){x(gZ)}return E.current=!0,()=>{_.current=!1}}),[]),(0,l.useEffect)((()=>{if(Io()&&v)if(v.src!==u){if(!u)return void x(new Error("Missing src"));I()}else v.title===d&&v.description===n||P()}),[n,P,x,I,v,u,d]),(0,l.useEffect)((()=>{w&&(w.status!==To.LOADING&&b===To.LOADING&&T(),w.status!==To.LOADED&&b===To.LOADED&&P(),w.status!==To.READY&&b===To.READY&&c?.(u,y))}),[T,P,y,c,w,u,b]);const O=function(e){const t={};for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(const s in e)({}).hasOwnProperty.call(e,s)&&(n.includes(s)||(t[s]=e[s]));return t}(e,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return Io()?g?(0,l.cloneElement)(g,{ref:s,...O}):[To.UNSUPPORTED,To.FAILED].includes(b)?r:o:o}const Uo=r.p+"static/media/chevron-down-solid.66ff01f0326c576a68ad3fe444de4fe9.svg";const Fo=r.p+"static/media/chevron-up-solid.549454db08f6a63baf8c1a0cf8fab161.svg";const Ho=r.p+"static/media/copy-regular.550be5d258b3dde810189f585ede7671.svg";const zo=r.p+"static/media/file-lines-regular.b12f59750a8df0c584e5a64f49bbeae8.svg";const Go=r.p+"static/media/xmark-solid.8a8c1ea117c37e1f4ec66c182a004cbd.svg",qo=function(e){No||(No=new Lo);const{loader:t}=e,r=(0,l.useRef)(!1),[n,i]=(0,l.useState)(No.isReady);return(0,l.useEffect)((()=>{r.current||(No.onReady((()=>{i(!0)})),r.current=!0)}),[]),n?l.createElement(jo,{...e}):t},Wo=e=>{switch(e){case"chevronDownSolid":return Uo;case"chevronUpSolid":return Fo;case"copyRegular":return Ho;case"fileLinesRegular":return zo;case"xmarkSolid":return Go}},$o=(0,l.memo)((e=>{let{icon:t,className:r,...n}=e;const[i,s]=(0,l.useState)(Wo(t)),[o,a]=(0,l.useState)(!0);(0,l.useEffect)((()=>{o||Wo(t)===i||(s(Wo(t)),a(!0))}),[o,i,t]);const c=(0,l.useCallback)((()=>{a(!1)}),[]);return(0,h.jsx)(qo,{src:i,className:no("border-box",r),onLoad:c,...n})}));$o.displayName="SvgIcon";const Ko=(0,l.memo)((e=>{let{icon:t,...r}=e;return(0,l.useMemo)((()=>{switch(t){case"airGap":case"altme":case"bitget":case"etherlink":case"kukai":case"metaMask":case"rainbow":case"safePal":case"temple":case"tezos":case"transparent":case"trust":return!0;default:return!1}}),[t])?(0,h.jsx)(bo,{icon:t,...r}):(0,h.jsx)($o,{icon:t,...r})}));Ko.displayName="Icon";const Vo=(0,l.memo)((e=>{let{title:t,open:r,onChangeOpen:n,className:i,children:s,...o}=e;const[a,c]=(0,l.useState)(r??!1),u=(0,l.useCallback)((()=>{const e=!(r??a);c(e),n?.(e)}),[r,a,n]);return(0,h.jsxs)(lo,{className:Ji("gap-y-4",i),...o,children:[(0,h.jsxs)(uo,{className:"justify-between",children:[(0,h.jsx)(uo,{children:t}),(0,h.jsx)(ao,{className:"size-6 items-center justify-center rounded-full border border-solid border-lineGrey bg-white dark:border-white dark:bg-dark",onClick:u,children:(0,h.jsx)(Ko,{icon:r??a?"chevronUpSolid":"chevronDownSolid",className:"text-lineGrey dark:text-white",height:12,width:12})})]}),(0,h.jsx)(ho,{className:Ji("auto-rows-auto grid-cols-[repeat(auto-fill,minmax(4.313rem,1fr))] gap-1",!(r??a)&&"hidden"),children:s})]})}));Vo.displayName="Accordion";const Qo=(0,l.memo)((e=>{let{icon:t,text:r,className:n,...i}=e;return(0,h.jsxs)(ao,{className:Ji("flex-col items-center justify-center gap-y-1.5",n),...i,children:[(0,h.jsx)(Ko,{icon:t,className:"rounded-[0.5rem] object-contain",height:48,width:48}),(0,h.jsx)(uo,{className:"text-xs",children:r})]})}));Qo.displayName="VerticalIconTextButton";const Zo=(0,l.memo)((e=>{let{selected:t,className:r,...n}=e;return(0,h.jsx)(Qo,{className:Ji("rounded-[10px] py-2",t&&"bg-[#b9c1f4] font-bold dark:bg-[#60557e]",r),...n})}));Zo.displayName="GridButton";const Yo=(0,l.memo)((e=>{let{icon:t,text:r,className:n,...i}=e;return(0,h.jsxs)(ao,{className:Ji("h-5 flex-row items-center justify-center gap-x-1.5 text-lineGrey",n),...i,children:[(0,h.jsx)(Ko,{icon:t,height:20,width:20}),(0,h.jsx)(uo,{className:"text-xs text-primaryText dark:text-primaryTextDark",children:r})]})}));Yo.displayName="HorizontalIconTextButton";const Jo=(0,l.memo)((e=>{let{text:t,className:r,...n}=e;return(0,h.jsx)(ao,{className:Ji("items-center justify-center rounded-lg border border-solid border-lineGrey p-4 text-primaryText dark:text-primaryTextDark",r),...n,children:t})}));Jo.displayName="TextButton";const Xo=(0,l.memo)((e=>{let{title:t,onClose:r,className:n}=e;return(0,h.jsxs)(uo,{className:Ji("min-h-[3.625rem] items-center justify-between border-x-0 border-y border-t-0 border-solid border-lineGrey px-pageFrame",n),children:[(0,h.jsx)(uo,{className:"text-[1.25rem] font-bold",children:t}),(0,h.jsx)(ao,{className:"size-6 items-center justify-center",onClick:r,children:(0,h.jsx)(Ko,{icon:"xmarkSolid",className:"text-lineGrey",height:14,width:14})})]})}));Xo.displayName="Header";const ea=(0,l.memo)((e=>{let{bridgeUrl:t,apiKey:r,networkFilter:n,genericWalletUrl:i,step:s,onChangeStep:o,currentNetwork:a,onChangeCurrentNetwork:u,currentWallet:d,onChangeCurrentWallet:f,evmProvider:p,onChangeEvmProvider:m,tezosBeaconProvider:g,onChangeTezosBeaconProvider:y,tezosWcProvider:b,onChangeTezosWcProvider:v,onDisconnect:w,onClose:A,onError:_}=e;const E=(()=>{const[e,t]=(0,l.useState)(document.body.classList.contains("dark-mode"));return(0,l.useEffect)((()=>{const e=new MutationObserver((e=>{for(const r of e)"class"===r.attributeName&&t(document.body.classList.contains("dark-mode"))}));return e.observe(document.body,{attributeFilter:["class"]}),()=>e.disconnect()}),[]),e})(),x=(0,l.useRef)(null),[k,S]=(0,l.useState)(!0),[P,T]=(0,l.useState)(!1),[I,O]=(0,l.useState)(!1),[R,C]=oo(void 0),[N,L]=oo(void 0),[M,B]=(0,l.useState)(!0);(0,l.useEffect)((()=>{(async()=>{try{if(p){const e=so(),t=await p.request({method:"eth_accounts"});t.length>0&&(C(e,t[0]),L(e,`${t[0].slice(0,12)}...${t[0].slice(-10)}`))}else if(g){const e=so(),t=await g.getPKH();C(e,t),L(e,`${t.slice(0,10)}...${t.slice(-10)}`)}else if(b){const e=so(),t=await b.getPKH();C(e,t),L(e,`${t.slice(0,10)}...${t.slice(-10)}`)}}catch(gZ){_(gZ)}})()}),[p,g,b,C,L,_]);const D=(0,l.useCallback)((e=>{try{e.target===x.current&&A()}catch(gZ){_(gZ)}}),[A,_]),j=(0,l.useCallback)((e=>{try{u(e),T(!0),O(!0)}catch(gZ){_(gZ)}}),[u,_]),U=(0,l.useMemo)((()=>{try{return Qi.filter((e=>!n||n.includes("evm"===e.type?"etherlink":"tezos")))}catch(gZ){_(gZ)}return[]}),[n,_]);(0,l.useEffect)((()=>{1===U.length&&j(U[0])}),[U,j]);const F=(0,l.useMemo)((()=>{try{const e=vt();switch(a?.type){case"evm":return a.wallets.filter((t=>!e||t.supportedOperatingSystems.includes(e)));case"tezos":return a.wallets.filter((t=>"_generic_"!==t.walletApp&&(!e||t.supportedOperatingSystems.includes(e))))}}catch(gZ){_(gZ)}return[]}),[a,_]),H=(0,l.useMemo)((()=>{try{const e=vt();if("tezos"===a?.type)return a.wallets.filter((t=>"_generic_"===t.walletApp&&(!e||t.supportedOperatingSystems.includes(e))))}catch(gZ){_(gZ)}return[]}),[a,_]),z=(0,l.useCallback)((async e=>{try{switch(o("connecting"),f(e),e.network){case"evm":{const n=new $r({bridgeUrl:t,walletApp:e.walletApp,apiKey:r});n.once("connect",(e=>{42793n===BigInt(e.chainId)?o("connected"):o("invalidChainId"),m(n,BigInt(e.chainId))})),await n.connect();break}case"tezos":switch(e.bridge){case"beacon":{const n=new Hi({bridgeUrl:t,walletApp:e.walletApp,secretSeed:crypto.randomUUID(),apiKey:r,network:{type:"mainnet"},genericWalletUrl:i});await n.permissionRequest(),y(n);break}case"wc":{const n=new Wi({bridgeUrl:t,walletApp:e.walletApp,apiKey:r,network:"mainnet"});await n.permissionRequest(),v(n);break}}}}catch(gZ){_(gZ)}}),[o,f,t,r,i,m,y,v,_]),G=(0,l.useCallback)((()=>{try{B((e=>!e))}catch(gZ){_(gZ)}}),[_]),q=(0,l.useCallback)((()=>{try{R&&navigator.clipboard.writeText(R)}catch(gZ){_(gZ)}}),[R,_]),W=(0,l.useCallback)((()=>{try{if(d)switch(d.network){case"evm":c.A.openLink(`https://explorer.etherlink.com/address/${R}`);break;case"tezos":c.A.openLink(`https://tzkt.io/${R}`)}}catch(gZ){_(gZ)}}),[d,R,_]);return(0,es.createPortal)((0,h.jsx)(lo,{ref:x,className:"fixed inset-0 justify-end bg-[#00000030] backdrop-blur",onClick:D,children:(0,h.jsx)(lo,{className:Ji("connected"===s?"max-h-3/4":"h-3/4","rounded-t-3xl bg-white font-sans text-primaryText dark:bg-dark dark:text-primaryTextDark"),children:"connect"===s?(0,h.jsxs)(l.Fragment,{children:[(0,h.jsx)(Xo,{title:"Connect Account",onClose:A}),(0,h.jsx)(lo,{className:"gap-y-6 overflow-y-scroll p-pageFrame",children:U.length>0&&(0,h.jsxs)(l.Fragment,{children:[U.length>1&&(0,h.jsx)(Vo,{title:"Choose Network",open:k,onChangeOpen:S,children:U.map((e=>{const{name:t,icon:r}=e;return(0,h.jsx)(Zo,{icon:r,text:t,selected:e===a,onClick:()=>j(e)},t)}))}),(0,h.jsx)(Vo,{title:"Select Wallet",open:P,onChangeOpen:T,children:F.map((e=>{const{name:t,icon:r}=e;return(0,h.jsx)(Zo,{icon:r,text:t,selected:!1,onClick:()=>z(e)},t)}))}),H.length>0&&(0,h.jsx)(Vo,{title:"Select Experimental Wallet",open:I,onChangeOpen:O,children:H.map((e=>{const{name:t,icon:r}=e;return(0,h.jsx)(Zo,{icon:r,text:t,selected:!1,onClick:()=>z(e)},t)}))})]})})]}):"connecting"===s?(0,h.jsxs)(l.Fragment,{children:[(0,h.jsx)(Xo,{title:"Connecting",onClose:A}),(0,h.jsxs)(lo,{className:"items-center gap-y-pageFrame overflow-y-scroll p-pageFrame",children:[(0,h.jsx)(ls,{size:8,color:E?"#fff":"#000"}),(0,h.jsxs)(lo,{className:"items-center gap-y-2",children:[(0,h.jsx)(uo,{children:"Connecting Wallet"}),d&&(0,h.jsxs)(uo,{className:"text-sm",children:["Please confirm in ",d.name," app"]})]})]})]}):"invalidChainId"===s?(0,h.jsxs)(l.Fragment,{children:[(0,h.jsx)(Xo,{title:"Unsupported Network",onClose:A}),(0,h.jsxs)(lo,{className:"gap-y-pageFrame overflow-y-scroll p-pageFrame",children:[(0,h.jsxs)(uo,{children:["Please select Etherlink in ",d?.name]}),(0,h.jsxs)(uo,{children:["If Etherlink has not been added to ",d?.name," yet, you can find a how-to here"]}),(0,h.jsx)(Jo,{text:"I have selected Etherlink",onClick:A})]})]}):"connected"===s?(0,h.jsxs)(l.Fragment,{children:[(0,h.jsx)(Xo,{title:"Account Details",onClose:A}),(0,h.jsxs)(lo,{className:"gap-y-pageFrame overflow-y-scroll p-pageFrame",children:[(0,h.jsxs)(lo,{className:"gap-y-pageFrame rounded-lg border border-solid border-lineGrey p-3",children:[(0,h.jsxs)(ao,{className:"min-h-6 flex-row items-center gap-x-1.5",onClick:G,children:[(0,h.jsx)(uo,{className:"min-w[24px]",children:R&&(0,h.jsx)(ns(),{diameter:24,seed:(0,rs.jsNumberForAddress)(R)})}),(0,h.jsx)(uo,{className:"break-all",children:M?N:R})]}),(0,h.jsxs)(uo,{className:"justify-between",children:[(0,h.jsx)(Yo,{icon:"copyRegular",text:"Copy address",onClick:q}),(0,h.jsx)(Yo,{icon:"fileLinesRegular",text:"View on explorer",onClick:W})]})]}),(0,h.jsxs)(uo,{className:"items-center justify-between",children:[(0,h.jsxs)(uo,{className:"text-xs font-medium",children:["Connected with ",d?.name]}),(0,h.jsx)(ao,{className:"items-center justify-center rounded-lg border border-solid border-[#ff8989] bg-[#ffe1e1] p-4 text-primaryText",onClick:w,children:"Disconnect"})]})]})]}):void 0})}),document.body)}));ea.displayName="TConnectModal";const ta=(0,l.createContext)({openModal:()=>{},closeModal:()=>{},evmProvider:void 0,tezosBeaconProvider:void 0,tezosWcProvider:void 0,connected:!1}),ra=(0,l.memo)((e=>{let{bridgeUrl:t,apiKey:r,networkFilter:n,genericWalletUrl:i,children:s,onError:o,...a}=e;const[c,u]=(0,l.useState)(!1),[d,f]=(0,l.useState)("connect"),[p,m]=(0,l.useState)(void 0),[g,y]=(0,l.useState)(void 0),[b,v]=oo(void 0),[w,A]=oo(void 0),[_,E]=oo(void 0),[x,k]=oo(!1),S=(0,l.useCallback)((e=>{o?o(e):console.error(e)}),[o]);(0,l.useEffect)((()=>{(async()=>{try{const e=sessionStorage.getItem($i);if(e){const t=so(),r=await $r.deserialize(e);v(t,r)}}catch(gZ){console.error(gZ)}})()}),[v]),(0,l.useEffect)((()=>{try{b?sessionStorage.setItem($i,b.serialize()):sessionStorage.removeItem($i)}catch(gZ){S(gZ)}}),[b,S]),(0,l.useEffect)((()=>{(async()=>{try{const e=sessionStorage.getItem(Ki);if(e){const t=so(),r=await Hi.deserialize(e);A(t,r)}}catch(gZ){console.error(gZ)}})()}),[A]),(0,l.useEffect)((()=>{try{w?sessionStorage.setItem(Ki,w.serialize()):sessionStorage.removeItem(Ki)}catch(gZ){S(gZ)}}),[w,S]),(0,l.useEffect)((()=>{(async()=>{try{const e=sessionStorage.getItem(Vi);if(e){const t=so(),r=await Wi.deserialize(e);E(t,r)}}catch(gZ){console.error(gZ)}})()}),[E]),(0,l.useEffect)((()=>{try{_?sessionStorage.setItem(Vi,_.serialize()):sessionStorage.removeItem(Vi)}catch(gZ){S(gZ)}}),[_,S]);const P=(0,l.useCallback)((()=>{try{if(b){const e=Qi.find((e=>"evm"===e.type));if(e){const t=e.wallets.find((e=>e.walletApp===b.walletApp));t&&(f("connected"),m(e),y(t))}}else if(w){const e=Qi.find((e=>"tezos"===e.type));if(e){const t="_generic_"===w.walletApp?Zi:e.wallets.find((e=>"beacon"===e.bridge&&e.walletApp===w.walletApp));t&&(f("connected"),m(e),y(t))}}else if(_){const e=Qi.find((e=>"tezos"===e.type));if(e){const t=e.wallets.find((e=>"wc"===e.bridge&&e.walletApp===_.walletApp));t&&(f("connected"),m(e),y(t))}}else f("connect"),m(void 0),y(void 0);u(!0)}catch(gZ){S(gZ)}}),[b,w,_,S]),T=(0,l.useCallback)((async()=>{try{f((e=>"invalidChainId"===e?"connected":e)),u(!1)}catch(gZ){S(gZ)}}),[S]),I=(0,l.useCallback)((async(e,t)=>{try{b&&await b.disconnect(),e.on("disconnect",(()=>{v(so(),(t=>t===e?void 0:t))})),v(so(),e),42793n===t&&T()}catch(gZ){S(gZ)}}),[b,v,T,S]),O=(0,l.useCallback)((async e=>{try{w&&await w.disconnect(),e.on("disconnect",(()=>{A(so(),(t=>t===e?void 0:t))})),A(so(),e),T()}catch(gZ){S(gZ)}}),[w,A,T,S]),R=(0,l.useCallback)((async e=>{try{_&&await _.disconnect(),e.on("disconnect",(()=>{E(so(),(t=>t===e?void 0:t))})),E(so(),e),T()}catch(gZ){S(gZ)}}),[_,E,T,S]);(0,l.useEffect)((()=>{(async()=>{try{const e=so(),t=("invalidChainId"!==d&&await(b?.connected())||w?.connected())??!1;k(e,t)}catch(gZ){S(gZ)}})()}),[d,b,w,k,S]);const C=(0,l.useCallback)((async()=>{try{await Promise.all([b?.disconnect(),w?.disconnect(),_?.disconnect()]),v(so(),void 0),A(so(),void 0),E(so(),void 0),T()}catch(gZ){S(gZ)}}),[b,w,_,v,A,E,T,S]),N=(0,l.useMemo)((()=>({openModal:P,closeModal:T,evmProvider:"invalidChainId"===d?void 0:b,tezosBeaconProvider:w,tezosWcProvider:_,connected:x})),[P,T,d,b,w,_,x]);return(0,h.jsxs)(ta.Provider,{value:N,...a,children:[s,c&&(0,h.jsx)(ea,{bridgeUrl:t,apiKey:r,networkFilter:n,genericWalletUrl:i,step:d,onChangeStep:f,currentNetwork:p,onChangeCurrentNetwork:m,currentWallet:g,onChangeCurrentWallet:y,evmProvider:b,onChangeEvmProvider:I,tezosBeaconProvider:w,onChangeTezosBeaconProvider:O,tezosWcProvider:_,onChangeTezosWcProvider:R,onDisconnect:C,onClose:T,onError:S})]})}));ra.displayName="TConnectModalProvider";const na=()=>(0,l.useContext)(ta);function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ia.apply(this,arguments)}var sa,oa;(oa=sa||(sa={})).Pop="POP",oa.Push="PUSH",oa.Replace="REPLACE";const aa="popstate";function ca(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function la(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function ua(e,t){return{usr:e.state,key:e.key,idx:t}}function da(e,t,r,n){return void 0===r&&(r=null),ia({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?fa(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function ha(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function fa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function pa(e,t,r,n){void 0===n&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=sa.Pop,c=null,l=u();function u(){return(o.state||{idx:null}).idx}function d(){a=sa.Pop;let e=u(),t=null==e?null:e-l;l=e,c&&c({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof e?e:ha(e);return r=r.replace(/ $/,"%20"),ca(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==l&&(l=0,o.replaceState(ia({},o.state,{idx:l}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(aa,d),c=e,()=>{i.removeEventListener(aa,d),c=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=sa.Push;let n=da(f.location,e,t);r&&r(n,e),l=u()+1;let d=ua(n,l),h=f.createHref(n);try{o.pushState(d,"",h)}catch(gZ){if(gZ instanceof DOMException&&"DataCloneError"===gZ.name)throw gZ;i.location.assign(h)}s&&c&&c({action:a,location:f.location,delta:1})},replace:function(e,t){a=sa.Replace;let n=da(f.location,e,t);r&&r(n,e),l=u();let i=ua(n,l),d=f.createHref(n);o.replaceState(i,"",d),s&&c&&c({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var ma,ga;(ga=ma||(ma={})).data="data",ga.deferred="deferred",ga.redirect="redirect",ga.error="error";const ya=new Set(["lazy","caseSensitive","path","id","index","children"]);function ba(e,t,r,n){return void 0===r&&(r=[]),void 0===n&&(n={}),e.map(((e,i)=>{let s=[...r,String(i)],o="string"===typeof e.id?e.id:s.join("-");if(ca(!0!==e.index||!e.children,"Cannot specify children on an index route"),ca(!n[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let r=ia({},e,t(e),{id:o});return n[o]=r,r}{let r=ia({},e,t(e),{id:o,children:void 0});return n[o]=r,e.children&&(r.children=ba(e.children,t,s,n)),r}}))}function va(e,t,r){return void 0===r&&(r="/"),wa(e,t,r,!1)}function wa(e,t,r,n){let i=La(("string"===typeof t?fa(t):t).pathname||"/",r);if(null==i)return null;let s=Aa(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=Na(i);o=Ra(s[a],e,n)}return o}function Aa(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(ca(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let a=Ua([n,o.relativePath]),c=r.concat(o);e.children&&e.children.length>0&&(ca(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Aa(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:Oa(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of _a(e.path))i(e,t,n);else i(e,t)})),t}function _a(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return i?[s,""]:[s];let o=_a(n.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const Ea=/^:[\w-]+$/,xa=3,ka=2,Sa=1,Pa=10,Ta=-2,Ia=e=>"*"===e;function Oa(e,t){let r=e.split("/"),n=r.length;return r.some(Ia)&&(n+=Ta),t&&(n+=ka),r.filter((e=>!Ia(e))).reduce(((e,t)=>e+(Ea.test(t)?xa:""===t?Sa:Pa)),n)}function Ra(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,i={},s="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],c=a===n.length-1,l="/"===s?t:t.slice(s.length)||"/",u=Ca({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),d=e.route;if(!u&&c&&r&&!n[n.length-1].route.index&&(u=Ca({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Ua([s,u.pathname]),pathnameBase:Fa(Ua([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=Ua([s,u.pathnameBase]))}return o}function Ca(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);la("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:i}=t;if("*"===n){let e=a[r]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[r];return e[n]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function Na(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(gZ){return la(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+gZ+")."),e}}function La(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function Ma(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ba(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Da(e,t){let r=Ba(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function ja(e,t,r,n){let i;void 0===n&&(n=!1),"string"===typeof e?i=fa(e):(i=ia({},e),ca(!i.pathname||!i.pathname.includes("?"),Ma("?","pathname","search",i)),ca(!i.pathname||!i.pathname.includes("#"),Ma("#","pathname","hash",i)),ca(!i.search||!i.search.includes("#"),Ma("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=r;else{let e=t.length-1;if(!n&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:i=""}="string"===typeof e?fa(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:Ha(n),hash:za(i)}}(i,s),l=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&r.endsWith("/");return c.pathname.endsWith("/")||!l&&!u||(c.pathname+="/"),c}const Ua=e=>e.join("/").replace(/\/\/+/g,"/"),Fa=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ha=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",za=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class Ga{constructor(e,t,r,n){void 0===n&&(n=!1),this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function qa(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Wa=["post","put","patch","delete"],$a=new Set(Wa),Ka=["get",...Wa],Va=new Set(Ka),Qa=new Set([301,302,303,307,308]),Za=new Set([307,308]),Ya={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ja={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ec=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tc=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),rc="remix-router-transitions";function nc(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,n=!r;let i;if(ca(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=tc;let s,o,a,c={},l=ba(e.routes,i,void 0,c),u=e.basename||"/",d=e.dataStrategy||fc,h=e.patchRoutesOnNavigation,f=ia({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),p=null,m=new Set,g=null,y=null,b=null,v=null!=e.hydrationData,w=va(l,e.history.location,u),A=null;if(null==w&&!h){let t=Pc(404,{pathname:e.history.location.pathname}),{matches:r,route:n}=Sc(l);w=r,A={[n.id]:t}}if(w&&!e.hydrationData){fe(w,l,e.history.location.pathname).active&&(w=null)}if(w)if(w.some((e=>e.route.lazy)))o=!1;else if(w.some((e=>e.route.loader)))if(f.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,r=e.hydrationData?e.hydrationData.errors:null;if(r){let e=w.findIndex((e=>void 0!==r[e.route.id]));o=w.slice(0,e+1).every((e=>!cc(e.route,t,r)))}else o=w.every((e=>!cc(e.route,t,r)))}else o=null!=e.hydrationData;else o=!0;else if(o=!1,w=[],f.v7_partialHydration){let t=fe(null,l,e.history.location.pathname);t.active&&t.matches&&(w=t.matches)}let _,E,x={historyAction:e.history.action,location:e.history.location,matches:w,initialized:o,navigation:Ya,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},k=sa.Pop,S=!1,P=!1,T=new Map,I=null,O=!1,R=!1,C=[],N=new Set,L=new Map,M=0,B=-1,D=new Map,j=new Set,U=new Map,F=new Map,H=new Set,z=new Map,G=new Map;function q(e,t){void 0===t&&(t={}),x=ia({},x,e);let r=[],n=[];f.v7_fetcherPersist&&x.fetchers.forEach(((e,t)=>{"idle"===e.state&&(H.has(t)?n.push(t):r.push(t))})),[...m].forEach((e=>e(x,{deletedFetchers:n,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync}))),f.v7_fetcherPersist&&(r.forEach((e=>x.fetchers.delete(e))),n.forEach((e=>te(e))))}function W(t,r,n){var i,o;let a,{flushSync:c}=void 0===n?{}:n,u=null!=x.actionData&&null!=x.navigation.formMethod&&Dc(x.navigation.formMethod)&&"loading"===x.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);a=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:u?x.actionData:null;let d=r.loaderData?Ec(x.loaderData,r.loaderData,r.matches||[],r.errors):x.loaderData,h=x.blockers;h.size>0&&(h=new Map(h),h.forEach(((e,t)=>h.set(t,Xa))));let f,p=!0===S||null!=x.navigation.formMethod&&Dc(x.navigation.formMethod)&&!0!==(null==(o=t.state)?void 0:o._isRedirect);if(s&&(l=s,s=void 0),O||k===sa.Pop||(k===sa.Push?e.history.push(t,t.state):k===sa.Replace&&e.history.replace(t,t.state)),k===sa.Pop){let e=T.get(x.location.pathname);e&&e.has(t.pathname)?f={currentLocation:x.location,nextLocation:t}:T.has(t.pathname)&&(f={currentLocation:t,nextLocation:x.location})}else if(P){let e=T.get(x.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),T.set(x.location.pathname,e)),f={currentLocation:x.location,nextLocation:t}}q(ia({},r,{actionData:a,loaderData:d,historyAction:k,location:t,initialized:!0,navigation:Ya,revalidation:"idle",restoreScrollPosition:he(t,r.matches||x.matches),preventScrollReset:p,blockers:h}),{viewTransitionOpts:f,flushSync:!0===c}),k=sa.Pop,S=!1,P=!1,O=!1,R=!1,C=[]}async function $(t,r,n){_&&_.abort(),_=null,k=t,O=!0===(n&&n.startUninterruptedRevalidation),function(e,t){if(g&&b){let r=de(e,t);g[r]=b()}}(x.location,x.matches),S=!0===(n&&n.preventScrollReset),P=!0===(n&&n.enableViewTransition);let i=s||l,o=n&&n.overrideNavigation,a=va(i,r,u),c=!0===(n&&n.flushSync),d=fe(a,i,r.pathname);if(d.active&&d.matches&&(a=d.matches),!a){let{error:e,notFoundMatches:t,route:n}=le(r.pathname);return void W(r,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:c})}if(x.initialized&&!R&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(x.location,r)&&!(n&&n.submission&&Dc(n.submission.formMethod)))return void W(r,{matches:a},{flushSync:c});_=new AbortController;let h,p=bc(e.history,r,_.signal,n&&n.submission);if(n&&n.pendingError)h=[kc(a).route.id,{type:ma.error,error:n.pendingError}];else if(n&&n.submission&&Dc(n.submission.formMethod)){let t=await async function(e,t,r,n,i,s){void 0===s&&(s={});Y();let o,a=function(e,t){let r={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return r}(t,r);if(q({navigation:a},{flushSync:!0===s.flushSync}),i){let r=await pe(n,t.pathname,e.signal);if("aborted"===r.type)return{shortCircuited:!0};if("error"===r.type){let e=kc(r.partialMatches).route.id;return{matches:r.partialMatches,pendingActionResult:[e,{type:ma.error,error:r.error}]}}if(!r.matches){let{notFoundMatches:e,error:r,route:n}=le(t.pathname);return{matches:e,pendingActionResult:[n.id,{type:ma.error,error:r}]}}n=r.matches}let c=zc(n,t);if(c.route.action||c.route.lazy){if(o=(await Q("action",x,e,[c],n,null))[c.route.id],e.signal.aborted)return{shortCircuited:!0}}else o={type:ma.error,error:Pc(405,{method:e.method,pathname:t.pathname,routeId:c.route.id})};if(Nc(o)){let t;if(s&&null!=s.replace)t=s.replace;else{t=yc(o.response.headers.get("Location"),new URL(e.url),u)===x.location.pathname+x.location.search}return await V(e,o,!0,{submission:r,replace:t}),{shortCircuited:!0}}if(Rc(o))throw Pc(400,{type:"defer-action"});if(Cc(o)){let e=kc(n,c.route.id);return!0!==(s&&s.replace)&&(k=sa.Push),{matches:n,pendingActionResult:[e.route.id,o]}}return{matches:n,pendingActionResult:[c.route.id,o]}}(p,r,n.submission,a,d.active,{replace:n.replace,flushSync:c});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,n]=t.pendingActionResult;if(Cc(n)&&qa(n.error)&&404===n.error.status)return _=null,void W(r,{matches:t.matches,loaderData:{},errors:{[e]:n.error}})}a=t.matches||a,h=t.pendingActionResult,o=qc(r,n.submission),c=!1,d.active=!1,p=bc(e.history,p.url,p.signal)}let{shortCircuited:m,matches:y,loaderData:v,errors:w}=await async function(t,r,n,i,o,a,c,d,h,p,m){let g=o||qc(r,a),y=a||c||Gc(g),b=!O&&(!f.v7_partialHydration||!h);if(i){if(b){let e=K(m);q(ia({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:p})}let e=await pe(n,r.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=kc(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:n}=le(r.pathname);return{matches:t,loaderData:{},errors:{[n.id]:e}}}n=e.matches}let v=s||l,[w,A]=ac(e.history,x,n,y,r,f.v7_partialHydration&&!0===h,f.v7_skipActionErrorRevalidation,R,C,N,H,U,j,v,u,m);if(ue((e=>!(n&&n.some((t=>t.route.id===e)))||w&&w.some((t=>t.route.id===e)))),B=++M,0===w.length&&0===A.length){let e=ie();return W(r,ia({matches:n,loaderData:{},errors:m&&Cc(m[1])?{[m[0]]:m[1].error}:null},xc(m),e?{fetchers:new Map(x.fetchers)}:{}),{flushSync:p}),{shortCircuited:!0}}if(b){let e={};if(!i){e.navigation=g;let t=K(m);void 0!==t&&(e.actionData=t)}A.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=x.fetchers.get(e.key),r=Wc(void 0,t?t.data:void 0);x.fetchers.set(e.key,r)})),new Map(x.fetchers)}(A)),q(e,{flushSync:p})}A.forEach((e=>{re(e.key),e.controller&&L.set(e.key,e.controller)}));let E=()=>A.forEach((e=>re(e.key)));_&&_.signal.addEventListener("abort",E);let{loaderResults:k,fetcherResults:S}=await Z(x,n,w,A,t);if(t.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",E);A.forEach((e=>L.delete(e.key)));let P=Tc(k);if(P)return await V(t,P.result,!0,{replace:d}),{shortCircuited:!0};if(P=Tc(S),P)return j.add(P.key),await V(t,P.result,!0,{replace:d}),{shortCircuited:!0};let{loaderData:T,errors:I}=_c(x,n,k,m,A,S,z);z.forEach(((e,t)=>{e.subscribe((r=>{(r||e.done)&&z.delete(t)}))})),f.v7_partialHydration&&h&&x.errors&&(I=ia({},x.errors,I));let D=ie(),F=se(B),G=D||F||A.length>0;return ia({matches:n,loaderData:T,errors:I},G?{fetchers:new Map(x.fetchers)}:{})}(p,r,a,d.active,o,n&&n.submission,n&&n.fetcherSubmission,n&&n.replace,n&&!0===n.initialHydration,c,h);m||(_=null,W(r,ia({matches:y||a},xc(h),{loaderData:v,errors:w})))}function K(e){return e&&!Cc(e[1])?{[e[0]]:e[1].data}:x.actionData?0===Object.keys(x.actionData).length?null:x.actionData:void 0}async function V(n,i,s,o){let{submission:a,fetcherSubmission:c,preventScrollReset:l,replace:d}=void 0===o?{}:o;i.response.headers.has("X-Remix-Revalidate")&&(R=!0);let h=i.response.headers.get("Location");ca(h,"Expected a Location header on the redirect Response"),h=yc(h,new URL(n.url),u);let f=da(x.location,h,{_isRedirect:!0});if(r){let r=!1;if(i.response.headers.has("X-Remix-Reload-Document"))r=!0;else if(ec.test(h)){const n=e.history.createURL(h);r=n.origin!==t.location.origin||null==La(n.pathname,u)}if(r)return void(d?t.location.replace(h):t.location.assign(h))}_=null;let p=!0===d||i.response.headers.has("X-Remix-Replace")?sa.Replace:sa.Push,{formMethod:m,formAction:g,formEncType:y}=x.navigation;!a&&!c&&m&&g&&y&&(a=Gc(x.navigation));let b=a||c;if(Za.has(i.response.status)&&b&&Dc(b.formMethod))await $(p,f,{submission:ia({},b,{formAction:h}),preventScrollReset:l||S,enableViewTransition:s?P:void 0});else{let e=qc(f,a);await $(p,f,{overrideNavigation:e,fetcherSubmission:c,preventScrollReset:l||S,enableViewTransition:s?P:void 0})}}async function Q(e,t,r,n,s,o){let a,l={};try{a=await pc(d,e,t,r,n,s,o,c,i)}catch(h){return n.forEach((e=>{l[e.route.id]={type:ma.error,error:h}})),l}for(let[i,c]of Object.entries(a))if(Oc(c)){let e=c.result;l[i]={type:ma.redirect,response:gc(e,r,i,s,u,f.v7_relativeSplatPath)}}else l[i]=await mc(c);return l}async function Z(t,r,n,i,s){let o=t.matches,a=Q("loader",t,s,n,r,null),c=Promise.all(i.map((async r=>{if(r.matches&&r.match&&r.controller){let n=(await Q("loader",t,bc(e.history,r.path,r.controller.signal),[r.match],r.matches,r.key))[r.match.route.id];return{[r.key]:n}}return Promise.resolve({[r.key]:{type:ma.error,error:Pc(404,{pathname:r.path})}})}))),l=await a,u=(await c).reduce(((e,t)=>Object.assign(e,t)),{});return await Promise.all([jc(r,l,s.signal,o,t.loaderData),Uc(r,u,i)]),{loaderResults:l,fetcherResults:u}}function Y(){R=!0,C.push(...ue()),U.forEach(((e,t)=>{L.has(t)&&N.add(t),re(t)}))}function J(e,t,r){void 0===r&&(r={}),x.fetchers.set(e,t),q({fetchers:new Map(x.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function X(e,t,r,n){void 0===n&&(n={});let i=kc(x.matches,t);te(e),q({errors:{[i.route.id]:r},fetchers:new Map(x.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ee(e){return f.v7_fetcherPersist&&(F.set(e,(F.get(e)||0)+1),H.has(e)&&H.delete(e)),x.fetchers.get(e)||Ja}function te(e){let t=x.fetchers.get(e);!L.has(e)||t&&"loading"===t.state&&D.has(e)||re(e),U.delete(e),D.delete(e),j.delete(e),H.delete(e),N.delete(e),x.fetchers.delete(e)}function re(e){let t=L.get(e);t&&(t.abort(),L.delete(e))}function ne(e){for(let t of e){let e=$c(ee(t).data);x.fetchers.set(t,e)}}function ie(){let e=[],t=!1;for(let r of j){let n=x.fetchers.get(r);ca(n,"Expected fetcher: "+r),"loading"===n.state&&(j.delete(r),e.push(r),t=!0)}return ne(e),t}function se(e){let t=[];for(let[r,n]of D)if(n<e){let e=x.fetchers.get(r);ca(e,"Expected fetcher: "+r),"loading"===e.state&&(re(r),D.delete(r),t.push(r))}return ne(t),t.length>0}function oe(e){x.blockers.delete(e),G.delete(e)}function ae(e,t){let r=x.blockers.get(e)||Xa;ca("unblocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"proceeding"===t.state||"blocked"===r.state&&"unblocked"===t.state||"proceeding"===r.state&&"unblocked"===t.state,"Invalid blocker state transition: "+r.state+" -> "+t.state);let n=new Map(x.blockers);n.set(e,t),q({blockers:n})}function ce(e){let{currentLocation:t,nextLocation:r,historyAction:n}=e;if(0===G.size)return;G.size>1&&la(!1,"A router only supports one blocker at a time");let i=Array.from(G.entries()),[s,o]=i[i.length-1],a=x.blockers.get(s);return a&&"proceeding"===a.state?void 0:o({currentLocation:t,nextLocation:r,historyAction:n})?s:void 0}function le(e){let t=Pc(404,{pathname:e}),r=s||l,{matches:n,route:i}=Sc(r);return ue(),{notFoundMatches:n,route:i,error:t}}function ue(e){let t=[];return z.forEach(((r,n)=>{e&&!e(n)||(r.cancel(),t.push(n),z.delete(n))})),t}function de(e,t){if(y){return y(e,t.map((e=>function(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}(e,x.loaderData))))||e.key}return e.key}function he(e,t){if(g){let r=de(e,t),n=g[r];if("number"===typeof n)return n}return null}function fe(e,t,r){if(h){if(!e){return{active:!0,matches:wa(t,r,u,!0)||[]}}if(Object.keys(e[0].params).length>0){return{active:!0,matches:wa(t,r,u,!0)}}}return{active:!1,matches:null}}async function pe(e,t,r){if(!h)return{type:"success",matches:e};let n=e;for(;;){let e=null==s,a=s||l,d=c;try{await h({path:t,matches:n,patch:(e,t)=>{r.aborted||dc(e,t,a,d,i)}})}catch(o){return{type:"error",error:o,partialMatches:n}}finally{e&&!r.aborted&&(l=[...l])}if(r.aborted)return{type:"aborted"};let f=va(a,t,u);if(f)return{type:"success",matches:f};let p=wa(a,t,u,!0);if(!p||n.length===p.length&&n.every(((e,t)=>e.route.id===p[t].route.id)))return{type:"success",matches:null};n=p}}return a={get basename(){return u},get future(){return f},get state(){return x},get routes(){return l},get window(){return t},initialize:function(){if(p=e.history.listen((t=>{let{action:r,location:n,delta:i}=t;if(E)return E(),void(E=void 0);la(0===G.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=ce({currentLocation:x.location,nextLocation:n,historyAction:r});if(s&&null!=i){let t=new Promise((e=>{E=e}));return e.history.go(-1*i),void ae(s,{state:"blocked",location:n,proceed(){ae(s,{state:"proceeding",proceed:void 0,reset:void 0,location:n}),t.then((()=>e.history.go(i)))},reset(){let e=new Map(x.blockers);e.set(s,Xa),q({blockers:e})}})}return $(r,n)})),r){!function(e,t){try{let r=e.sessionStorage.getItem(rc);if(r){let e=JSON.parse(r);for(let[r,n]of Object.entries(e||{}))n&&Array.isArray(n)&&t.set(r,new Set(n||[]))}}catch(r){}}(t,T);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(rc,JSON.stringify(r))}catch(gZ){la(!1,"Failed to save applied view transitions in sessionStorage ("+gZ+").")}}}(t,T);t.addEventListener("pagehide",e),I=()=>t.removeEventListener("pagehide",e)}return x.initialized||$(sa.Pop,x.location,{initialHydration:!0}),a},subscribe:function(e){return m.add(e),()=>m.delete(e)},enableScrollRestoration:function(e,t,r){if(g=e,b=t,y=r||null,!v&&x.navigation===Ya){v=!0;let e=he(x.location,x.matches);null!=e&&q({restoreScrollPosition:e})}return()=>{g=null,b=null,y=null}},navigate:async function t(r,n){if("number"===typeof r)return void e.history.go(r);let i=ic(x.location,x.matches,u,f.v7_prependBasename,r,f.v7_relativeSplatPath,null==n?void 0:n.fromRouteId,null==n?void 0:n.relative),{path:s,submission:o,error:a}=sc(f.v7_normalizeFormMethod,!1,i,n),c=x.location,l=da(x.location,s,n&&n.state);l=ia({},l,e.history.encodeLocation(l));let d=n&&null!=n.replace?n.replace:void 0,h=sa.Push;!0===d?h=sa.Replace:!1===d||null!=o&&Dc(o.formMethod)&&o.formAction===x.location.pathname+x.location.search&&(h=sa.Replace);let p=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0,m=!0===(n&&n.flushSync),g=ce({currentLocation:c,nextLocation:l,historyAction:h});if(!g)return await $(h,l,{submission:o,pendingError:a,preventScrollReset:p,replace:n&&n.replace,enableViewTransition:n&&n.viewTransition,flushSync:m});ae(g,{state:"blocked",location:l,proceed(){ae(g,{state:"proceeding",proceed:void 0,reset:void 0,location:l}),t(r,n)},reset(){let e=new Map(x.blockers);e.set(g,Xa),q({blockers:e})}})},fetch:function(t,r,i,o){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");re(t);let a=!0===(o&&o.flushSync),c=s||l,d=ic(x.location,x.matches,u,f.v7_prependBasename,i,f.v7_relativeSplatPath,r,null==o?void 0:o.relative),h=va(c,d,u),p=fe(h,c,d);if(p.active&&p.matches&&(h=p.matches),!h)return void X(t,r,Pc(404,{pathname:d}),{flushSync:a});let{path:m,submission:g,error:y}=sc(f.v7_normalizeFormMethod,!0,d,o);if(y)return void X(t,r,y,{flushSync:a});let b=zc(h,m),v=!0===(o&&o.preventScrollReset);g&&Dc(g.formMethod)?async function(t,r,n,i,o,a,c,d,h){function p(e){if(!e.route.action&&!e.route.lazy){let e=Pc(405,{method:h.formMethod,pathname:n,routeId:r});return X(t,r,e,{flushSync:c}),!0}return!1}if(Y(),U.delete(t),!a&&p(i))return;let m=x.fetchers.get(t);J(t,function(e,t){let r={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return r}(h,m),{flushSync:c});let g=new AbortController,y=bc(e.history,n,g.signal,h);if(a){let e=await pe(o,n,y.signal);if("aborted"===e.type)return;if("error"===e.type)return void X(t,r,e.error,{flushSync:c});if(!e.matches)return void X(t,r,Pc(404,{pathname:n}),{flushSync:c});if(p(i=zc(o=e.matches,n)))return}L.set(t,g);let b=M,v=await Q("action",x,y,[i],o,t),w=v[i.route.id];if(y.signal.aborted)return void(L.get(t)===g&&L.delete(t));if(f.v7_fetcherPersist&&H.has(t)){if(Nc(w)||Cc(w))return void J(t,$c(void 0))}else{if(Nc(w))return L.delete(t),B>b?void J(t,$c(void 0)):(j.add(t),J(t,Wc(h)),V(y,w,!1,{fetcherSubmission:h,preventScrollReset:d}));if(Cc(w))return void X(t,r,w.error)}if(Rc(w))throw Pc(400,{type:"defer-action"});let A=x.navigation.location||x.location,E=bc(e.history,A,g.signal),S=s||l,P="idle"!==x.navigation.state?va(S,x.navigation.location,u):x.matches;ca(P,"Didn't find any matches after fetcher action");let T=++M;D.set(t,T);let I=Wc(h,w.data);x.fetchers.set(t,I);let[O,F]=ac(e.history,x,P,h,A,!1,f.v7_skipActionErrorRevalidation,R,C,N,H,U,j,S,u,[i.route.id,w]);F.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,r=x.fetchers.get(t),n=Wc(void 0,r?r.data:void 0);x.fetchers.set(t,n),re(t),e.controller&&L.set(t,e.controller)})),q({fetchers:new Map(x.fetchers)});let G=()=>F.forEach((e=>re(e.key)));g.signal.addEventListener("abort",G);let{loaderResults:$,fetcherResults:K}=await Z(x,P,O,F,E);if(g.signal.aborted)return;g.signal.removeEventListener("abort",G),D.delete(t),L.delete(t),F.forEach((e=>L.delete(e.key)));let ee=Tc($);if(ee)return V(E,ee.result,!1,{preventScrollReset:d});if(ee=Tc(K),ee)return j.add(ee.key),V(E,ee.result,!1,{preventScrollReset:d});let{loaderData:te,errors:ne}=_c(x,P,$,void 0,F,K,z);if(x.fetchers.has(t)){let e=$c(w.data);x.fetchers.set(t,e)}se(T),"loading"===x.navigation.state&&T>B?(ca(k,"Expected pending action"),_&&_.abort(),W(x.navigation.location,{matches:P,loaderData:te,errors:ne,fetchers:new Map(x.fetchers)})):(q({errors:ne,loaderData:Ec(x.loaderData,te,P,ne),fetchers:new Map(x.fetchers)}),R=!1)}(t,r,m,b,h,p.active,a,v,g):(U.set(t,{routeId:r,path:m}),async function(t,r,n,i,s,o,a,c,l){let u=x.fetchers.get(t);J(t,Wc(l,u?u.data:void 0),{flushSync:a});let d=new AbortController,h=bc(e.history,n,d.signal);if(o){let e=await pe(s,n,h.signal);if("aborted"===e.type)return;if("error"===e.type)return void X(t,r,e.error,{flushSync:a});if(!e.matches)return void X(t,r,Pc(404,{pathname:n}),{flushSync:a});i=zc(s=e.matches,n)}L.set(t,d);let f=M,p=await Q("loader",x,h,[i],s,t),m=p[i.route.id];Rc(m)&&(m=await Fc(m,h.signal,!0)||m);L.get(t)===d&&L.delete(t);if(h.signal.aborted)return;if(H.has(t))return void J(t,$c(void 0));if(Nc(m))return B>f?void J(t,$c(void 0)):(j.add(t),void await V(h,m,!1,{preventScrollReset:c}));if(Cc(m))return void X(t,r,m.error);ca(!Rc(m),"Unhandled fetcher deferred data"),J(t,$c(m.data))}(t,r,m,b,h,p.active,a,v,g))},revalidate:function(){Y(),q({revalidation:"loading"}),"submitting"!==x.navigation.state&&("idle"!==x.navigation.state?$(k||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:!0===P}):$(x.historyAction,x.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:ee,deleteFetcher:function(e){if(f.v7_fetcherPersist){let t=(F.get(e)||0)-1;t<=0?(F.delete(e),H.add(e)):F.set(e,t)}else te(e);q({fetchers:new Map(x.fetchers)})},dispose:function(){p&&p(),I&&I(),m.clear(),_&&_.abort(),x.fetchers.forEach(((e,t)=>te(t))),x.blockers.forEach(((e,t)=>oe(t)))},getBlocker:function(e,t){let r=x.blockers.get(e)||Xa;return G.get(e)!==t&&G.set(e,t),r},deleteBlocker:oe,patchRoutes:function(e,t){let r=null==s;dc(e,t,s||l,c,i),r&&(l=[...l],q({}))},_internalFetchControllers:L,_internalActiveDeferreds:z,_internalSetRoutes:function(e){c={},s=ba(e,i,void 0,c)}},a}Symbol("deferred");function ic(e,t,r,n,i,s,o,a){let c,l;if(o){c=[];for(let e of t)if(c.push(e),e.route.id===o){l=e;break}}else c=t,l=t[t.length-1];let u=ja(i||".",Da(c,s),La(e.pathname,r)||e.pathname,"path"===a);if(null==i&&(u.search=e.search,u.hash=e.hash),(null==i||""===i||"."===i)&&l){let e=Hc(u.search);if(l.route.index&&!e)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&e){let e=new URLSearchParams(u.search),t=e.getAll("index");e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();u.search=r?"?"+r:""}}return n&&"/"!==r&&(u.pathname="/"===u.pathname?r:Ua([r,u.pathname])),ha(u)}function sc(e,t,r,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:r};if(n.formMethod&&!Bc(n.formMethod))return{path:r,error:Pc(405,{method:n.formMethod})};let i,s,o=()=>({path:r,error:Pc(400,{type:"invalid-body"})}),a=n.formMethod||"get",c=e?a.toUpperCase():a.toLowerCase(),l=Ic(r);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!Dc(c))return o();let e="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((e,t)=>{let[r,n]=t;return""+e+r+"="+n+"\n"}),""):String(n.body);return{path:r,submission:{formMethod:c,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!Dc(c))return o();try{let e="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:c,formAction:l,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(h){return o()}}}if(ca("function"===typeof FormData,"FormData is not available in this environment"),n.formData)i=vc(n.formData),s=n.formData;else if(n.body instanceof FormData)i=vc(n.body),s=n.body;else if(n.body instanceof URLSearchParams)i=n.body,s=wc(i);else if(null==n.body)i=new URLSearchParams,s=new FormData;else try{i=new URLSearchParams(n.body),s=wc(i)}catch(h){return o()}let u={formMethod:c,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Dc(u.formMethod))return{path:r,submission:u};let d=fa(r);return t&&d.search&&Hc(d.search)&&i.append("index",""),d.search="?"+i,{path:ha(d),submission:u}}function oc(e,t,r){void 0===r&&(r=!1);let n=e.findIndex((e=>e.route.id===t));return n>=0?e.slice(0,r?n+1:n):e}function ac(e,t,r,n,i,s,o,a,c,l,u,d,h,f,p,m){let g=m?Cc(m[1])?m[1].error:m[1].data:void 0,y=e.createURL(t.location),b=e.createURL(i),v=r;s&&t.errors?v=oc(r,Object.keys(t.errors)[0],!0):m&&Cc(m[1])&&(v=oc(r,m[0]));let w=m?m[1].statusCode:void 0,A=o&&w&&w>=400,_=v.filter(((e,r)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return cc(i,t.loaderData,t.errors);if(function(e,t,r){let n=!t||r.route.id!==t.route.id,i=void 0===e[r.route.id];return n||i}(t.loaderData,t.matches[r],e)||c.some((t=>t===e.route.id)))return!0;let o=t.matches[r],l=e;return uc(e,ia({currentUrl:y,currentParams:o.params,nextUrl:b,nextParams:l.params},n,{actionResult:g,actionStatus:w,defaultShouldRevalidate:!A&&(a||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||lc(o,l))}))})),E=[];return d.forEach(((e,i)=>{if(s||!r.some((t=>t.route.id===e.routeId))||u.has(i))return;let o=va(f,e.path,p);if(!o)return void E.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let c=t.fetchers.get(i),d=zc(o,e.path),m=!1;h.has(i)?m=!1:l.has(i)?(l.delete(i),m=!0):m=c&&"idle"!==c.state&&void 0===c.data?a:uc(d,ia({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:r[r.length-1].params},n,{actionResult:g,actionStatus:w,defaultShouldRevalidate:!A&&a})),m&&E.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:d,controller:new AbortController})})),[_,E]}function cc(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=null!=t&&void 0!==t[e.id],i=null!=r&&void 0!==r[e.id];return!(!n&&i)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!n&&!i)}function lc(e,t){let r=e.route.path;return e.pathname!==t.pathname||null!=r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function uc(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if("boolean"===typeof r)return r}return t.defaultShouldRevalidate}function dc(e,t,r,n,i){var s;let o;if(e){let t=n[e];ca(t,"No route found to patch children into: routeId = "+e),t.children||(t.children=[]),o=t.children}else o=r;let a=ba(t.filter((e=>!o.some((t=>hc(e,t))))),i,[e||"_","patch",String((null==(s=o)?void 0:s.length)||"0")],n);o.push(...a)}function hc(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every(((e,r)=>{var n;return null==(n=t.children)?void 0:n.some((t=>hc(e,t)))})))}async function fc(e){let{matches:t}=e,r=t.filter((e=>e.shouldLoad));return(await Promise.all(r.map((e=>e.resolve())))).reduce(((e,t,n)=>Object.assign(e,{[r[n].route.id]:t})),{})}async function pc(e,t,r,n,i,s,o,a,c,l){let u=s.map((e=>e.route.lazy?async function(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];ca(i,"No route found in manifest");let s={};for(let o in n){let e=void 0!==i[o]&&"hasErrorBoundary"!==o;la(!e,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+o+'" will be ignored.'),e||ya.has(o)||(s[o]=n[o])}Object.assign(i,s),Object.assign(i,ia({},t(i),{lazy:void 0}))}(e.route,c,a):void 0)),d=s.map(((e,r)=>{let s=u[r],o=i.some((t=>t.route.id===e.route.id));return ia({},e,{shouldLoad:o,resolve:async r=>(r&&"GET"===n.method&&(e.route.lazy||e.route.loader)&&(o=!0),o?async function(e,t,r,n,i,s){let o,a,c=n=>{let o,c=new Promise(((e,t)=>o=t));a=()=>o(),t.signal.addEventListener("abort",a);let l=i=>"function"!==typeof n?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+r.route.id+"]")):n({request:t,params:r.params,context:s},...void 0!==i?[i]:[]),u=(async()=>{try{return{type:"data",result:await(i?i((e=>l(e))):l())}}catch(e){return{type:"error",result:e}}})();return Promise.race([u,c])};try{let i=r.route[e];if(n)if(i){let e,[t]=await Promise.all([c(i).catch((t=>{e=t})),n]);if(void 0!==e)throw e;o=t}else{if(await n,i=r.route[e],!i){if("action"===e){let e=new URL(t.url),n=e.pathname+e.search;throw Pc(405,{method:t.method,pathname:n,routeId:r.route.id})}return{type:ma.data,result:void 0}}o=await c(i)}else{if(!i){let e=new URL(t.url);throw Pc(404,{pathname:e.pathname+e.search})}o=await c(i)}ca(void 0!==o.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(l){return{type:ma.error,result:l}}finally{a&&t.signal.removeEventListener("abort",a)}return o}(t,n,e,s,r,l):Promise.resolve({type:ma.data,result:void 0}))})})),h=await e({matches:d,request:n,params:s[0].params,fetcherKey:o,context:l});try{await Promise.all(u)}catch(f){}return h}async function mc(e){let{result:t,type:r}=e;if(Mc(t)){let e;try{let r=t.headers.get("Content-Type");e=r&&/\bapplication\/json\b/.test(r)?null==t.body?null:await t.json():await t.text()}catch(l){return{type:ma.error,error:l}}return r===ma.error?{type:ma.error,error:new Ga(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:ma.data,data:e,statusCode:t.status,headers:t.headers}}if(r===ma.error){if(Lc(t)){var n,i;if(t.data instanceof Error)return{type:ma.error,error:t.data,statusCode:null==(i=t.init)?void 0:i.status};t=new Ga((null==(n=t.init)?void 0:n.status)||500,void 0,t.data)}return{type:ma.error,error:t,statusCode:qa(t)?t.status:void 0}}var s,o,a,c;return function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:ma.deferred,deferredData:t,statusCode:null==(s=t.init)?void 0:s.status,headers:(null==(o=t.init)?void 0:o.headers)&&new Headers(t.init.headers)}:Lc(t)?{type:ma.data,data:t.data,statusCode:null==(a=t.init)?void 0:a.status,headers:null!=(c=t.init)&&c.headers?new Headers(t.init.headers):void 0}:{type:ma.data,data:t}}function gc(e,t,r,n,i,s){let o=e.headers.get("Location");if(ca(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ec.test(o)){let a=n.slice(0,n.findIndex((e=>e.route.id===r))+1);o=ic(new URL(t.url),a,i,!0,o,s),e.headers.set("Location",o)}return e}function yc(e,t,r){if(ec.test(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),s=null!=La(i.pathname,r);if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function bc(e,t,r,n){let i=e.createURL(Ic(t)).toString(),s={signal:r};if(n&&Dc(n.formMethod)){let{formMethod:e,formEncType:t}=n;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(n.json)):"text/plain"===t?s.body=n.text:"application/x-www-form-urlencoded"===t&&n.formData?s.body=vc(n.formData):s.body=n.formData}return new Request(i,s)}function vc(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,"string"===typeof n?n:n.name);return t}function wc(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Ac(e,t,r,n,i){let s,o={},a=null,c=!1,l={},u=r&&Cc(r[1])?r[1].error:void 0;return e.forEach((r=>{if(!(r.route.id in t))return;let d=r.route.id,h=t[d];if(ca(!Nc(h),"Cannot handle redirect results in processLoaderData"),Cc(h)){let t=h.error;if(void 0!==u&&(t=u,u=void 0),a=a||{},i)a[d]=t;else{let r=kc(e,d);null==a[r.route.id]&&(a[r.route.id]=t)}o[d]=void 0,c||(c=!0,s=qa(h.error)?h.error.status:500),h.headers&&(l[d]=h.headers)}else Rc(h)?(n.set(d,h.deferredData),o[d]=h.deferredData.data,null==h.statusCode||200===h.statusCode||c||(s=h.statusCode),h.headers&&(l[d]=h.headers)):(o[d]=h.data,h.statusCode&&200!==h.statusCode&&!c&&(s=h.statusCode),h.headers&&(l[d]=h.headers))})),void 0!==u&&r&&(a={[r[0]]:u},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:l}}function _c(e,t,r,n,i,s,o){let{loaderData:a,errors:c}=Ac(t,r,n,o,!1);return i.forEach((t=>{let{key:r,match:n,controller:i}=t,o=s[r];if(ca(o,"Did not find corresponding fetcher result"),!i||!i.signal.aborted)if(Cc(o)){let t=kc(e.matches,null==n?void 0:n.route.id);c&&c[t.route.id]||(c=ia({},c,{[t.route.id]:o.error})),e.fetchers.delete(r)}else if(Nc(o))ca(!1,"Unhandled fetcher revalidation redirect");else if(Rc(o))ca(!1,"Unhandled fetcher deferred data");else{let t=$c(o.data);e.fetchers.set(r,t)}})),{loaderData:a,errors:c}}function Ec(e,t,r,n){let i=ia({},t);for(let s of r){let r=s.route.id;if(t.hasOwnProperty(r)?void 0!==t[r]&&(i[r]=t[r]):void 0!==e[r]&&s.route.loader&&(i[r]=e[r]),n&&n.hasOwnProperty(r))break}return i}function xc(e){return e?Cc(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function kc(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Sc(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pc(e,t){let{pathname:r,routeId:n,method:i,type:s,message:o}=void 0===t?{}:t,a="Unknown Server Error",c="Unknown @remix-run/router error";return 400===e?(a="Bad Request",i&&r&&n?c="You made a "+i+' request to "'+r+'" but did not provide a `loader` for route "'+n+'", so there is no way to handle the request.':"defer-action"===s?c="defer() is not supported in actions":"invalid-body"===s&&(c="Unable to encode submission body")):403===e?(a="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):404===e?(a="Not Found",c='No route matches URL "'+r+'"'):405===e&&(a="Method Not Allowed",i&&r&&n?c="You made a "+i.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+n+'", so there is no way to handle the request.':i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new Ga(e||500,a,new Error(c),!0)}function Tc(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[e,n]=t[r];if(Nc(n))return{key:e,result:n}}}function Ic(e){return ha(ia({},"string"===typeof e?fa(e):e,{hash:""}))}function Oc(e){return Mc(e.result)&&Qa.has(e.result.status)}function Rc(e){return e.type===ma.deferred}function Cc(e){return e.type===ma.error}function Nc(e){return(e&&e.type)===ma.redirect}function Lc(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Mc(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Bc(e){return Va.has(e.toLowerCase())}function Dc(e){return $a.has(e.toLowerCase())}async function jc(e,t,r,n,i){let s=Object.entries(t);for(let o=0;o<s.length;o++){let[a,c]=s[o],l=e.find((e=>(null==e?void 0:e.route.id)===a));if(!l)continue;let u=n.find((e=>e.route.id===l.route.id)),d=null!=u&&!lc(u,l)&&void 0!==(i&&i[l.route.id]);Rc(c)&&d&&await Fc(c,r,!1).then((e=>{e&&(t[a]=e)}))}}async function Uc(e,t,r){for(let n=0;n<r.length;n++){let{key:i,routeId:s,controller:o}=r[n],a=t[i];e.find((e=>(null==e?void 0:e.route.id)===s))&&(Rc(a)&&(ca(o,"Expected an AbortController for revalidating fetcher deferred result"),await Fc(a,o.signal,!0).then((e=>{e&&(t[i]=e)}))))}}async function Fc(e,t,r){if(void 0===r&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:ma.data,data:e.deferredData.unwrappedData}}catch(n){return{type:ma.error,error:n}}return{type:ma.data,data:e.deferredData.data}}}function Hc(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function zc(e,t){let r="string"===typeof t?fa(t).search:t.search;if(e[e.length-1].route.index&&Hc(r||""))return e[e.length-1];let n=Ba(e);return n[n.length-1]}function Gc(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:s,json:o}=e;if(t&&r&&n)return null!=i?{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}:void 0}function qc(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wc(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function $c(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(this,arguments)}const Vc=l.createContext(null);const Qc=l.createContext(null);const Zc=l.createContext(null);const Yc=l.createContext(null);const Jc=l.createContext({outlet:null,matches:[],isDataRoute:!1});const Xc=l.createContext(null);function el(){return null!=l.useContext(Yc)}function tl(){return el()||ca(!1),l.useContext(Yc).location}function rl(e){l.useContext(Zc).static||l.useLayoutEffect(e)}function nl(){let{isDataRoute:e}=l.useContext(Jc);return e?function(){let{router:e}=fl(dl.UseNavigateStable),t=ml(hl.UseNavigateStable),r=l.useRef(!1);return rl((()=>{r.current=!0})),l.useCallback((function(n,i){void 0===i&&(i={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,Kc({fromRouteId:t},i)))}),[e,t])}():function(){el()||ca(!1);let e=l.useContext(Vc),{basename:t,future:r,navigator:n}=l.useContext(Zc),{matches:i}=l.useContext(Jc),{pathname:s}=tl(),o=JSON.stringify(Da(i,r.v7_relativeSplatPath)),a=l.useRef(!1);return rl((()=>{a.current=!0})),l.useCallback((function(r,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof r)return void n.go(r);let c=ja(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:Ua([t,c.pathname])),(i.replace?n.replace:n.push)(c,i.state,i)}),[t,n,o,s,e])}()}function il(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=l.useContext(Zc),{matches:i}=l.useContext(Jc),{pathname:s}=tl(),o=JSON.stringify(Da(i,n.v7_relativeSplatPath));return l.useMemo((()=>ja(e,JSON.parse(o),s,"path"===r)),[e,o,s,r])}function sl(e,t,r,n){el()||ca(!1);let{navigator:i}=l.useContext(Zc),{matches:s}=l.useContext(Jc),o=s[s.length-1],a=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,d=tl();if(t){var h;let e="string"===typeof t?fa(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||ca(!1),u=e}else u=d;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=va(e,{pathname:p});let g=ul(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:Ua([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Ua([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,r,n);return t&&g?l.createElement(Yc.Provider,{value:{location:Kc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sa.Pop}},g):g}function ol(){let e=function(){var e;let t=l.useContext(Xc),r=pl(hl.UseRouteError),n=ml(hl.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=qa(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),r?l.createElement("pre",{style:i},r):null,null)}const al=l.createElement(ol,null);class cl extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?l.createElement(Jc.Provider,{value:this.props.routeContext},l.createElement(Xc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ll(e){let{routeContext:t,match:r,children:n}=e,i=l.useContext(Vc);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),l.createElement(Jc.Provider,{value:t},n)}function ul(e,t,r,n){var i;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=n)&&s.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,a=null==(i=r)?void 0:i.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id])));e>=0||ca(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let l=0;l<o.length;l++){let e=o[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=l),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,n,i)=>{let s,d=!1,h=null,f=null;var p;r&&(s=a&&n.route.id?a[n.route.id]:void 0,h=n.route.errorElement||al,c&&(u<0&&0===i?(p="route-fallback",!1||gl[p]||(gl[p]=!0),d=!0,f=null):u===i&&(d=!0,f=n.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=s?h:d?f:n.route.Component?l.createElement(n.route.Component,null):n.route.element?n.route.element:e,l.createElement(ll,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===i)?l.createElement(cl,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var dl=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dl||{}),hl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hl||{});function fl(e){let t=l.useContext(Vc);return t||ca(!1),t}function pl(e){let t=l.useContext(Qc);return t||ca(!1),t}function ml(e){let t=function(){let e=l.useContext(Jc);return e||ca(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||ca(!1),r.route.id}const gl={};const yl={};const bl=(e,t,r)=>{var n;yl[n="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+r+"."]||(yl[n]=!0,console.warn(n))};function vl(e,t){null!=e&&e.v7_startTransition||bl("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),null!=e&&e.v7_relativeSplatPath||t&&t.v7_relativeSplatPath||bl("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||bl("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||bl("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||bl("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||bl("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}u.startTransition;function wl(e){let{basename:t="/",children:r=null,location:n,navigationType:i=sa.Pop,navigator:s,static:o=!1,future:a}=e;el()&&ca(!1);let c=t.replace(/^\/*/,"/"),u=l.useMemo((()=>({basename:c,navigator:s,static:o,future:Kc({v7_relativeSplatPath:!1},a)})),[c,a,s,o]);"string"===typeof n&&(n=fa(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,g=l.useMemo((()=>{let e=La(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:i}}),[c,d,h,f,p,m,i]);return null==g?null:l.createElement(Zc.Provider,{value:u},l.createElement(Yc.Provider,{children:r,value:g}))}new Promise((()=>{}));l.Component;function Al(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:l.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:l.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:l.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}function El(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const xl=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(bZ){}function kl(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=_l({},t,{errors:Sl(t.errors)})),t}function Sl(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&"RouteErrorResponse"===i.__type)r[n]=new Ga(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",r[n]=t}catch(bZ){}}if(null==r[n]){let e=new Error(i.message);e.stack="",r[n]=e}}else r[n]=i;return r}const Pl=l.createContext({isTransitioning:!1});const Tl=l.createContext(new Map);const Il=u.startTransition,Ol=ts.flushSync;u.useId;function Rl(e){Ol?Ol(e):e()}class Cl{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Nl(e){let{fallbackElement:t,router:r,future:n}=e,[i,s]=l.useState(r.state),[o,a]=l.useState(),[c,u]=l.useState({isTransitioning:!1}),[d,h]=l.useState(),[f,p]=l.useState(),[m,g]=l.useState(),y=l.useRef(new Map),{v7_startTransition:b}=n||{},v=l.useCallback((e=>{b?function(e){Il?Il(e):e()}(e):e()}),[b]),w=l.useCallback(((e,t)=>{let{deletedFetchers:n,flushSync:i,viewTransitionOpts:o}=t;n.forEach((e=>y.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&y.current.set(t,e.data)}));let c=null==r.window||null==r.window.document||"function"!==typeof r.window.document.startViewTransition;if(o&&!c){if(i){Rl((()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=r.window.document.startViewTransition((()=>{Rl((()=>s(e)))}));return t.finished.finally((()=>{Rl((()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}))})),void Rl((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(a(e),u({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?Rl((()=>s(e))):v((()=>s(e)))}),[r.window,f,d,y,v]);l.useLayoutEffect((()=>r.subscribe(w)),[r,w]),l.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new Cl)}),[c]),l.useEffect((()=>{if(d&&o&&r.window){let e=o,t=d.promise,n=r.window.document.startViewTransition((async()=>{v((()=>s(e))),await t}));n.finished.finally((()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})),p(n)}}),[v,o,d,r.window]),l.useEffect((()=>{d&&o&&i.location.key===o.location.key&&d.resolve()}),[d,f,i.location,o]),l.useEffect((()=>{!c.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]),l.useEffect((()=>{}),[]);let A=l.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),_=r.basename||"/",E=l.useMemo((()=>({router:r,navigator:A,static:!1,basename:_})),[r,A,_]),x=l.useMemo((()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath})),[r.future.v7_relativeSplatPath]);return l.useEffect((()=>vl(n,r.future)),[n,r.future]),l.createElement(l.Fragment,null,l.createElement(Vc.Provider,{value:E},l.createElement(Qc.Provider,{value:i},l.createElement(Tl.Provider,{value:y.current},l.createElement(Pl.Provider,{value:c},l.createElement(wl,{basename:_,location:i.location,navigationType:i.historyAction,navigator:A,future:x},i.initialized||r.future.v7_partialHydration?l.createElement(Ll,{routes:r.routes,future:r.future,state:i}):t))))),null)}const Ll=l.memo(Ml);function Ml(e){let{routes:t,future:r,state:n}=e;return sl(t,void 0,n,r)}const Bl="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Dl=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jl=l.forwardRef((function(e,t){let r,{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=El(e,xl),{basename:p}=l.useContext(Zc),m=!1;if("string"===typeof u&&Dl.test(u)&&(r=u,Bl))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=La(t.pathname,p);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:m=!0}catch(bZ){}let g=function(e,t){let{relative:r}=void 0===t?{}:t;el()||ca(!1);let{basename:n,navigator:i}=l.useContext(Zc),{hash:s,pathname:o,search:a}=il(e,{relative:r}),c=o;return"/"!==n&&(c="/"===o?n:Ua([n,o])),i.createHref({pathname:c,search:a,hash:s})}(u,{relative:i}),y=function(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=void 0===t?{}:t,c=nl(),u=tl(),d=il(e,{relative:o});return l.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:ha(u)===ha(d);c(e,{replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a})}}),[u,c,d,n,i,r,e,s,o,a])}(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:i,viewTransition:h});return l.createElement("a",_l({},f,{href:r||g,onClick:m||s?n:function(e){n&&n(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var Ul,Fl,Hl,zl;(Fl=Ul||(Ul={})).UseScrollRestoration="useScrollRestoration",Fl.UseSubmit="useSubmit",Fl.UseSubmitFetcher="useSubmitFetcher",Fl.UseFetcher="useFetcher",Fl.useViewTransitionState="useViewTransitionState",(zl=Hl||(Hl={})).UseFetcher="useFetcher",zl.UseFetchers="useFetchers",zl.UseScrollRestoration="useScrollRestoration";const Gl=e=>"number"==typeof e&&!isNaN(e),ql=e=>"string"==typeof e,Wl=e=>"function"==typeof e,$l=e=>ql(e)||Wl(e)?e:null,Kl=e=>(0,l.isValidElement)(e)||ql(e)||Wl(e)||Gl(e);function Vl(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(e){let{children:o,position:a,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e;const p=n?`${t}--${a}`:t,m=n?`${r}--${a}`:r,g=(0,l.useRef)(0);return(0,l.useLayoutEffect)((()=>{const e=d.current,t=p.split(" "),r=n=>{n.target===d.current&&(f(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===g.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)}),[]),(0,l.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,r){void 0===r&&(r=300);const{scrollHeight:n,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)}))}))}(e,u,s):u()};h||(c?t():(g.current=1,e.className+=` ${m}`,e.addEventListener("animationend",t)))}),[h]),l.createElement(l.Fragment,null,o)}}function Ql(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Zl=new Map;let Yl=[];const Jl=new Set,Xl=e=>Jl.forEach((t=>t(e))),eu=()=>Zl.size>0;function tu(e,t){var r;if(t)return!(null==(r=Zl.get(t))||!r.isToastActive(e));let n=!1;return Zl.forEach((t=>{t.isToastActive(e)&&(n=!0)})),n}function ru(e,t){Kl(e)&&(eu()||Yl.push({content:e,options:t}),Zl.forEach((r=>{r.buildToast(e,t)})))}function nu(e,t){Zl.forEach((r=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===r.id&&r.toggle(e,null==t?void 0:t.id):r.toggle(e,null==t?void 0:t.id)}))}function iu(e){let{delay:t,isRunning:r,closeToast:n,type:i="default",hide:s,className:o,style:a,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:f}=e;const p=s||c&&0===u,m={...a,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};c&&(m.transform=`scaleX(${u})`);const g=Xi("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),y=Wl(o)?o({rtl:d,type:i,defaultClassName:g}):Xi(g,o),b={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&n()}};return l.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},l.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),l.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:y,style:m,...b}))}let su=1;const ou=()=>""+su++;function au(e){return e&&(ql(e.toastId)||Gl(e.toastId))?e.toastId:ou()}function cu(e,t){return ru(e,t),t.toastId}function lu(e,t){return{...t,type:t&&t.type||e,toastId:au(t)}}function uu(e){return(t,r)=>cu(t,lu(e,r))}function du(e,t){return cu(e,lu("default",t))}du.loading=(e,t)=>cu(e,lu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),du.promise=function(e,t,r){let n,{pending:i,error:s,success:o}=t;i&&(n=ql(i)?du.loading(i,r):du.loading(i.render,{...r,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(e,t,i)=>{if(null==t)return void du.dismiss(n);const s={type:e,...a,...r,data:i},o=ql(t)?{render:t}:t;return n?du.update(n,{...s,...o}):du(o.render,{...s,...o}),i},l=Wl(e)?e():e;return l.then((e=>c("success",o,e))).catch((e=>c("error",s,e))),l},du.success=uu("success"),du.info=uu("info"),du.error=uu("error"),du.warning=uu("warning"),du.warn=du.warning,du.dark=(e,t)=>cu(e,lu("default",{theme:"dark",...t})),du.dismiss=function(e){!function(e){var t;if(eu()){if(null==e||ql(t=e)||Gl(t))Zl.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=Zl.get(e.containerId);t?t.removeToast(e.id):Zl.forEach((t=>{t.removeToast(e.id)}))}}else Yl=Yl.filter((t=>null!=e&&t.options.toastId!==e))}(e)},du.clearWaitingQueue=function(e){void 0===e&&(e={}),Zl.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},du.isActive=tu,du.update=function(e,t){void 0===t&&(t={});const r=((e,t)=>{var r;let{containerId:n}=t;return null==(r=Zl.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(r){const{props:n,content:i}=r,s={delay:100,...n,...t,toastId:t.toastId||e,updateId:ou()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,cu(o,s)}},du.done=e=>{du.update(e,{progress:1})},du.onChange=function(e){return Jl.add(e),()=>{Jl.delete(e)}},du.play=e=>nu(!0,e),du.pause=e=>nu(!1,e);const hu="undefined"!=typeof window?l.useLayoutEffect:l.useEffect,fu=e=>{let{theme:t,type:r,isLoading:n,...i}=e;return l.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${r})`,...i})},pu={info:function(e){return l.createElement(fu,{...e},l.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return l.createElement(fu,{...e},l.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return l.createElement(fu,{...e},l.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return l.createElement(fu,{...e},l.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return l.createElement("div",{className:"Toastify__spinner"})}},mu=e=>{const{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:s}=function(e){const[t,r]=(0,l.useState)(!1),[n,i]=(0,l.useState)(!1),s=(0,l.useRef)(null),o=(0,l.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;var f,p;function m(){r(!0)}function g(){r(!1)}function y(r){const n=s.current;o.canDrag&&n&&(o.didMove=!0,t&&g(),o.delta="x"===e.draggableDirection?r.clientX-o.start:r.clientY-o.start,o.start!==r.clientX&&(o.canCloseOnClick=!1),n.style.transform=`translate3d(${"x"===e.draggableDirection?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,n.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",b);const t=s.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(p=Zl.get((f={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))||p.setToggle(f.id,f.fn),(0,l.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}}),[e.pauseOnFocusLoss]);const v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",b);const r=s.current;o.canCloseOnClick=!0,o.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:r,bottom:n,left:i,right:o}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=o&&t.clientY>=r&&t.clientY<=n?g():m()}};return a&&c&&(v.onMouseEnter=g,e.stacked||(v.onMouseLeave=m)),h&&(v.onClick=e=>{d&&d(e),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:g,isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:v}}(e),{closeButton:o,children:a,autoClose:c,onClick:u,type:d,hideProgressBar:h,closeToast:f,transition:p,position:m,className:g,style:y,bodyClassName:b,bodyStyle:v,progressClassName:w,progressStyle:A,updateId:_,role:E,progress:x,rtl:k,toastId:S,deleteToast:P,isIn:T,isLoading:I,closeOnClick:O,theme:R}=e,C=Xi("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":O}),N=Wl(g)?g({rtl:k,position:m,type:d,defaultClassName:C}):Xi(C,g),L=function(e){let{theme:t,type:r,isLoading:n,icon:i}=e,s=null;const o={theme:t,type:r};return!1===i||(Wl(i)?s=i({...o,isLoading:n}):(0,l.isValidElement)(i)?s=(0,l.cloneElement)(i,o):n?s=pu.spinner():(e=>e in pu)(r)&&(s=pu[r](o))),s}(e),M=!!x||!c,B={closeToast:f,type:d,theme:R};let D=null;return!1===o||(D=Wl(o)?o(B):(0,l.isValidElement)(o)?(0,l.cloneElement)(o,B):function(e){let{closeToast:t,theme:r,ariaLabel:n="close"}=e;return l.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":n},l.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},l.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(B)),l.createElement(p,{isIn:T,done:P,position:m,preventExitTransition:r,nodeRef:n,playToast:s},l.createElement("div",{id:S,onClick:u,"data-in":T,className:N,...i,style:y,ref:n},l.createElement("div",{...T&&{role:E},className:Wl(b)?b({type:d}):Xi("Toastify__toast-body",b),style:v},null!=L&&l.createElement("div",{className:Xi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},L),l.createElement("div",null,a)),D,l.createElement(iu,{..._&&!M?{key:`pb-${_}`}:{},rtl:k,theme:R,delay:c,isRunning:t,isIn:T,closeToast:f,hide:h,type:d,style:A,className:w,controlledProgress:M,progress:x||0})))},gu=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},yu=Vl(gu("bounce",!0)),bu=(Vl(gu("slide",!0)),Vl(gu("zoom")),Vl(gu("flip")),{position:"top-right",transition:yu,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function vu(e){let t={...bu,...e};const r=e.stacked,[n,i]=(0,l.useState)(!0),s=(0,l.useRef)(null),{getToastToRender:o,isToastActive:a,count:c}=function(e){const{subscribe:t,getSnapshot:r,setProps:n}=(0,l.useRef)(function(e){const t=e.containerId||1;return{subscribe(r){const n=function(e,t,r){let n=1,i=0,s=[],o=[],a=[],c=t;const u=new Map,d=new Set,h=()=>{a=Array.from(u.values()),d.forEach((e=>e()))},f=e=>{o=null==e?[]:o.filter((t=>t!==e)),h()},p=e=>{const{toastId:t,onOpen:n,updateId:i,children:s}=e.props,a=null==i;e.staleId&&u.delete(e.staleId),u.set(t,e),o=[...o,e.props.toastId].filter((t=>t!==e.staleId)),h(),r(Ql(e,a?"added":"updated")),a&&Wl(n)&&n((0,l.isValidElement)(s)&&s.props)};return{id:e,props:c,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{u.forEach((r=>{null!=t&&t!==r.props.toastId||Wl(r.toggle)&&r.toggle(e)}))},removeToast:f,toasts:u,clearQueue:()=>{i-=s.length,s=[]},buildToast:(t,o)=>{if((t=>{let{containerId:r,toastId:n,updateId:i}=t;const s=r?r!==e:1!==e,o=u.has(n)&&null==i;return s||o})(o))return;const{toastId:a,updateId:d,data:m,staleId:g,delay:y}=o,b=()=>{f(a)},v=null==d;v&&i++;const w={...c,style:c.toastStyle,key:n++,...Object.fromEntries(Object.entries(o).filter((e=>{let[t,r]=e;return null!=r}))),toastId:a,updateId:d,data:m,closeToast:b,isIn:!1,className:$l(o.className||c.toastClassName),bodyClassName:$l(o.bodyClassName||c.bodyClassName),progressClassName:$l(o.progressClassName||c.progressClassName),autoClose:!o.isLoading&&(A=o.autoClose,_=c.autoClose,!1===A||Gl(A)&&A>0?A:_),deleteToast(){const e=u.get(a),{onClose:t,children:n}=e.props;Wl(t)&&t((0,l.isValidElement)(n)&&n.props),r(Ql(e,"removed")),u.delete(a),i--,i<0&&(i=0),s.length>0?p(s.shift()):h()}};var A,_;w.closeButton=c.closeButton,!1===o.closeButton||Kl(o.closeButton)?w.closeButton=o.closeButton:!0===o.closeButton&&(w.closeButton=!Kl(c.closeButton)||c.closeButton);let E=t;(0,l.isValidElement)(t)&&!ql(t.type)?E=(0,l.cloneElement)(t,{closeToast:b,toastProps:w,data:m}):Wl(t)&&(E=t({closeToast:b,toastProps:w,data:m}));const x={content:E,props:w,staleId:g};c.limit&&c.limit>0&&i>c.limit&&v?s.push(x):Gl(y)?setTimeout((()=>{p(x)}),y):p(x)},setProps(e){c=e},setToggle:(e,t)=>{u.get(e).toggle=t},isToastActive:e=>o.some((t=>t===e)),getSnapshot:()=>a}}(t,e,Xl);Zl.set(t,n);const i=n.observe(r);return Yl.forEach((e=>ru(e.content,e.options))),Yl=[],()=>{i(),Zl.delete(t)}},setProps(e){var r;null==(r=Zl.get(t))||r.setProps(e)},getSnapshot(){var e;return null==(e=Zl.get(t))?void 0:e.getSnapshot()}}}(e)).current;n(e);const i=(0,l.useSyncExternalStore)(t,r,r);return{getToastToRender:function(t){if(!i)return[];const r=new Map;return e.newestOnTop&&i.reverse(),i.forEach((e=>{const{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)})),Array.from(r,(e=>t(e[0],e[1])))},isToastActive:tu,count:null==i?void 0:i.length}}(t),{className:u,style:d,rtl:h,containerId:f}=t;function p(e){const t=Xi("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return Wl(u)?u({position:e,rtl:h,defaultClassName:t}):Xi(t,$l(u))}function m(){r&&(i(!0),du.play())}return hu((()=>{if(r){var e;const r=s.current.querySelectorAll('[data-in="true"]'),i=12,o=null==(e=t.position)?void 0:e.includes("top");let a=0,c=0;Array.from(r).reverse().forEach(((e,t)=>{const r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed=`${n}`),r.dataset.pos||(r.dataset.pos=o?"top":"bot");const s=a*(n?.2:1)+(n?0:i*t);r.style.setProperty("--y",`${o?s:-1*s}px`),r.style.setProperty("--g",`${i}`),r.style.setProperty("--s",""+(1-(n?c:0))),a+=r.offsetHeight,c+=.025}))}}),[n,c,r]),l.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{r&&(i(!1),du.pause())},onMouseLeave:m},o(((e,t)=>{const n=t.length?{...d}:{...d,pointerEvents:"none"};return l.createElement("div",{className:p(e),style:n,key:`container-${e}`},t.map((e=>{let{content:t,props:n}=e;return l.createElement(mu,{...n,stacked:r,collapseAll:m,isIn:a(n.toastId,n.containerId),style:n.style,key:`toast-${n.key}`},t)})))})))}const wu=(0,l.memo)((0,l.forwardRef)(((e,t)=>{let{children:r,className:n,...i}=e;return(0,h.jsx)("div",{ref:t,className:ro("box-border flex",n),...i,children:r})})));wu.displayName="BaseFlex";const Au=(0,l.memo)((0,l.forwardRef)(((e,t)=>{let{children:r,className:n,...i}=e;return(0,h.jsx)(wu,{ref:t,className:Ji("flex-col",n),...i,children:r})})));var _u;Au.displayName="Col";const Eu=null!==(_u="https://test-33095.ngrok.dev")?_u:"",xu="https://test-33095.ngrok.dev/open-wallet";function ku(e,t,r){const n=t.split("|").map((e=>e.trim()));for(let s=0;s<n.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}async function Su(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,r,n)=>(e[t[n]]=r,e)),{})}function Pu(e,t,r){for(let n in t){let i=t[n];const s=r?r[n]:null;s&&ku(i,s,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function Tu(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(Tu).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"===typeof e&&"function"===typeof e.toJSON)return Tu(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${Tu(t)}: ${Tu(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Iu(e,t){return e&&e.code===t}function Ou(e){return Iu(e,"CALL_EXCEPTION")}function Ru(e,t,r){let n,i=e;{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Tu(r)}`);for(const e in r){if("shortMessage"===e)continue;const t=r[e];n.push(e+"="+Tu(t))}}n.push(`code=${t}`),n.push("version=6.13.4"),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(e);break;default:n=new Error(e)}return Pu(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&Pu(n,{shortMessage:i}),n}function Cu(e,t,r,n){if(!e)throw Ru(t,r,n)}function Nu(e,t,r,n){Cu(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function Lu(e,t,r){null==r&&(r=""),r&&(r=": "+r),Cu(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Cu(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const Mu=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(gZ){}return e}),[]);function Bu(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),Cu(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function Du(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}Nu(!1,"invalid BytesLike value",t||"value",e)}function ju(e,t){return Du(e,t,!1)}function Uu(e,t){return Du(e,t,!0)}function Fu(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function Hu(e){return Fu(e,!0)||e instanceof Uint8Array}const zu="0123456789abcdef";function Gu(e){const t=ju(e);let r="0x";for(let n=0;n<t.length;n++){const e=t[n];r+=zu[(240&e)>>4]+zu[15&e]}return r}function qu(e){return"0x"+e.map((e=>Gu(e).substring(2))).join("")}function Wu(e){return Fu(e,!0)?(e.length-2)/2:ju(e).length}function $u(e,t,r){const n=ju(e);return null!=r&&r>n.length&&Cu(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),Gu(n.slice(null==t?0:t,null==r?n.length:r))}function Ku(e,t,r){const n=ju(e);Cu(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),Gu(i)}function Vu(e,t){return Ku(e,t,!0)}const Qu=BigInt(0),Zu=BigInt(1),Yu=9007199254740991;function Ju(e,t){let r=ed(e,"value");const n=BigInt(id(t,"width")),i=Zu<<n-Zu;if(r<Qu){r=-r,Cu(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~r&(Zu<<n)-Zu)+Zu}return Cu(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r}function Xu(e,t){const r=td(e,"value"),n=BigInt(id(t,"bits"));return r&(Zu<<n)-Zu}function ed(e,t){switch(typeof e){case"bigint":return e;case"number":return Nu(Number.isInteger(e),"underflow",t||"value",e),Nu(e>=-Yu&&e<=Yu,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(bZ){Nu(!1,`invalid BigNumberish string: ${bZ.message}`,t||"value",e)}}Nu(!1,"invalid BigNumberish value",t||"value",e)}function td(e,t){const r=ed(e,t);return Cu(r>=Qu,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}const rd="0123456789abcdef";function nd(e){if(e instanceof Uint8Array){let t="0x0";for(const r of e)t+=rd[r>>4],t+=rd[15&r];return BigInt(t)}return ed(e)}function id(e,t){switch(typeof e){case"bigint":return Nu(e>=-Yu&&e<=Yu,"overflow",t||"value",e),Number(e);case"number":return Nu(Number.isInteger(e),"underflow",t||"value",e),Nu(e>=-Yu&&e<=Yu,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return id(BigInt(e),t)}catch(bZ){Nu(!1,`invalid numeric string: ${bZ.message}`,t||"value",e)}}Nu(!1,"invalid numeric value",t||"value",e)}function sd(e,t){let r=td(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{const n=id(t,"width");for(Cu(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function od(e){const t=td(e,"value");if(t===Qu)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const e=2*i;n[i]=parseInt(r.substring(e,e+2),16)}return n}function ad(e){let t=Gu(Hu(e)?e:od(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const cd=32,ld=new Uint8Array(cd),ud=["then"],dd={},hd=new WeakMap;function fd(e){return hd.get(e)}function pd(e,t){hd.set(e,t)}function md(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}function gd(e,t,r){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof yd?gd(fd(e),e,r):e)):e.reduce(((e,n,i)=>{let s=t.getValue(n);return n in e||(r&&s instanceof yd&&(s=gd(fd(s),s,r)),e[n]=s),e}),{})}class yd extends Array{#e;constructor(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t[0];let i=t[1],s=(t[2]||[]).slice(),o=!0;n!==dd&&(i=t,s=[],o=!1),super(i.length),i.forEach(((e,t)=>{this[t]=e}));const a=s.reduce(((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(pd(this,Object.freeze(i.map(((e,t)=>{const r=s[t];return null!=r&&1===a.get(r)?r:null})))),this.#e=[],null==this.#e&&this.#e,!o)return;Object.freeze(this);const c=new Proxy(this,{get:(e,t,r)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const r=id(t,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const n=e[r];return n instanceof Error&&md(`index ${r}`,n),n}if(ud.indexOf(t)>=0)return Reflect.get(e,t,r);const n=e[t];if(n instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return n.apply(this===r?e:this,i)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return pd(c,fd(this)),c}toArray(e){const t=[];return this.forEach(((r,n)=>{r instanceof Error&&md(`index ${n}`,r),e&&r instanceof yd&&(r=r.toArray(e)),t.push(r)})),t}toObject(e){const t=fd(this);return t.reduce(((r,n,i)=>(Cu(null!=n,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),gd(t,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const r=fd(this),n=[],i=[];for(let s=e;s<t;s++)n.push(this[s]),i.push(r[s]);return new yd(dd,n,i)}filter(e,t){const r=fd(this),n=[],i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&md(`index ${s}`,o),e.call(t,o,s,this)&&(n.push(o),i.push(r[s]))}return new yd(dd,n,i)}map(e,t){const r=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&md(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){const t=fd(this).indexOf(e);if(-1===t)return;const r=this[t];return r instanceof Error&&md(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new yd(dd,e,t)}}function bd(e){let t=od(e);return Cu(t.length<=cd,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:cd,offset:t.length}),t.length!==cd&&(t=Uu(qu([ld.slice(t.length%cd),t]))),t}class vd{name;type;localName;dynamic;constructor(e,t,r,n){Pu(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Nu(!1,e,this.localName,t)}}class wd{#t;#r;constructor(){this.#t=[],this.#r=0}get data(){return qu(this.#t)}get length(){return this.#r}#n(e){return this.#t.push(e),this.#r+=e.length,e.length}appendWriter(e){return this.#n(Uu(e.data))}writeBytes(e){let t=Uu(e);const r=t.length%cd;return r&&(t=Uu(qu([t,ld.slice(r)]))),this.#n(t)}writeValue(e){return this.#n(bd(e))}writeUpdatableValue(){const e=this.#t.length;return this.#t.push(ld),this.#r+=cd,t=>{this.#t[e]=bd(t)}}}class Ad{allowLoose;#t;#i;#s;#o;#a;constructor(e,t,r){Pu(this,{allowLoose:!!t}),this.#t=Uu(e),this.#s=0,this.#o=null,this.#a=null!=r?r:1024,this.#i=0}get data(){return Gu(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#t)}#c(e){if(this.#o)return this.#o.#c(e);this.#s+=e,Cu(this.#a<1||this.#s<=this.#a*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#a} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Uu(this.#t),offset:this.#i,length:e,info:{bytesRead:this.#s,dataLength:this.dataLength}})}#l(e,t,r){let n=Math.ceil(t/cd)*cd;return this.#i+n>this.#t.length&&(this.allowLoose&&r&&this.#i+t<=this.#t.length?n=t:Cu(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Uu(this.#t),length:this.#t.length,offset:this.#i+n})),this.#t.slice(this.#i,this.#i+n)}subReader(e){const t=new Ad(this.#t.slice(this.#i+e),this.allowLoose,this.#a);return t.#o=this,t}readBytes(e,t){let r=this.#l(0,e,!!t);return this.#c(e),this.#i+=r.length,r.slice(0,e)}readValue(){return nd(this.readBytes(cd))}readIndex(){return id(nd(this.readBytes(cd)))}}function _d(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Ed(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.length>0&&!r.includes(e.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${e.length}`)}function xd(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function kd(e,t){Ed(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Sd=BigInt(2**32-1),Pd=BigInt(32);function Td(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Sd),l:Number(e>>Pd&Sd)}:{h:0|Number(e>>Pd&Sd),l:0|Number(e&Sd)}}function Id(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Td(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const Od=(e,t,r)=>e<<r|t>>>32-r,Rd=(e,t,r)=>t<<r|e>>>32-r,Cd=(e,t,r)=>t<<r-32|e>>>64-r,Nd=(e,t,r)=>e<<r-32|t>>>64-r;const Ld={fromBig:Td,split:Id,toBig:(e,t)=>BigInt(e>>>0)<<Pd|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Od,rotlSL:Rd,rotlBH:Cd,rotlBL:Nd,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},Md=e=>e instanceof Uint8Array,Bd=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Dd=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function jd(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Md(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Ud{clone(){return this._cloneInto()}}function Fd(e){const t=t=>e().update(jd(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}const[Hd,zd,Gd]=[[],[],[]],qd=BigInt(0),Wd=BigInt(1),$d=BigInt(2),Kd=BigInt(7),Vd=BigInt(256),Qd=BigInt(113);for(let r=0,vZ=Wd,wZ=1,AZ=0;r<24;r++){[wZ,AZ]=[AZ,(2*wZ+3*AZ)%5],Hd.push(2*(5*AZ+wZ)),zd.push((r+1)*(r+2)/2%64);let e=qd;for(let t=0;t<7;t++)vZ=(vZ<<Wd^(vZ>>Kd)*Qd)%Vd,vZ&$d&&(e^=Wd<<(Wd<<BigInt(t))-Wd);Gd.push(e)}const[Zd,Yd]=Id(Gd,!0),Jd=(e,t,r)=>r>32?Cd(e,t,r):Od(e,t,r),Xd=(e,t,r)=>r>32?Nd(e,t,r):Rd(e,t,r);class eh extends Ud{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,_d(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let n=0;n<10;n++)r[n]=e[n]^e[n+10]^e[n+20]^e[n+30]^e[n+40];for(let n=0;n<10;n+=2){const t=(n+8)%10,i=(n+2)%10,s=r[i],o=r[i+1],a=Jd(s,o,1)^r[t],c=Xd(s,o,1)^r[t+1];for(let r=0;r<50;r+=10)e[n+r]^=a,e[n+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=zd[r],s=Jd(t,i,n),o=Xd(t,i,n),a=Hd[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let n=0;n<50;n+=10){for(let t=0;t<10;t++)r[t]=e[n+t];for(let t=0;t<10;t++)e[n+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=Zd[n],e[1]^=Yd[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){xd(this);const{blockLen:t,state:r}=this,n=(e=jd(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!==(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){xd(this,!1),Ed(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return _d(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(kd(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new eh(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const th=(e,t,r)=>Fd((()=>new eh(t,e,r))),rh=th(1,136,32);let nh=!1;const ih=function(e){return rh(e)};let sh=ih;function oh(e){const t=ju(e,"data");return Gu(sh(t))}oh._=ih,oh.lock=function(){nh=!0},oh.register=function(e){if(nh)throw new TypeError("keccak256 is locked");sh=e},Object.freeze(oh);const ah=BigInt(0),ch=BigInt(36);function lh(e){const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=ju(oh(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const uh={};for(let r=0;r<10;r++)uh[String(r)]=String(r);for(let r=0;r<26;r++)uh[String.fromCharCode(65+r)]=String(10+r);function dh(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>uh[e])).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const hh=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function fh(e){if(Nu("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=lh(e);return Nu(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Nu(e.substring(2,4)===dh(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=ah;for(let r=0;r<e.length;r++)t=t*ch+hh[e[r]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return lh("0x"+t)}Nu(!1,"invalid address","address",e)}const ph={};function mh(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new bh(ph,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function gh(e,t){return new bh(ph,`bytes${t||""}`,e,{size:t})}const yh=Symbol.for("_ethers_typed");class bh{type;value;#u;_typedSymbol;constructor(e,t,r,n){null==n&&(n=null),Bu(ph,e,"Typed"),Pu(this,{_typedSymbol:yh,type:t,value:r}),this.#u=n,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#u}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#u?-1:!1===this.#u?this.value.length:null}static from(e,t){return new bh(ph,e,t)}static uint8(e){return mh(e,8)}static uint16(e){return mh(e,16)}static uint24(e){return mh(e,24)}static uint32(e){return mh(e,32)}static uint40(e){return mh(e,40)}static uint48(e){return mh(e,48)}static uint56(e){return mh(e,56)}static uint64(e){return mh(e,64)}static uint72(e){return mh(e,72)}static uint80(e){return mh(e,80)}static uint88(e){return mh(e,88)}static uint96(e){return mh(e,96)}static uint104(e){return mh(e,104)}static uint112(e){return mh(e,112)}static uint120(e){return mh(e,120)}static uint128(e){return mh(e,128)}static uint136(e){return mh(e,136)}static uint144(e){return mh(e,144)}static uint152(e){return mh(e,152)}static uint160(e){return mh(e,160)}static uint168(e){return mh(e,168)}static uint176(e){return mh(e,176)}static uint184(e){return mh(e,184)}static uint192(e){return mh(e,192)}static uint200(e){return mh(e,200)}static uint208(e){return mh(e,208)}static uint216(e){return mh(e,216)}static uint224(e){return mh(e,224)}static uint232(e){return mh(e,232)}static uint240(e){return mh(e,240)}static uint248(e){return mh(e,248)}static uint256(e){return mh(e,256)}static uint(e){return mh(e,256)}static int8(e){return mh(e,-8)}static int16(e){return mh(e,-16)}static int24(e){return mh(e,-24)}static int32(e){return mh(e,-32)}static int40(e){return mh(e,-40)}static int48(e){return mh(e,-48)}static int56(e){return mh(e,-56)}static int64(e){return mh(e,-64)}static int72(e){return mh(e,-72)}static int80(e){return mh(e,-80)}static int88(e){return mh(e,-88)}static int96(e){return mh(e,-96)}static int104(e){return mh(e,-104)}static int112(e){return mh(e,-112)}static int120(e){return mh(e,-120)}static int128(e){return mh(e,-128)}static int136(e){return mh(e,-136)}static int144(e){return mh(e,-144)}static int152(e){return mh(e,-152)}static int160(e){return mh(e,-160)}static int168(e){return mh(e,-168)}static int176(e){return mh(e,-176)}static int184(e){return mh(e,-184)}static int192(e){return mh(e,-192)}static int200(e){return mh(e,-200)}static int208(e){return mh(e,-208)}static int216(e){return mh(e,-216)}static int224(e){return mh(e,-224)}static int232(e){return mh(e,-232)}static int240(e){return mh(e,-240)}static int248(e){return mh(e,-248)}static int256(e){return mh(e,-256)}static int(e){return mh(e,-256)}static bytes1(e){return gh(e,1)}static bytes2(e){return gh(e,2)}static bytes3(e){return gh(e,3)}static bytes4(e){return gh(e,4)}static bytes5(e){return gh(e,5)}static bytes6(e){return gh(e,6)}static bytes7(e){return gh(e,7)}static bytes8(e){return gh(e,8)}static bytes9(e){return gh(e,9)}static bytes10(e){return gh(e,10)}static bytes11(e){return gh(e,11)}static bytes12(e){return gh(e,12)}static bytes13(e){return gh(e,13)}static bytes14(e){return gh(e,14)}static bytes15(e){return gh(e,15)}static bytes16(e){return gh(e,16)}static bytes17(e){return gh(e,17)}static bytes18(e){return gh(e,18)}static bytes19(e){return gh(e,19)}static bytes20(e){return gh(e,20)}static bytes21(e){return gh(e,21)}static bytes22(e){return gh(e,22)}static bytes23(e){return gh(e,23)}static bytes24(e){return gh(e,24)}static bytes25(e){return gh(e,25)}static bytes26(e){return gh(e,26)}static bytes27(e){return gh(e,27)}static bytes28(e){return gh(e,28)}static bytes29(e){return gh(e,29)}static bytes30(e){return gh(e,30)}static bytes31(e){return gh(e,31)}static bytes32(e){return gh(e,32)}static address(e){return new bh(ph,"address",e)}static bool(e){return new bh(ph,"bool",!!e)}static bytes(e){return new bh(ph,"bytes",e)}static string(e){return new bh(ph,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new bh(ph,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===yh}static dereference(e,t){if(bh.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class vh extends vd{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=bh.dereference(t,"string");try{r=fh(r)}catch(gZ){return this._throwError(gZ.message,t)}return e.writeValue(r)}decode(e){return fh(sd(e.readValue(),20))}}class wh extends vd{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function Ah(e,t,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){let e={};n=t.map((t=>{const n=t.localName;return Cu(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),Cu(!e[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[n]=!0,r[n]}))}else Nu(!1,"invalid tuple value","tuple",r);Nu(t.length===n.length,"types/value length mismatch","tuple",r);let i=new wd,s=new wd,o=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();o.push((e=>{n(e+t)}))}else e.encode(i,r)})),o.forEach((e=>{e(i.length)}));let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function _h(e,t){let r=[],n=[],i=e.subReader(0);return t.forEach((t=>{let s=null;if(t.dynamic){let r=e.readIndex(),n=i.subReader(r);try{s=t.decode(n)}catch(gZ){if(Iu(gZ,"BUFFER_OVERRUN"))throw gZ;s=gZ,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(gZ){if(Iu(gZ,"BUFFER_OVERRUN"))throw gZ;s=gZ,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");r.push(s),n.push(t.localName||null)})),yd.fromItems(r,n)}class Eh extends vd{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),Pu(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){const r=bh.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,e.writeValue(r.length)),Lu(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return Ah(e,i,r)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),Cu(t*cd<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*cd,length:e.dataLength}));let r=[];for(let n=0;n<t;n++)r.push(new wh(this.coder));return _h(e,r)}}class xh extends vd{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=bh.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class kh extends vd{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Uu(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class Sh extends kh{constructor(e){super("bytes",e)}decode(e){return Gu(super.decode(e))}}class Ph extends vd{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),Pu(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=Uu(bh.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return Gu(e.readBytes(this.size))}}const Th=new Uint8Array([]);class Ih extends vd{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(Th)}decode(e){return e.readBytes(0),null}}const Oh=BigInt(0),Rh=BigInt(1),Ch=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Nh extends vd{size;signed;constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),Pu(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=ed(bh.dereference(t,this.type)),n=Xu(Ch,256);if(this.signed){let e=Xu(n,8*this.size-1);(r>e||r<-(e+Rh))&&this._throwError("value out-of-bounds",t),r=Ju(r,256)}else(r<Oh||r>Xu(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=Xu(e.readValue(),8*this.size);return this.signed&&(t=function(e,t){const r=td(e,"value"),n=BigInt(id(t,"width"));if(Cu(r>>n===Qu,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-Zu)return-((~r&(Zu<<n)-Zu)+Zu);return r}(t,8*this.size)),t}}function Lh(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6===2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}const Mh=Object.freeze({error:function(e,t,r,n,i){Nu(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:Lh,replace:function(e,t,r,n,i){return"OVERLONG"===e?(Nu("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Lh(e,t,r))}});function Bh(e,t){null==t&&(t=Mh.error);const r=ju(e,"bytes"),n=[];let i=0;for(;i<r.length;){const e=r[i++];if(e>>7===0){n.push(e);continue}let s=null,o=null;if(192===(224&e))s=1,o=127;else if(224===(240&e))s=2,o=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,r,n);continue}s=3,o=65535}if(i-1+s>=r.length){i+=t("OVERRUN",i-1,r,n);continue}let a=e&(1<<8-s-1)-1;for(let c=0;c<s;c++){let e=r[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,r,n),a=null;break}a=a<<6|63&e,i++}null!==a&&(a>1114111?i+=t("OUT_OF_RANGE",i-1-s,r,n,a):a>=55296&&a<=57343?i+=t("UTF16_SURROGATE",i-1-s,r,n,a):a<=o?i+=t("OVERLONG",i-1-s,r,n,a):n.push(a))}return n}function Dh(e,t){Nu("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){Cu(Mu.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);Nu(n<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return new Uint8Array(r)}function jh(e,t){return Bh(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class Uh extends kh{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Dh(bh.dereference(t,"string")))}decode(e){return jh(super.decode(e))}}class Fh extends vd{coders;constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)}));super("tuple","tuple("+n.join(",")+")",t,r),Pu(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}encode(e,t){const r=bh.dereference(t,"tuple");return Ah(e,this.coders,r)}decode(e){return _h(e,this.coders)}}function Hh(e){return oh(Dh(e))}function zh(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const Gh=zh("external public payable override".split(" ")),qh="constant external internal payable private public pure view override",Wh=zh(qh.split(" ")),$h="constructor error event fallback function receive struct",Kh=zh($h.split(" ")),Vh="calldata memory storage payable indexed",Qh=zh(Vh.split(" ")),Zh=zh([$h,Vh,"tuple returns",qh].join(" ").split(" ")),Yh={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Jh=new RegExp("^(\\s*)"),Xh=new RegExp("^([0-9]+)"),ef=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),tf=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),rf=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class nf{#i;#d;get offset(){return this.#i}get length(){return this.#d.length-this.#i}constructor(e){this.#i=0,this.#d=e.slice()}clone(){return new nf(this.#d)}reset(){this.#i=0}#h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new nf(this.#d.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#h(this.#i+1,e.match+1);return this.#i=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#i<e.match-1;){const e=this.peek().linkNext;t.push(this.#h(this.#i+1,e)),this.#i=e}return this.#i=e.match+1,t}peek(){if(this.#i>=this.#d.length)throw new Error("out-of-bounds");return this.#d[this.#i]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#i++,e}toString(){const e=[];for(let t=this.#i;t<this.#d.length;t++){const r=this.#d[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function sf(e){const t=[],r=t=>{const r=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error(`invalid token ${r} at ${s}: ${t}`)};let n=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(Jh);a&&(s+=a[1].length,o=e.substring(s));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(c);let l=Yh[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,"OPEN_PAREN"===l)n.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==l)0===n.length&&r("no matching open bracket"),c.match=n.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1;else if("COMMA"===l)c.linkBack=i.pop(),t[c.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===l)c.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const r=t.pop().text;e=r+e,t[t.length-1].value=id(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(a=o.match(ef),a){if(c.text=a[1],s+=c.text.length,Zh.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(rf)){c.type="TYPE";continue}c.type="ID"}else{if(a=o.match(Xh),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`);c.text=a[1],c.type="NUMBER",s+=c.text.length}}return new nf(t.map((e=>Object.freeze(e))))}function of(e,t){let r=[];for(const n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function af(e,t){if(t.peekKeyword(Kh)){const r=t.pop().text;if(r!==e)throw new Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function cf(e,t){const r=new Set;for(;;){const n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function lf(e){let t=cf(e,Wh);return of(t,zh("constant payable nonpayable".split(" "))),of(t,zh("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function uf(e,t){return e.popParams().map((e=>xf.from(e,t)))}function df(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return ed(e.pop().text);throw new Error("invalid gas")}return null}function hf(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const ff=new RegExp(/^(.*)\[([0-9]*)\]$/);function pf(e){const t=e.match(rf);if(Nu(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const r=parseInt(t[2]);Nu(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){const r=parseInt(t[3]);Nu(0!==r&&r<=256&&r%8===0,"invalid numeric width","type",e)}return e}const mf={},gf=Symbol.for("_ethers_internal"),yf="_ParamTypeInternal",bf="_ErrorInternal",vf="_EventInternal",wf="_ConstructorInternal",Af="_FallbackInternal",_f="_FunctionInternal",Ef="_StructInternal";class xf{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,i,s,o,a){if(Bu(e,mf,"ParamType"),Object.defineProperty(this,gf,{value:yf}),s&&(s=Object.freeze(s.slice())),"array"===n){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===n){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");Pu(this,{name:t,type:r,baseType:n,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map((e=>r.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map(((e,n)=>r.components[n].walk(e,t)))}return t(this.type,e)}#f(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach(((t,n)=>{i.#f(e,t,r,(e=>{s[n]=e}))})),void n(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((t,n)=>{i[n].#f(e,t,r,(e=>{s[n]=e}))})),void n(s)}const i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){const r=[],n=[e];return this.#f(r,e,t,(e=>{n[0]=e})),r.length&&await Promise.all(r),n[0]}static from(e,t){if(xf.isParamType(e))return e;if("string"===typeof e)try{return xf.from(sf(e),t)}catch(gZ){Nu(!1,"invalid param type","obj",e)}else if(e instanceof nf){let r="",n="",i=null;cf(e,zh(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map((e=>xf.from(e))),r=`tuple(${i.map((e=>e.format())).join(",")})`):(r=pf(e.popType("TYPE")),n=r);let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new xf(mf,"",r,n,null,i,o,s),o=t.value,r+=t.text,n="array",i=null}let a=null;if(cf(e,Qh).has("indexed")){if(!t)throw new Error("");a=!0}const c=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new xf(mf,c,r,n,a,i,o,s)}const r=e.name;Nu(!r||"string"===typeof r&&r.match(tf),"invalid name","obj.name",r);let n=e.indexed;null!=n&&(Nu(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,s=i.match(ff);if(s){const t=parseInt(s[2]||"-1"),o=xf.from({type:s[1],components:e.components});return new xf(mf,r||"",i,"array",n,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map((e=>xf.from(e))):null;return new xf(mf,r||"",i,"tuple",n,t,null,null)}return i=pf(e.type),new xf(mf,r||"",i,i,n,null,null,null)}static isParamType(e){return e&&e[gf]===yf}}class kf{type;inputs;constructor(e,t,r){Bu(e,mf,"Fragment"),Pu(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"===typeof e){try{kf.from(JSON.parse(e))}catch(bZ){}return kf.from(sf(e))}if(e instanceof nf){switch(e.peekKeyword(Kh)){case"constructor":return Of.from(e);case"error":return Tf.from(e);case"event":return If.from(e);case"fallback":case"receive":return Rf.from(e);case"function":return Cf.from(e);case"struct":return Nf.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return Of.from(e);case"error":return Tf.from(e);case"event":return If.from(e);case"fallback":case"receive":return Rf.from(e);case"function":return Cf.from(e);case"struct":return Nf.from(e)}Cu(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Nu(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Of.isFragment(e)}static isError(e){return Tf.isFragment(e)}static isEvent(e){return If.isFragment(e)}static isFunction(e){return Cf.isFragment(e)}static isStruct(e){return Nf.isFragment(e)}}class Sf extends kf{name;constructor(e,t,r,n){super(e,t,n),Nu("string"===typeof r&&r.match(tf),"invalid identifier","name",r),n=Object.freeze(n.slice()),Pu(this,{name:r})}}function Pf(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Tf extends Sf{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,gf,{value:bf})}get selector(){return Hh(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+Pf(e,this.inputs)),t.join(" ")}static from(e){if(Tf.isFragment(e))return e;if("string"===typeof e)return Tf.from(sf(e));if(e instanceof nf){const t=af("error",e),r=uf(e);return hf(e),new Tf(mf,t,r)}return new Tf(mf,e.name,e.inputs?e.inputs.map(xf.from):[])}static isFragment(e){return e&&e[gf]===bf}}class If extends Sf{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,gf,{value:vf}),Pu(this,{anonymous:n})}get topicHash(){return Hh(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+Pf(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>xf.from(e)));return new If(mf,e,t,!1).topicHash}static from(e){if(If.isFragment(e))return e;if("string"===typeof e)try{return If.from(sf(e))}catch(gZ){Nu(!1,"invalid event fragment","obj",e)}else if(e instanceof nf){const t=af("event",e),r=uf(e,!0),n=!!cf(e,zh(["anonymous"])).has("anonymous");return hf(e),new If(mf,t,r,n)}return new If(mf,e.name,e.inputs?e.inputs.map((e=>xf.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[gf]===vf}}class Of extends kf{payable;gas;constructor(e,t,r,n,i){super(e,t,r),Object.defineProperty(this,gf,{value:wf}),Pu(this,{payable:n,gas:i})}format(e){if(Cu(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${Pf(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(Of.isFragment(e))return e;if("string"===typeof e)try{return Of.from(sf(e))}catch(gZ){Nu(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof nf){cf(e,zh(["constructor"]));const t=uf(e),r=!!cf(e,Gh).has("payable"),n=df(e);return hf(e),new Of(mf,"constructor",t,r,n)}return new Of(mf,"constructor",e.inputs?e.inputs.map(xf.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[gf]===wf}}class Rf extends kf{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,gf,{value:Af}),Pu(this,{payable:r})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Rf.isFragment(e))return e;if("string"===typeof e)try{return Rf.from(sf(e))}catch(gZ){Nu(!1,"invalid fallback fragment","obj",e)}else if(e instanceof nf){const t=e.toString();Nu(e.peekKeyword(zh(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(zh(["fallback","receive"]))){const t=uf(e);return Nu(0===t.length,"receive cannot have arguments","obj.inputs",t),cf(e,zh(["payable"])),hf(e),new Rf(mf,[],!0)}let r=uf(e);r.length?Nu(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map((e=>e.format("minimal"))).join(", ")):r=[xf.from("bytes")];const n=lf(e);if(Nu("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),cf(e,zh(["returns"])).has("returns")){const t=uf(e);Nu(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return hf(e),new Rf(mf,r,"payable"===n)}if("receive"===e.type)return new Rf(mf,[],!0);if("fallback"===e.type){const t=[xf.from("bytes")],r="payable"===e.stateMutability;return new Rf(mf,t,r)}Nu(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[gf]===Af}}class Cf extends Sf{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,i,s){super(e,"function",t,n),Object.defineProperty(this,gf,{value:_f});Pu(this,{constant:"view"===r||"pure"===r,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return Hh(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+Pf(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Pf(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>xf.from(e)));return new Cf(mf,e,"view",t,[],null).selector}static from(e){if(Cf.isFragment(e))return e;if("string"===typeof e)try{return Cf.from(sf(e))}catch(gZ){Nu(!1,"invalid function fragment","obj",e)}else if(e instanceof nf){const t=af("function",e),r=uf(e),n=lf(e);let i=[];cf(e,zh(["returns"])).has("returns")&&(i=uf(e));const s=df(e);return hf(e),new Cf(mf,t,n,r,i,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new Cf(mf,e.name,t,e.inputs?e.inputs.map(xf.from):[],e.outputs?e.outputs.map(xf.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[gf]===_f}}class Nf extends Sf{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,gf,{value:Ef})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return Nf.from(sf(e))}catch(gZ){Nu(!1,"invalid struct fragment","obj",e)}else if(e instanceof nf){const t=af("struct",e),r=uf(e);return hf(e),new Nf(mf,t,r)}return new Nf(mf,e.name,e.inputs?e.inputs.map(xf.from):[])}static isFragment(e){return e&&e[gf]===Ef}}const Lf=new Map;Lf.set(0,"GENERIC_PANIC"),Lf.set(1,"ASSERT_FALSE"),Lf.set(17,"OVERFLOW"),Lf.set(18,"DIVIDE_BY_ZERO"),Lf.set(33,"ENUM_RANGE_ERROR"),Lf.set(34,"BAD_STORAGE_DATA"),Lf.set(49,"STACK_UNDERFLOW"),Lf.set(50,"ARRAY_RANGE_ERROR"),Lf.set(65,"OUT_OF_MEMORY"),Lf.set(81,"UNINITIALIZED_FUNCTION_CALL");const Mf=new RegExp(/^bytes([0-9]*)$/),Bf=new RegExp(/^(u?int)([0-9]*)$/);let Df=null,jf=1024;class Uf{#p(e){if(e.isArray())return new Eh(this.#p(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Fh(e.components.map((e=>this.#p(e))),e.name);switch(e.baseType){case"address":return new vh(e.name);case"bool":return new xh(e.name);case"string":return new Uh(e.name);case"bytes":return new Sh(e.name);case"":return new Ih(e.name)}let t=e.type.match(Bf);if(t){let r=parseInt(t[2]||"256");return Nu(0!==r&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new Nh(r/8,"int"===t[1],e.name)}if(t=e.type.match(Mf),t){let r=parseInt(t[1]);return Nu(0!==r&&r<=32,"invalid bytes length","param",e),new Ph(r,e.name)}Nu(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#p(xf.from(e))));return new Fh(t,"_").defaultValue()}encode(e,t){Lu(t.length,e.length,"types/values length mismatch");const r=e.map((e=>this.#p(xf.from(e)))),n=new Fh(r,"_"),i=new wd;return n.encode(i,t),i.data}decode(e,t,r){const n=e.map((e=>this.#p(xf.from(e))));return new Fh(n,"_").decode(new Ad(t,r,jf))}static _setDefaultMaxInflation(e){Nu("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),jf=e}static defaultAbiCoder(){return null==Df&&(Df=new Uf),Df}static getBuiltinCallException(e,t,r){return function(e,t,r,n){let i="missing revert data",s=null,o=null;if(r){i="execution reverted";const e=ju(r);if(r=Gu(r),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Gu(e.slice(0,4)))try{s=n.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(gZ){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Gu(e.slice(0,4)))try{const t=Number(n.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${Lf.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(gZ){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?fh(t.to):null,data:t.data||"0x"};return t.from&&(a.from=fh(t.from)),Ru(i,"CALL_EXCEPTION",{action:e,data:r,reason:s,transaction:a,invocation:null,revert:o})}(e,t,r,Uf.defaultAbiCoder())}}function Ff(e){return e&&"function"===typeof e.getAddress}async function Hf(e,t){const r=await t;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||(Cu("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),Nu(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),fh(r)}function zf(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?fh(e):(Cu(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Hf(e,t.resolveName(e))):Ff(e)?Hf(e,e.getAddress()):e&&"function"===typeof e.then?Hf(e,e):void Nu(!1,"unsupported addressable value","target",e)}const Gf=new Uint8Array(32);Gf.fill(0);const qf=BigInt(-1),Wf=BigInt(0),$f=BigInt(1),Kf=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Vf=sd($f,32),Qf=sd(Wf,32),Zf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Yf=["name","version","chainId","verifyingContract","salt"];function Jf(e){return function(t){return Nu("string"===typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Xf={name:Jf("name"),version:Jf("version"),chainId:function(e){const t=ed(e,"domain.chainId");return Nu(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):ad(t)},verifyingContract:function(e){try{return fh(e).toLowerCase()}catch(gZ){}Nu(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=ju(e,"domain.salt");return Nu(32===t.length,'invalid domain value "salt"',"domain.salt",e),Gu(t)}};function ep(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const r=""===t[1],n=parseInt(t[2]);Nu(n%8===0&&0!==n&&n<=256&&t[2]===String(n),"invalid numeric width","type",e);const i=Xu(Kf,r?n-1:n),s=r?(i+$f)*qf:Wf;return function(t){const n=ed(t,"value");return Nu(n>=s&&n<=i,`value out-of-bounds for ${e}`,"value",n),sd(r?Ju(n,256):n,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return Nu(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){return Nu(ju(t).length===r,`invalid length for ${e}`,"value",t),function(e){const t=ju(e),r=t.length%32;return r?qu([t,Gf.slice(r)]):Gu(t)}(t)}}}switch(e){case"address":return function(e){return Vu(fh(e),32)};case"bool":return function(e){return e?Vf:Qf};case"bytes":return function(e){return oh(e)};case"string":return function(e){return Hh(e)}}return null}function tp(e,t){return`${e}(${t.map((e=>{let{name:t,type:r}=e;return r+" "+t})).join(",")})`}function rp(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class np{primaryType;#m;get types(){return JSON.parse(this.#m)}#g;#y;constructor(e){this.#g=new Map,this.#y=new Map;const t=new Map,r=new Map,n=new Map,i={};Object.keys(e).forEach((s=>{i[s]=e[s].map((t=>{let{name:r,type:n}=t,{base:i,index:s}=rp(n);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:r,type:i+(s||"")}})),t.set(s,new Set),r.set(s,[]),n.set(s,new Set)})),this.#m=JSON.stringify(i);for(const o in i){const n=new Set;for(const s of i[o]){Nu(!n.has(s.name),`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(o)}`,"types",e),n.add(s.name);const i=rp(s.type).base;Nu(i!==o,`circular type reference to ${JSON.stringify(i)}`,"types",e);ep(i)||(Nu(r.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),r.get(i).push(o),t.get(o).add(i))}}const s=Array.from(r.keys()).filter((e=>0===r.get(e).length));Nu(0!==s.length,"missing primary type","types",e),Nu(1===s.length,`ambiguous primary types or unused types: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),Pu(this,{primaryType:s[0]}),function i(s,o){Nu(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),o.add(s);for(const e of t.get(s))if(r.has(e)){i(e,o);for(const t of o)n.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[o,a]of n){const e=Array.from(a);e.sort(),this.#g.set(o,tp(o,i[o])+e.map((e=>tp(e,i[e]))).join(""))}}getEncoder(e){let t=this.#y.get(e);return t||(t=this.#b(e),this.#y.set(e,t)),t}#b(e){{const t=ep(e);if(t)return t}const t=rp(e).array;if(t){const e=t.prefix,r=this.getEncoder(e);return n=>{Nu(-1===t.count||t.count===n.length,`array length mismatch; expected length ${t.count}`,"value",n);let i=n.map(r);return this.#g.has(e)&&(i=i.map(oh)),oh(qu(i))}}const r=this.types[e];if(r){const t=Hh(this.#g.get(e));return e=>{const n=r.map((t=>{let{name:r,type:n}=t;const i=this.getEncoder(n)(e[r]);return this.#g.has(n)?oh(i):i}));return n.unshift(t),qu(n)}}Nu(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#g.get(e);return Nu(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return oh(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(ep(e))return r(e,t);const n=rp(e).array;if(n)return Nu(-1===n.count||n.count===t.length,`array length mismatch; expected length ${n.count}`,"value",t),t.map((e=>this._visit(n.prefix,e,r)));const i=this.types[e];if(i)return i.reduce(((e,n)=>{let{name:i,type:s}=n;return e[i]=this._visit(s,t[i],r),e}),{});Nu(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new np(e)}static getPrimaryType(e){return np.from(e).primaryType}static hashStruct(e,t,r){return np.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(null==e[r])continue;const n=Zf[r];Nu(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>Yf.indexOf(e.name)-Yf.indexOf(t.name))),np.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return qu(["0x1901",np.hashDomain(e),np.from(t).hash(r)])}static hash(e,t,r){return oh(np.encode(e,t,r))}static async resolveNames(e,t,r,n){e=Object.assign({},e);for(const o in e)null==e[o]&&delete e[o];const i={};e.verifyingContract&&!Fu(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=np.from(t);s.visit(r,((e,t)=>("address"!==e||Fu(t,20)||(i[t]="0x"),t)));for(const o in i)i[o]=await n(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:r=s.visit(r,((e,t)=>"address"===e&&i[t]?i[t]:t))}}static getPayload(e,t,r){np.hashDomain(e);const n={},i=[];Yf.forEach((t=>{const r=e[t];null!=r&&(n[t]=Xf[t](r),i.push({name:t,type:Zf[t]}))}));const s=np.from(t);t=s.types;const o=Object.assign({},t);return Nu(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return Gu(ju(t));if(e.match(/^u?int/))return ed(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return Nu("string"===typeof t,"invalid string","value",t),t}Nu(!1,"unsupported type","type",e)}))}}}function ip(e,t){return{address:fh(e),storageKeys:t.map(((e,t)=>(Nu(Fu(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function sp(e){if(Array.isArray(e))return e.map(((t,r)=>Array.isArray(t)?(Nu(2===t.length,"invalid slot set",`value[${r}]`,t),ip(t[0],t[1])):(Nu(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),ip(t.address,t.storageKeys))));Nu(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return ip(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function op(e){return async function(e,t){Cu(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");const r=e.url.split(":")[0].toLowerCase();Cu("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),Cu("https"===r||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let n=null;const i=new AbortController,s=setTimeout((()=>{n=Ru("request timeout","TIMEOUT"),i.abort()}),e.timeout);t&&t.addListener((()=>{n=Ru("request cancelled","CANCELLED"),i.abort()}));const o={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:i.signal};let a;try{a=await fetch(e.url,o)}catch(d){if(clearTimeout(s),n)throw n;throw d}clearTimeout(s);const c={};a.headers.forEach(((e,t)=>{c[t.toLowerCase()]=e}));const l=await a.arrayBuffer(),u=null==l?null:new Uint8Array(l);return{statusCode:a.status,statusMessage:a.statusText,headers:c,body:u}}}op();let ap=op();const cp=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),lp=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let up=!1;async function dp(e,t){try{const t=e.match(cp);if(!t)throw new Error("invalid data");return new bp(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return ju(t)}(t[3]):Dh(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(gZ){return new bp(599,"BAD REQUEST (invalid data: URI)",{},null,new yp(e))}}function hp(e){return async function(t,r){try{const r=t.match(lp);if(!r)throw new Error("invalid link");return new yp(`${e}${r[2]}`)}catch(gZ){return new bp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new yp(t))}}}const fp={data:dp,ipfs:hp("https://gateway.ipfs.io/ipfs/")},pp=new WeakMap;class mp{#v;#w;constructor(e){this.#v=[],this.#w=!1,pp.set(e,(()=>{if(!this.#w){this.#w=!0;for(const e of this.#v)setTimeout((()=>{e()}),0);this.#v=[]}}))}addListener(e){Cu(!this.#w,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#v.push(e)}get cancelled(){return this.#w}checkSignal(){Cu(!this.cancelled,"cancelled","CANCELLED",{})}}function gp(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class yp{#A;#_;#E;#x;#k;#S;#P;#T;#I;#O;#R;#C;#N;#L;#M;get url(){return this.#S}set url(e){this.#S=String(e)}get body(){return null==this.#P?null:new Uint8Array(this.#P)}set body(e){if(null==e)this.#P=void 0,this.#T=void 0;else if("string"===typeof e)this.#P=Dh(e),this.#T="text/plain";else if(e instanceof Uint8Array)this.#P=e,this.#T="application/octet-stream";else{if("object"!==typeof e)throw new Error("invalid body");this.#P=Dh(JSON.stringify(e)),this.#T="application/json"}}hasBody(){return null!=this.#P}get method(){return this.#x?this.#x:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#x=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#E);return this.#I&&(e.authorization=`Basic ${function(e){const t=ju(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return btoa(r)}(Dh(this.#I))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#T&&(e["content-type"]=this.#T),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#E[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#E={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#I||null}setCredentials(e,t){Nu(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#I=`${e}:${t}`}get allowGzip(){return this.#_}set allowGzip(e){this.#_=!!e}get allowInsecureAuthentication(){return!!this.#A}set allowInsecureAuthentication(e){this.#A=!!e}get timeout(){return this.#k}set timeout(e){Nu(e>=0,"timeout must be non-zero","timeout",e),this.#k=e}get preflightFunc(){return this.#O||null}set preflightFunc(e){this.#O=e}get processFunc(){return this.#R||null}set processFunc(e){this.#R=e}get retryFunc(){return this.#C||null}set retryFunc(e){this.#C=e}get getUrlFunc(){return this.#M||ap}set getUrlFunc(e){this.#M=e}constructor(e){this.#S=String(e),this.#A=!1,this.#_=!0,this.#E={},this.#x="",this.#k=3e5,this.#L={slotInterval:250,maxAttempts:12},this.#M=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#P?Gu(this.#P):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#L.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#L.maxAttempts=e.maxAttempts)}async#B(e,t,r,n,i){if(e>=this.#L.maxAttempts)return i.makeServerError("exceeded maximum retry limit");Cu(vp()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(r);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in fp){const e=await fp[o](s.url,gp(n.#N));if(e instanceof bp){let t=e;if(this.processFunc){gp(n.#N);try{t=await this.processFunc(s,t)}catch(gZ){null!=gZ.throttle&&"number"===typeof gZ.stall||t.makeServerError("error in post-processing function",gZ).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await this.getUrlFunc(s,gp(n.#N));let c=new bp(a.statusCode,a.statusMessage,a.headers,a.body,n);if(301===c.statusCode||302===c.statusCode){try{const r=c.headers.location||"";return s.redirect(r).#B(e+1,t,0,n,c)}catch(gZ){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,e))){const r=c.headers["retry-after"];let i=this.#L.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof r&&r.match(/^[1-9][0-9]*$/)&&(i=parseInt(r)),s.clone().#B(e+1,t,i,n,c)}if(this.processFunc){gp(n.#N);try{c=await this.processFunc(s,c)}catch(gZ){null!=gZ.throttle&&"number"===typeof gZ.stall||c.makeServerError("error in post-processing function",gZ).assertOk();let i=this.#L.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return gZ.stall>=0&&(i=gZ.stall),s.clone().#B(e+1,t,i,n,c)}}return c}send(){return Cu(null==this.#N,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#N=new mp(this),this.#B(0,vp()+this.timeout,0,this,new bp(0,"",{},null,this))}cancel(){Cu(null!=this.#N,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=pp.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Cu("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const n=new yp(e);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#E=Object.assign({},this.#E),this.#P&&(n.#P=new Uint8Array(this.#P)),n.#T=this.#T,n}clone(){const e=new yp(this.url);return e.#x=this.#x,this.#P&&(e.#P=this.#P),e.#T=this.#T,e.#E=Object.assign({},this.#E),e.#I=this.#I,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#O=this.#O,e.#R=this.#R,e.#C=this.#C,e.#L=Object.assign({},this.#L),e.#M=this.#M,e}static lockConfig(){up=!0}static getGateway(e){return fp[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(up)throw new Error("gateways locked");fp[e]=t}static registerGetUrl(e){if(up)throw new Error("gateways locked");ap=e}static createGetUrlFunc(e){return op()}static createDataGateway(){return dp}static createIpfsGatewayFunc(e){return hp(e)}}class bp{#D;#j;#E;#P;#U;#F;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#P?Gu(this.#P):"null"}>`}get statusCode(){return this.#D}get statusMessage(){return this.#j}get headers(){return Object.assign({},this.#E)}get body(){return null==this.#P?null:new Uint8Array(this.#P)}get bodyText(){try{return null==this.#P?"":jh(this.#P)}catch(gZ){Cu(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(gZ){Cu(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,i){this.#D=e,this.#j=t,this.#E=Object.keys(r).reduce(((e,t)=>(e[t.toLowerCase()]=String(r[t]),e)),{}),this.#P=null==n?null:new Uint8Array(n),this.#U=i||null,this.#F={message:""}}makeServerError(e,t){let r;r=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const n=new bp(599,r,this.headers,this.body,this.#U||void 0);return n.#F={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:Nu(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw Pu(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#P}get request(){return this.#U}ok(){return""===this.#F.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#F;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let n=null;try{this.#P&&(n=jh(this.#P))}catch(bZ){}Cu(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:n,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function vp(){return(new Date).getTime()}const wp="0x0000000000000000000000000000000000000000";class Ap{fragment;name;signature;topic;args;constructor(e,t,r){const n=e.name,i=e.format();Pu(this,{fragment:e,name:n,signature:i,topic:t,args:r})}}class _p{fragment;name;args;signature;selector;value;constructor(e,t,r,n){const i=e.name,s=e.format();Pu(this,{fragment:e,name:i,args:r,signature:s,selector:t,value:n})}}class Ep{fragment;name;args;signature;selector;constructor(e,t,r){const n=e.name,i=e.format();Pu(this,{fragment:e,name:n,args:r,signature:i,selector:t})}}class xp{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){Pu(this,{hash:e,_isIndexed:!0})}}const kp={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Sp={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&kp[e.toString()]&&(t=kp[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class Pp{fragments;deploy;fallback;receive;#H;#z;#G;#q;constructor(e){let t=[];t="string"===typeof e?JSON.parse(e):e,this.#G=new Map,this.#H=new Map,this.#z=new Map;const r=[];for(const s of t)try{r.push(kf.from(s))}catch(gZ){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,gZ.message)}Pu(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#q=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let r;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void Pu(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(Nu(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),n=e,i=n.payable));case"function":r=this.#G;break;case"event":r=this.#z;break;case"error":r=this.#H;break;default:return}const s=e.format();r.has(s)||r.set(s,e)})),this.deploy||Pu(this,{deploy:Of.from("constructor()")}),Pu(this,{fallback:n,receive:i})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return Uf.defaultAbiCoder()}#W(e,t,r){if(Fu(e)){const t=e.toLowerCase();for(const e of this.#G.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#G)t.split("(")[0]===e&&n.push(r);if(t){const e=t.length>0?t[t.length-1]:null;let r=t.length,i=!0;bh.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let t=n.length-1;t>=0;t--){const e=n[t].inputs.length;e===r||i&&e===r-1||n.splice(t,1)}for(let s=n.length-1;s>=0;s--){const e=n[s].inputs;for(let r=0;r<t.length;r++)if(bh.isTyped(t[r])){if(r>=e.length){if("overrides"===t[r].type)continue;n.splice(s,1);break}if(t[r].type!==e[r].baseType){n.splice(s,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){Nu(!1,`ambiguous function description (i.e. matches ${n.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return n[0]}const n=this.#G.get(Cf.from(e).format());return n||null}getFunctionName(e){const t=this.#W(e,null,!1);return Nu(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#W(e,null,!1)}getFunction(e,t){return this.#W(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#G.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#G.get(n),r)}}#$(e,t,r){if(Fu(e)){const t=e.toLowerCase();for(const e of this.#z.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const n=[];for(const[t,r]of this.#z)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){const r=n[e].inputs;for(let i=0;i<t.length;i++)if(bh.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}if(0===n.length)return null;if(n.length>1&&r){Nu(!1,`ambiguous event description (i.e. matches ${n.map((e=>JSON.stringify(e.format()))).join(", ")})`,"key",e)}return n[0]}const n=this.#z.get(If.from(e).format());return n||null}getEventName(e){const t=this.#$(e,null,!1);return Nu(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#$(e,null,!1)}getEvent(e,t){return this.#$(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#z.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#z.get(n),r)}}getError(e,t){if(Fu(e)){const t=e.toLowerCase();if(Sp[t])return Tf.from(Sp[t].signature);for(const e of this.#H.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[r,n]of this.#H)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?Tf.from("error Error(string)"):"Panic"===e?Tf.from("error Panic(uint256)"):null;if(t.length>1){Nu(!1,`ambiguous error description (i.e. ${t.map((e=>JSON.stringify(e.format()))).join(", ")})`,"name",e)}return t[0]}if("Error(string)"===(e=Tf.from(e).format()))return Tf.from("error Error(string)");if("Panic(uint256)"===e)return Tf.from("error Panic(uint256)");const r=this.#H.get(e);return r||null}forEachError(e){const t=Array.from(this.#H.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#H.get(n),r)}}_decodeParams(e,t){return this.#q.decode(e,t)}_encodeParams(e,t){return this.#q.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);Nu(t,"unknown error","fragment",e),e=t}return Nu($u(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,$u(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);Nu(t,"unknown error","fragment",e),e=t}return qu([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);Nu(t,"unknown function","fragment",e),e=t}return Nu($u(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,$u(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);Nu(t,"unknown function","fragment",e),e=t}return qu([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);Nu(t,"unknown function","fragment",e),e=t}let r="invalid length for result data";const n=Uu(t);if(n.length%32===0)try{return this.#q.decode(e.outputs,n)}catch(gZ){r="could not decode result data"}Cu(!1,r,"BAD_DATA",{value:Gu(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=ju(e,"data"),n=Uf.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){const e=Gu(r.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#q.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(bZ){n.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);Nu(t,"unknown function","fragment",e),e=t}return Gu(this.#q.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);Nu(t,"unknown event","eventFragment",e),e=t}Cu(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const n=(e,t)=>"string"===e.type?Hh(t):"bytes"===e.type?oh(Gu(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=sd(t):e.type.match(/^bytes/)?t=Ku(t,32,!1):"address"===e.type&&this.#q.encode(["address"],[t]),Vu(Gu(t),32));for(t.forEach(((t,i)=>{const s=e.inputs[i];s.indexed?null==t?r.push(null):"array"===s.baseType||"tuple"===s.baseType?Nu(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?r.push(t.map((e=>n(s,e)))):r.push(n(s,t)):Nu(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);Nu(t,"unknown event","eventFragment",e),e=t}const r=[],n=[],i=[];return e.anonymous||r.push(e.topicHash),Nu(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)r.push(Hh(o));else if("bytes"===e.type)r.push(oh(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this.#q.encode([e.type],[o]))}else n.push(e),i.push(o)})),{data:this.#q.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"===typeof e){const t=this.getEvent(e);Nu(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){const t=e.topicHash;Nu(Fu(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const n=[],i=[],s=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(xf.from({type:"bytes32",name:e.name})),s.push(!0)):(n.push(e),s.push(!1)):(i.push(e),s.push(!1))}));const o=null!=r?this.#q.decode(n,qu(r)):null,a=this.#q.decode(i,t,!0),c=[],l=[];let u=0,d=0;return e.inputs.forEach(((e,t)=>{let r=null;if(e.indexed)if(null==o)r=new xp(null);else if(s[t])r=new xp(o[d++]);else try{r=o[d++]}catch(gZ){r=gZ}else try{r=a[u++]}catch(gZ){r=gZ}c.push(r),l.push(e.name||null)})),yd.fromItems(c,l)}parseTransaction(e){const t=ju(e.data,"tx.data"),r=ed(null!=e.value?e.value:0,"tx.value"),n=this.getFunction(Gu(t.slice(0,4)));if(!n)return null;const i=this.#q.decode(n.inputs,t.slice(4));return new _p(n,n.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Ap(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Gu(e),r=this.getError($u(t,0,4));if(!r)return null;const n=this.#q.decode(r.inputs,$u(t,4));return new Ep(r,r.selector,n)}static from(e){return e instanceof Pp?e:"string"===typeof e?new Pp(JSON.parse(e)):"function"===typeof e.formatJson?new Pp(e.formatJson()):"function"===typeof e.format?new Pp(e.format("json")):new Pp(e)}}const Tp=BigInt(0);function Ip(e){return null==e?null:e}function Op(e){return null==e?null:e.toString()}class Rp{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){Pu(this,{gasPrice:Ip(e),maxFeePerGas:Ip(t),maxPriorityFeePerGas:Ip(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Op(e),maxFeePerGas:Op(t),maxPriorityFeePerGas:Op(r)}}}function Cp(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Gu(e.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=ed(e[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=id(e[i],`request.${i}`));return e.accessList&&(t.accessList=sp(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>Hu(e)?Gu(e):Object.assign({},e)))),t}class Np{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#K;constructor(e,t){this.#K=e.transactions.map((e=>"string"!==typeof e?new Bp(e,t):e)),Pu(this,{provider:t,hash:Ip(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Ip(e.prevRandao),extraData:e.extraData,baseFeePerGas:Ip(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#K.map((e=>"string"===typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#K.slice();return 0===e.length?[]:(Cu("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:n,gasUsed:i,hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,timestamp:p,transactions:m}=this;return{_type:"Block",baseFeePerGas:Op(e),difficulty:Op(t),extraData:r,gasLimit:Op(n),gasUsed:Op(i),blobGasUsed:Op(this.blobGasUsed),excessBlobGas:Op(this.excessBlobGas),hash:s,miner:o,prevRandao:a,nonce:c,number:l,parentHash:u,timestamp:p,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,transactions:m}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#K.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=this.#K[e];else{const r=e.toLowerCase();for(const e of this.#K){if("string"===typeof e){if(e!==r)continue;t=e;break}if(e.hash!==r){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;Nu(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class Lp{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());Pu(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Cu(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Cu(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Cu(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class Mp{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#V;constructor(e,t){this.#V=Object.freeze(e.logs.map((e=>new Lp(e,t))));let r=Tp;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),Pu(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#V}toJSON(){const{to:e,from:t,contractAddress:r,hash:n,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:c,status:l,root:u}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:r,cumulativeGasUsed:Op(this.cumulativeGasUsed),from:t,gasPrice:Op(this.gasPrice),blobGasUsed:Op(this.blobGasUsed),blobGasPrice:Op(this.blobGasPrice),gasUsed:Op(this.gasUsed),hash:n,index:i,logs:c,logsBloom:a,root:u,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return jp(this)}reorderedEvent(e){return Cu(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Dp(this,e)}}class Bp{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#Q;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#Q=-1}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:s,from:o,nonce:a,data:c,signature:l,accessList:u,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:Op(this.chainId),data:c,from:o,gasLimit:Op(this.gasLimit),gasPrice:Op(this.gasPrice),hash:n,maxFeePerGas:Op(this.maxFeePerGas),maxPriorityFeePerGas:Op(this.maxPriorityFeePerGas),maxFeePerBlobGas:Op(this.maxFeePerBlobGas),nonce:a,signature:l,to:s,index:r,type:i,value:Op(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await Su({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=null==e?1:e,n=null==t?0:t;let i=this.#Q,s=-1,o=-1===i;const a=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await Su({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(o)return null;const n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===s&&(s=i-3,s<this.#Q&&(s=this.#Q));s<=e;){if(o)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){const s=await t.getTransaction(n);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<r)return;let n="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?n="repriced":"0x"===s.data&&s.from===s.to&&s.value===Tp&&(n="cancelled"),Cu(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},c=e=>{if(null==e||0!==e.status)return e;Cu(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},l=await this.provider.getTransactionReceipt(this.hash);if(0===r)return c(l);if(l){if(await l.confirmations()>=r)return c(l)}else if(await a(),0===r)return null;const u=new Promise(((e,t)=>{const s=[],l=()=>{s.forEach((e=>e()))};if(s.push((()=>{o=!0})),n>0){const e=setTimeout((()=>{l(),t(Ru("wait for transaction timeout","TIMEOUT"))}),n);s.push((()=>{clearTimeout(e)}))}const u=async n=>{if(await n.confirmations()>=r){l();try{e(c(n))}catch(gZ){t(gZ)}}};if(s.push((()=>{this.provider.off(this.hash,u)})),this.provider.on(this.hash,u),i>=0){const e=async()=>{try{await a()}catch(gZ){if(Iu(gZ,"TRANSACTION_REPLACED"))return l(),void t(gZ)}o||this.provider.once("block",e)};s.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return Cu(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),jp(this)}reorderedEvent(e){return Cu(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Cu(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Dp(this,e)}replaceableTransaction(e){Nu(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Bp(this,this.provider);return t.#Q=e,t}}function Dp(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function jp(e){return{orphan:"drop-transaction",tx:e}}class Up{filter;emitter;#Z;constructor(e,t,r){this.#Z=t,Pu(this,{emitter:e,filter:r})}async removeListener(){null!=this.#Z&&await this.emitter.off(this.filter,this.#Z)}}class Fp extends Lp{interface;fragment;args;constructor(e,t,r){super(e,e.provider);Pu(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Hp extends Lp{error;constructor(e,t){super(e,e.provider),Pu(this,{error:t})}}class zp extends Mp{#Y;constructor(e,t,r){super(r,t),this.#Y=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#Y.getEvent(e.topics[0]):null;if(t)try{return new Fp(e,this.#Y,t)}catch(gZ){return new Hp(e,gZ)}return e}))}}class Gp extends Bp{#Y;constructor(e,t,r){super(r,t),this.#Y=e}async wait(e,t){const r=await super.wait(e,t);return null==r?null:new zp(this.#Y,this.provider,r)}}class qp extends Up{log;constructor(e,t,r,n){super(e,t,r),Pu(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Wp extends qp{constructor(e,t,r,n,i){super(e,t,r,new Fp(i,e.interface,n));Pu(this,{args:e.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const $p=BigInt(0);function Kp(e){return e&&"function"===typeof e.call}function Vp(e){return e&&"function"===typeof e.estimateGas}function Qp(e){return e&&"function"===typeof e.resolveName}function Zp(e){return e&&"function"===typeof e.sendTransaction}function Yp(e){if(null!=e){if(Qp(e))return e;if(e.provider)return e.provider}}class Jp{#J;fragment;constructor(e,t,r){if(Pu(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const n=Xp(e.runner,"resolveName"),i=Qp(n)?n:null;this.#J=async function(){const n=await Promise.all(t.inputs.map(((e,t)=>null==r[t]?null:e.walkAsync(r[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>zf(e,i)))):zf(t,i):t)))));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#J}}function Xp(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function em(e){return null==e?null:e.provider||null}async function tm(e,t){const r=bh.dereference(e,"overrides");Nu("object"===typeof r,"invalid overrides parameter","overrides",e);const n=Cp(r);return Nu(null==n.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),Nu(null==n.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}function rm(e){const t=async function(t){const r=await tm(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await zf(r.from,Yp(e.runner)));const n=e.interface,i=ed(r.value||$p,"overrides.value")===$p,s="0x"===(r.data||"0x");!n.fallback||n.fallback.payable||!n.receive||s||i||Nu(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),Nu(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data);return Nu(n.receive||n.fallback&&n.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",r.value),Nu(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const n=e.runner;Cu(Zp(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await n.sendTransaction(await t(r)),s=em(e.runner);return new Gp(e.interface,s,i)},n=async e=>await r(e);return Pu(n,{_contract:e,estimateGas:async function(r){const n=Xp(e.runner,"estimateGas");return Cu(Vp(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},populateTransaction:t,send:r,staticCall:async function(r){const n=Xp(e.runner,"call");Cu(Kp(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(r);try{return await n.call(i)}catch(gZ){if(Ou(gZ)&&gZ.data)throw e.interface.makeError(gZ.data,i);throw gZ}}}),n}function nm(e,t){const r=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];const s=e.interface.getFunction(t,n);return Cu(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),s},n=async function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const s=r(...n);let o={};if(s.inputs.length+1===n.length&&(o=await tm(n.pop()),o.from&&(o.from=await zf(o.from,Yp(e.runner)))),s.inputs.length!==n.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await async function(e,t,r){const n=Xp(e,"resolveName"),i=Qp(n)?n:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(r[t],((e,t)=>(t=bh.dereference(t,e),"address"===e?zf(t,i):t))))))}(e.runner,s.inputs,n);return Object.assign({},o,await Su({to:e.getAddress(),data:e.interface.encodeFunctionData(s,a)}))},i=async function(){const e=await o(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;Cu(Zp(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const r=await t.sendTransaction(await n(...arguments)),i=em(e.runner);return new Gp(e.interface,i,r)},o=async function(){const t=Xp(e.runner,"call");Cu(Kp(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await n(...arguments);let s="0x";try{s=await t.call(i)}catch(gZ){if(Ou(gZ)&&gZ.data)throw e.interface.makeError(gZ.data,i);throw gZ}const o=r(...arguments);return e.interface.decodeFunctionResult(o,s)},a=async function(){return r(...arguments).constant?await i(...arguments):await s(...arguments)};return Pu(a,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:async function(){const t=Xp(e.runner,"estimateGas");return Cu(Vp(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await n(...arguments))},populateTransaction:n,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getFunction(t);return Cu(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),a}const im=Symbol.for("_ethersInternal_contract"),sm=new WeakMap;function om(e){return sm.get(e[im])}async function am(e,t){let r,n=null;if(Array.isArray(t)){const n=function(t){if(Fu(t,32))return t;const r=e.interface.getEvent(t);return Nu(r,"unknown fragment","name",t),r.topicHash};r=t.map((e=>null==e?null:Array.isArray(e)?e.map(n):n(e)))}else"*"===t?r=[null]:"string"===typeof t?Fu(t,32)?r=[t]:(n=e.interface.getEvent(t),Nu(n,"unknown fragment","event",t),r=[n.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?r=await t.getTopicFilter():"fragment"in t?(n=t.fragment,r=[n.topicHash]):Nu(!1,"unknown event name","event",t);var i;r=r.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));return{fragment:n,tag:r.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:r}}async function cm(e,t){const{subs:r}=om(e);return r.get((await am(e,t)).tag)||null}async function lm(e,t,r){const n=em(e.runner);Cu(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:o}=await am(e,r),{addr:a,subs:c}=om(e);let l=c.get(s);if(!l){const t={address:a||e,topics:o},u=t=>{let n=i;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(gZ){}if(n){const s=n,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];dm(e,r,o,(n=>new Wp(e,n,r,s,t)))}else dm(e,r,[],(n=>new qp(e,n,r,t)))};let d=[];l={tag:s,listeners:[],start:()=>{d.length||d.push(n.on(t,u))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),n.off(t,u)}},c.set(s,l)}return l}let um=Promise.resolve();async function dm(e,t,r,n){try{await um}catch(gZ){}const i=async function(e,t,r,n){await um;const i=await cm(e,t);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:i,once:s}=t;const o=Array.from(r);n&&o.push(n(s?null:i));try{i.call(e,...o)}catch(gZ){}return!s})),0===i.listeners.length&&(i.stop(),om(e).subs.delete(i.tag)),s>0}(e,t,r,n);return um=i,await i}const hm=["then"];class fm{target;interface;runner;filters;[im];fallback;constructor(e,t,r,n){Nu("string"===typeof e||Ff(e),"invalid value for Contract target","target",e),null==r&&(r=null);const i=Pp.from(t);let s;Pu(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,im,{value:{}});let o=null,a=null;if(n){const e=em(r);a=new Gp(this.interface,e,n)}let c=new Map;if("string"===typeof e)if(Fu(e))o=e,s=Promise.resolve(e);else{const t=Xp(r,"resolveName");if(!Qp(t))throw Ru("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then((t=>{if(null==t)throw Ru("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return om(this).addr=t,t}))}else s=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return om(this).addr=e,e}));var l,u;l=this,u={addrPromise:s,addr:o,deployTx:a,subs:c},sm.set(l[im],u);const d=new Proxy({},{get:(e,t,r)=>{if("symbol"===typeof t||hm.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(gZ){if(!Iu(gZ,"INVALID_ARGUMENT")||"key"!==gZ.argument)throw gZ}},has:(e,t)=>hm.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return Pu(this,{filters:d}),Pu(this,{fallback:i.receive||i.fallback?rm(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"===typeof t||t in e||hm.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(gZ){if(!Iu(gZ,"INVALID_ARGUMENT")||"key"!==gZ.argument)throw gZ}},has:(e,t)=>"symbol"===typeof t||t in e||hm.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new fm(this.target,this.interface,e)}attach(e){return new fm(e,this.interface,this.runner)}async getAddress(){return await om(this).addrPromise}async getDeployedCode(){const e=em(this.runner);Cu(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=em(this.runner);return Cu(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",n)}catch(gZ){r(gZ)}};n()}))}deploymentTransaction(){return om(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return nm(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const r=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];const s=e.interface.getEvent(t,n);return Cu(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:n}}),s},n=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new Jp(e,r(...n),n)};return Pu(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getEvent(t);return Cu(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");const{addr:n,addrPromise:i}=om(this),s=n||await i,{fragment:o,topics:a}=await am(this,e),c={address:s,topics:a,fromBlock:t,toBlock:r},l=em(this.runner);return Cu(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(c)).map((e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(gZ){}if(t)try{return new Fp(e,this.interface,t)}catch(gZ){return new Hp(e,gZ)}return new Lp(e,l)}))}async on(e,t){const r=await lm(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await lm(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return await dm(this,e,r,null)}async listenerCount(e){if(e){const t=await cm(this,e);return t?t.listeners.length:0}const{subs:t}=om(this);let r=0;for(const{listeners:n}of t.values())r+=n.length;return r}async listeners(e){if(e){const t=await cm(this,e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}const{subs:t}=om(this);let r=[];for(const{listeners:n}of t.values())r=r.concat(n.map((e=>{let{listener:t}=e;return t})));return r}async off(e,t){const r=await cm(this,e);if(!r)return this;if(t){const e=r.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&r.listeners.splice(e,1)}return null!=t&&0!==r.listeners.length||(r.stop(),om(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await cm(this,e);if(!t)return this;t.stop(),om(this).subs.delete(t.tag)}else{const{subs:e}=om(this);for(const{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends fm{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,r){null==r&&(r=null);return new this(e,t,r)}}class pm extends(function(){return fm}()){}const mm=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function gm(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,s=[0,1];for(let w=1;w<n;w++)s.push(i+=r());let o=r(),a=t;t+=o;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const d=2**31,h=d>>>1,f=h>>1,p=d-1;let m=0;for(let w=0;w<31;w++)m=m<<1|u();let g=[],y=0,b=d;for(;;){let e=Math.floor(((m-y+1)*i-1)/b),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<s[n]?r=n:t=n}if(0==t)break;g.push(t);let o=y+Math.floor(b*s[t]/i),a=y+Math.floor(b*s[t+1]/i)-1;for(;0==((o^a)&h);)m=m<<1&p|u(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&f;)m=m&h|m<<1&p>>>1|u(),o=o<<1^h,a=(a^h)<<1|h|1;y=o,b=1+a-o}let v=n-4;return g.map((t=>{switch(t-v){case 3:return v+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return v+256+(e[a++]<<8|e[a++]);case 1:return v+e[a++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,r)=>t[e.charCodeAt(0)]=r));let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}(e)))}function ym(e){return 1&e?~e>>1:e>>1}function bm(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=ym(t());return r}function vm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let e=0;e<i;e++)r.push(t+e);t+=i+1}return r}function wm(e){return _m((()=>{let t=vm(e);if(t.length)return t}))}function Am(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(xm(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(km(r,e))}return t.flat()}function _m(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function Em(e,t,r){let n=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)bm(e,r).forEach(((e,t)=>n[t].push(e)));return n}function xm(e,t){let r=1+t(),n=t(),i=_m(t);return Em(i.length,1+e,t).flatMap(((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*n;return[s+t*r,o.map((e=>e+i))]}))}))}function km(e,t){return Em(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function Sm(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function Pm(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}function Tm(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function Im(e,t){let r=e.length,n=r-t.length;for(let i=0;0==n&&i<r;i++)n=e[i]-t[i];return n}const Om=44032,Rm=4352,Cm=4449,Nm=4519,Lm=28,Mm=588;function Bm(e){return e>>24&255}function Dm(e){return 16777215&e}let jm,Um,Fm,Hm;function zm(e){return e>=Om&&e<55204}function Gm(e,t){if(e>=Rm&&e<4371&&t>=Cm&&t<4470)return Om+(e-Rm)*Mm+(t-Cm)*Lm;if(zm(e)&&t>Nm&&t<4547&&(e-Om)%Lm==0)return e+(t-Nm);{let r=Hm.get(e);return r&&(r=r.get(t),r)?r:-1}}function qm(e){jm||function(){let e=gm("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");jm=new Map(wm(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),Um=new Set(vm(e)),Fm=new Map,Hm=new Map;for(let[t,r]of Am(e)){if(!Um.has(t)&&2==r.length){let[e,n]=r,i=Hm.get(e);i||(i=new Map,Hm.set(e,i)),i.set(n,t)}Fm.set(t,r.reverse())}}();let t=[],r=[],n=!1;function i(e){let r=jm.get(e);r&&(n=!0,e|=r),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(zm(s)){let e=s-Om,t=e%Mm/Lm|0,r=e%Lm;i(Rm+(e/Mm|0)),i(Cm+t),r>0&&i(Nm+r)}else{let e=Fm.get(s);e?r.push(...e):i(s)}if(!r.length)break;s=r.pop()}if(n&&t.length>1){let e=Bm(t[0]);for(let r=1;r<t.length;r++){let n=Bm(t[r]);if(0==n||e<=n){e=n;continue}let i=r-1;for(;;){let r=t[i+1];if(t[i+1]=t[i],t[i]=r,!i)break;if(e=Bm(t[--i]),e<=n)break}e=Bm(t[r])}}return t}function Wm(e){return qm(e).map(Dm)}function $m(e){return function(e){let t=[],r=[],n=-1,i=0;for(let s of e){let e=Bm(s),o=Dm(s);if(-1==n)0==e?n=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(n,...r),r.length=0,n=o):r.push(o),i=e;else{let s=Gm(n,o);s>=0?n=s:0==i&&0==e?(t.push(n),n=o):(r.push(o),i=e)}}return n>=0&&t.push(n,...r),t}(qm(e))}const Km=".",Vm=e=>Array.from(e);function Qm(e,t){return e.P.has(t)||e.Q.has(t)}class Zm extends Array{get is_emoji(){return!0}}let Ym,Jm,Xm,eg,tg,rg,ng,ig,sg,og,ag,cg;function lg(){if(Ym)return;let e=gm("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>vm(e),r=()=>new Set(t()),n=(e,t)=>t.forEach((t=>e.add(t)));Ym=new Map(Am(e)),Jm=r(),Xm=t(),eg=new Set(t().map((e=>Xm[e]))),Xm=new Set(Xm),tg=r(),rg=r();let i=wm(e),s=e();const o=()=>{let e=new Set;return t().forEach((t=>n(e,i[t]))),n(e,t()),e};ng=_m((t=>{let r=_m(e).map((e=>e+96));if(r.length){let n=t>=s;return r[0]-=32,r=Tm(r),n&&(r=`Restricted[${r}]`),{N:r,P:o(),Q:o(),M:!e(),R:n}}})),ig=r(),sg=new Map;let a=t().concat(Vm(ig)).sort(((e,t)=>e-t));a.forEach(((t,r)=>{let n=e(),i=a[r]=n?a[r-n]:{V:[],M:new Map};i.V.push(t),ig.has(t)||sg.set(t,i)}));for(let{V:u,M:d}of new Set(sg.values())){let e=[];for(let r of u){let t=ng.filter((e=>Qm(e,r))),i=e.find((e=>{let{G:r}=e;return t.some((e=>r.has(e)))}));i||(i={G:new Set,V:[]},e.push(i)),i.V.push(r),n(i.G,t)}let t=e.flatMap((e=>Vm(e.G)));for(let{G:r,V:n}of e){let e=new Set(t.filter((e=>!r.has(e))));for(let t of n)d.set(t,e)}}og=new Set;let c=new Set;const l=e=>og.has(e)?c.add(e):og.add(e);for(let u of ng){for(let e of u.P)l(e);for(let e of u.Q)l(e)}for(let u of og)sg.has(u)||c.has(u)||sg.set(u,1);n(og,Wm(og)),ag=function(e){let t=[],r=vm(e);return function e(r,n,i){let{S:s,B:o}=r;if(!(4&s&&i===n[n.length-1])){2&s&&(i=n[n.length-1]),1&s&&t.push(n);for(let t of o)for(let r of t.Q)e(t,[...n,r],i)}}(function t(n){return{S:e(),B:_m((()=>{let n=vm(e).map((e=>r[e]));if(n.length)return t(n)})),Q:n}}([]),[]),t}(e).map((e=>Zm.from(e))).sort(Im),cg=new Map;for(let u of ag){let e=[cg];for(let t of u){let r=e.map((e=>{let r=e.get(t);return r||(r=new Map,e.set(t,r)),r}));65039===t?e.push(...r):e=r}for(let t of e)t.V=u}}function ug(e){return(fg(e)?"":`${dg(hg([e]))} `)+Sm(e)}function dg(e){return`"${e}"\u200e`}function hg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sm,n=[];var i;i=e[0],lg(),Xm.has(i)&&n.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,o=e.length;for(let a=0;a<o;a++){let t=e[a];fg(t)&&(n.push(Tm(e.slice(s,a))),n.push(r(t)),s=a+1)}return n.push(Tm(e.slice(s,o))),n.join("")}function fg(e){return lg(),tg.has(e)}function pg(e){return gg(mg(e,$m,Ag))}function mg(e,t,r){if(!e)return[];lg();let n=0;return e.split(Km).map((e=>{let i=Pm(e),s={input:i,offset:n};n+=i.length+1;try{let e,n=s.tokens=wg(i,t,r),o=n.length;if(!o)throw new Error("empty label");let a=s.output=n.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||n[0].is_emoji)&&a.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${Tm(e.slice(0,4))}"`)}(a),e="ASCII";else{let t=n.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Xm.has(a[0]))throw vg("leading combining mark");for(let e=1;e<o;e++){let t=n[e];if(!t.is_emoji&&Xm.has(t[0]))throw vg(`emoji + combining mark: "${Tm(n[e-1])} + ${hg([t[0]])}"`)}!function(e){let t=e[0],r=mm.get(t);if(r)throw vg(`leading ${r}`);let n=e.length,i=-1;for(let s=1;s<n;s++){t=e[s];let n=mm.get(t);if(n){if(i==s)throw vg(`${r} + ${n}`);i=s+1,r=n}}if(i==n)throw vg(`trailing ${r}`)}(a);let r=Vm(new Set(t)),[i]=function(e){let t=ng;for(let r of e){let e=t.filter((e=>Qm(e,r)));if(!e.length)throw ng.some((e=>Qm(e,r)))?bg(t[0],r):yg(r);if(t=e,1==e.length)break}return t}(r);!function(e,t){for(let r of t)if(!Qm(e,r))throw bg(e,r);if(e.M){let e=Wm(t);for(let t=1,r=e.length;t<r;t++)if(eg.has(e[t])){let n=t+1;for(let i;n<r&&eg.has(i=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==i)throw new Error(`duplicate non-spacing marks: ${ug(i)}`);if(n-t>4)throw new Error(`excessive non-spacing marks: ${dg(hg(e.slice(t-1,n)))} (${n-t}/4)`);t=n}}}(i,t),function(e,t){let r,n=[];for(let i of t){let e=sg.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(r=r?r.filter((e=>t.has(e))):Vm(t),!r.length)return}else n.push(i)}if(r)for(let i of r)if(n.every((e=>Qm(i,e))))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}(i,r),e=i.N}else e="Emoji"}s.type=e}catch(yZ){s.error=yZ}return s}))}function gg(e){return e.map((t=>{let{input:r,error:n,output:i}=t;if(n){let t=n.message;throw new Error(1==e.length?t:`Invalid label ${dg(hg(r,63))}: ${t}`)}return Tm(i)})).join(Km)}function yg(e){return new Error(`disallowed character: ${ug(e)}`)}function bg(e,t){let r=ug(t),n=ng.find((e=>e.P.has(t)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function vg(e){return new Error(`illegal placement: ${e}`)}function wg(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let s=_g(e);if(s)i.length&&(n.push(t(i)),i=[]),n.push(r(s));else{let t=e.pop();if(og.has(t))i.push(t);else{let e=Ym.get(t);if(e)i.push(...e);else if(!Jm.has(t))throw yg(t)}}}return i.length&&n.push(t(i)),n}function Ag(e){return e.filter((e=>65039!=e))}function _g(e,t){let r,n=cg,i=e.length;for(;i&&(n=n.get(e[--i]),n);){let{V:s}=n;s&&(r=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return r}const Eg=new Uint8Array(32);function xg(e){return Nu(0!==e.length,"invalid ENS name; empty component","comp",e),e}function kg(e){const t=Dh(function(e){try{if(0===e.length)throw new Error("empty label");return pg(e)}catch(gZ){Nu(!1,`invalid ENS name (${gZ.message})`,"name",e)}}(e)),r=[];if(0===e.length)return r;let n=0;for(let i=0;i<t.length;i++){46===t[i]&&(r.push(xg(t.slice(n,i))),n=i+1)}return Nu(n<t.length,"invalid ENS name; empty component","name",e),r.push(xg(t.slice(n))),r}function Sg(e){Nu("string"===typeof e,"invalid ENS name; not a string","name",e),Nu(e.length,"invalid ENS name (empty label)","name",e);let t=Eg;const r=kg(e);for(;r.length;)t=oh(qu([t,oh(r.pop())]));return Gu(t)}function Pg(e,t){const r=null!=t?t:63;return Nu(r<=255,"DNS encoded label cannot exceed 255","length",r),Gu(qu(kg(e).map((t=>{Nu(t.length<=r,`label ${JSON.stringify(e)} exceeds ${r} bytes`,"name",e);const n=new Uint8Array(t.length+1);return n.set(t,1),n[0]=n.length-1,n}))))+"00"}Eg.fill(0);class Tg extends Ud{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Bd(this.buffer)}update(e){xd(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=jd(e)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Bd(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){xd(this),kd(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let u=s;u<n;u++)t[u]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Bd(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}const Ig=(e,t,r)=>e&t^e&r^t&r,Og=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rg=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cg=new Uint32Array(64);class Ng extends Tg{constructor(){super(64,32,8,!1),this.A=0|Rg[0],this.B=0|Rg[1],this.C=0|Rg[2],this.D=0|Rg[3],this.E=0|Rg[4],this.F=0|Rg[5],this.G=0|Rg[6],this.H=0|Rg[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)Cg[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=Cg[d-15],t=Cg[d-2],r=Dd(e,7)^Dd(e,18)^e>>>3,n=Dd(t,17)^Dd(t,19)^t>>>10;Cg[d]=n+Cg[d-7]+r+Cg[d-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let d=0;d<64;d++){const e=l+(Dd(o,6)^Dd(o,11)^Dd(o,25))+((u=o)&a^~u&c)+Og[d]+Cg[d]|0,t=(Dd(r,2)^Dd(r,13)^Dd(r,22))+Ig(r,n,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=n,n=r,r=e+t|0}var u;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,s,o,a,c,l)}roundClean(){Cg.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Lg=Fd((()=>new Ng)),[Mg,Bg]=(()=>Ld.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Dg=new Uint32Array(80),jg=new Uint32Array(80);class Ug extends Tg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,r,n,i,s,o,a,c,l,u,d,h,f,p,m]}set(e,t,r,n,i,s,o,a,c,l,u,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let b=0;b<16;b++,t+=4)Dg[b]=e.getUint32(t),jg[b]=e.getUint32(t+=4);for(let b=16;b<80;b++){const e=0|Dg[b-15],t=0|jg[b-15],r=Ld.rotrSH(e,t,1)^Ld.rotrSH(e,t,8)^Ld.shrSH(e,t,7),n=Ld.rotrSL(e,t,1)^Ld.rotrSL(e,t,8)^Ld.shrSL(e,t,7),i=0|Dg[b-2],s=0|jg[b-2],o=Ld.rotrSH(i,s,19)^Ld.rotrBH(i,s,61)^Ld.shrSH(i,s,6),a=Ld.rotrSL(i,s,19)^Ld.rotrBL(i,s,61)^Ld.shrSL(i,s,6),c=Ld.add4L(n,a,jg[b-7],jg[b-16]),l=Ld.add4H(c,r,o,Dg[b-7],Dg[b-16]);Dg[b]=0|l,jg[b]=0|c}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let b=0;b<80;b++){const e=Ld.rotrSH(u,d,14)^Ld.rotrSH(u,d,18)^Ld.rotrBH(u,d,41),t=Ld.rotrSL(u,d,14)^Ld.rotrSL(u,d,18)^Ld.rotrBL(u,d,41),v=u&h^~u&p,w=d&f^~d&m,A=Ld.add5L(y,t,w,Bg[b],jg[b]),_=Ld.add5H(A,g,e,v,Mg[b],Dg[b]),E=0|A,x=Ld.rotrSH(r,n,28)^Ld.rotrBH(r,n,34)^Ld.rotrBH(r,n,39),k=Ld.rotrSL(r,n,28)^Ld.rotrBL(r,n,34)^Ld.rotrBL(r,n,39),S=r&i^r&o^i&o,P=n&s^n&a^s&a;g=0|p,y=0|m,p=0|h,m=0|f,h=0|u,f=0|d,({h:u,l:d}=Ld.add(0|c,0|l,0|_,0|E)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const T=Ld.add3L(E,k,P);r=Ld.add3H(T,_,x,S),n=0|T}({h:r,l:n}=Ld.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=Ld.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Ld.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=Ld.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Ld.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=Ld.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=Ld.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=Ld.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,n,i,s,o,a,c,l,u,d,h,f,p,m,g,y)}roundClean(){Dg.fill(0),jg.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Fg=Fd((()=>new Ug));const Hg=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();Hg.crypto||Hg.msCrypto;function zg(e){switch(e){case"sha256":return Lg.create();case"sha512":return Fg.create()}Nu(!1,"invalid hashing algorithm name","algorithm",e)}const Gg=function(e){return zg("sha256").update(e).digest()},qg=function(e){return zg("sha512").update(e).digest()};let Wg=Gg,$g=qg,Kg=!1,Vg=!1;function Qg(e){const t=ju(e,"data");return Gu(Wg(t))}function Zg(e){const t=ju(e,"data");return Gu($g(t))}Qg._=Gg,Qg.lock=function(){Kg=!0},Qg.register=function(e){if(Kg)throw new Error("sha256 is locked");Wg=e},Object.freeze(Qg),Zg._=qg,Zg.lock=function(){Vg=!0},Zg.register=function(e){if(Vg)throw new Error("sha512 is locked");$g=e},Object.freeze(Qg);const Yg="0x0000000000000000000000000000000000000000000000000000000000000000",Jg=BigInt(0),Xg=BigInt(1),ey=BigInt(2),ty=BigInt(27),ry=BigInt(28),ny=BigInt(35),iy={};function sy(e){return Vu(od(e),32)}class oy{#X;#ee;#te;#re;get r(){return this.#X}set r(e){Nu(32===Wu(e),"invalid r","value",e),this.#X=Gu(e)}get s(){return this.#ee}set s(e){Nu(32===Wu(e),"invalid s","value",e);const t=Gu(e);Nu(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#ee=t}get v(){return this.#te}set v(e){const t=id(e,"value");Nu(27===t||28===t,"invalid v","v",e),this.#te=t}get networkV(){return this.#re}get legacyChainId(){const e=this.networkV;return null==e?null:oy.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=ju(this.s);return this.yParity&&(e[0]|=128),Gu(e)}get compactSerialized(){return qu([this.r,this.yParityAndS])}get serialized(){return qu([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){Bu(e,iy,"Signature"),this.#X=t,this.#ee=r,this.#te=n,this.#re=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new oy(iy,this.r,this.s,this.v);return this.networkV&&(e.#re=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=ed(e,"v");return t==ty||t==ry?Jg:(Nu(t>=ny,"invalid EIP-155 v","v",e),(t-ny)/ey)}static getChainIdV(e,t){return ed(e)*ey+BigInt(35+t-27)}static getNormalizedV(e){const t=ed(e);return t===Jg||t===ty?27:t===Xg||t===ry?28:(Nu(t>=ny,"invalid v","v",e),t&Xg?27:28)}static from(e){function t(t,r){Nu(t,r,"signature",e)}if(null==e)return new oy(iy,Yg,Yg,27);if("string"===typeof e){const r=ju(e,"signature");if(64===r.length){const e=Gu(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new oy(iy,e,Gu(t),n)}if(65===r.length){const e=Gu(r.slice(0,32)),n=r.slice(32,64);t(0===(128&n[0]),"non-canonical s");const i=oy.getNormalizedV(r[64]);return new oy(iy,e,Gu(n),i)}t(!1,"invalid raw signature length")}if(e instanceof oy)return e.clone();const r=e.r;t(null!=r,"missing r");const n=sy(r),i=function(e,r){if(null!=e)return sy(e);if(null!=r){t(Fu(r,32),"invalid yParityAndS");const e=ju(r);return e[0]&=127,Gu(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&ju(i)[0]),"non-canonical s");const{networkV:s,v:o}=function(e,r,n){if(null!=e){const t=ed(e);return{networkV:t>=ny?t:void 0,v:oy.getNormalizedV(t)}}if(null!=r)return t(Fu(r,32),"invalid yParityAndS"),{v:128&ju(r)[0]?28:27};if(null!=n){switch(id(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new oy(iy,n,i,o);return s&&(a.#re=s),t(null==e.yParity||id(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}function ay(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function cy(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.length>0&&!r.includes(e.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${e.length}`)}function ly(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ay(e.outputLen),ay(e.blockLen)}function uy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dy(e,t){cy(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const hy="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,fy=e=>e instanceof Uint8Array,py=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),my=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function gy(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!fy(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class yy{clone(){return this._cloneInto()}}function by(e){const t=t=>e().update(gy(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function vy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(hy&&"function"===typeof hy.getRandomValues)return hy.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class wy extends yy{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=py(this.buffer)}update(e){uy(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=gy(e)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=py(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){uy(this),dy(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let u=s;u<n;u++)t[u]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=py(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}const Ay=(e,t,r)=>e&t^e&r^t&r,_y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ey=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xy=new Uint32Array(64);class ky extends wy{constructor(){super(64,32,8,!1),this.A=0|Ey[0],this.B=0|Ey[1],this.C=0|Ey[2],this.D=0|Ey[3],this.E=0|Ey[4],this.F=0|Ey[5],this.G=0|Ey[6],this.H=0|Ey[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)xy[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=xy[d-15],t=xy[d-2],r=my(e,7)^my(e,18)^e>>>3,n=my(t,17)^my(t,19)^t>>>10;xy[d]=n+xy[d-7]+r+xy[d-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let d=0;d<64;d++){const e=l+(my(o,6)^my(o,11)^my(o,25))+((u=o)&a^~u&c)+_y[d]+xy[d]|0,t=(my(r,2)^my(r,13)^my(r,22))+Ay(r,n,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=n,n=r,r=e+t|0}var u;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,s,o,a,c,l)}roundClean(){xy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Sy=by((()=>new ky)),Py=(BigInt(0),BigInt(1)),Ty=BigInt(2),Iy=e=>e instanceof Uint8Array,Oy=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ry(e){if(!Iy(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Oy[e[r]];return t}function Cy(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function Ny(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const t=2*n,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function Ly(e){return Cy(Ry(e))}function My(e){if(!Iy(e))throw new Error("Uint8Array expected");return Cy(Ry(Uint8Array.from(e).reverse()))}function By(e,t){return Ny(e.toString(16).padStart(2*t,"0"))}function Dy(e,t){return By(e,t).reverse()}function jy(e,t,r){let n;if("string"===typeof t)try{n=Ny(t)}catch(bZ){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${bZ}`)}else{if(!Iy(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"===typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function Uy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!Iy(e))throw new Error("Uint8Array expected");n.set(e,i),i+=e.length})),n}const Fy=e=>(Ty<<BigInt(e-1))-Py,Hy=e=>new Uint8Array(e),zy=e=>Uint8Array.from(e);function Gy(e,t,r){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof r)throw new Error("hmacFn must be a function");let n=Hy(e),i=Hy(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r(i,n,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hy();i=a(zy([0]),e),n=a(),0!==e.length&&(i=a(zy([1]),e),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return Uy(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(l()));)c();return o(),r}}const qy={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Wy(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=(t,r,n)=>{const i=qy[r];if("function"!==typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=e[t];if((!n||void 0!==s)&&!i(s,e))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const $y=BigInt(0),Ky=BigInt(1),Vy=BigInt(2),Qy=BigInt(3),Zy=BigInt(4),Yy=BigInt(5),Jy=BigInt(8);BigInt(9),BigInt(16);function Xy(e,t){const r=e%t;return r>=$y?r:t+r}function eb(e,t,r){if(r<=$y||t<$y)throw new Error("Expected power/modulo > 0");if(r===Ky)return $y;let n=Ky;for(;t>$y;)t&Ky&&(n=n*e%r),e=e*e%r,t>>=Ky;return n}function tb(e,t,r){let n=e;for(;t-- >$y;)n*=n,n%=r;return n}function rb(e,t){if(e===$y||t<=$y)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Xy(e,t),n=t,i=$y,s=Ky,o=Ky,a=$y;for(;r!==$y;){const e=n/r,t=n%r,c=i-o*e,l=s-a*e;n=r,r=t,i=o,s=a,o=c,a=l}if(n!==Ky)throw new Error("invert: does not exist");return Xy(i,t)}function nb(e){if(e%Zy===Qy){const t=(e+Ky)/Zy;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%Jy===Yy){const t=(e-Yy)/Jy;return function(e,r){const n=e.mul(r,Vy),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,Vy),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Ky)/Vy;let r,n,i;for(r=e-Ky,n=0;r%Vy===$y;r/=Vy,n++);for(i=Vy;i<e&&eb(i,t,e)!==e-Ky;i++);if(1===n){const t=(e+Ky)/Zy;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const s=(r+Ky)/Vy;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,i),r),l=e.pow(o,s),u=e.pow(o,r);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const r=e.pow(c,Ky<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),u=e.mul(u,c),a=t}return l}}(e)}const ib=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sb(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function ob(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ab(e){const t=ob(e);return t+Math.ceil(t/2)}class cb extends yy{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ly(e);const r=gy(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return uy(this),this.iHash.update(e),this}digestInto(e){uy(this),cy(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const lb=(e,t,r)=>new cb(e,t).update(r).digest();lb.create=(e,t)=>new cb(e,t);const ub=BigInt(0),db=BigInt(1);function hb(e){return Wy(e.Fp,ib.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Wy(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sb(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:fb,aT:pb}=t,mb={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=mb;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:fb(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=mb,r="string"===typeof e?pb(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=mb._parseInt(r.subarray(2)),{d:o,l:a}=mb._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}},gb=BigInt(0),yb=BigInt(1),bb=(BigInt(2),BigInt(3));BigInt(4);function vb(e){const t=function(e){const t=hb(e);Wy(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof r||"bigint"!==typeof r.beta||"function"!==typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return Uy(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"===typeof e&&gb<e&&e<t.n}function a(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=t;if(r&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=Ry(e)),"string"!==typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let o;try{o="bigint"===typeof e?e:Ly(jy("private key",e,n))}catch(gZ){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=Xy(o,s)),a(o),o}const l=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(jy("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=s(e);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,bb),{px:s,py:o,pz:a}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,h=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),m=r.mul(s,o);return m=r.add(m,m),u=r.mul(s,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(i,p),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(m,c),u=r.mul(i,u),p=r.mul(e,p),m=r.sub(h,p),m=r.mul(e,m),m=r.add(m,u),u=r.add(h,h),h=r.add(u,h),h=r.add(h,p),h=r.mul(h,m),l=r.add(l,h),p=r.mul(o,a),p=r.add(p,p),h=r.mul(p,m),c=r.sub(c,h),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new d(c,l,u)}add(e){u(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=r.ZERO,h=r.ZERO,f=r.ZERO;const p=t.a,m=r.mul(t.b,bb);let g=r.mul(n,o),y=r.mul(i,a),b=r.mul(s,c),v=r.add(n,i),w=r.add(o,a);v=r.mul(v,w),w=r.add(g,y),v=r.sub(v,w),w=r.add(n,s);let A=r.add(o,c);return w=r.mul(w,A),A=r.add(g,b),w=r.sub(w,A),A=r.add(i,s),l=r.add(a,c),A=r.mul(A,l),l=r.add(y,b),A=r.sub(A,l),f=r.mul(p,w),l=r.mul(m,b),f=r.add(l,f),l=r.sub(y,f),f=r.add(y,f),h=r.mul(l,f),y=r.add(g,g),y=r.add(y,g),b=r.mul(p,b),w=r.mul(m,w),y=r.add(y,b),b=r.sub(g,b),b=r.mul(p,b),w=r.add(w,b),g=r.mul(y,w),h=r.add(h,g),g=r.mul(A,w),l=r.mul(v,l),l=r.sub(l,g),g=r.mul(v,y),f=r.mul(A,f),f=r.add(f,g),new d(l,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,l,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}))}multiplyUnsafe(e){const n=d.ZERO;if(e===gb)return n;if(a(e),e===yb)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:c,k2:l}=i.splitScalar(e),u=n,h=n,p=this;for(;o>gb||l>gb;)o&yb&&(u=u.add(p)),l&yb&&(h=h.add(p)),p=p.double(),o>>=yb,l>>=yb;return s&&(u=u.negate()),c&&(h=h.negate()),h=new d(r.mul(h.px,i.beta),h.py,h.pz),u.add(h)}multiply(e){a(e);let n,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:l,f:u}=this.wNAF(t),{p:h,f:p}=this.wNAF(c);l=f.constTimeNegate(e,l),h=f.constTimeNegate(a,h),h=new d(r.mul(h.px,o.beta),h.py,h.pz),n=l.add(h),i=u.add(p)}else{const{p:e,f:t}=this.wNAF(s);n=e,i=t}return d.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=d.BASE,i=(e,t)=>t!==gb&&t!==yb&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){const{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));const o=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===yb)return!0;if(r)return r(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===yb?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),n(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ry(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,f=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>ub;)r&db&&(n=n.add(i)),i=i.double(),r>>=db;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),s=[];let o=e,a=o;for(let n=0;n<r;n++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=n(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let n=Number(s&u);s>>=h,n>a&&(n-=d,s+=db);const o=t,f=t+Math.abs(n)-1,p=e%2!==0,m=n<0;0===n?l=l.add(r(p,i[o])):c=c.add(r(m,i[f]))}return{p:c,f:l}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function wb(e){const t=function(e){const t=hb(e);return Wy(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(e){return Xy(e,n)}function a(e){return rb(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=vb({...t,toBytes(e,t,n){const i=t.toAffine(),s=r.toBytes(i.x),o=Uy;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],o=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===s&&4===n){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const e=Ly(o);if(!(gb<(a=e)&&a<r.ORDER))throw new Error("Point is not on curve");const t=u(e);let i=r.sqrt(t);return 1===(1&n)!==((i&yb)===yb)&&(i=r.neg(i)),{x:e,y:i}}var a}}),h=e=>Ry(By(e,t.nByteLength));function f(e){return e>n>>yb}const p=(e,t,r)=>Ly(e.slice(t,r));class m{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=jy("compactSignature",e,2*r),new m(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=mb.toSig(jy("DER",e));return new m(t,r)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:s}=this,l=v(jy("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?n+t.n:n;if(u>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&s)?"02":"03",f=c.fromHex(d+h(u)),p=a(u),m=o(-l*p),g=o(i*p),y=c.BASE.multiplyAndAddUnsafe(f,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Ny(this.toDERHex())}toDERHex(){return mb.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ny(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const g={isValidPrivateKey(e){try{return l(e),!0}catch(gZ){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=ab(t.n);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.length,i=ob(t),s=ab(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=Xy(r?Ly(e):My(e),t-Ky)+Ky;return r?Dy(o,i):By(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e){const t=e instanceof Uint8Array,r="string"===typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof c}const b=t.bits2int||function(e){const r=Ly(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},v=t.bits2int_modN||function(e){return o(b(e))},w=Fy(t.nBitLength);function A(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(gb<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return By(e,t.nByteLength)}function _(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:u}=t;let{lowS:h,prehash:p,extraEntropy:g}=i;null==h&&(h=!0),e=jy("msgHash",e),p&&(e=jy("prehashed msgHash",s(e)));const y=v(e),w=l(n),_=[A(w),A(y)];if(null!=g){const e=!0===g?u(r.BYTES):g;_.push(jy("extraEntropy",e))}const x=Uy(..._),k=y;return{seed:x,k2sig:function(e){const t=b(e);if(!d(t))return;const r=a(t),n=c.BASE.multiply(t).toAffine(),i=o(n.x);if(i===gb)return;const s=o(r*o(k+i*w));if(s===gb)return;let l=(n.x===i?0:2)|Number(n.y&yb),u=s;return h&&f(s)&&(u=function(e){return f(e)?o(-e):e}(s),l^=1),new m(i,u,l)}}}const E={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;const{seed:i,k2sig:s}=_(e,r,n),o=t;return Gy(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;const s=e;if(r=jy("msgHash",r),n=jy("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=i;let d,h;try{if("string"===typeof s||s instanceof Uint8Array)try{d=m.fromDER(s)}catch(_){if(!(_ instanceof mb.Err))throw _;d=m.fromCompact(s)}else{if("object"!==typeof s||"bigint"!==typeof s.r||"bigint"!==typeof s.s)throw new Error("PARSE");{const{r:e,s:t}=s;d=new m(e,t)}}h=c.fromHex(n)}catch(gZ){if("PARSE"===gZ.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&d.hasHighS())return!1;u&&(r=t.hash(r));const{r:f,s:p}=d,g=v(r),y=a(p),b=o(g*y),w=o(f*y),A=c.BASE.multiplyAndAddUnsafe(h,b,w)?.toAffine();return!!A&&o(A.x)===f},ProjectivePoint:c,Signature:m,utils:g}}function Ab(e){return{hash:e,hmac:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return lb(e,t,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!fy(e))throw new Error("Uint8Array expected");n.set(e,i),i+=e.length})),n}(...n))},randomBytes:vy}}const _b=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Eb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),xb=BigInt(1),kb=BigInt(2),Sb=(e,t)=>(e+t/kb)/t;function Pb(e){const t=_b,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=tb(u,r,t)*u%t,h=tb(d,r,t)*u%t,f=tb(h,kb,t)*l%t,p=tb(f,i,t)*f%t,m=tb(p,s,t)*p%t,g=tb(m,a,t)*m%t,y=tb(g,c,t)*g%t,b=tb(y,a,t)*m%t,v=tb(b,r,t)*u%t,w=tb(v,o,t)*p%t,A=tb(w,n,t)*l%t,_=tb(A,kb,t);if(!Tb.eql(Tb.sqr(_),e))throw new Error("Cannot find square root");return _}const Tb=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=$y)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=sb(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=nb(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Fy(i),ZERO:$y,ONE:Ky,create:t=>Xy(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return $y<=t&&t<e},is0:e=>e===$y,isOdd:e=>(e&Ky)===Ky,neg:t=>Xy(-t,e),eql:(e,t)=>e===t,sqr:t=>Xy(t*t,e),add:(t,r)=>Xy(t+r,e),sub:(t,r)=>Xy(t-r,e),mul:(t,r)=>Xy(t*r,e),pow:(e,t)=>function(e,t,r){if(r<$y)throw new Error("Expected power > 0");if(r===$y)return e.ONE;if(r===Ky)return t;let n=e.ONE,i=t;for(;r>$y;)r&Ky&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Ky;return n}(a,e,t),div:(t,r)=>Xy(t*rb(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>rb(t,e),sqrt:n.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?Dy(e,s):By(e,s),fromBytes:e=>{if(e.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?My(e):Ly(e)}});return Object.freeze(a)}(_b,void 0,void 0,{sqrt:Pb}),Ib=function(e,t){const r=t=>wb({...e,...Ab(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:Tb,n:Eb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Eb,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-xb*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=Sb(s*e,t),c=Sb(-n*e,t);let l=Xy(e-a*r-c*i,t),u=Xy(-a*n-c*s,t);const d=l>o,h=u>o;if(d&&(l=t-l),h&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Sy);BigInt(0);Ib.ProjectivePoint;class Ob{#ne;constructor(e){Nu(32===Wu(e),"invalid private key","privateKey","[REDACTED]"),this.#ne=Gu(e)}get privateKey(){return this.#ne}get publicKey(){return Ob.computePublicKey(this.#ne)}get compressedPublicKey(){return Ob.computePublicKey(this.#ne,!0)}sign(e){Nu(32===Wu(e),"invalid digest length","digest",e);const t=Ib.sign(Uu(e),Uu(this.#ne),{lowS:!0});return oy.from({r:sd(t.r,32),s:sd(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Ob.computePublicKey(e);return Gu(Ib.getSharedSecret(Uu(this.#ne),ju(t),!1))}static computePublicKey(e,t){let r=ju(e,"key");if(32===r.length){return Gu(Ib.getPublicKey(r,!!t))}if(64===r.length){const e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return Gu(Ib.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){Nu(32===Wu(e),"invalid digest length","digest",e);const r=oy.from(t);let n=Ib.Signature.fromCompact(Uu(qu([r.r,r.s])));n=n.addRecoveryBit(r.yParity);const i=n.recoverPublicKey(Uu(e));return Nu(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){const n=Ib.ProjectivePoint.fromHex(Ob.computePublicKey(e).substring(2)),i=Ib.ProjectivePoint.fromHex(Ob.computePublicKey(t).substring(2));return"0x"+n.add(i).toHex(!!r)}}function Rb(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Cb(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function Nb(e,t,r,n){const i=[];for(;r<t+1+n;){const s=Lb(e,r);i.push(s.result),Cu((r+=s.consumed)<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:i}}function Lb(e,t){Cu(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const r=t=>{Cu(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const n=e[t]-247;r(t+1+n);const i=Cb(e,t+1,n);return r(t+1+n+i),Nb(e,t,t+1+n,n+i)}if(e[t]>=192){const n=e[t]-192;return r(t+1+n),Nb(e,t,t+1,n)}if(e[t]>=184){const n=e[t]-183;r(t+1+n);const i=Cb(e,t+1,n);r(t+1+n+i);return{consumed:1+n+i,result:Gu(e.slice(t+1+n,t+1+n+i))}}if(e[t]>=128){const n=e[t]-128;r(t+1+n);return{consumed:1+n,result:Gu(e.slice(t+1,t+1+n))}}return{consumed:1,result:Rb(e[t])}}function Mb(e){const t=ju(e,"data"),r=Lb(t,0);return Nu(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}function Bb(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Db(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Db(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=Bb(t.length);return r.unshift(247+r.length),r.concat(t)}const t=Array.prototype.slice.call(ju(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=Bb(t.length);return r.unshift(183+r.length),r.concat(t)}const jb="0123456789abcdef";function Ub(e){let t="0x";for(const r of Db(e))t+=jb[r>>4],t+=jb[15&r];return t}function Fb(e,t){return function(e){let t;return t="string"===typeof e?Ob.computePublicKey(e,!1):e.publicKey,fh(oh("0x"+t.substring(4)).substring(26))}(Ob.recoverPublicKey(e,t))}const Hb=BigInt(0),zb=BigInt(2),Gb=BigInt(27),qb=BigInt(28),Wb=BigInt(35),$b=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Kb=131072;function Vb(e,t){let r=e.toString(16);for(;r.length<2;)r="0"+r;return r+=Qg(t).substring(4),"0x"+r}function Qb(e){return"0x"===e?null:fh(e)}function Zb(e,t){try{return sp(e)}catch(gZ){Nu(!1,gZ.message,t,e)}}function Yb(e,t){return"0x"===e?0:id(e,t)}function Jb(e,t){if("0x"===e)return Hb;const r=ed(e,t);return Nu(r<=$b,"value exceeds uint size",t,r),r}function Xb(e,t){const r=ed(e,"value"),n=od(r);return Nu(n.length<=32,"value too large",`tx.${t}`,r),n}function ev(e){return sp(e).map((e=>[e.address,e.storageKeys]))}function tv(e,t){Nu(Array.isArray(e),`invalid ${t}`,"value",e);for(let r=0;r<e.length;r++)Nu(Fu(e[r],32),"invalid ${ param } hash",`value[${r}]`,e[r]);return e}function rv(e,t){let r;try{if(r=Yb(t[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(gZ){Nu(!1,"invalid yParity","yParity",t[0])}const n=Vu(t[1],32),i=Vu(t[2],32),s=oy.from({r:n,s:i,yParity:r});e.signature=s}class nv{#ie;#se;#t;#oe;#ae;#ce;#le;#ue;#de;#he;#fe;#pe;#me;#ge;#ye;#be;get type(){return this.#ie}set type(e){switch(e){case null:this.#ie=null;break;case 0:case"legacy":this.#ie=0;break;case 1:case"berlin":case"eip-2930":this.#ie=1;break;case 2:case"london":case"eip-1559":this.#ie=2;break;case 3:case"cancun":case"eip-4844":this.#ie=3;break;default:Nu(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=this.#se;return null==e&&3===this.type?wp:e}set to(e){this.#se=null==e?null:fh(e)}get nonce(){return this.#oe}set nonce(e){this.#oe=id(e,"value")}get gasLimit(){return this.#ae}set gasLimit(e){this.#ae=ed(e)}get gasPrice(){const e=this.#ce;return null!=e||0!==this.type&&1!==this.type?e:Hb}set gasPrice(e){this.#ce=null==e?null:ed(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#le;return null==e?2===this.type||3===this.type?Hb:null:e}set maxPriorityFeePerGas(e){this.#le=null==e?null:ed(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#ue;return null==e?2===this.type||3===this.type?Hb:null:e}set maxFeePerGas(e){this.#ue=null==e?null:ed(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=Gu(e)}get value(){return this.#de}set value(e){this.#de=ed(e,"value")}get chainId(){return this.#he}set chainId(e){this.#he=ed(e)}get signature(){return this.#fe||null}set signature(e){this.#fe=null==e?null:oy.from(e)}get accessList(){const e=this.#pe||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#pe=null==e?null:sp(e)}get maxFeePerBlobGas(){const e=this.#me;return null==e&&3===this.type?Hb:e}set maxFeePerBlobGas(e){this.#me=null==e?null:ed(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#ge;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){Nu(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)Nu(Fu(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#ge=e}get blobs(){return null==this.#be?null:this.#be.map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void(this.#be=null);const t=[],r=[];for(let n=0;n<e.length;n++){const i=e[n];if(Hu(i)){Cu(this.#ye,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=ju(i);if(Nu(e.length<=Kb,"blob is too large",`blobs[${n}]`,i),e.length!==Kb){const t=new Uint8Array(Kb);t.set(e),e=t}const s=this.#ye.blobToKzgCommitment(e),o=Gu(this.#ye.computeBlobKzgProof(e,s));t.push({data:Gu(e),commitment:Gu(s),proof:o}),r.push(Vb(1,s))}else{const e=Gu(i.commitment);t.push({data:Gu(i.data),commitment:e,proof:Gu(i.proof)}),r.push(Vb(1,e))}}this.#be=t,this.#ge=r}get kzg(){return this.#ye}set kzg(e){this.#ye=e}constructor(){this.#ie=null,this.#se=null,this.#oe=0,this.#ae=Hb,this.#ce=null,this.#le=null,this.#ue=null,this.#t="0x",this.#de=Hb,this.#he=Hb,this.#fe=null,this.#pe=null,this.#me=null,this.#ge=null,this.#be=null,this.#ye=null}get hash(){return null==this.signature?null:oh(this.#ve(!0,!1))}get unsignedHash(){return oh(this.unsignedSerialized)}get from(){return null==this.signature?null:Fb(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Ob.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#ve(e,t){Cu(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const r=[Xb(e.nonce,"nonce"),Xb(e.gasPrice||0,"gasPrice"),Xb(e.gasLimit,"gasLimit"),e.to||"0x",Xb(e.value,"value"),e.data];let n=Hb;if(e.chainId!=Hb)n=ed(e.chainId,"tx.chainId"),Nu(!t||null==t.networkV||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(n=t)}if(!t)return n!==Hb&&(r.push(od(n)),r.push("0x"),r.push("0x")),Ub(r);let i=BigInt(27+t.yParity);return n!==Hb?i=oy.getChainIdV(n,t.v):BigInt(t.v)!==i&&Nu(!1,"tx.chainId/sig.v mismatch","sig",t),r.push(od(i)),r.push(od(t.r)),r.push(od(t.s)),Ub(r)}(this,r);case 1:return function(e,t){const r=[Xb(e.chainId,"chainId"),Xb(e.nonce,"nonce"),Xb(e.gasPrice||0,"gasPrice"),Xb(e.gasLimit,"gasLimit"),e.to||"0x",Xb(e.value,"value"),e.data,ev(e.accessList||[])];return t&&(r.push(Xb(t.yParity,"recoveryParam")),r.push(od(t.r)),r.push(od(t.s))),qu(["0x01",Ub(r)])}(this,r);case 2:return function(e,t){const r=[Xb(e.chainId,"chainId"),Xb(e.nonce,"nonce"),Xb(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Xb(e.maxFeePerGas||0,"maxFeePerGas"),Xb(e.gasLimit,"gasLimit"),e.to||"0x",Xb(e.value,"value"),e.data,ev(e.accessList||[])];return t&&(r.push(Xb(t.yParity,"yParity")),r.push(od(t.r)),r.push(od(t.s))),qu(["0x02",Ub(r)])}(this,r);case 3:return function(e,t,r){const n=[Xb(e.chainId,"chainId"),Xb(e.nonce,"nonce"),Xb(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Xb(e.maxFeePerGas||0,"maxFeePerGas"),Xb(e.gasLimit,"gasLimit"),e.to||wp,Xb(e.value,"value"),e.data,ev(e.accessList||[]),Xb(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),tv(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(n.push(Xb(t.yParity,"yParity")),n.push(od(t.r)),n.push(od(t.s)),r)?qu(["0x03",Ub([n,r.map((e=>e.data)),r.map((e=>e.commitment)),r.map((e=>e.proof))])]):qu(["0x03",Ub(n)])}(this,r,t?this.blobs:null)}Cu(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#ve(!0,!0)}get unsignedSerialized(){return this.#ve(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,n=null!=this.#me||this.#ge;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&Cu(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Cu(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Cu(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(n&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return nv.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new nv;if("string"===typeof e){const t=ju(e);if(t[0]>=127)return nv.from(function(e){const t=Mb(e);Nu(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const r={type:0,nonce:Yb(t[0],"nonce"),gasPrice:Jb(t[1],"gasPrice"),gasLimit:Jb(t[2],"gasLimit"),to:Qb(t[3]),value:Jb(t[4],"value"),data:Gu(t[5]),chainId:Hb};if(6===t.length)return r;const n=Jb(t[6],"v"),i=Jb(t[7],"r"),s=Jb(t[8],"s");if(i===Hb&&s===Hb)r.chainId=n;else{let e=(n-Wb)/zb;e<Hb&&(e=Hb),r.chainId=e,Nu(e!==Hb||n===Gb||n===qb,"non-canonical legacy v","v",t[6]),r.signature=oy.from({r:Vu(t[7],32),s:Vu(t[8],32),v:n})}return r}(t));switch(t[0]){case 1:return nv.from(function(e){const t=Mb(ju(e).slice(1));Nu(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",Gu(e));const r={type:1,chainId:Jb(t[0],"chainId"),nonce:Yb(t[1],"nonce"),gasPrice:Jb(t[2],"gasPrice"),gasLimit:Jb(t[3],"gasLimit"),to:Qb(t[4]),value:Jb(t[5],"value"),data:Gu(t[6]),accessList:Zb(t[7],"accessList")};return 8===t.length||rv(r,t.slice(8)),r}(t));case 2:return nv.from(function(e){const t=Mb(ju(e).slice(1));Nu(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",Gu(e));const r={type:2,chainId:Jb(t[0],"chainId"),nonce:Yb(t[1],"nonce"),maxPriorityFeePerGas:Jb(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Jb(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Jb(t[4],"gasLimit"),to:Qb(t[5]),value:Jb(t[6],"value"),data:Gu(t[7]),accessList:Zb(t[8],"accessList")};return 9===t.length||rv(r,t.slice(9)),r}(t));case 3:return nv.from(function(e){let t=Mb(ju(e).slice(1)),r="3",n=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";const e=t[1],i=t[2],s=t[3];Nu(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),Nu(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),Nu(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),Nu(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),Nu(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),n=[];for(let r=0;r<t[1].length;r++)n.push({data:e[r],commitment:i[r],proof:s[r]});t=t[0]}Nu(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${r}`,"data",Gu(e));const i={type:3,chainId:Jb(t[0],"chainId"),nonce:Yb(t[1],"nonce"),maxPriorityFeePerGas:Jb(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Jb(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Jb(t[4],"gasLimit"),to:Qb(t[5]),value:Jb(t[6],"value"),data:Gu(t[7]),accessList:Zb(t[8],"accessList"),maxFeePerBlobGas:Jb(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};n&&(i.blobs=n),Nu(null!=i.to,`invalid address for transaction type: ${r}`,"data",e),Nu(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<i.blobVersionedHashes.length;s++)Nu(Fu(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",e);return 11===t.length||rv(i,t.slice(11)),i}(t))}Cu(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new nv;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=oy.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(Nu(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Nu(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(Nu(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Nu(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const iv="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const sv=BigInt(58);function ov(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Nu(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class av{name;constructor(e){Pu(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const cv=new RegExp("^(ipfs)://(.*)$","i"),lv=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),cv,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class uv{provider;address;name;#we;#Ae;constructor(e,t,r){Pu(this,{provider:e,address:t,name:r}),this.#we=null,this.#Ae=new pm(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#we&&(this.#we=(async()=>{try{return await this.#Ae.supportsInterface("0x9061b923")}catch(gZ){if(Iu(gZ,"CALL_EXCEPTION"))return!1;throw this.#we=null,gZ}})()),await this.#we}async#_e(e,t){t=(t||[]).slice();const r=this.#Ae.interface;t.unshift(Sg(this.name));let n=null;await this.supportsWildcard()&&(n=r.getFunction(e),Cu(n,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Pg(this.name,255),r.encodeFunctionData(n,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await this.#Ae[e](...t);return n?r.decodeFunctionResult(n,i)[0]:i}catch(gZ){if(!Iu(gZ,"CALL_EXCEPTION"))throw gZ}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#_e("addr(bytes32)");return null==e||e===wp?null:e}catch(gZ){if(Iu(gZ,"CALL_EXCEPTION"))return null;throw gZ}if(e>=0&&e<2147483648){let t=e+2147483648;const r=await this.#_e("addr(bytes32,uint)",[t]);if(Fu(r,20))return fh(r)}let t=null;for(const i of this.provider.plugins)if(i instanceof av&&i.supportsCoinType(e)){t=i;break}if(null==t)return null;const r=await this.#_e("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;const n=await t.decodeAddress(e,r);if(null!=n)return n;Cu(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await this.#_e("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#_e("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${function(e){const t=ju(e);let r=nd(t),n="";for(;r;)n=iv[Number(r%sv)]+n,r/=sv;for(let i=0;i<t.length&&!t[i];i++)n=iv[0]+n;return n}("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;Cu(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<lv.length;r++){const n=t.match(lv[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const r=ov(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{const r="erc721"===i?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});const s=await this.getAddress();if(null==s)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(n[2]||"").split("/");if(2!==o.length)return e.push({type:`!${i}caip`,value:n[2]||""}),{url:null,linkage:e};const a=o[1],c=new pm(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===i){const t=await c.ownerOf(a);if(s!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===i){const t=await c.balanceOf(s,a);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let l=await c[r](a);if(null==l||"0x"===l)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:l}),"erc1155"===i&&(l=l.replace("{id}",sd(a,32).substring(2)),e.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=ov(l)),e.push({type:"metadata-url",value:l});let u={};const d=await new yp(l).send();d.assertOk();try{u=d.bodyJson}catch(gZ){try{e.push({type:"!metadata",value:d.bodyText})}catch(gZ){const r=d.body;return r&&e.push({type:"!metadata",value:Gu(r)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!u)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(u)});let h=u.image;if("string"!==typeof h)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(h.match(/^(https:\/\/|data:)/i));else{if(null==h.match(cv))return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=ov(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch(gZ){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return Cu(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#Ee(e,t){const r=await uv.getEnsAddress(e);try{const n=new pm(r,["function resolver(bytes32) view returns (address)"],e),i=await n.resolver(Sg(t),{enableCcipRead:!0});return i===wp?null:i}catch(gZ){throw gZ}return null}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r)return null;if("eth"!==t&&"eth"===r)return null;const n=await uv.#Ee(e,r);if(null!=n){const i=new uv(e,n,t);return r===t||await i.supportsWildcard()?i:null}r=r.split(".").slice(1).join(".")}}}const dv=BigInt(0);function hv(e,t){return function(r){return null==r?t:e(r)}}function fv(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map((t=>e(t)))}}function pv(e,t){return r=>{const n={};for(const i in e){let s=i;if(t&&i in t&&!(s in r))for(const e of t[i])if(e in r){s=e;break}try{const t=e[i](r[s]);void 0!==t&&(n[i]=t)}catch(gZ){Cu(!1,`invalid value for value.${i} (${gZ instanceof Error?gZ.message:"not-an-error"})`,"BAD_DATA",{value:r})}}return n}}function mv(e){return Nu(Fu(e,!0),"invalid data","value",e),e}function gv(e){return Nu(Fu(e,32),"invalid hash","value",e),e}const yv=pv({address:fh,blockHash:gv,blockNumber:id,data:mv,index:id,removed:hv((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}Nu(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:fv(gv),transactionHash:gv,transactionIndex:id},{index:["logIndex"]});const bv=pv({hash:hv(gv),parentHash:gv,parentBeaconBlockRoot:hv(gv,null),number:id,timestamp:id,nonce:hv(mv),difficulty:ed,gasLimit:ed,gasUsed:ed,stateRoot:hv(gv,null),receiptsRoot:hv(gv,null),blobGasUsed:hv(ed,null),excessBlobGas:hv(ed,null),miner:hv(fh),prevRandao:hv(gv,null),extraData:mv,baseFeePerGas:hv(ed)},{prevRandao:["mixHash"]});const vv=pv({transactionIndex:id,blockNumber:id,transactionHash:gv,address:fh,topics:fv(gv),data:mv,index:id,blockHash:gv},{index:["logIndex"]});const wv=pv({to:hv(fh,null),from:hv(fh,null),contractAddress:hv(fh,null),index:id,root:hv(Gu),gasUsed:ed,blobGasUsed:hv(ed,null),logsBloom:hv(mv),blockHash:gv,hash:gv,logs:fv((function(e){return vv(e)})),blockNumber:id,cumulativeGasUsed:ed,effectiveGasPrice:hv(ed),blobGasPrice:hv(ed,null),status:hv(id),type:hv(id,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Av(e){e.to&&ed(e.to)===dv&&(e.to="0x0000000000000000000000000000000000000000");const t=pv({hash:gv,index:hv(id,void 0),type:e=>"0x"===e||null==e?0:id(e),accessList:hv(sp,null),blobVersionedHashes:hv(fv(gv,!0),null),blockHash:hv(gv,null),blockNumber:hv(id,null),transactionIndex:hv(id,null),from:fh,gasPrice:hv(ed),maxPriorityFeePerGas:hv(ed),maxFeePerGas:hv(ed),maxFeePerBlobGas:hv(ed,null),gasLimit:ed,to:hv(fh,null),value:ed,nonce:id,data:mv,creates:hv(fh,null),chainId:hv(ed,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=fh(e.from);let r=ed(e.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,fh($u(oh(Ub([t,r])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=oy.from(e.signature):t.signature=oy.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&ed(t.blockHash)===dv&&(t.blockHash=null),t}class _v{name;constructor(e){Pu(this,{name:e})}clone(){return new _v(this.name)}}class Ev extends _v{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function n(e,n){let i=(t||{})[e];null==i&&(i=n),Nu("number"===typeof i,`invalud value for ${e}`,"costs",t),r[e]=i}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),Pu(this,r)}clone(){return new Ev(this.effectiveBlock,this)}}class xv extends _v{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),Pu(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new xv(this.address,this.targetNetwork)}}class kv extends _v{#S;#xe;get url(){return this.#S}get processFunc(){return this.#xe}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#S=e,this.#xe=t}clone(){return this}}const Sv=new Map;class Pv{#ke;#he;#Se;constructor(e,t){this.#ke=e,this.#he=ed(t),this.#Se=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#ke}set name(e){this.#ke=e}get chainId(){return this.#he}set chainId(e){this.#he=ed(e,"chainId")}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===ed(e)}catch(gZ){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===ed(e)}catch(gZ){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===ed(e.chainId)}catch(gZ){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#Se.values())}attachPlugin(e){if(this.#Se.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Se.set(e.name,e.clone()),this}getPlugin(e){return this.#Se.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new Pv(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Ev;let r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)"00"===e.data.substring(n,n+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const n=sp(e.accessList);for(const e in n)r+=t.txAccessListAddress+t.txAccessListStorageKey*n[e].storageKeys.length}return r}static from(e){if(function(){if(Ov)return;function e(e,t,r){const n=function(){const n=new Pv(e,t);return null!=r.ensNetwork&&n.attachPlugin(new xv(null,r.ensNetwork)),n.attachPlugin(new Ev),(r.plugins||[]).forEach((e=>{n.attachPlugin(e)})),n};Pv.register(e,n),Pv.register(t,n),r.altNames&&r.altNames.forEach((e=>{Pv.register(e,n)}))}Ov=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[Iv("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Iv("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return Pv.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=Sv.get(e);if(t)return t();if("bigint"===typeof e)return new Pv("unknown",e);Nu(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){Nu("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new Pv(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new xv(e.ensAddress,e.ensNetwork)),t}Nu(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const r=Sv.get(e);r&&Nu(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Sv.set(e,t)}}function Tv(e,t){const r=String(e);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw new Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function Iv(e){return new kv(e,(async(e,t,r)=>{let n;r.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([r.send(),e()]);n=t;const s=n.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Tv(s.maxFee,9),maxPriorityFeePerGas:Tv(s.maxPriorityFee,9)}}catch(gZ){Cu(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:gZ})}}))}let Ov=!1;function Rv(e){return JSON.parse(JSON.stringify(e))}class Cv{#Pe;#Te;#Ie;#Oe;constructor(e){this.#Pe=e,this.#Te=null,this.#Ie=4e3,this.#Oe=-2}get pollingInterval(){return this.#Ie}set pollingInterval(e){this.#Ie=e}async#Re(){try{const e=await this.#Pe.getBlockNumber();if(-2===this.#Oe)return void(this.#Oe=e);if(e!==this.#Oe){for(let t=this.#Oe+1;t<=e;t++){if(null==this.#Te)return;await this.#Pe.emit("block",t)}this.#Oe=e}}catch(gZ){}null!=this.#Te&&(this.#Te=this.#Pe._setTimeout(this.#Re.bind(this),this.#Ie))}start(){this.#Te||(this.#Te=this.#Pe._setTimeout(this.#Re.bind(this),this.#Ie),this.#Re())}stop(){this.#Te&&(this.#Pe._clearTimeout(this.#Te),this.#Te=null)}pause(e){this.stop(),e&&(this.#Oe=-2)}resume(){this.start()}}class Nv{#Pe;#Re;#Ce;constructor(e){this.#Pe=e,this.#Ce=!1,this.#Re=e=>{this._poll(e,this.#Pe)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#Ce||(this.#Ce=!0,this.#Re(-2),this.#Pe.on("block",this.#Re))}stop(){this.#Ce&&(this.#Ce=!1,this.#Pe.off("block",this.#Re))}pause(e){this.stop()}resume(){this.start()}}class Lv extends Nv{#Ne;#Le;constructor(e,t){super(e),this.#Ne=t,this.#Le=-2}pause(e){e&&(this.#Le=-2),super.pause(e)}async _poll(e,t){const r=await t.getBlock(this.#Ne);null!=r&&(-2===this.#Le?this.#Le=r.number:r.number>this.#Le&&(t.emit(this.#Ne,r.number),this.#Le=r.number))}}class Mv extends Nv{#J;constructor(e,t){super(e),this.#J=Rv(t)}async _poll(e,t){throw new Error("@TODO")}}class Bv extends Nv{#Me;constructor(e,t){super(e),this.#Me=t}async _poll(e,t){const r=await t.getTransactionReceipt(this.#Me);r&&t.emit(this.#Me,r)}}class Dv{#Pe;#J;#Te;#Ce;#Oe;constructor(e,t){this.#Pe=e,this.#J=Rv(t),this.#Te=this.#Re.bind(this),this.#Ce=!1,this.#Oe=-2}async#Re(e){if(-2===this.#Oe)return;const t=Rv(this.#J);t.fromBlock=this.#Oe+1,t.toBlock=e;const r=await this.#Pe.getLogs(t);if(0!==r.length)for(const n of r)this.#Pe.emit(this.#J,n),this.#Oe=n.blockNumber;else this.#Oe<e-60&&(this.#Oe=e-60)}start(){this.#Ce||(this.#Ce=!0,-2===this.#Oe&&this.#Pe.getBlockNumber().then((e=>{this.#Oe=e})),this.#Pe.on("block",this.#Te))}stop(){this.#Ce&&(this.#Ce=!1,this.#Pe.off("block",this.#Te))}pause(e){this.stop(),e&&(this.#Oe=-2)}resume(){this.start()}}const jv=BigInt(2);function Uv(e){return e&&"function"===typeof e.then}function Fv(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return`bigint:${t.toString()}`;if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,r)=>(e[r]=t[r],e)),{})}return t}))}class Hv{name;constructor(e){Pu(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function zv(e){return(e=Array.from(new Set(e).values())).sort(),e}async function Gv(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(Fu(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:Fv("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:Fv("orphan",t),filter:(r=t,JSON.parse(JSON.stringify(r)))}}var r;if(e.address||e.topics){const r=e,n={topics:(r.topics||[]).map((e=>null==e?null:Array.isArray(e)?zv(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(r.address){const e=[],i=[],s=r=>{Fu(r)?e.push(r):i.push((async()=>{e.push(await zf(r,t))})())};Array.isArray(r.address)?r.address.forEach(s):s(r.address),i.length&&await Promise.all(i),n.address=zv(e.map((e=>e.toLowerCase())))}return{filter:n,tag:Fv("event",n),type:"event"}}Nu(!1,"unknown ProviderEvent","event",e)}function qv(){return(new Date).getTime()}const Wv={cacheTimeout:250,pollingInterval:4e3};class $v{#Be;#Se;#De;#je;#Ue;#Fe;#He;#ze;#Ge;#qe;#We;#u;constructor(e,t){if(this.#u=Object.assign({},Wv,t||{}),"any"===e)this.#Fe=!0,this.#Ue=null;else if(e){const t=Pv.from(e);this.#Fe=!1,this.#Ue=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#Fe=!1,this.#Ue=null;this.#ze=-1,this.#He=new Map,this.#Be=new Map,this.#Se=new Map,this.#De=null,this.#je=!1,this.#Ge=1,this.#qe=new Map,this.#We=!1}get pollingInterval(){return this.#u.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Se.values())}attachPlugin(e){if(this.#Se.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Se.set(e.name,e.connect(this)),this}getPlugin(e){return this.#Se.get(e)||null}get disableCcipRead(){return this.#We}set disableCcipRead(e){this.#We=!!e}async#$e(e){const t=this.#u.cacheTimeout;if(t<0)return await this._perform(e);const r=Fv(e.method,e);let n=this.#He.get(r);return n||(n=this._perform(e),this.#He.set(r,n),setTimeout((()=>{this.#He.get(r)===n&&this.#He.delete(r)}),t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;const n=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let o=0;o<r.length;o++){const t=r[o],a=t.replace("{sender}",n).replace("{data}",i),c=new yp(a);-1===t.indexOf("{data}")&&(c.body={data:i,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:o,urls:r});let l,u="unknown error";try{l=await c.send()}catch(gZ){s.push(gZ.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:{error:gZ}});continue}try{const e=l.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(u=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(gZ){}Cu(l.statusCode<400||l.statusCode>=500,`response not found during CCIP fetch: ${u}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:u}}),s.push(u)}Cu(!1,`error encountered during CCIP fetch: ${s.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,t){return new Np(function(e){const t=bv(e);return t.transactions=e.transactions.map((e=>"string"===typeof e?e:Av(e))),t}(e),this)}_wrapLog(e,t){return new Lp(function(e){return yv(e)}(e),this)}_wrapTransactionReceipt(e,t){return new Mp(function(e){return wv(e)}(e),this)}_wrapTransactionResponse(e,t){return new Bp(Av(e),this)}_detectNetwork(){Cu(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Cu(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=id(await this.#$e({method:"getBlockNumber"}),"%response");return this.#ze>=0&&(this.#ze=e),e}_getAddress(e){return zf(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return Fu(e)?Fu(e,32)?e:ad(e):("bigint"===typeof e&&(e=id(e,"blockTag")),"number"===typeof e?e>=0?ad(e):this.#ze>=0?ad(this.#ze+e):this.getBlockNumber().then((t=>ad(t+e))):void Nu(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?zv(e.map((e=>e.toLowerCase()))):e.toLowerCase())),r="blockHash"in e?e.blockHash:void 0,n=(e,n,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(r&&(null!=n||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),t.length&&(o.topics=t),n&&(o.fromBlock=n),i&&(o.toBlock=i),r&&(o.blockHash=r),o};let i,s,o=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)o.push(this._getAddress(a));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter((e=>"string"!==typeof e)).length||null!=i&&"string"!==typeof i||null!=s&&"string"!==typeof s?Promise.all([Promise.all(o),i,s]).then((e=>n(e[0],e[1],e[2]))):n(o,i,s)}_getTransactionRequest(e){const t=Cp(e),r=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const n=zf(t[e],this);Uv(n)?r.push(async function(){t[e]=await n}()):t[e]=n})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);Uv(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#Ue){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(gZ){throw this.#Ue===e&&(this.#Ue=null),gZ}})();return this.#Ue=e,(await e).clone()}const e=this.#Ue,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#Fe?(this.emit("network",r,t),this.#Ue===e&&(this.#Ue=Promise.resolve(r))):Cu(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:r,priorityFee:n}=await Su({_block:this.#Ke("latest",!1),gasPrice:(async()=>{try{return ed(await this.#$e({method:"getGasPrice"}),"%response")}catch(gZ){}return null})(),priorityFee:(async()=>{try{return ed(await this.#$e({method:"getPriorityFee"}),"%response")}catch(gZ){}return null})()});let i=null,s=null;const o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(s=null!=n?n:BigInt("1000000000"),i=o.baseFeePerGas*jv+s),new Rp(r,i,s)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const e=new yp(r.url),n=await r.processFunc(t,this,e);return new Rp(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Uv(t)&&(t=await t),ed(await this.#$e({method:"estimateGas",transaction:t}),"%response")}async#Ve(e,t,r){Cu(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const n=Cp(e);try{return Gu(await this._perform({method:"call",transaction:n,blockTag:t}))}catch(gZ){if(!this.disableCcipRead&&Ou(gZ)&&gZ.data&&r>=0&&"latest"===t&&null!=n.to&&"0x556f1830"===$u(gZ.data,0,4)){const i=gZ.data,s=await zf(n.to,this);let o;try{o=function(t){const r={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Cu(Wu(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=$u(t,0,32);Cu($u(n,0,12)===$u(Xv,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),r.sender=$u(n,12);try{const e=[],n=id($u(t,32,64)),i=id($u(t,n,n+32)),s=$u(t,n+32);for(let t=0;t<i;t++){const r=Kv(s,32*t);if(null==r)throw new Error("abort");e.push(r)}r.urls=e}catch(e){Cu(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const e=Vv(t,64);if(null==e)throw new Error("abort");r.calldata=e}catch(e){Cu(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Cu($u(t,100,128)===$u(Xv,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),r.selector=$u(t,96,100);try{const e=Vv(t,128);if(null==e)throw new Error("abort");r.extraData=e}catch(e){Cu(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return r.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>r[e])),r}($u(gZ.data,4))}catch(gZ){Cu(!1,gZ.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:i}})}Cu(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(n,o.calldata,o.urls);Cu(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:gZ.data,errorArgs:o.errorArgs}});const c={to:s,data:qu([o.selector,Jv([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const e=await this.#Ve(c,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:e}),e}catch(gZ){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:gZ}),gZ}}throw gZ}}async#Qe(e){const{value:t}=await Su({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:r}=await Su({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#Qe(this.#Ve(t,r,e.enableCcipRead?0:-1))}async#Ze(e,t,r){let n=this._getAddress(t),i=this._getBlockTag(r);return"string"===typeof n&&"string"===typeof i||([n,i]=await Promise.all([n,i])),await this.#Qe(this.#$e(Object.assign(e,{address:n,blockTag:i})))}async getBalance(e,t){return ed(await this.#Ze({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return id(await this.#Ze({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Gu(await this.#Ze({method:"getCode"},e,t))}async getStorage(e,t,r){const n=ed(t,"position");return Gu(await this.#Ze({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:n}=await Su({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=nv.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,n).replaceableTransaction(t)}async#Ke(e,t){if(Fu(e,32))return await this.#$e({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!==typeof r&&(r=await r),await this.#$e({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){const{network:r,params:n}=await Su({network:this.getNetwork(),params:this.#Ke(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){const{network:t,params:r}=await Su({network:this.getNetwork(),params:this.#$e({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await Su({network:this.getNetwork(),params:this.#$e({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const t=await this.#$e({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await Su({network:this.getNetwork(),result:this.#$e({method:"getTransactionResult",hash:e})});return null==t?null:Gu(t)}async getLogs(e){let t=this._getFilter(e);Uv(t)&&(t=await t);const{network:r,params:n}=await Su({network:this.getNetwork(),params:this.#$e({method:"getLogs",filter:t})});return n.map((e=>this._wrapLog(e,r)))}_getProvider(e){Cu(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await uv.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=Sg((e=fh(e)).substring(2).toLowerCase()+".addr.reverse");try{const r=await uv.getEnsAddress(this),n=new pm(r,["function resolver(bytes32) view returns (address)"],this),i=await n.resolver(t);if(null==i||i===wp)return null;const s=new pm(i,["function name(bytes32) view returns (string)"],this),o=await s.name(t);return await this.resolveName(o)!==e?null:o}catch(gZ){if(Iu(gZ,"BAD_DATA")&&"0x"===gZ.value)return null;if(Iu(gZ,"CALL_EXCEPTION"))return null;throw gZ}return null}async waitForTransaction(e,t,r){const n=null!=t?t:1;return 0===n?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let s=null;const o=async r=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&r-i.blockNumber+1>=n)return t(i),void(s&&(clearTimeout(s),s=null))}catch(gZ){console.log("EEE",gZ)}this.once("block",o)};null!=r&&(s=setTimeout((()=>{null!=s&&(s=null,this.off("block",o),i(Ru("timeout","TIMEOUT",{reason:"timeout"})))}),r)),o(await this.getBlockNumber())}))}async waitForBlock(e){Cu(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#qe.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#qe.delete(e))}_setTimeout(e,t){null==t&&(t=0);const r=this.#Ge++,n=()=>{this.#qe.delete(r),e()};if(this.paused)this.#qe.set(r,{timer:null,func:n,time:t});else{const e=setTimeout(n,t);this.#qe.set(r,{timer:e,func:n,time:qv()})}return r}_forEachSubscriber(e){for(const t of this.#Be.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Hv(e.type);case"block":{const e=new Cv(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Lv(this,e.type);case"event":return new Dv(this,e.filter);case"transaction":return new Bv(this,e.hash);case"orphan":return new Mv(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of this.#Be.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#De&&t.pause(this.#De);break}}async#Ye(e,t){let r=await Gv(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await Gv({orphan:"drop-log",log:t[0]},this)),this.#Be.get(r.tag)||null}async#Je(e){const t=await Gv(e,this),r=t.tag;let n=this.#Be.get(r);if(!n){n={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Be.set(r,n)}return n}async on(e,t){const r=await this.#Je(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#De&&r.subscriber.pause(this.#De)),this}async once(e,t){const r=await this.#Je(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#De&&r.subscriber.pause(this.#De)),this}async emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i=await this.#Ye(e,r);if(!i||0===i.listeners.length)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:n,once:i}=t;const s=new Up(this,i?null:n,e);try{n.call(this,...r,s)}catch(gZ){}return!i})),0===i.listeners.length&&(i.started&&i.subscriber.stop(),this.#Be.delete(i.tag)),s>0}async listenerCount(e){if(e){const t=await this.#Ye(e);return t?t.listeners.length:0}let t=0;for(const{listeners:r}of this.#Be.values())t+=r.length;return t}async listeners(e){if(e){const t=await this.#Ye(e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}let t=[];for(const{listeners:r}of this.#Be.values())t=t.concat(r.map((e=>{let{listener:t}=e;return t})));return t}async off(e,t){const r=await this.#Ye(e);if(!r)return this;if(t){const e=r.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#Be.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:n}=await this.#Je(e);r&&n.stop(),this.#Be.delete(t)}else for(const[t,{started:r,subscriber:n}]of this.#Be)r&&n.stop(),this.#Be.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#je}destroy(){this.removeAllListeners();for(const e of this.#qe.keys())this._clearTimeout(e);this.#je=!0}get paused(){return null!=this.#De}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#ze=-1,null!=this.#De){if(this.#De==!!e)return;Cu(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#De=!!e;for(const t of this.#qe.values())t.timer&&clearTimeout(t.timer),t.time=qv()-t.time}resume(){if(null!=this.#De){this._forEachSubscriber((e=>e.resume())),this.#De=null;for(const e of this.#qe.values()){let t=e.time;t<0&&(t=0),e.time=qv(),setTimeout(e.func,t)}}}}function Kv(e,t){try{const r=Vv(e,t);if(r)return jh(r)}catch(gZ){}return null}function Vv(e,t){if("0x"===e)return null;try{const r=id($u(e,t,t+32)),n=id($u(e,r,r+32));return $u(e,r+32,r+32+n)}catch(gZ){}return null}function Qv(e){const t=od(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function Zv(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const Yv=new Uint8Array([]);function Jv(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(Yv),r+=32;for(let n=0;n<e.length;n++){const i=ju(e[n]);t[n]=Qv(r),t.push(Qv(i.length)),t.push(Zv(i)),r+=32+32*Math.ceil(i.length/32)}return qu(t)}const Xv="0x0000000000000000000000000000000000000000000000000000000000000000";function ew(e,t){if(e.provider)return e.provider;Cu(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function tw(e,t){let r=Cp(t);if(null!=r.to&&(r.to=zf(r.to,e)),null!=r.from){const t=r.from;r.from=Promise.all([e.getAddress(),zf(t,e)]).then((e=>{let[t,r]=e;return Nu(t.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),t}))}else r.from=e.getAddress();return await Su(r)}class rw{provider;constructor(e){Pu(this,{provider:e||null})}async getNonce(e){return ew(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await tw(this,e)}async populateTransaction(e){const t=ew(this,"populateTransaction"),r=await tw(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const n=await this.provider.getNetwork();if(null!=r.chainId){Nu(ed(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=n.chainId;const i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!i?0!==r.type&&1!==r.type||!i||Nu(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):Nu(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const e=await t.getFeeData();Cu(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(Cu(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):Cu(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==r.type&&3!==r.type||(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else r.type=2;return await Su(r)}async estimateGas(e){return ew(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ew(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=ew(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=ew(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const n=nv.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}}class nw{#Pe;#Xe;#Te;#Ce;#et;#tt;constructor(e){this.#Pe=e,this.#Xe=null,this.#Te=this.#Re.bind(this),this.#Ce=!1,this.#et=null,this.#tt=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Re(e){try{null==this.#Xe&&(this.#Xe=this._subscribe(this.#Pe));let e=null;try{e=await this.#Xe}catch(gZ){if(!Iu(gZ,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==gZ.operation)throw gZ}if(null==e)return this.#Xe=null,void this.#Pe._recoverSubscriber(this,this._recover(this.#Pe));const t=await this.#Pe.getNetwork();if(this.#et||(this.#et=t),this.#et.chainId!==t.chainId)throw new Error("chaid changed");if(this.#tt)return;const r=await this.#Pe.send("eth_getFilterChanges",[e]);await this._emitResults(this.#Pe,r)}catch(gZ){console.log("@TODO",gZ)}this.#Pe.once("block",this.#Te)}#rt(){const e=this.#Xe;e&&(this.#Xe=null,e.then((e=>{this.#Pe.destroyed||this.#Pe.send("eth_uninstallFilter",[e])})))}start(){this.#Ce||(this.#Ce=!0,this.#Re(-2))}stop(){this.#Ce&&(this.#Ce=!1,this.#tt=!0,this.#rt(),this.#Pe.off("block",this.#Te))}pause(e){e&&this.#rt(),this.#Pe.off("block",this.#Te)}resume(){this.start()}}class iw extends nw{#nt;constructor(e,t){var r;super(e),this.#nt=(r=t,JSON.parse(JSON.stringify(r)))}_recover(e){return new Dv(e,this.#nt)}async _subscribe(e){return await e.send("eth_newFilter",[this.#nt])}async _emitResults(e,t){for(const r of t)e.emit(this.#nt,e._wrapLog(r,e._network))}}class sw extends nw{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const ow="bigint,boolean,function,number,string,symbol".split(/,/g);function aw(e){if(null==e||ow.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(aw);if("object"===typeof e)return Object.keys(e).reduce(((t,r)=>(t[r]=e[r],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function cw(e){return new Promise((t=>{setTimeout(t,e)}))}function lw(e){return e?e.toLowerCase():e}function uw(e){return e&&"number"===typeof e.pollingInterval}const dw={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class hw extends rw{address;constructor(e,t){super(e),Pu(this,{address:t=fh(t)})}connect(e){Cu(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=aw(e),r=[];if(t.from){const n=t.from;r.push((async()=>{const r=await zf(n,this.provider);Nu(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;r.push((async()=>{t.to=await zf(e,this.provider)})())}r.length&&await Promise.all(r);const n=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise(((e,n)=>{const i=[1e3,100];let s=0;const o=async()=>{try{const n=await this.provider.getTransaction(r);if(null!=n)return void e(n.replaceableTransaction(t))}catch(gZ){if(Iu(gZ,"CANCELLED")||Iu(gZ,"BAD_DATA")||Iu(gZ,"NETWORK_ERROR")||Iu(gZ,"UNSUPPORTED_OPERATION"))return null==gZ.info&&(gZ.info={}),gZ.info.sendTransactionHash=r,void n(gZ);if(Iu(gZ,"INVALID_ARGUMENT")&&(s++,null==gZ.info&&(gZ.info={}),gZ.info.sendTransactionHash=r,s>10))return void n(gZ);this.provider.emit("error",Ru("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:gZ}))}this.provider._setTimeout((()=>{o()}),i.pop()||4e3)};o()}))}async signTransaction(e){const t=aw(e);if(t.from){const r=await zf(t.from,this.provider);Nu(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;const r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const t="string"===typeof e?Dh(e):e;return await this.provider.send("personal_sign",[Gu(t),this.address.toLowerCase()])}async signTypedData(e,t,r){const n=aw(r),i=await np.resolveNames(e,t,n,(async e=>{const t=await zf(e);return Nu(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(np.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?Dh(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Gu(t)])}}class fw extends $v{#u;#it;#st;#ot;#at;#et;#ct;#lt(){if(this.#ot)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#ot=setTimeout((()=>{this.#ot=null;const e=this.#st;for(this.#st=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#u.batchMaxCount;){t.push(e.shift());if(JSON.stringify(t.map((e=>e.payload))).length>this.#u.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const r=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:e,reject:n,payload:i}of t){if(this.destroyed){n(Ru("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=r.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?n(this.getRpcError(i,t)):e(t.result);else{const e=Ru("missing response for request","BAD_DATA",{value:r,info:{payload:i}});this.emit("error",e),n(e)}}}catch(gZ){this.emit("debug",{action:"receiveRpcError",error:gZ});for(const{reject:r}of t)r(gZ)}})()}}),e)}constructor(e,t){super(e,t),this.#it=1,this.#u=Object.assign({},dw,t||{}),this.#st=[],this.#ot=null,this.#et=null,this.#ct=null;{let e=null;const t=new Promise((t=>{e=t}));this.#at={promise:t,resolve:e}}const r=this._getOption("staticNetwork");"boolean"===typeof r?(Nu(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#et=Pv.from(e))):r&&(Nu(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#et=r)}_getOption(e){return this.#u[e]}get _network(){return Cu(this.#et,"network is not available yet","NETWORK_ERROR"),this.#et}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&ed(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#et)return this.#et}return this.#ct?await this.#ct:this.ready?(this.#ct=(async()=>{try{const e=Pv.from(ed(await this.send("eth_chainId",[])));return this.#ct=null,e}catch(gZ){throw this.#ct=null,gZ}})(),await this.#ct):(this.#ct=(async()=>{const e={id:this.#it++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#ct=null}catch(gZ){throw this.#ct=null,this.emit("debug",{action:"receiveRpcError",error:gZ}),gZ}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return Pv.from(ed(t.result));throw this.getRpcError(e,t)})(),await this.#ct)}_start(){null!=this.#at&&null!=this.#at.resolve&&(this.#at.resolve(),this.#at=null,(async()=>{for(;null==this.#et&&!this.destroyed;)try{this.#et=await this._detectNetwork()}catch(gZ){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ru("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:gZ}})),await cw(1e3)}this.#lt()})())}async _waitUntilReady(){if(null!=this.#at)return await this.#at.promise}_getSubscriber(e){return"pending"===e.type?new sw(this):"event"===e.type?this._getOption("polling")?new Dv(this,e.filter):new iw(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new Hv("orphan"):super._getSubscriber(e)}get ready(){return null==this.#at}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=ad(ed(e[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=e[r]&&(t[r]=Gu(e[r]))})),e.accessList&&(t.accessList=sp(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[lw(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[lw(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[lw(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[lw(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(lw):e.filter.address=lw(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:r}=e,{error:n}=t;if("eth_estimateGas"===r&&n.message){const t=n.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return Ru("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:n}})}if("eth_call"===r||"eth_estimateGas"===r){const t=mw(n),i=Uf.getBuiltinCallException("eth_call"===r?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:n,payload:e},i}const i=JSON.stringify(function(e){const t=[];return gw(e,t),t}(n));if("string"===typeof n.message&&n.message.match(/user denied|ethers-user-denied/i)){return Ru("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:n}})}if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Ru("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:n}});if(i.match(/nonce/i)&&i.match(/too low/i))return Ru("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:n}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Ru("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:n}});if(i.match(/only replay-protected/i))return Ru("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:t,info:{error:n}}})}let s=!!i.match(/the method .* does not exist/i);return s||n&&n.details&&n.details.startsWith("Unauthorized method:")&&(s=!0),s?Ru("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:n,payload:e}}):Ru("could not coalesce error","UNKNOWN_ERROR",{error:n,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(Ru("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#it++,n=new Promise(((n,i)=>{this.#st.push({resolve:n,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})}));return this.#lt(),n}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const r=await t;if(e>=r.length)throw new Error("no such account");return new hw(this,r[e])}const{accounts:r}=await Su({network:this.getNetwork(),accounts:t});e=fh(e);for(const n of r)if(fh(n)===e)return new hw(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new hw(this,e)))}destroy(){this.#ot&&(clearTimeout(this.#ot),this.#ot=null);for(const{payload:e,reject:t}of this.#st)t(Ru("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#st=[],super.destroy()}}class pw extends fw{#ut;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");null==r&&(r=dw.pollingInterval),this.#ut=r}_getSubscriber(e){const t=super._getSubscriber(e);return uw(t)&&(t.pollingInterval=this.#ut),t}get pollingInterval(){return this.#ut}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#ut=e,this._forEachSubscriber((e=>{uw(e)&&(e.pollingInterval=this.#ut)}))}}function mw(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&Fu(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const r=mw(e[t]);if(r)return r}return null}if("string"===typeof e)try{return mw(JSON.parse(e))}catch(gZ){}return null}function gw(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const r in e)gw(e[r],t);if("string"===typeof e)try{return gw(JSON.parse(e),t)}catch(gZ){}}}class yw extends pw{#U;constructor(e,t,r){const n=Object.assign({},null!=r?r:{},{batchMaxCount:1});Nu(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,n),this.#U=async(t,r)=>{const n={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{const t=await e.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(bZ){const t=new Error(bZ.message);throw t.code=bZ.code,t.data=bZ.data,t.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){Nu(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#U(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(bZ){return[{id:e.id,error:{code:bZ.code,data:bZ.data,message:bZ.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#U("eth_requestAccounts",[])}catch(gZ){const t=gZ.payload;throw this.getRpcError(t,{id:t.id,error:gZ})}return await super.getSigner(e)}}var bw,vw=Object.defineProperty,ww=Object.getOwnPropertySymbols,Aw=Object.prototype.hasOwnProperty,_w=Object.prototype.propertyIsEnumerable,Ew=(e,t,r)=>t in e?vw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xw=(e,t)=>{for(var r in t||(t={}))Aw.call(t,r)&&Ew(e,r,t[r]);if(ww)for(var r of ww(t))_w.call(t,r)&&Ew(e,r,t[r]);return e},kw=(e,t)=>{var r={};for(var n in e)Aw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ww)for(var n of ww(e))t.indexOf(n)<0&&_w.call(e,n)&&(r[n]=e[n]);return r};(e=>{const t=class t{constructor(e,r,n,s){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let o=[];for(let t=0;t<this.size;t++)o.push(!1);for(let t=0;t<this.size;t++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const a=this.addEccAndInterleave(n);if(this.drawCodewords(a),-1==s){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const r=this.getPenaltyScore();r<e&&(s=t,e=r),this.applyMask(t)}}i(0<=s&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}static encodeText(r,n){const i=e.QrSegment.makeSegments(r);return t.encodeSegments(i,n)}static encodeBinary(r,n){const i=e.QrSegment.makeBytes(r);return t.encodeSegments([i],n)}static encodeSegments(e,n){let s,a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=c&&c<=l&&l<=t.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");for(s=c;;s++){const r=8*t.getNumDataCodewords(s,n),i=o.getTotalBits(e,s);if(i<=r){a=i;break}if(s>=l)throw new RangeError("Data too long")}for(const r of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])d&&a<=8*t.getNumDataCodewords(s,r)&&(n=r);let h=[];for(const t of e){r(t.mode.modeBits,4,h),r(t.numChars,t.mode.numCharCountBits(s),h);for(const e of t.getData())h.push(e)}i(h.length==a);const f=8*t.getNumDataCodewords(s,n);i(h.length<=f),r(0,Math.min(4,f-h.length),h),r(0,(8-h.length%8)%8,h),i(h.length%8==0);for(let t=236;h.length<f;t^=253)r(t,8,h);let p=[];for(;8*p.length<h.length;)p.push(0);return h.forEach(((e,t)=>p[t>>>3]|=e<<7-(7&t))),new t(s,n,p,u)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let n=0;n<t;n++)0==r&&0==n||0==r&&n==t-1||r==t-1&&0==n||this.drawAlignmentPattern(e[r],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let r=t;for(let n=0;n<10;n++)r=r<<1^1335*(r>>>9);const s=21522^(t<<10|r);i(s>>>15==0);for(let i=0;i<=5;i++)this.setFunctionModule(8,i,n(s,i));this.setFunctionModule(8,7,n(s,6)),this.setFunctionModule(8,8,n(s,7)),this.setFunctionModule(7,8,n(s,8));for(let i=9;i<15;i++)this.setFunctionModule(14-i,8,n(s,i));for(let i=0;i<8;i++)this.setFunctionModule(this.size-1-i,8,n(s,i));for(let i=8;i<15;i++)this.setFunctionModule(8,this.size-15+i,n(s,i));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let r=0;r<12;r++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;i(t>>>18==0);for(let r=0;r<18;r++){const e=n(t,r),i=this.size-11+r%3,s=Math.floor(r/3);this.setFunctionModule(i,s,e),this.setFunctionModule(s,i,e)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let n=-4;n<=4;n++){const i=Math.max(Math.abs(n),Math.abs(r)),s=e+n,o=t+r;0<=s&&s<this.size&&0<=o&&o<this.size&&this.setFunctionModule(s,o,2!=i&&4!=i)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,1!=Math.max(Math.abs(n),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){const r=this.version,n=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(r,n))throw new RangeError("Invalid argument");const s=t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][r],o=t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][r],a=Math.floor(t.getNumRawDataModules(r)/8),c=s-a%s,l=Math.floor(a/s);let u=[];const d=t.reedSolomonComputeDivisor(o);for(let i=0,f=0;i<s;i++){let r=e.slice(f,f+l-o+(i<c?0:1));f+=r.length;const n=t.reedSolomonComputeRemainder(r,d);i<c&&r.push(0),u.push(r.concat(n))}let h=[];for(let t=0;t<u[0].length;t++)u.forEach(((e,r)=>{(t!=l-o||r>=c)&&h.push(e[t])}));return i(h.length==a),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let i=0;i<this.size;i++)for(let s=0;s<2;s++){const o=t-s,a=0==(t+1&2)?this.size-1-i:i;!this.isFunction[a][o]&&r<8*e.length&&(this.modules[a][o]=n(e[r>>>3],7-(7&r)),r++)}}i(r==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let n;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let i=0;i<this.size;i++){let r=!1,n=0,s=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[i][o]==r?(n++,5==n?e+=t.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,s),r||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),r=this.modules[i][o],n=1);e+=this.finderPenaltyTerminateAndCount(r,n,s)*t.PENALTY_N3}for(let i=0;i<this.size;i++){let r=!1,n=0,s=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][i]==r?(n++,5==n?e+=t.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,s),r||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),r=this.modules[o][i],n=1);e+=this.finderPenaltyTerminateAndCount(r,n,s)*t.PENALTY_N3}for(let i=0;i<this.size-1;i++)for(let r=0;r<this.size-1;r++){const n=this.modules[i][r];n==this.modules[i][r+1]&&n==this.modules[i+1][r]&&n==this.modules[i+1][r+1]&&(e+=t.PENALTY_N2)}let r=0;for(const t of this.modules)r=t.reduce(((e,t)=>e+(t?1:0)),r);const n=this.size*this.size,s=Math.ceil(Math.abs(20*r-10*n)/n)-1;return i(0<=s&&s<=9),e+=s*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let r=[6];for(let n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return i(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let n=1;for(let i=0;i<e;i++){for(let e=0;e<r.length;e++)r[e]=t.reedSolomonMultiply(r[e],n),e+1<r.length&&(r[e]^=r[e+1]);n=t.reedSolomonMultiply(n,2)}return r}static reedSolomonComputeRemainder(e,r){let n=r.map((e=>0));for(const i of e){const e=i^n.shift();n.push(0),r.forEach(((r,i)=>n[i]^=t.reedSolomonMultiply(r,e)))}return n}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let r=0;for(let n=7;n>=0;n--)r=r<<1^285*(r>>>7),r^=(t>>>n&1)*e;return i(r>>>8==0),r}finderPenaltyCountPatterns(e){const t=e[1];i(t<=3*this.size);const r=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];function r(e,t,r){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)r.push(e>>>n&1)}function n(e,t){return 0!=(e>>>t&1)}function i(e){if(!e)throw new Error("Assertion error")}e.QrCode=t;const s=class e{constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(t){let n=[];for(const e of t)r(e,8,n);return new e(e.Mode.BYTE,t.length,n)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let n=[];for(let e=0;e<t.length;){const i=Math.min(t.length-e,3);r(parseInt(t.substring(e,e+i),10),3*i+1,n),e+=i}return new e(e.Mode.NUMERIC,t.length,n)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let n,i=[];for(n=0;n+2<=t.length;n+=2){let s=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));s+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),r(s,11,i)}return n<t.length&&r(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6,i),new e(e.Mode.ALPHANUMERIC,t.length,i)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let n=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)r(t,8,n);else if(t<16384)r(2,2,n),r(t,14,n);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");r(6,3,n),r(t,21,n)}return new e(e.Mode.ECI,0,n)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(const n of e){const e=n.mode.numCharCountBits(t);if(n.numChars>=1<<e)return 1/0;r+=4+e+n.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substring(r+1,r+3),16)),r+=2);return t}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;e.QrSegment=s})(bw||(bw={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2);e.Ecc=t})(t=e.QrCode||(e.QrCode={}))})(bw||(bw={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]);e.Mode=t})(t=e.QrSegment||(e.QrSegment={}))})(bw||(bw={}));var Sw=bw,Pw={L:Sw.QrCode.Ecc.LOW,M:Sw.QrCode.Ecc.MEDIUM,Q:Sw.QrCode.Ecc.QUARTILE,H:Sw.QrCode.Ecc.HIGH},Tw=128,Iw="L",Ow="#FFFFFF",Rw="#000000",Cw=!1,Nw=1;function Lw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[];return e.forEach((function(e,n){let i=null;e.forEach((function(s,o){if(!s&&null!==i)return r.push(`M${i+t} ${n+t}h${o-i}v1H${i+t}z`),void(i=null);if(o!==e.length-1)s&&null===i&&(i=o);else{if(!s)return;null===i?r.push(`M${o+t},${n+t} h1v1H${o+t}z`):r.push(`M${i+t},${n+t} h${o+1-i}v1H${i+t}z`)}}))})),r.join("")}function Mw(e,t){return e.slice().map(((e,r)=>r<t.y||r>=t.y+t.h?e:e.map(((e,r)=>(r<t.x||r>=t.x+t.w)&&e))))}function Bw(e){let{value:t,level:r,minVersion:n,includeMargin:i,marginSize:s,imageSettings:o,size:a,boostLevel:c}=e,u=l.useMemo((()=>{const e=(Array.isArray(t)?t:[t]).reduce(((e,t)=>(e.push(...Sw.QrSegment.makeSegments(t)),e)),[]);return Sw.QrCode.encodeSegments(e,Pw[r],n,void 0,void 0,c)}),[t,r,n,c]);const{cells:d,margin:h,numCells:f,calculatedImageSettings:p}=l.useMemo((()=>{let e=u.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(i,s),r=e.length+2*t,n=function(e,t,r,n){if(null==n)return null;const i=e.length+2*r,s=Math.floor(.1*t),o=i/t,a=(n.width||s)*o,c=(n.height||s)*o,l=null==n.x?e.length/2-a/2:n.x*o,u=null==n.y?e.length/2-c/2:n.y*o,d=null==n.opacity?1:n.opacity;let h=null;if(n.excavate){let e=Math.floor(l),t=Math.floor(u);h={x:e,y:t,w:Math.ceil(a+l-e),h:Math.ceil(c+u-t)}}return{x:l,y:u,h:c,w:a,excavation:h,opacity:d,crossOrigin:n.crossOrigin}}(e,a,t,o);return{cells:e,margin:t,numCells:r,calculatedImageSettings:n}}),[u,a,o,i,s]);return{qrcode:u,margin:h,cells:d,numCells:f,calculatedImageSettings:p}}var Dw=function(){try{(new Path2D).addPath(new Path2D)}catch(bZ){return!1}return!0}(),jw=l.forwardRef((function(e,t){const r=e,{value:n,size:i=Tw,level:s=Iw,bgColor:o=Ow,fgColor:a=Rw,includeMargin:c=Cw,minVersion:u=Nw,boostLevel:d,marginSize:h,imageSettings:f}=r,p=kw(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:m}=p,g=kw(p,["style"]),y=null==f?void 0:f.src,b=l.useRef(null),v=l.useRef(null),w=l.useCallback((e=>{b.current=e,"function"===typeof t?t(e):t&&(t.current=e)}),[t]),[A,_]=l.useState(!1),{margin:E,cells:x,numCells:k,calculatedImageSettings:S}=Bw({value:n,level:s,minVersion:u,boostLevel:d,includeMargin:c,marginSize:h,imageSettings:f,size:i});l.useEffect((()=>{if(null!=b.current){const e=b.current,t=e.getContext("2d");if(!t)return;let r=x;const n=v.current,s=null!=S&&null!==n&&n.complete&&0!==n.naturalHeight&&0!==n.naturalWidth;s&&null!=S.excavation&&(r=Mw(x,S.excavation));const c=window.devicePixelRatio||1;e.height=e.width=i*c;const l=i/k*c;t.scale(l,l),t.fillStyle=o,t.fillRect(0,0,k,k),t.fillStyle=a,Dw?t.fill(new Path2D(Lw(r,E))):x.forEach((function(e,r){e.forEach((function(e,n){e&&t.fillRect(n+E,r+E,1,1)}))})),S&&(t.globalAlpha=S.opacity),s&&t.drawImage(n,S.x+E,S.y+E,S.w,S.h)}})),l.useEffect((()=>{_(!1)}),[y]);const P=xw({height:i,width:i},m);let T=null;return null!=y&&(T=l.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{_(!0)},ref:v,crossOrigin:null==S?void 0:S.crossOrigin})),l.createElement(l.Fragment,null,l.createElement("canvas",xw({style:P,height:i,width:i,ref:w,role:"img"},g)),T)}));jw.displayName="QRCodeCanvas",l.forwardRef((function(e,t){const r=e,{value:n,size:i=Tw,level:s=Iw,bgColor:o=Ow,fgColor:a=Rw,includeMargin:c=Cw,minVersion:u=Nw,boostLevel:d,title:h,marginSize:f,imageSettings:p}=r,m=kw(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:y,numCells:b,calculatedImageSettings:v}=Bw({value:n,level:s,minVersion:u,boostLevel:d,includeMargin:c,marginSize:f,imageSettings:p,size:i});let w=y,A=null;null!=p&&null!=v&&(null!=v.excavation&&(w=Mw(y,v.excavation)),A=l.createElement("image",{href:p.src,height:v.h,width:v.w,x:v.x+g,y:v.y+g,preserveAspectRatio:"none",opacity:v.opacity,crossOrigin:v.crossOrigin}));const _=Lw(w,g);return l.createElement("svg",xw({height:i,width:i,viewBox:`0 0 ${b} ${b}`,ref:t,role:"img"},m),!!h&&l.createElement("title",null,h),l.createElement("path",{fill:o,d:`M0,0 h${b}v${b}H0z`,shapeRendering:"crispEdges"}),l.createElement("path",{fill:a,d:_,shapeRendering:"crispEdges"}),A)})).displayName="QRCodeSVG";var Uw=r(8404),Fw=r.n(Uw);const Hw=(0,l.memo)((e=>{let{step:t,connect:r,connectionString:n,chainId:i,disconnect:s,getAddress:o,address:a,sign:c,signature:u,getBalance:d,balance:f}=e;const p=(0,l.useMemo)((()=>(new(Fw())).getOS().name),[]);return(0,h.jsxs)("div",{children:["start"===t?(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:()=>r(),children:"QR Code"}),(0,h.jsx)("button",{onClick:()=>r("bitget"),children:"Bitget"}),(0,h.jsx)("button",{onClick:()=>r("metaMask"),children:"Meta Mask"}),(0,h.jsx)("button",{onClick:()=>r("rainbow"),children:"Rainbow"}),(0,h.jsx)("button",{onClick:()=>r("safePal"),children:"SafePal"}),(0,h.jsx)("button",{onClick:()=>r("trust"),children:"Trust"})]}):"connecting"===t?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Connecting..."}),(0,h.jsx)("div",{children:n&&(0,h.jsx)(jw,{value:n,size:256})})]}):"connected"===t?(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:s,children:"Disconnect"}),(0,h.jsx)("button",{onClick:o,children:"Get Address"}),a&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:c,children:"Sign"}),(0,h.jsx)("button",{onClick:d,children:"Get Balance"})]}),(0,h.jsxs)("div",{children:["Chain ID: ",i]}),(0,h.jsxs)("div",{children:["Address: ",a]}),(0,h.jsxs)("div",{children:["Balance: ",f]}),(0,h.jsxs)("div",{children:["Signature: ",u]})]}):void 0,(0,h.jsxs)("div",{children:["OS: ",p]})]})}));Hw.displayName="Evm";const zw=(0,l.memo)((()=>{const[e,t]=(0,l.useState)("start"),[r,n]=(0,l.useState)(),[i,s]=(0,l.useState)(),[o,a]=(0,l.useState)(),[c,u]=(0,l.useState)(),[d,f]=(0,l.useState)(),[p,m]=(0,l.useState)(),g=(0,l.useCallback)((async e=>{try{t("connecting");const r=new $r({bridgeUrl:Eu,walletApp:e,apiKey:"a"});r.on("connect",(()=>{t("connected")})).on("chainChanged",(e=>{a(e)})).on("accountsChanged",(e=>{e.length>0?u(e[0]):u(void 0)})).on("disconnect",(()=>{n(void 0),u(void 0),t("start")})).on("connectionString",(e=>{s(e)})),n(r),await r.connect()}catch(gZ){console.error(gZ),t("start"),n(void 0)}}),[]),y=(0,l.useCallback)((async()=>{if(!r)return;const e=new yw(r),t=await e.getSigner(),n=await t.getAddress();u(n)}),[r]),b=(0,l.useCallback)((async()=>{if(!r||!c)return;const e=new yw(r),t=await e.getSigner(),n=await t.signMessage("Hello world");m(n)}),[r,c]),v=(0,l.useCallback)((async()=>{if(!r||!c)return;const e=new yw(r),t=await e.getBalance(c);f(t.toString())}),[r,c]),w=(0,l.useCallback)((async()=>{r&&(await r.disconnect(),n(void 0),u(void 0),t("start"))}),[r]);return(0,h.jsx)(Hw,{step:e,connect:g,connectionString:i,address:c,chainId:o,disconnect:w,getAddress:y,sign:b,signature:p,getBalance:v,balance:d})}));zw.displayName="Ethers";const Gw=(0,l.memo)((()=>(0,h.jsx)("div",{children:"Fallback"})));Gw.displayName="Fallback";const qw=(0,l.memo)((e=>{let{children:t,className:r,...n}=e;return(0,h.jsx)("button",{className:ro("border-box no-tap-highlight flex cursor-pointer border-none bg-transparent p-0 font-sans text-base text-inherit",r),...n,children:t})}));qw.displayName="BaseButton";const Ww=(0,l.memo)((e=>{let{text:t,className:r,...n}=e;return(0,h.jsx)(qw,{className:Ji("justify-center bg-blue-400 py-2 text-white",r),...n,children:t})}));Ww.displayName="TextButton";const $w=(0,l.memo)((0,l.forwardRef)((e=>{let{children:t,className:r,...n}=e;return(0,h.jsx)(wu,{className:Ji("flex-row",r),...n,children:t})})));var Kw,Vw,Qw,Zw;$w.displayName="Row",(Vw=Kw||(Kw={})).NUMBER="NUMBER_NUMBER",Vw.HEX="NUMBER_HEX",Vw.STR="NUMBER_STR",Vw.BIGINT="NUMBER_BIGINT",(Zw=Qw||(Qw={})).HEX="BYTES_HEX",Zw.UINT8ARRAY="BYTES_UINT8ARRAY";const Yw={number:Kw.BIGINT,bytes:Qw.HEX},Jw={number:Kw.HEX,bytes:Qw.HEX};var Xw,eA,tA;!function(e){e.EARLIEST="earliest",e.LATEST="latest",e.PENDING="pending",e.SAFE="safe",e.FINALIZED="finalized",e.COMMITTED="committed"}(Xw||(Xw={})),(tA=eA||(eA={})).chainstart="chainstart",tA.frontier="frontier",tA.homestead="homestead",tA.dao="dao",tA.tangerineWhistle="tangerineWhistle",tA.spuriousDragon="spuriousDragon",tA.byzantium="byzantium",tA.constantinople="constantinople",tA.petersburg="petersburg",tA.istanbul="istanbul",tA.muirGlacier="muirGlacier",tA.berlin="berlin",tA.london="london",tA.altair="altair",tA.arrowGlacier="arrowGlacier",tA.grayGlacier="grayGlacier",tA.bellatrix="bellatrix",tA.merge="merge",tA.capella="capella",tA.shanghai="shanghai";const rA=Object.getPrototypeOf(Uint8Array);var nA=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const iA=Symbol.for("web3/base-provider");class sA{static isWeb3Provider(e){return e instanceof sA||Boolean(e&&e[iA])}get[iA](){return!0}send(e,t){this.request(e).then((e=>{t(null,e)})).catch((e=>{t(e)}))}sendAsync(e){return nA(this,void 0,void 0,(function*(){return this.request(e)}))}asEIP1193Provider(){const e=Object.create(this),t=e.request;return e.request=function(e){return nA(this,void 0,void 0,(function*(){return(yield t(e)).result}))},e.asEIP1193Provider=void 0,e}}class oA extends Array{constructor(e){super(),this._accountProvider=e}}const aA=4001,cA=4100,lA=4200,uA=4900,dA=4901,hA=-32700,fA=-32600,pA=-32601,mA=-32602,gA=-32603,yA=-32e3,bA=-32001,vA=-32002,wA=-32003,AA=-32004,_A=-32005,EA=-32006;class xA extends Error{constructor(e,t){super(e),Array.isArray(t)?this.cause=new kA(t):this.cause=t,this.name=this.constructor.name,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(new.target.constructor):this.stack=(new Error).stack}get innerError(){return this.cause instanceof kA?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new kA(e):this.cause=e}static convertToString(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e||void 0===e)return"undefined";const r=JSON.stringify(e,((e,t)=>"bigint"===typeof t?t.toString():t));return t&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class kA extends xA{constructor(e){super(`Multiple errors occurred: [${e.map((e=>e.message)).join("], [")}]`),this.code=208,this.errors=e}}class SA extends xA{constructor(e,t){super(`Invalid value given "${xA.convertToString(e,!0)}". Error: ${t}.`),this.name=this.constructor.name}}class PA extends xA{constructor(){super("Private key must be 32 bytes."),this.code=701}}class TA extends xA{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=702}}class IA extends xA{constructor(e){super(`"${e}"`),this.code=802}}class OA extends xA{constructor(){super("Invalid key derivation function"),this.code=703}}class RA extends xA{constructor(){super("Key derivation failed - possibly wrong password"),this.code=704}}class CA extends xA{constructor(){super("Unsupported key store version"),this.code=705}}class NA extends xA{constructor(){super("Password cannot be empty"),this.code=706}}class LA extends xA{constructor(){super("Initialization vector must be 16 bytes"),this.code=707}}class MA extends xA{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=709}}class BA extends xA{constructor(e,t){super(e),this.code=500,t&&(this.errorCode=t.code,this.errorReason=t.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class DA extends BA{constructor(e){super("Connection not open",e),this.code=503}}class jA extends BA{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=505}}class UA extends BA{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=506}}class FA extends BA{constructor(e){super(`Request already sent with following id: ${e}`),this.code=507}}class HA extends xA{constructor(e,t){super(e),this.code=300,this.receipt=t}}class zA extends xA{constructor(e,t){super(`The resolver at ${e} does not implement requested method: "${t}".`),this.address=e,this.name=t,this.code=301}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class GA extends HA{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,"object"===typeof e.data){let t;t=e.data&&"originalError"in e.data?e.data.originalError:e.data,this.data=t.data,this.cause=new GA(t)}else this.data=e.data}setDecodedProperties(e,t,r){this.errorName=e,this.errorSignature=t,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class qA extends HA{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=310,this.cause=new GA(e)}}class WA extends SA{constructor(e){var t,r;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(r=e.input)&&void 0!==r?r:"undefined"}`,'You can\'t have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.'),this.code=311}}class $A extends xA{constructor(e){super(`ENS is not supported on network ${e}`),this.code=902}}class KA extends xA{constructor(){super("Network not synced"),this.code=903}}class VA extends xA{constructor(e){super(`Invalid parameters passed. "${"undefined"!==typeof e?e:""}"`),this.hint=e,this.code=207}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class QA extends xA{constructor(){super(...arguments),this.code=201}}class ZA extends xA{constructor(){super("The method you're trying to call is not implemented."),this.code=202}}class YA extends xA{constructor(){super(...arguments),this.code=203}}class JA extends xA{constructor(){super(...arguments),this.code=204}}class XA extends xA{constructor(e,t){super(e),this.code=205,this.props=null!==t&&void 0!==t?t:{}}}class e_ extends xA{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=206}}class t_ extends xA{constructor(){super(...arguments),this.code=600}}class r_ extends xA{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=602}}class n_ extends xA{constructor(){super(...arguments),this.code=603}}class i_ extends xA{constructor(){super(...arguments),this.code=604}}class s_ extends SA{constructor(){super(...arguments),this.code=801}}class o_ extends xA{constructor(e,t){super(e),this.receipt=t,this.code=400}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class a_ extends xA{constructor(e,t,r,n){super("Transaction has been reverted by the EVM"+(void 0===r?"":`:\n ${xA.convertToString(r)}`)),this.reason=e,this.signature=t,this.receipt=r,this.data=n,this.code=402}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class c_ extends a_{constructor(e,t,r,n,i,s,o){super(e),this.reason=e,this.customErrorName=t,this.customErrorDecodedSignature=r,this.customErrorArguments=n,this.signature=i,this.receipt=s,this.data=o,this.code=438}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class l_ extends o_{constructor(e){super("Transaction has been reverted by the EVM"+(void 0===e?"":`:\n ${xA.convertToString(e)}`),e),this.code=405}}class u_ extends o_{constructor(){super("Raw transaction undefined"),this.code=407}}class d_ extends o_{constructor(){super("Transaction not found"),this.code=430}}class h_ extends SA{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=408}}class f_ extends SA{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=437}}class p_ extends SA{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=410}}class m_ extends SA{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=411}}class g_ extends SA{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=412}}class y_ extends SA{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=435}}class b_ extends SA{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=436}}class v_ extends SA{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=413}}class w_ extends SA{constructor(e){var t,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${null!==(t=e.chain)&&void 0!==t?t:"undefined"}, "hardfork": ${null!==(r=e.hardfork)&&void 0!==r?r:"undefined"}`),this.code=414}}class A_ extends xA{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=440}}class __ extends SA{constructor(e){var t,r,n,i;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(r=e.gasPrice)&&void 0!==r?r:"undefined"}, maxPriorityFeePerGas: ${null!==(n=e.maxPriorityFeePerGas)&&void 0!==n?n:"undefined"}, maxFeePerGas: ${null!==(i=e.maxFeePerGas)&&void 0!==i?i:"undefined"}`,'"gas" is missing'),this.code=415,this.cause=new A_}}class E_ extends xA{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=441}}class x_ extends SA{constructor(e){var t,r,n,i;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(r=e.gasPrice)&&void 0!==r?r:"undefined"}, maxPriorityFeePerGas: ${null!==(n=e.maxPriorityFeePerGas)&&void 0!==n?n:"undefined"}, maxFeePerGas: ${null!==(i=e.maxFeePerGas)&&void 0!==i?i:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=434,this.cause=new E_}}class k_ extends SA{constructor(e){var t,r;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(r=e.gasPrice)&&void 0!==r?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=416}}class S_ extends SA{constructor(e){var t,r;super(`maxPriorityFeePerGas: ${null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined"}, maxFeePerGas: ${null!==(r=e.maxFeePerGas)&&void 0!==r?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=417}}class P_ extends SA{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=418}}class T_ extends SA{constructor(e){var t,r;super(`maxPriorityFeePerGas: ${null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined"}, maxFeePerGas: ${null!==(r=e.maxFeePerGas)&&void 0!==r?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=419}}class I_ extends SA{constructor(e){super(e,"invalid transaction object"),this.code=420}}class O_ extends SA{constructor(e){var t,r;super(`nonce: ${null!==(t=e.nonce)&&void 0!==t?t:"undefined"}, chainId: ${null!==(r=e.chainId)&&void 0!==r?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=421}}class R_ extends SA{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=422}}class C_ extends SA{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=423}}class N_ extends SA{constructor(e){super(e,"unsupported transaction type"),this.code=424}}class L_ extends SA{constructor(e){var t,r;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(r=e.input)&&void 0!==r?r:"undefined"}`,'You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.'),this.code=425}}class M_ extends xA{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!\n\tTransaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=431}}function B_(e){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!\n\tTransaction Hash: ${e?e.toString():"not available"}`}class D_ extends xA{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${B_(e.transactionHash)}`),this.code=426}}class j_ extends xA{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${B_(e.transactionHash)}`),this.code=432}}class U_ extends SA{constructor(e){var t,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${null===(t=e.blockHash)||void 0===t?void 0:t.toString()}, transactionHash: ${null===(r=e.transactionHash)||void 0===r?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=427}}class F_ extends SA{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=428}}class H_ extends xA{constructor(e){super(`Invalid signature. "${e}"`),this.code=433}}class z_ extends SA{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=429}}class G_ extends xA{constructor(e,t){const r=[];e.forEach((e=>r.push(e.keyword))),super(`The following properties are invalid for the transaction type ${t}: ${r.join(", ")}`),this.code=439}}class q_ extends SA{constructor(e){super(e,"can not parse as byte data"),this.code=1002}}class W_ extends SA{constructor(e){super(e,"can not parse as number data"),this.code=1003}}class $_ extends SA{constructor(e){super(e,"invalid ethereum address"),this.code=1005}}class K_ extends SA{constructor(e){super(e,"not a valid string"),this.code=1001}}class V_ extends SA{constructor(e){super(e,"invalid unit"),this.code=1004}}class Q_ extends SA{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=1015}}class Z_ extends SA{constructor(e){super(e,"can not be converted to hex"),this.code=1006}}class Y_ extends SA{constructor(e){super(e,"value greater than the nibble width"),this.code=1014}}class J_ extends SA{constructor(e){super(e,"not a valid boolean."),this.code=1008}}class X_ extends SA{constructor(e){super(e,"not a valid unsigned integer."),this.code=1009}}class eE extends SA{constructor(e){super(e,"invalid size given."),this.code=1010}}class tE extends SA{constructor(e){super(e,"value is larger than size."),this.code=1011}}class rE extends SA{constructor(e){super(e,"invalid string given"),this.code=1012}}const nE=e=>(e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&(void 0===e.result||null===e.result)&&"error"in e&&("number"===typeof e.id||"string"===typeof e.id))(e)?e.error.message:"";class iE extends xA{constructor(e,t,r,n){var i;let s;super(null!==t&&void 0!==t?t:`Returned error: ${Array.isArray(e)?e.map((e=>nE(e))).join(","):nE(e)}`),this.code=100,t||(this.data=Array.isArray(e)?e.map((e=>{var t;return null===(t=e.error)||void 0===t?void 0:t.data})):null===(i=null===e||void 0===e?void 0:e.error)||void 0===i?void 0:i.data),this.statusCode=n,this.request=r,"error"in e?s=e.error:e instanceof Array&&(s=e.filter((e=>e.error)).map((e=>e.error))),Array.isArray(s)&&s.length>0?this.cause=new kA(s):this.cause=s}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class sE extends iE{constructor(e,t){let r;super(e,void 0,t),this.code=101,"error"in e?r=e.error:e instanceof Array&&(r=e.map((e=>e.error))),Array.isArray(r)?this.cause=new kA(r):this.cause=r}}class oE extends xA{constructor(e,t){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=1101}}class aE extends xA{constructor(e,t){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=1101}}const cE="An Rpc error has occured with a code of *code*",lE={[hA]:{message:"Parse error",description:"Invalid JSON"},[fA]:{message:"Invalid request",description:"JSON is not a valid request object\t"},[pA]:{message:"Method not found",description:"Method does not exist\t"},[mA]:{message:"Invalid params",description:"Invalid method parameters"},[gA]:{message:"Internal error",description:"Internal JSON-RPC error"},[yA]:{message:"Invalid input",description:"Missing or invalid parameters"},[bA]:{message:"Resource not found",description:"Requested resource not found"},[vA]:{message:"Resource unavailable",description:"Requested resource not available"},[wA]:{message:"Transaction rejected",description:"Transaction creation failed"},[AA]:{message:"Method not supported",description:"Method is not implemented"},[_A]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[EA]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[aA]:{name:"User Rejected Request",message:"The user rejected the request."},[cA]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[lA]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[uA]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[dA]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class uE extends xA{constructor(e,t){super(null!==t&&void 0!==t?t:cE.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class dE extends xA{constructor(e,t){var r,n,i,s;if(e)if(null===(r=lE[e])||void 0===r?void 0:r.message)super(lE[e].message);else{const t=Object.keys(lE).find((t=>"string"===typeof t&&e>=parseInt(t.split("-")[0],10)&&e<=parseInt(t.split("-")[1],10)));super(null!==(i=null===(n=lE[null!==t&&void 0!==t?t:""])||void 0===n?void 0:n.message)&&void 0!==i?i:cE.replace("*code*",null!==(s=null===e||void 0===e?void 0:e.toString())&&void 0!==s?s:'""'))}else super();this.code=e,this.data=t}}const hE=new Map;hE.set(hA,{error:class extends uE{constructor(e){super(e,lE[-32700].message),this.code=hA}}}),hE.set(fA,{error:class extends uE{constructor(e){super(e,lE[-32600].message),this.code=fA}}}),hE.set(pA,{error:class extends uE{constructor(e){super(e,lE[-32601].message),this.code=pA}}}),hE.set(mA,{error:class extends uE{constructor(e){super(e,lE[-32602].message),this.code=mA}}}),hE.set(gA,{error:class extends uE{constructor(e){super(e,lE[-32603].message),this.code=gA}}}),hE.set(yA,{error:class extends uE{constructor(e){super(e,lE[-32e3].message),this.code=yA}}}),hE.set(AA,{error:class extends uE{constructor(e){super(e,lE[-32004].message),this.code=AA}}}),hE.set(vA,{error:class extends uE{constructor(e){super(e,lE[-32002].message),this.code=vA}}}),hE.set(wA,{error:class extends uE{constructor(e){super(e,lE[-32003].message),this.code=wA}}}),hE.set(bA,{error:class extends uE{constructor(e){super(e,lE[-32001].message),this.code=bA}}}),hE.set(EA,{error:class extends uE{constructor(e){super(e,lE[-32006].message),this.code=EA}}}),hE.set(_A,{error:class extends uE{constructor(e){super(e,lE[-32005].message),this.code=_A}}});class fE extends xA{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=1200}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function pE(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function mE(e){if(!((t=e)instanceof Uint8Array||null!=t&&"object"===typeof t&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(n.length>0&&!n.includes(e.length))throw new Error(`Uint8Array expected of length ${n}, not of length=${e.length}`)}function gE(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");pE(e.outputLen),pE(e.blockLen)}function yE(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function bE(e,t){mE(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const vE={number:pE,bool:function(e){if("boolean"!==typeof e)throw new Error(`boolean expected, not ${e}`)},bytes:mE,hash:gE,exists:yE,output:bE},wE=BigInt(2**32-1),AE=BigInt(32);function _E(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&wE),l:Number(e>>AE&wE)}:{h:0|Number(e>>AE&wE),l:0|Number(e&wE)}}function EE(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=_E(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const xE=(e,t,r)=>e<<r|t>>>32-r,kE=(e,t,r)=>t<<r|e>>>32-r,SE=(e,t,r)=>t<<r-32|e>>>64-r,PE=(e,t,r)=>e<<r-32|t>>>64-r;const TE={fromBig:_E,split:EE,toBig:(e,t)=>BigInt(e>>>0)<<AE|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:xE,rotlSL:kE,rotlBH:SE,rotlBL:PE,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},IE="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const OE=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),RE=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),CE=(e,t)=>e<<32-t|e>>>t,NE=(e,t)=>e<<t|e>>>32-t>>>0,LE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],ME=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function BE(e){for(let t=0;t<e.length;t++)e[t]=ME(e[t])}function DE(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function jE(e){return"string"===typeof e&&(e=DE(e)),mE(e),e}function UE(){let e=0;for(let r=0;r<arguments.length;r++){const t=r<0||arguments.length<=r?void 0:arguments[r];mE(t),e+=t.length}const t=new Uint8Array(e);for(let r=0,n=0;r<arguments.length;r++){const e=r<0||arguments.length<=r?void 0:arguments[r];t.set(e,n),n+=e.length}return t}class FE{clone(){return this._cloneInto()}}const HE={}.toString;function zE(e,t){if(void 0!==t&&"[object Object]"!==HE.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}function GE(e){const t=t=>e().update(jE(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function qE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(IE&&"function"===typeof IE.getRandomValues)return IE.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const WE=[],$E=[],KE=[],VE=BigInt(0),QE=BigInt(1),ZE=BigInt(2),YE=BigInt(7),JE=BigInt(256),XE=BigInt(113);for(let r=0,vZ=QE,wZ=1,AZ=0;r<24;r++){[wZ,AZ]=[AZ,(2*wZ+3*AZ)%5],WE.push(2*(5*AZ+wZ)),$E.push((r+1)*(r+2)/2%64);let e=VE;for(let t=0;t<7;t++)vZ=(vZ<<QE^(vZ>>YE)*XE)%JE,vZ&ZE&&(e^=QE<<(QE<<BigInt(t))-QE);KE.push(e)}const[ex,tx]=EE(KE,!0),rx=(e,t,r)=>r>32?SE(e,t,r):xE(e,t,r),nx=(e,t,r)=>r>32?PE(e,t,r):kE(e,t,r);class ix extends FE{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,pE(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=OE(this.state)}keccak(){LE||BE(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let n=0;n<10;n++)r[n]=e[n]^e[n+10]^e[n+20]^e[n+30]^e[n+40];for(let n=0;n<10;n+=2){const t=(n+8)%10,i=(n+2)%10,s=r[i],o=r[i+1],a=rx(s,o,1)^r[t],c=nx(s,o,1)^r[t+1];for(let r=0;r<50;r+=10)e[n+r]^=a,e[n+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=$E[r],s=rx(t,i,n),o=nx(t,i,n),a=WE[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let n=0;n<50;n+=10){for(let t=0;t<10;t++)r[t]=e[n+t];for(let t=0;t<10;t++)e[n+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=ex[n],e[1]^=tx[n]}r.fill(0)}(this.state32,this.rounds),LE||BE(this.state32),this.posOut=0,this.pos=0}update(e){yE(this);const{blockLen:t,state:r}=this,n=(e=jE(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!==(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){yE(this,!1),mE(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return pE(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new ix(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const sx=(e,t,r)=>GE((()=>new ix(t,e,r))),ox=sx(1,144,28),ax=sx(1,136,32),cx=sx(1,104,48),lx=sx(1,72,64),ux=(vE.bool,vE.bytes);function dx(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)}function hx(e){return t=>(vE.bytes(t),e(t))}(()=>{const e="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,t="undefined"!==typeof module&&"function"===typeof module.require&&module.require.bind(module);t&&!e&&t("crypto")})(),hx(ox);const fx=(()=>{const e=hx(ax);return e.create=ax.create,e})();hx(cx),hx(lx);var px,mx,gx;(mx=px||(px={})).assertEqual=e=>e,mx.assertIs=function(e){},mx.assertNever=function(e){throw new Error},mx.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},mx.getValidEnumValues=e=>{const t=mx.objectKeys(e).filter((t=>"number"!==typeof e[e[t]])),r={};for(const n of t)r[n]=e[n];return mx.objectValues(r)},mx.objectValues=e=>mx.objectKeys(e).map((function(t){return e[t]})),mx.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},mx.find=(e,t)=>{for(const r of e)if(t(r))return r},mx.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,mx.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},mx.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t,(gx||(gx={})).mergeShapes=(e,t)=>({...e,...t});const yx=px.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bx=e=>{switch(typeof e){case"undefined":return yx.undefined;case"string":return yx.string;case"number":return isNaN(e)?yx.nan:yx.number;case"boolean":return yx.boolean;case"function":return yx.function;case"bigint":return yx.bigint;case"symbol":return yx.symbol;case"object":return Array.isArray(e)?yx.array:null===e?yx.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?yx.promise:"undefined"!==typeof Map&&e instanceof Map?yx.map:"undefined"!==typeof Set&&e instanceof Set?yx.set:"undefined"!==typeof Date&&e instanceof Date?yx.date:yx.object;default:return yx.unknown}},vx=px.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class wx extends Error{constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){const r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof wx))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,px.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}wx.create=e=>new wx(e);const Ax=(e,t)=>{let r;switch(e.code){case vx.invalid_type:r=e.received===yx.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case vx.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,px.jsonStringifyReplacer)}`;break;case vx.unrecognized_keys:r=`Unrecognized key(s) in object: ${px.joinValues(e.keys,", ")}`;break;case vx.invalid_union:r="Invalid input";break;case vx.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${px.joinValues(e.options)}`;break;case vx.invalid_enum_value:r=`Invalid enum value. Expected ${px.joinValues(e.options)}, received '${e.received}'`;break;case vx.invalid_arguments:r="Invalid function arguments";break;case vx.invalid_return_type:r="Invalid function return type";break;case vx.invalid_date:r="Invalid date";break;case vx.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:px.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case vx.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case vx.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case vx.custom:r="Invalid input";break;case vx.invalid_intersection_types:r="Intersection results could not be merged";break;case vx.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case vx.not_finite:r="Number must be finite";break;default:r=t.defaultError,px.assertNever(e)}return{message:r}};let _x=Ax;function Ex(){return _x}const xx=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let a="";const c=n.filter((e=>!!e)).slice().reverse();for(const l of c)a=l(o,{data:t,defaultError:a}).message;return{...i,path:s,message:a}};function kx(e,t){const r=Ex(),n=xx({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ax?void 0:Ax].filter((e=>!!e))});e.common.issues.push(n)}class Sx{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return Px;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const n of t){const e=await n.key,t=await n.value;r.push({key:e,value:t})}return Sx.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:i}=n;if("aborted"===t.status)return Px;if("aborted"===i.status)return Px;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!n.alwaysSet||(r[t.value]=i.value)}return{status:e.value,value:r}}}const Px=Object.freeze({status:"aborted"}),Tx=e=>({status:"dirty",value:e}),Ix=e=>({status:"valid",value:e}),Ox=e=>"aborted"===e.status,Rx=e=>"dirty"===e.status,Cx=e=>"valid"===e.status,Nx=e=>"undefined"!==typeof Promise&&e instanceof Promise;function Lx(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function Mx(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}var Bx,Dx,jx,Ux;"function"===typeof SuppressedError&&SuppressedError,(Dx=Bx||(Bx={})).errToObj=e=>"string"===typeof e?{message:e}:e||{},Dx.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message;class Fx{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Hx=(e,t)=>{if(Cx(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new wx(e.common.issues);return this._error=t,this._error}}};function zx(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var s,o;const{message:a}=e;return"invalid_enum_value"===t.code?{message:null!==a&&void 0!==a?a:i.defaultError}:"undefined"===typeof i.data?{message:null!==(s=null!==a&&void 0!==a?a:n)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(o=null!==a&&void 0!==a?a:r)&&void 0!==o?o:i.defaultError}},description:i}}class Gx{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return bx(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:bx(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sx,ctx:{common:e.parent.common,data:e.data,parsedType:bx(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Nx(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:null!==(r=null===t||void 0===t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bx(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Hx(n,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bx(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(Nx(n)?n:Promise.resolve(n));return Hx(r,i)}refine(e,t){const r=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,n)=>{const i=e(t),s=()=>n.addIssue({code:vx.custom,...r(t)});return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(s(),!1))):!!i||(s(),!1)}))}refinement(e,t){return this._refinement(((r,n)=>!!e(r)||(n.addIssue("function"===typeof t?t(r,n):t),!1)))}_refinement(e){return new Dk({schema:this,typeName:Qk.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return jk.create(this,this._def)}nullable(){return Uk.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bk.create(this,this._def)}promise(){return Bk.create(this,this._def)}or(e){return Ak.create([this,e],this._def)}and(e){return kk.create(this,e,this._def)}transform(e){return new Dk({...zx(this._def),schema:this,typeName:Qk.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Fk({...zx(this._def),innerType:this,defaultValue:t,typeName:Qk.ZodDefault})}brand(){return new qk({typeName:Qk.ZodBranded,type:this,...zx(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Hk({...zx(this._def),innerType:this,catchValue:t,typeName:Qk.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Wk.create(this,e)}readonly(){return $k.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qx=/^c[^\s-]{8,}$/i,Wx=/^[0-9a-z]+$/,$x=/^[0-9A-HJKMNP-TV-Z]{26}$/,Kx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Vx=/^[a-z0-9_-]{21}$/i,Qx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Zx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Yx;const Jx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xx=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ek=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rk=new RegExp(`^${tk}$`);function nk(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function ik(e){let t=`${tk}T${nk(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}class sk extends Gx{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==yx.string){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.string,received:t.parsedType}),Px}const t=new Sx;let r;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const n=e.data.length>o.value,i=e.data.length<o.value;(n||i)&&(r=this._getOrReturnCtx(e,r),n?kx(r,{code:vx.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):i&&kx(r,{code:vx.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)Zx.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"email",code:vx.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)Yx||(Yx=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Yx.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"emoji",code:vx.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)Kx.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"uuid",code:vx.invalid_string,message:o.message}),t.dirty());else if("nanoid"===o.kind)Vx.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"nanoid",code:vx.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)qx.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"cuid",code:vx.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)Wx.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"cuid2",code:vx.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)$x.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"ulid",code:vx.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(s){r=this._getOrReturnCtx(e,r),kx(r,{validation:"url",code:vx.invalid_string,message:o.message}),t.dirty()}else if("regex"===o.kind){o.regex.lastIndex=0;o.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"regex",code:vx.invalid_string,message:o.message}),t.dirty())}else if("trim"===o.kind)e.data=e.data.trim();else if("includes"===o.kind)e.data.includes(o.value,o.position)||(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty());else if("toLowerCase"===o.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===o.kind)e.data=e.data.toUpperCase();else if("startsWith"===o.kind)e.data.startsWith(o.value)||(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty());else if("endsWith"===o.kind)e.data.endsWith(o.value)||(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty());else if("datetime"===o.kind){ik(o).test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.invalid_string,validation:"datetime",message:o.message}),t.dirty())}else if("date"===o.kind){rk.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.invalid_string,validation:"date",message:o.message}),t.dirty())}else if("time"===o.kind){new RegExp(`^${nk(o)}$`).test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.invalid_string,validation:"time",message:o.message}),t.dirty())}else"duration"===o.kind?Qx.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"duration",code:vx.invalid_string,message:o.message}),t.dirty()):"ip"===o.kind?(n=e.data,("v4"!==(i=o.version)&&i||!Jx.test(n))&&("v6"!==i&&i||!Xx.test(n))&&(r=this._getOrReturnCtx(e,r),kx(r,{validation:"ip",code:vx.invalid_string,message:o.message}),t.dirty())):"base64"===o.kind?ek.test(e.data)||(r=this._getOrReturnCtx(e,r),kx(r,{validation:"base64",code:vx.invalid_string,message:o.message}),t.dirty()):px.assertNever(o);var n,i;return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement((t=>e.test(t)),{validation:t,code:vx.invalid_string,...Bx.errToObj(r)})}_addCheck(e){return new sk({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Bx.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Bx.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Bx.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Bx.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Bx.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Bx.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Bx.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Bx.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Bx.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Bx.errToObj(e)})}datetime(e){var t,r;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null===e||void 0===e?void 0:e.local)&&void 0!==r&&r,...Bx.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...Bx.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Bx.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Bx.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...Bx.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Bx.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Bx.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Bx.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Bx.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Bx.errToObj(t)})}nonempty(e){return this.min(1,Bx.errToObj(e))}trim(){return new sk({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sk({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sk({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function ok(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}sk.create=e=>{var t;return new sk({checks:[],typeName:Qk.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...zx(e)})};class ak extends Gx{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==yx.number){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.number,received:t.parsedType}),Px}let t;const r=new Sx;for(const n of this._def.checks)if("int"===n.kind)px.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),kx(t,{code:vx.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty());else if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),kx(t,{code:vx.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),kx(t,{code:vx.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty())}else"multipleOf"===n.kind?0!==ok(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),kx(t,{code:vx.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),kx(t,{code:vx.not_finite,message:n.message}),r.dirty()):px.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Bx.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Bx.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Bx.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Bx.toString(t))}setLimit(e,t,r,n){return new ak({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Bx.toString(n)}]})}_addCheck(e){return new ak({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Bx.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Bx.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Bx.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Bx.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Bx.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Bx.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Bx.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Bx.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Bx.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&px.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ak.create=e=>new ak({checks:[],typeName:Qk.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...zx(e)});class ck extends Gx{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==yx.bigint){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.bigint,received:t.parsedType}),Px}let t;const r=new Sx;for(const n of this._def.checks)if("min"===n.kind){(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),kx(t,{code:vx.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty())}else if("max"===n.kind){(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),kx(t,{code:vx.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty())}else"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),kx(t,{code:vx.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):px.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Bx.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Bx.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Bx.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Bx.toString(t))}setLimit(e,t,r,n){return new ck({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Bx.toString(n)}]})}_addCheck(e){return new ck({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Bx.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Bx.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Bx.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Bx.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Bx.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ck.create=e=>{var t;return new ck({checks:[],typeName:Qk.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...zx(e)})};class lk extends Gx{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==yx.boolean){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.boolean,received:t.parsedType}),Px}return Ix(e.data)}}lk.create=e=>new lk({typeName:Qk.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...zx(e)});class uk extends Gx{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==yx.date){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.date,received:t.parsedType}),Px}if(isNaN(e.data.getTime())){return kx(this._getOrReturnCtx(e),{code:vx.invalid_date}),Px}const t=new Sx;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),kx(r,{code:vx.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):px.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new uk({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Bx.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Bx.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}uk.create=e=>new uk({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Qk.ZodDate,...zx(e)});class dk extends Gx{_parse(e){if(this._getType(e)!==yx.symbol){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.symbol,received:t.parsedType}),Px}return Ix(e.data)}}dk.create=e=>new dk({typeName:Qk.ZodSymbol,...zx(e)});class hk extends Gx{_parse(e){if(this._getType(e)!==yx.undefined){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.undefined,received:t.parsedType}),Px}return Ix(e.data)}}hk.create=e=>new hk({typeName:Qk.ZodUndefined,...zx(e)});class fk extends Gx{_parse(e){if(this._getType(e)!==yx.null){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.null,received:t.parsedType}),Px}return Ix(e.data)}}fk.create=e=>new fk({typeName:Qk.ZodNull,...zx(e)});class pk extends Gx{constructor(){super(...arguments),this._any=!0}_parse(e){return Ix(e.data)}}pk.create=e=>new pk({typeName:Qk.ZodAny,...zx(e)});class mk extends Gx{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ix(e.data)}}mk.create=e=>new mk({typeName:Qk.ZodUnknown,...zx(e)});class gk extends Gx{_parse(e){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.never,received:t.parsedType}),Px}}gk.create=e=>new gk({typeName:Qk.ZodNever,...zx(e)});class yk extends Gx{_parse(e){if(this._getType(e)!==yx.undefined){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.void,received:t.parsedType}),Px}return Ix(e.data)}}yk.create=e=>new yk({typeName:Qk.ZodVoid,...zx(e)});class bk extends Gx{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==yx.array)return kx(t,{code:vx.invalid_type,expected:yx.array,received:t.parsedType}),Px;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(kx(t,{code:e?vx.too_big:vx.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(kx(t,{code:vx.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(kx(t,{code:vx.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>n.type._parseAsync(new Fx(t,e,t.path,r))))).then((e=>Sx.mergeArray(r,e)));const i=[...t.data].map(((e,r)=>n.type._parseSync(new Fx(t,e,t.path,r))));return Sx.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new bk({...this._def,minLength:{value:e,message:Bx.toString(t)}})}max(e,t){return new bk({...this._def,maxLength:{value:e,message:Bx.toString(t)}})}length(e,t){return new bk({...this._def,exactLength:{value:e,message:Bx.toString(t)}})}nonempty(e){return this.min(1,e)}}function vk(e){if(e instanceof wk){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=jk.create(vk(n))}return new wk({...e._def,shape:()=>t})}return e instanceof bk?new bk({...e._def,type:vk(e.element)}):e instanceof jk?jk.create(vk(e.unwrap())):e instanceof Uk?Uk.create(vk(e.unwrap())):e instanceof Sk?Sk.create(e.items.map((e=>vk(e)))):e}bk.create=(e,t)=>new bk({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Qk.ZodArray,...zx(t)});class wk extends Gx{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=px.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==yx.object){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.object,received:t.parsedType}),Px}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof gk&&"strip"===this._def.unknownKeys))for(const a in r.data)i.includes(a)||s.push(a);const o=[];for(const a of i){const e=n[a],t=r.data[a];o.push({key:{status:"valid",value:a},value:e._parse(new Fx(r,t,r.path,a)),alwaysSet:a in r.data})}if(this._def.catchall instanceof gk){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of s)o.push({key:{status:"valid",value:t},value:{status:"valid",value:r.data[t]}});else if("strict"===e)s.length>0&&(kx(r,{code:vx.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new Fx(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e})).then((e=>Sx.mergeObjectSync(t,e))):Sx.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return Bx.errToObj,new wk({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,s,o;const a=null!==(s=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=Bx.errToObj(e).message)&&void 0!==o?o:a}:{message:a}}}:{}})}strip(){return new wk({...this._def,unknownKeys:"strip"})}passthrough(){return new wk({...this._def,unknownKeys:"passthrough"})}extend(e){return new wk({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wk({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Qk.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new wk({...this._def,catchall:e})}pick(e){const t={};return px.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new wk({...this._def,shape:()=>t})}omit(e){const t={};return px.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new wk({...this._def,shape:()=>t})}deepPartial(){return vk(this)}partial(e){const t={};return px.objectKeys(this.shape).forEach((r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()})),new wk({...this._def,shape:()=>t})}required(e){const t={};return px.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof jk;)e=e._def.innerType;t[r]=e}})),new wk({...this._def,shape:()=>t})}keyof(){return Nk(px.objectKeys(this.shape))}}wk.create=(e,t)=>new wk({shape:()=>e,unknownKeys:"strip",catchall:gk.create(),typeName:Qk.ZodObject,...zx(t)}),wk.strictCreate=(e,t)=>new wk({shape:()=>e,unknownKeys:"strict",catchall:gk.create(),typeName:Qk.ZodObject,...zx(t)}),wk.lazycreate=(e,t)=>new wk({shape:e,unknownKeys:"strip",catchall:gk.create(),typeName:Qk.ZodObject,...zx(t)});class Ak extends Gx{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const r=e.map((e=>new wx(e.ctx.common.issues)));return kx(t,{code:vx.invalid_union,unionErrors:r}),Px}));{let e;const n=[];for(const s of r){const r={...t,common:{...t.common,issues:[]},parent:null},i=s._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=n.map((e=>new wx(e)));return kx(t,{code:vx.invalid_union,unionErrors:i}),Px}}get options(){return this._def.options}}Ak.create=(e,t)=>new Ak({options:e,typeName:Qk.ZodUnion,...zx(t)});const _k=e=>e instanceof Rk?_k(e.schema):e instanceof Dk?_k(e.innerType()):e instanceof Ck?[e.value]:e instanceof Lk?e.options:e instanceof Mk?px.objectValues(e.enum):e instanceof Fk?_k(e._def.innerType):e instanceof hk?[void 0]:e instanceof fk?[null]:e instanceof jk?[void 0,..._k(e.unwrap())]:e instanceof Uk?[null,..._k(e.unwrap())]:e instanceof qk||e instanceof $k?_k(e.unwrap()):e instanceof Hk?_k(e._def.innerType):[];class Ek extends Gx{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==yx.object)return kx(t,{code:vx.invalid_type,expected:yx.object,received:t.parsedType}),Px;const r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(kx(t,{code:vx.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Px)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const i of t){const t=_k(i.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const r of t){if(n.has(r))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);n.set(r,i)}}return new Ek({typeName:Qk.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...zx(r)})}}function xk(e,t){const r=bx(e),n=bx(t);if(e===t)return{valid:!0,data:e};if(r===yx.object&&n===yx.object){const r=px.objectKeys(t),n=px.objectKeys(e).filter((e=>-1!==r.indexOf(e))),i={...e,...t};for(const s of n){const r=xk(e[s],t[s]);if(!r.valid)return{valid:!1};i[s]=r.data}return{valid:!0,data:i}}if(r===yx.array&&n===yx.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const i=xk(e[n],t[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===yx.date&&n===yx.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class kk extends Gx{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(Ox(e)||Ox(n))return Px;const i=xk(e.value,n.value);return i.valid?((Rx(e)||Rx(n))&&t.dirty(),{status:t.value,value:i.data}):(kx(r,{code:vx.invalid_intersection_types}),Px)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((e=>{let[t,r]=e;return n(t,r)})):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}kk.create=(e,t,r)=>new kk({left:e,right:t,typeName:Qk.ZodIntersection,...zx(r)});class Sk extends Gx{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==yx.array)return kx(r,{code:vx.invalid_type,expected:yx.array,received:r.parsedType}),Px;if(r.data.length<this._def.items.length)return kx(r,{code:vx.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Px;!this._def.rest&&r.data.length>this._def.items.length&&(kx(r,{code:vx.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new Fx(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(n).then((e=>Sx.mergeArray(t,e))):Sx.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Sk({...this._def,rest:e})}}Sk.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Sk({items:e,typeName:Qk.ZodTuple,rest:null,...zx(t)})};class Pk extends Gx{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==yx.object)return kx(r,{code:vx.invalid_type,expected:yx.object,received:r.parsedType}),Px;const n=[],i=this._def.keyType,s=this._def.valueType;for(const o in r.data)n.push({key:i._parse(new Fx(r,o,r.path,o)),value:s._parse(new Fx(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Sx.mergeObjectAsync(t,n):Sx.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new Pk(t instanceof Gx?{keyType:e,valueType:t,typeName:Qk.ZodRecord,...zx(r)}:{keyType:sk.create(),valueType:e,typeName:Qk.ZodRecord,...zx(t)})}}class Tk extends Gx{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==yx.map)return kx(r,{code:vx.invalid_type,expected:yx.map,received:r.parsedType}),Px;const n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(((e,t)=>{let[s,o]=e;return{key:n._parse(new Fx(r,s,r.path,[t,"key"])),value:i._parse(new Fx(r,o,r.path,[t,"value"]))}}));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of s){const n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return Px;"dirty"!==n.status&&"dirty"!==i.status||t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of s){const n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return Px;"dirty"!==n.status&&"dirty"!==i.status||t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}Tk.create=(e,t,r)=>new Tk({valueType:t,keyType:e,typeName:Qk.ZodMap,...zx(r)});class Ik extends Gx{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==yx.set)return kx(r,{code:vx.invalid_type,expected:yx.set,received:r.parsedType}),Px;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(kx(r,{code:vx.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(kx(r,{code:vx.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const r=new Set;for(const n of e){if("aborted"===n.status)return Px;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const o=[...r.data.values()].map(((e,t)=>i._parse(new Fx(r,e,r.path,t))));return r.common.async?Promise.all(o).then((e=>s(e))):s(o)}min(e,t){return new Ik({...this._def,minSize:{value:e,message:Bx.toString(t)}})}max(e,t){return new Ik({...this._def,maxSize:{value:e,message:Bx.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ik.create=(e,t)=>new Ik({valueType:e,minSize:null,maxSize:null,typeName:Qk.ZodSet,...zx(t)});class Ok extends Gx{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==yx.function)return kx(t,{code:vx.invalid_type,expected:yx.function,received:t.parsedType}),Px;function r(e,r){return xx({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ex(),Ax].filter((e=>!!e)),issueData:{code:vx.invalid_arguments,argumentsError:r}})}function n(e,r){return xx({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ex(),Ax].filter((e=>!!e)),issueData:{code:vx.invalid_return_type,returnTypeError:r}})}const i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof Bk){const e=this;return Ix((async function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const c=new wx([]),l=await e._def.args.parseAsync(o,i).catch((e=>{throw c.addIssue(r(o,e)),c})),u=await Reflect.apply(s,this,l);return await e._def.returns._def.type.parseAsync(u,i).catch((e=>{throw c.addIssue(n(u,e)),c}))}))}{const e=this;return Ix((function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const c=e._def.args.safeParse(o,i);if(!c.success)throw new wx([r(o,c.error)]);const l=Reflect.apply(s,this,c.data),u=e._def.returns.safeParse(l,i);if(!u.success)throw new wx([n(l,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Ok({...this._def,args:Sk.create(t).rest(mk.create())})}returns(e){return new Ok({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Ok({args:e||Sk.create([]).rest(mk.create()),returns:t||mk.create(),typeName:Qk.ZodFunction,...zx(r)})}}class Rk extends Gx{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Rk.create=(e,t)=>new Rk({getter:e,typeName:Qk.ZodLazy,...zx(t)});class Ck extends Gx{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return kx(t,{received:t.data,code:vx.invalid_literal,expected:this._def.value}),Px}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Nk(e,t){return new Lk({values:e,typeName:Qk.ZodEnum,...zx(t)})}Ck.create=(e,t)=>new Ck({value:e,typeName:Qk.ZodLiteral,...zx(t)});class Lk extends Gx{constructor(){super(...arguments),jx.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return kx(t,{expected:px.joinValues(r),received:t.parsedType,code:vx.invalid_type}),Px}if(Lx(this,jx,"f")||Mx(this,jx,new Set(this._def.values),"f"),!Lx(this,jx,"f").has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return kx(t,{received:t.data,code:vx.invalid_enum_value,options:r}),Px}return Ix(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Lk.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Lk.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}jx=new WeakMap,Lk.create=Nk;class Mk extends Gx{constructor(){super(...arguments),Ux.set(this,void 0)}_parse(e){const t=px.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==yx.string&&r.parsedType!==yx.number){const e=px.objectValues(t);return kx(r,{expected:px.joinValues(e),received:r.parsedType,code:vx.invalid_type}),Px}if(Lx(this,Ux,"f")||Mx(this,Ux,new Set(px.getValidEnumValues(this._def.values)),"f"),!Lx(this,Ux,"f").has(e.data)){const e=px.objectValues(t);return kx(r,{received:r.data,code:vx.invalid_enum_value,options:e}),Px}return Ix(e.data)}get enum(){return this._def.values}}Ux=new WeakMap,Mk.create=(e,t)=>new Mk({values:e,typeName:Qk.ZodNativeEnum,...zx(t)});class Bk extends Gx{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==yx.promise&&!1===t.common.async)return kx(t,{code:vx.invalid_type,expected:yx.promise,received:t.parsedType}),Px;const r=t.parsedType===yx.promise?t.data:Promise.resolve(t.data);return Ix(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Bk.create=(e,t)=>new Bk({type:e,typeName:Qk.ZodPromise,...zx(t)});class Dk extends Gx{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qk.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{kx(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){const e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Px;const n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?Px:"dirty"===n.status||"dirty"===t.value?Tx(n.value):n}));{if("aborted"===t.value)return Px;const n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?Px:"dirty"===n.status||"dirty"===t.value?Tx(n.value):n}}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?Px:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?Px:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Cx(e))return e;const s=n.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>Cx(e)?Promise.resolve(n.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}px.assertNever(n)}}Dk.create=(e,t,r)=>new Dk({schema:e,typeName:Qk.ZodEffects,effect:t,...zx(r)}),Dk.createWithPreprocess=(e,t,r)=>new Dk({schema:t,effect:{type:"preprocess",transform:e},typeName:Qk.ZodEffects,...zx(r)});class jk extends Gx{_parse(e){return this._getType(e)===yx.undefined?Ix(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jk.create=(e,t)=>new jk({innerType:e,typeName:Qk.ZodOptional,...zx(t)});class Uk extends Gx{_parse(e){return this._getType(e)===yx.null?Ix(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Uk.create=(e,t)=>new Uk({innerType:e,typeName:Qk.ZodNullable,...zx(t)});class Fk extends Gx{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===yx.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Fk.create=(e,t)=>new Fk({innerType:e,typeName:Qk.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...zx(t)});class Hk extends Gx{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Nx(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new wx(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new wx(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hk.create=(e,t)=>new Hk({innerType:e,typeName:Qk.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...zx(t)});class zk extends Gx{_parse(e){if(this._getType(e)!==yx.nan){const t=this._getOrReturnCtx(e);return kx(t,{code:vx.invalid_type,expected:yx.nan,received:t.parsedType}),Px}return{status:"valid",value:e.data}}}zk.create=e=>new zk({typeName:Qk.ZodNaN,...zx(e)});const Gk=Symbol("zod_brand");class qk extends Gx{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Wk extends Gx{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Px:"dirty"===e.status?(t.dirty(),Tx(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})()}{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?Px:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new Wk({in:e,out:t,typeName:Qk.ZodPipeline})}}class $k extends Gx{_parse(e){const t=this._def.innerType._parse(e),r=e=>(Cx(e)&&(e.value=Object.freeze(e.value)),e);return Nx(t)?t.then((e=>r(e))):r(t)}unwrap(){return this._def.innerType}}function Kk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return e?pk.create().superRefine(((n,i)=>{var s,o;if(!e(n)){const e="function"===typeof t?t(n):"string"===typeof t?{message:t}:t,a=null===(o=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===o||o,c="string"===typeof e?{message:e}:e;i.addIssue({code:"custom",...c,fatal:a})}})):pk.create()}$k.create=(e,t)=>new $k({innerType:e,typeName:Qk.ZodReadonly,...zx(t)});const Vk={object:wk.lazycreate};var Qk,Zk;(Zk=Qk||(Qk={})).ZodString="ZodString",Zk.ZodNumber="ZodNumber",Zk.ZodNaN="ZodNaN",Zk.ZodBigInt="ZodBigInt",Zk.ZodBoolean="ZodBoolean",Zk.ZodDate="ZodDate",Zk.ZodSymbol="ZodSymbol",Zk.ZodUndefined="ZodUndefined",Zk.ZodNull="ZodNull",Zk.ZodAny="ZodAny",Zk.ZodUnknown="ZodUnknown",Zk.ZodNever="ZodNever",Zk.ZodVoid="ZodVoid",Zk.ZodArray="ZodArray",Zk.ZodObject="ZodObject",Zk.ZodUnion="ZodUnion",Zk.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Zk.ZodIntersection="ZodIntersection",Zk.ZodTuple="ZodTuple",Zk.ZodRecord="ZodRecord",Zk.ZodMap="ZodMap",Zk.ZodSet="ZodSet",Zk.ZodFunction="ZodFunction",Zk.ZodLazy="ZodLazy",Zk.ZodLiteral="ZodLiteral",Zk.ZodEnum="ZodEnum",Zk.ZodEffects="ZodEffects",Zk.ZodNativeEnum="ZodNativeEnum",Zk.ZodOptional="ZodOptional",Zk.ZodNullable="ZodNullable",Zk.ZodDefault="ZodDefault",Zk.ZodCatch="ZodCatch",Zk.ZodPromise="ZodPromise",Zk.ZodBranded="ZodBranded",Zk.ZodPipeline="ZodPipeline",Zk.ZodReadonly="ZodReadonly";const Yk=sk.create,Jk=ak.create,Xk=zk.create,eS=ck.create,tS=lk.create,rS=uk.create,nS=dk.create,iS=hk.create,sS=fk.create,oS=pk.create,aS=mk.create,cS=gk.create,lS=yk.create,uS=bk.create,dS=wk.create,hS=wk.strictCreate,fS=Ak.create,pS=Ek.create,mS=kk.create,gS=Sk.create,yS=Pk.create,bS=Tk.create,vS=Ik.create,wS=Ok.create,AS=Rk.create,_S=Ck.create,ES=Lk.create,xS=Mk.create,kS=Bk.create,SS=Dk.create,PS=jk.create,TS=Uk.create,IS=Dk.createWithPreprocess,OS=Wk.create,RS={string:e=>sk.create({...e,coerce:!0}),number:e=>ak.create({...e,coerce:!0}),boolean:e=>lk.create({...e,coerce:!0}),bigint:e=>ck.create({...e,coerce:!0}),date:e=>uk.create({...e,coerce:!0})},CS=Px;var NS=Object.freeze({__proto__:null,defaultErrorMap:Ax,setErrorMap:function(e){_x=e},getErrorMap:Ex,makeIssue:xx,EMPTY_PATH:[],addIssueToContext:kx,ParseStatus:Sx,INVALID:Px,DIRTY:Tx,OK:Ix,isAborted:Ox,isDirty:Rx,isValid:Cx,isAsync:Nx,get util(){return px},get objectUtil(){return gx},ZodParsedType:yx,getParsedType:bx,ZodType:Gx,datetimeRegex:ik,ZodString:sk,ZodNumber:ak,ZodBigInt:ck,ZodBoolean:lk,ZodDate:uk,ZodSymbol:dk,ZodUndefined:hk,ZodNull:fk,ZodAny:pk,ZodUnknown:mk,ZodNever:gk,ZodVoid:yk,ZodArray:bk,ZodObject:wk,ZodUnion:Ak,ZodDiscriminatedUnion:Ek,ZodIntersection:kk,ZodTuple:Sk,ZodRecord:Pk,ZodMap:Tk,ZodSet:Ik,ZodFunction:Ok,ZodLazy:Rk,ZodLiteral:Ck,ZodEnum:Lk,ZodNativeEnum:Mk,ZodPromise:Bk,ZodEffects:Dk,ZodTransformer:Dk,ZodOptional:jk,ZodNullable:Uk,ZodDefault:Fk,ZodCatch:Hk,ZodNaN:zk,BRAND:Gk,ZodBranded:qk,ZodPipeline:Wk,ZodReadonly:$k,custom:Kk,Schema:Gx,ZodSchema:Gx,late:Vk,get ZodFirstPartyTypeKind(){return Qk},coerce:RS,any:oS,array:uS,bigint:eS,boolean:tS,date:rS,discriminatedUnion:pS,effect:SS,enum:ES,function:wS,instanceof:function(e){return Kk((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:mS,lazy:AS,literal:_S,map:bS,nan:Xk,nativeEnum:xS,never:cS,null:sS,nullable:TS,number:Jk,object:dS,oboolean:()=>tS().optional(),onumber:()=>Jk().optional(),optional:PS,ostring:()=>Yk().optional(),pipeline:OS,preprocess:IS,promise:kS,record:yS,set:vS,strictObject:hS,string:Yk,symbol:nS,transformer:SS,tuple:gS,undefined:iS,union:fS,unknown:aS,void:lS,NEVER:CS,ZodIssueCode:vx,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:wx});const LS=e=>e.message?e.message:"unspecified error";class MS extends xA{constructor(e){super(),this.code=1100,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:\n${this._compileErrors().join("\n")}`}_compileErrors(){return this.errors.map(LS)}}const BS=["bool","int","uint","bytes","string","address","tuple"],DS=e=>"object"===typeof e&&"type"in e&&"name"in e,jS=e=>"string"===typeof e,US=e=>"string"===typeof e&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e);function FS(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!("undefined"!==typeof t&&t>0&&e.length!==2+2*t)}const HS=e=>"number"===typeof e||"bigint"===typeof e||"string"===typeof e&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(e);function zS(e){if("string"!==typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return e.startsWith("0x")}const GS=function(e){for(const[t,r]of Object.entries(e))if(void 0!==r&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString()}`)},qS=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],WS=e=>{let t,r=e.replace(/ /,""),n=!1,i=[];if(e.includes("[")&&(r=r.slice(0,r.indexOf("[")),i=[...e.matchAll(/(?:\[(\d*)\])/g)].map((e=>parseInt(e[1],10))).map((e=>Number.isNaN(e)?-1:e)),n=i.length>0),BS.includes(r))return{baseType:r,isArray:n,baseTypeSize:t,arraySizes:i};if(r.startsWith("int"))t=parseInt(r.substring(3),10),r="int";else if(r.startsWith("uint"))t=parseInt(e.substring(4),10),r="uint";else{if(!r.startsWith("bytes"))return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};t=parseInt(r.substring(5),10),r="bytes"}return{baseType:r,isArray:n,baseTypeSize:t,arraySizes:i}},$S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object.keys(t).includes("type"))throw new MS([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:n}=WS(e);if(!r&&!qS.includes(e))throw new MS([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(r){if("tuple"===r)throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${null!==n&&void 0!==n?n:""}`,required:!0}}return e?{format:e,required:!0}:{}},KS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/0";const r={type:"array",items:[],maxItems:e.length,minItems:e.length};for(const[n,i]of e.entries()){let e,s,o=[];DS(i)?(e=i.type,s=i.name||`${t}/${n}`,o=i.components):"string"===typeof i?(e=i,s=`${t}/${n}`):Array.isArray(i)&&(i[0]&&"string"===typeof i[0]&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(e=i[0],s=`${t}/${n}`,o=i[1]):(e="tuple",s=`${t}/${n}`,o=i));const{baseType:a,isArray:c,arraySizes:l}=WS(e);let u,d=r;for(let t=l.length-1;t>0;t-=1)u={type:"array",$id:s,items:[],maxItems:l[t],minItems:l[t]},l[t]<0&&(delete u.maxItems,delete u.minItems),Array.isArray(d.items)?0===d.items.length?d.items=[u]:d.items.push(u):d.items=[d.items,u],d=u;if("tuple"!==a||c)if("tuple"===a&&c){const e=l[0],t=Object.assign({type:"array",$id:s,items:KS(o,s)},e>=0&&{minItems:e,maxItems:e});d.items.push(t)}else if(c){const t=l[0],r=Object.assign({type:"array",$id:s,items:$S(e)},t>=0&&{minItems:t,maxItems:t});d.items.push(r)}else Array.isArray(d.items),d.items.push(Object.assign({$id:s},$S(e)));else{const e=KS(o,s);e.$id=s,d.items.push(e)}d=r}return r},VS=e=>KS(e),QS=(e,t)=>1===t?e:QS(e[0],t-1),ZS=(e,t,r)=>{const n=[];for(const[i,s]of e.entries()){let e,o,a=[];DS(s)?(e=s.type,o=s.name,a=s.components):"string"===typeof s?e=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(e=s[0],a=s[1]):(e="tuple",a=s));const{baseType:c,isArray:l,arraySizes:u}=WS(e),d=Array.isArray(t)?t[i]:t[o];if("tuple"!==c||l)if("tuple"===c&&l){const e=[];for(const t of d)if(u.length>1){const n=QS(t,u.length-1),i=[];for(const e of n)i.push(ZS(a,e,r));e.push(i)}else e.push(ZS(a,t,r));n.push(e)}else n.push(d);else n.push(ZS(a,d,r))}return(r=null!==r&&void 0!==r?r:[]).push(...n),r},YS=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw new Error(`Invalid code point: ${e}`)},JS=e=>{if(!US(e))throw new Error("Invalid hex string");const[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],n=BigInt(r);return n>Number.MAX_SAFE_INTEGER?t?-n:n:n<Number.MIN_SAFE_INTEGER?n:t?-1*Number(n):Number(n)},XS=e=>{if(("number"===typeof e||"bigint"===typeof e)&&e<0)return`-0x${e.toString(16).slice(1)}`;if(("number"===typeof e||"bigint"===typeof e)&&e>=0)return`0x${e.toString(16)}`;if("string"===typeof e&&US(e)){const[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e];return`${t?"-":""}0x${r.split(/^(-)?0(x|X)/).slice(-1)[0].replace(/^0+/,"").toLowerCase()}`}if("string"===typeof e&&!US(e))return XS(BigInt(e));throw new W_(e)},eP=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";if("string"===typeof e&&!US(e))return e.padStart(t,r);const n="string"===typeof e&&US(e)?e:XS(e),[i,s]=n.startsWith("-")?["-0x",n.slice(3)]:["0x",n.slice(2)];return`${i}${s.padStart(t,r)}`};function tP(e){let t="0x";for(const r of e){const e=r.toString(16);t+=1===e.length?`0${e}`:e}return t}const rP={zero:48,nine:57,A:65,F:70,a:97,f:102};function nP(e){return e>=rP.zero&&e<=rP.nine?e-rP.zero:e>=rP.A&&e<=rP.F?e-(rP.A-10):e>=rP.a&&e<=rP.f?e-(rP.a-10):void 0}function iP(e){let t=0;if(!e.startsWith("0")||"x"!==e[1]&&"X"!==e[1]||(t=2),e.length%2!==0)throw new q_(`hex string has odd length: ${e}`);const r=(e.length-t)/2,n=new Uint8Array(r);for(let i=0,s=t;i<r;i+=1){const t=nP(e.charCodeAt(s++)),r=nP(e.charCodeAt(s++));if(void 0===t||void 0===r)throw new q_(`Invalid byte sequence ("${e[s-2]}${e[s-1]}" in "${e}").`);n[i]=16*t+r}return n}function sP(e){var t;return e instanceof Uint8Array||"Uint8Array"!==(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)?e:Uint8Array.from(e)}const oP=e=>{var t,r;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(r=null===e||void 0===e?void 0:e.constructor)||void 0===r?void 0:r.name)},aP=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abiType:"bytes"};if("string"!==typeof e&&!Array.isArray(e)&&!oP(e))return!1;if("string"===typeof e&&US(e)&&e.startsWith("-"))return!1;if("string"===typeof e&&!US(e))return!1;if("string"===typeof e){if(e.length%2!==0)return!1;t=iP(e)}else if(Array.isArray(e)){if(e.some((e=>e<0||e>255||!Number.isInteger(e))))return!1;t=new Uint8Array(e)}else t=e;if(null===r||void 0===r?void 0:r.abiType){const{baseTypeSize:e}=WS(r.abiType);return!e||t.length===e}return!(null===r||void 0===r?void 0:r.size)||t.length===(null===r||void 0===r?void 0:r.size)},cP=e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;const t=e.slice(2),r=DE(t.toLowerCase()),n=tP(fx(sP(r))).slice(2);for(let i=0;i<40;i+=1)if(parseInt(n[i],16)>7&&t[i].toUpperCase()!==t[i]||parseInt(n[i],16)<=7&&t[i].toLowerCase()!==t[i])return!1;return!0},lP=function(e){let t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!("string"!==typeof e&&!oP(e))&&(t=oP(e)?tP(e):"string"!==typeof e||US(e)||e.toLowerCase().startsWith("0x")?e:`0x${e}`,!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(t)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(t))||(!r||cP(t))))},uP=(e,t)=>{if(t===BigInt(0))return BigInt(1);let r=e;for(let n=1;n<t;n+=1)r*=e;return r},dP=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abiType:"uint"};if(!["number","string","bigint"].includes(typeof e)||"string"===typeof e&&0===e.length)return!1;if(null===r||void 0===r?void 0:r.abiType){const{baseTypeSize:e}=WS(r.abiType);e&&(t=e)}else r.bitSize&&(t=r.bitSize);const n=uP(BigInt(2),BigInt(null!==t&&void 0!==t?t:256))-BigInt(1);try{const t="string"===typeof e&&US(e)?BigInt(JS(e)):BigInt(e);return t>=0&&t<=n}catch(gZ){return!1}},hP=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abiType:"int"};if(!["number","string","bigint"].includes(typeof e))return!1;if("number"===typeof e&&e>Number.MAX_SAFE_INTEGER)return!1;if(null===r||void 0===r?void 0:r.abiType){const{baseTypeSize:e,baseType:n}=WS(r.abiType);if("int"!==n)return!1;e&&(t=e)}else r.bitSize&&(t=r.bitSize);const n=uP(BigInt(2),BigInt((null!==t&&void 0!==t?t:256)-1)),i=BigInt(-1)*uP(BigInt(2),BigInt((null!==t&&void 0!==t?t:256)-1));try{const t="string"===typeof e&&US(e)?BigInt(JS(e)):BigInt(e);return t>=i&&t<=n}catch(gZ){return!1}},fP=e=>!!hP(e)||(!("string"!==typeof e||!/[0-9.]/.test(e)||e.indexOf(".")!==e.lastIndexOf("."))||"number"===typeof e),pP=e=>dP(e),mP=e=>Object.values(Xw).includes(e),gP=e=>mP(e)||pP(e),yP=e=>"string"===typeof e&&(!!/^(0x)?[0-9a-f]{512}$/i.test(e)&&!(!/^(0x)?[0-9a-f]{512}$/.test(e)&&!/^(0x)?[0-9A-F]{512}$/.test(e))),bP=(e,t)=>{if("string"===typeof t&&!US(t))return!1;if(!yP(e))return!1;const r="string"===typeof t?iP(t):t,n=tP(fx(r)).slice(2);for(let i=0;i<12;i+=4){const t=(parseInt(n.slice(i,i+2),16)<<8)+parseInt(n.slice(i+2,i+4),16)&2047,r=1<<t%4;if((YS(e.charCodeAt(e.length-1-Math.floor(t/4)))&r)!==r)return!1}return!0},vP=e=>void 0===e||null===e,wP=e=>"object"===typeof e&&!vP(e)&&!Array.isArray(e)&&!(e instanceof rA),AP=e=>"string"===typeof e&&(!!/^(0x)?[0-9a-f]{64}$/i.test(e)&&!(!/^(0x)?[0-9a-f]{64}$/.test(e)&&!/^(0x)?[0-9A-F]{64}$/.test(e))),_P={address:e=>lP(e),bloom:e=>yP(e),blockNumber:e=>pP(e),blockTag:e=>mP(e),blockNumberOrTag:e=>gP(e),bool:e=>{return!!["number","string","boolean"].includes(typeof(t=e))&&("boolean"===typeof t||("string"!==typeof t||US(t)?"string"===typeof t&&US(t)?"0x1"===t||"0x0"===t:1===t||0===t:"1"===t||"0"===t));var t},bytes:e=>aP(e),filter:e=>(e=>{const t=["fromBlock","toBlock","address","topics","blockHash"];if(vP(e)||"object"!==typeof e)return!1;if(!Object.keys(e).every((e=>t.includes(e))))return!1;if(!vP(e.fromBlock)&&!gP(e.fromBlock)||!vP(e.toBlock)&&!gP(e.toBlock))return!1;if(!vP(e.address))if(Array.isArray(e.address)){if(!e.address.every((e=>lP(e))))return!1}else if(!lP(e.address))return!1;return!(!vP(e.topics)&&!e.topics.every((e=>!!vP(e)||(Array.isArray(e)?e.every((e=>AP(e))):!!AP(e)))))})(e),hex:e=>US(e),uint:e=>dP(e),int:e=>hP(e),number:e=>fP(e),string:e=>jS(e)};for(let r=8;r<=256;r+=8)_P[`int${r}`]=e=>hP(e,{bitSize:r}),_P[`uint${r}`]=e=>dP(e,{bitSize:r});for(let r=1;r<=32;r+=1)_P[`bytes${r}`]=e=>aP(e,{size:r});_P.bytes256=_P.bytes;const EP=_P,xP=e=>{if((!(null===e||void 0===e?void 0:e.type)||"object"===(null===e||void 0===e?void 0:e.type))&&(null===e||void 0===e?void 0:e.properties)){const t={};for(const r of Object.keys(e.properties)){const n=xP(e.properties[r]);n&&(t[r]=n)}return Array.isArray(e.required)?NS.object(t).partial().required(e.required.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:!0})),{})):NS.object(t).partial()}if("array"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.items)){if(Array.isArray(e.items)&&e.items.length>1&&void 0!==e.maxItems&&new Set(e.items.map((e=>e.$id))).size===e.items.length){const t=[];for(const r of e.items){const e=xP(r);e&&t.push(e)}return NS.tuple(t)}const t=Array.isArray(e.items)?e.items[0]:e.items;let r=NS.array(xP(t));return r=void 0!==e.minItems?r.min(e.minItems):r,r=void 0!==e.maxItems?r.max(e.maxItems):r,r}if(e.oneOf&&Array.isArray(e.oneOf))return NS.union(e.oneOf.map((e=>xP(e))));if(null===e||void 0===e?void 0:e.format){if(!EP[e.format])throw new fE(e.format);return NS.any().refine(EP[e.format],(t=>({params:{value:t,format:e.format}})))}return(null===e||void 0===e?void 0:e.type)&&"object"!==(null===e||void 0===e?void 0:e.type)&&"function"===typeof NS[String(e.type)]?NS[String(e.type)]():NS.object({data:NS.any()}).partial()};class kP{static factory(){return kP.validatorInstance||(kP.validatorInstance=new kP),kP.validatorInstance}validate(e,t,r){var n,i;const s=xP(e).safeParse(t);if(!s.success){const e=this.convertErrors(null!==(i=null===(n=s.error)||void 0===n?void 0:n.issues)&&void 0!==i?i:[]);if(e){if(null===r||void 0===r?void 0:r.silent)return e;throw new MS(e)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map((e=>{var t;let r,n,i,s;s=e.path.join("/");const o=String(e.path[e.path.length-1]),a=e.path.join("/");if(e.code===vx.too_big)n="maxItems",s=`${a}/maxItems`,i={limit:e.maximum},r=`must NOT have more than ${e.maximum} items`;else if(e.code===vx.too_small)n="minItems",s=`${a}/minItems`,i={limit:e.minimum},r=`must NOT have fewer than ${e.minimum} items`;else if(e.code===vx.custom){const{value:n,format:o}=null!==(t=e.params)&&void 0!==t?t:{};r="undefined"===typeof n?`value at "/${s}" is required`:`value "${"object"===typeof n?JSON.stringify(n):n}" at "/${s}" must pass "${o}" validation`,i={value:n}}return{keyword:null!==n&&void 0!==n?n:o,instancePath:a?`/${a}`:"",schemaPath:s?`#${s}`:"#",params:null!==i&&void 0!==i?i:{value:e.message},message:null!==r&&void 0!==r?r:e.message}}))}}const SP=new class{constructor(){this._validator=kP.factory()}validateJSONSchema(e,t,r){return this._validator.validate(e,t,r)}validate(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{silent:!1};var n,i;const s=VS(e);if(!Array.isArray(s.items)||0!==(null===(n=s.items)||void 0===n?void 0:n.length)||0!==t.length){if(Array.isArray(s.items)&&0===(null===(i=s.items)||void 0===i?void 0:i.length)&&0!==t.length)throw new MS([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:t}]);return this._validator.validate(s,t,r)}}};function PP(e){var t,r;return e instanceof Uint8Array||"Uint8Array"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)||"Buffer"===(null===(r=null===e||void 0===e?void 0:e.constructor)||void 0===r?void 0:r.name)}function TP(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(n);let s=0;for(const o of t)i.set(o,s),s+=o.length;return i}function IP(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r+=1)if(e[r]!==t[r])return!1;return!0}const OP={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},RP="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",CP=e=>{if(SP.validate(["bytes"],[e]),PP(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"===typeof e)return iP(e);throw new q_(e)},{uint8ArrayToHexString:NP}=n,LP=e=>NP(CP(e)),MP=e=>"string"===typeof e&&"0x"!==e.slice(0,2).toLowerCase()?CP(`0x${e}`):CP(e),BP=e=>(SP.validate(["hex"],[e]),JS(e)),DP=BP,jP=(e,t)=>{"bigint"!==typeof e&&SP.validate(["int"],[e]);let r=XS(e);return t&&(r.startsWith("-")||r.length%2!==1?r.length%2===0&&r.startsWith("-")&&(r="-0x0".concat(r.slice(3))):r="0x0".concat(r.slice(2))),r},UP=jP,FP=e=>BP(e).toString(),HP=e=>{SP.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),LP((new TextEncoder).encode(t))},zP=HP,GP=HP,qP=e=>dx(MP(e)),WP=e=>"string"===typeof e?qP(e):(SP.validate(["bytes"],[e]),dx(e)),$P=DE,KP=qP,VP=e=>{SP.validate(["string"],[e]);let t="";for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r).toString(16);t+=n.length%2!==0?`0${n}`:n}return`0x${t}`},QP=VP,ZP=e=>new TextDecoder("ascii").decode(MP(e)),YP=ZP,JP=(e,t)=>{if("string"===typeof e&&lP(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if("boolean"===typeof e)return t?"bool":e?"0x01":"0x00";if("number"===typeof e)return t?e<0?"int256":"uint256":jP(e);if("bigint"===typeof e)return t?"bigint":jP(e);if(PP(e))return t?"bytes":LP(e);if("object"===typeof e&&e)return t?"string":HP(JSON.stringify(e));if("string"===typeof e){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":jP(e);if(US(e))return t?"bytes":e;if(HS(e)&&!hP(e)&&!dP(e))return t?"bytes":`0x${e}`;if(HS(e)&&!hP(e)&&dP(e))return t?"uint":jP(e);if(!Number.isFinite(e))return t?"string":HP(e)}throw new Z_(e)},XP=e=>{if("number"===typeof e)return e>1e20?(console.warn(RP),BigInt(e)):e;if("bigint"===typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"===typeof e&&US(e))return BP(e);try{return XP(BigInt(e))}catch(t){throw new W_(e)}},eT=e=>{if("number"===typeof e)return BigInt(e);if("bigint"===typeof e)return e;if("string"===typeof e&&HS(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new W_(e)},tT=(e,t)=>{let r;if("string"===typeof t){if(r=OP[t],!r)throw new V_(t)}else{if(t<0||!Number.isInteger(t))throw new Q_(t);r=uP(BigInt(10),BigInt(t))}const n=String(XP(e)),i=r.toString().length-1;if(i<=0)return n.toString();const s=n.padStart(i,"0"),o=s.slice(0,-i),a=s.slice(-i).replace(/\.?0+$/,"");if(""===o)return`0.${a}`;if(""===a)return o;return`${o}.${a}`.slice(0,o.length+i+1)},rT=(e,t)=>{let r;if(SP.validate(["number"],[e]),"string"===typeof t){if(r=OP[t],!r)throw new V_(t)}else{if(t<0||!Number.isInteger(t))throw new Q_(t);r=uP(BigInt(10),BigInt(t))}let n=e;"number"===typeof n&&(n<1e-15&&console.warn(RP),n>1e20?(console.warn(RP),n=BigInt(n)):n=n.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[i,s]=String("string"!==typeof n||US(n)?XP(n):n).split(".").concat(""),o=BigInt(`${i}${s}`)*r,a=s.length;return 0===a?o.toString():o.toString().slice(0,-a)},nT=e=>{if(!lP(e,!1))throw new $_(e);const t=e.toLowerCase().replace(/^0x/i,""),r=tP(fx(sP($P(t))));if(vP(r)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===r)return"";let n="0x";const i=r.replace(/^0x/i,"");for(let s=0;s<t.length;s+=1)parseInt(i[s],16)>7?n+=t[s].toUpperCase():n+=t[s];return n},iT=e=>{if("boolean"===typeof e)return e;if("number"===typeof e&&(0===e||1===e))return Boolean(e);if("bigint"===typeof e&&(e===BigInt(0)||e===BigInt(1)))return Boolean(e);if("string"===typeof e&&!US(e)&&("1"===e||"0"===e||"false"===e||"true"===e))return"true"===e||"false"!==e&&Boolean(Number(e));if("string"===typeof e&&US(e)&&("0x1"===e||"0x0"===e))return Boolean(XP(e));throw new J_(e)};var sT=r(3960);const oT=sT;class aT extends oT{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const cT=US,lT=HS,uT=cP,dT=lP,hT=yP,fT=bP,pT=(e,t)=>{if(!yP(e))return!1;if(!lP(t))return!1;const r=eP(t,64);return bP(e,r)},mT=(e,t)=>!!yP(e)&&(!!lP(t)&&bP(e,t)),gT=AP,yT=(e,t)=>!!yP(e)&&(!!AP(t)&&bP(e,t)),bT=(e,t)=>{const r="string"===typeof e&&mP(e),n="string"===typeof t&&mP(t);if(e===t||("earliest"===e||0===e)&&("earliest"===t||0===t))return 0;if("earliest"===e&&t>0)return-1;if("earliest"===t&&e>0)return 1;if(r&&n){const r={[Xw.EARLIEST]:1,[Xw.FINALIZED]:2,[Xw.SAFE]:3,[Xw.LATEST]:4,[Xw.PENDING]:5};return r[e]<r[t]?-1:1}if(r&&!n||!r&&n)throw new rE("Cannot compare blocktag with provided non-blocktag input.");const i=BigInt(e),s=BigInt(t);return i<s?-1:i===s?0:1},vT=e=>"object"===typeof e&&!vP(e)&&0!==Object.keys(e).length&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some((t=>t in e)),wT=vP,AT=e=>"object"===typeof e&&!vP(e)&&!Array.isArray(e)&&!(e instanceof rA),_T=function(e){if(!AT(e))return e;const t=Object.assign({},e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(const s of n)for(const e in s)AT(s[e])?(t[e]||(t[e]={}),t[e]=_T(t[e],s[e])):!vP(s[e])&&Object.hasOwnProperty.call(s,e)&&(Array.isArray(s[e])||s[e]instanceof rA?t[e]=s[e].slice(0):t[e]=s[e]);return t},ET=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return"string"===typeof e?US(e)?eP(e,t,r):e.padStart(t,r):(SP.validate(["int"],[e]),eP(e,t,r))},xT=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";if("string"===typeof e&&!US(e))return e.padEnd(t,r);const n="string"===typeof e&&US(e)?e:jP(e),i=n.startsWith("-")?3:2;return SP.validate([n.startsWith("-")?"int":"uint"],[e]),n.padEnd(t+i,r)},kT=xT,ST=ET,PT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;SP.validate(["int"],[e]);const r=XP(e);if(r>=0)return ET(JP(r),t);const n=uP(BigInt(2),BigInt(4*t));if(-r>=n)throw new Y_(`value: ${e}, nibbleWidth: ${t}`);const i=BigInt(r);return ET(jP(i+n),t)},TT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;SP.validate(["int"],[e]);const r=XP(e);if(r<0)return r;const n=Math.ceil(Math.log(Number(r))/Math.log(2));if(n>4*t)throw new Y_(`value: "${e}", nibbleWidth: "${t}"`);if(4*t!==n)return r;const i=uP(BigInt(2),BigInt(t)*BigInt(4));return XP(BigInt(r)-i)},{parseBaseType:IT}=n,OT=e=>"object"===typeof e&&!vP(e)&&"number"in e&&"bytes"in e,RT=function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.assign({},e);for(const s of t){if(i.oneOf&&r){const e=r,t=n.find((t=>{let[r]=t;return r===e}));t&&t[0]===r&&(i=i.oneOf[t[1]])}if(!i.properties&&!i.items)return;if(i.properties)i=i.properties[s];else if(i.items&&i.items.properties){i=i.items.properties[s]}else i.items&&wP(i.items)?i=i.items:i.items&&Array.isArray(i.items)&&(i=i.items[parseInt(s,10)]);i&&s&&(r=s)}return i},CT=(e,t,r)=>{try{const{baseType:n,baseTypeSize:i}=IT(t);if("int"===n||"uint"===n)switch(r.number){case Kw.NUMBER:return Number(eT(e));case Kw.HEX:return jP(eT(e));case Kw.STR:return eT(e).toString();case Kw.BIGINT:return eT(e);default:throw new QA(`Invalid format: ${String(r.number)}`)}if("bytes"===n){let t;switch(i?"string"===typeof e?t=ET(e,2*i):PP(e)&&(t=TP(new Uint8Array(i-e.length),e)):t=e,r.bytes){case Qw.HEX:return LP(CP(t));case Qw.UINT8ARRAY:return CP(t);default:throw new QA(`Invalid format: ${String(r.bytes)}`)}}if("string"===n)return String(e)}catch(gZ){return e}return e},NT=e=>{let{value:t,schemaProp:r,schema:n,object:i,key:s,dataPath:o,format:a,oneOfPath:c=[]}=e;var l,u;if(Array.isArray(t)){let e=r;if(void 0!==(null===r||void 0===r?void 0:r.oneOf)&&r.oneOf.forEach(((n,i)=>{var o,a;!Array.isArray(null===r||void 0===r?void 0:r.items)&&("object"===typeof t[0]&&"object"===(null===(o=null===n||void 0===n?void 0:n.items)||void 0===o?void 0:o.type)||"string"===typeof t[0]&&"object"!==(null===(a=null===n||void 0===n?void 0:n.items)||void 0===a?void 0:a.type))&&(e=n,c.push([s,i]))})),vP(null===e||void 0===e?void 0:e.items))return delete i[s],o.pop(),!0;if(wP(e.items)&&!vP(e.items.format)){for(let r=0;r<t.length;r+=1)i[s][r]=CT(t[r],null===(l=null===e||void 0===e?void 0:e.items)||void 0===l?void 0:l.format,a);return o.pop(),!0}if(!Array.isArray(null===e||void 0===e?void 0:e.items)&&"object"===(null===(u=null===e||void 0===e?void 0:e.items)||void 0===u?void 0:u.type)){for(const e of t)LT(e,n,o,a,c);return o.pop(),!0}if(Array.isArray(null===e||void 0===e?void 0:e.items)){for(let r=0;r<t.length;r+=1)i[s][r]=CT(t[r],e.items[r].format,a);return o.pop(),!0}}return!1},LT=function(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];var s;if(!wP(e)&&!Array.isArray(e))return CT(e,null===t||void 0===t?void 0:t.format,n);const o=e;if(Array.isArray(o)&&"array"===(null===t||void 0===t?void 0:t.type)&&"object"===(null===(s=null===t||void 0===t?void 0:t.items)||void 0===s?void 0:s.type))NT({value:o,schemaProp:t,schema:t,object:o,key:"",dataPath:r,format:n,oneOfPath:i});else for(const[a,c]of Object.entries(o)){r.push(a);let e=RT(t,r,i);if(vP(e))delete o[a],r.pop();else if(wP(c))LT(c,t,r,n,i),r.pop();else if(!NT({value:c,schemaProp:e,schema:t,object:o,key:a,dataPath:r,format:n,oneOfPath:i})){if(void 0===(null===e||void 0===e?void 0:e.format)&&void 0!==(null===e||void 0===e?void 0:e.oneOf))for(const[t,r]of e.oneOf.entries())if(void 0!==(null===r||void 0===r?void 0:r.format)){e=r;break}o[a]=CT(c,e.format,n),r.pop()}}return o},MT=function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yw;r=wP(t)?_T({},t):Array.isArray(t)?[...t]:t;const i=wP(e)?e:VS(e);if(!i.properties&&!i.items&&!i.format)throw new QA("Invalid json schema for formatting");return LT(r,i,[],n)},BT="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",DT=e=>{let t;return t="bigint"===typeof e||"number"===typeof e?DE(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!==typeof e||US(e)?CP(e):DE(e),LP(fx(sP(t)))},jT=e=>{let t;t="string"===typeof e?e.startsWith("0x")&&US(e)?MP(e):DE(e):e;const r=DT(t);return r===BT?void 0:r},UT=e=>{const t=jT(e);return vP(t)?BT:t},FT=(e,t)=>{const r=/^(\d+).*$/.exec(e.slice(t));return r?parseInt(r[1],10):0},HT=e=>e.toString(2).length,zT=(e,t)=>{const r=t.toString();if("string"===e){if("string"===typeof t)return HP(t);throw new K_(t)}if("bool"===e||"boolean"===e){if("boolean"===typeof t)return t?"01":"00";throw new J_(t)}if("address"===e){if(!lP(r))throw new $_(r);return r}const n=(e=>e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256'${e.slice(4)}`:"uint"===e?"uint256":e)(e);if(e.startsWith("uint")){const e=FT(n,4);if(e%8||e<8||e>256)throw new eE(r);const t=XP(r);if(HT(t)>e)throw new tE(r);if(t<BigInt(0))throw new X_(r);return e?ST(t.toString(16),e/8*2):t.toString(16)}if(e.startsWith("int")){const t=FT(n,3);if(t%8||t<8||t>256)throw new eE(e);const i=XP(r);if(HT(i)>t)throw new tE(r);return i<BigInt(0)?PT(i.toString(),t/8*2):t?ST(i.toString(16),t/4):i.toString(16)}if("bytes"===n){if(r.replace(/^0x/i,"").length%2!==0)throw new q_(r);return r}if(e.startsWith("bytes")){if(r.replace(/^0x/i,"").length%2!==0)throw new q_(r);const t=FT(e,5);if(!t||t<1||t>64||t<r.replace(/^0x/i,"").length/2)throw new q_(r);return kT(r,2*t)}return""},GT=e=>{const[t,r]=(e=>{if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");let t,r;if("object"===typeof e&&("t"in e||"type"in e)&&("v"in e||"value"in e))t="t"in e?e.t:e.type,r="v"in e?e.v:e.value,t="bigint"===t.toLowerCase()?"int":t;else{if("bigint"===typeof e)return["int",e];t=JP(e,!0),r=JP(e),t.startsWith("int")||t.startsWith("uint")||(t="bytes")}return!t.startsWith("int")&&!t.startsWith("uint")||"string"!==typeof r||/^(-)?0x/i.test(r)||(r=eT(r)),[t,r]})(e);if(Array.isArray(r)){return r.map((e=>zT(t,e).replace("0x",""))).join("")}return zT(t,r).replace("0x","")},qT=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return`0x${t.map(GT).join("").toLowerCase()}`},WT=function(){return jT(qT(...arguments))},$T=function(){return UT(qT(...arguments))},KT=e=>jT(`0x${("number"===typeof e?e.toString():e).padStart(64,"0")}`);const VT=e=>qE(e),QT=e=>LP(VT(e));var ZT=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function YT(e){return("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}function JT(e,t,r){return ZT(this,void 0,void 0,(function*(){let n;const i=yield Promise.race([e instanceof Promise?e:e(),new Promise(((e,i)=>{n=setTimeout((()=>r?i(r):e(void 0)),t)}))]);if(n&&clearTimeout(n),i instanceof Error)throw i;return i}))}function XT(e,t){let r;return[new Promise(((n,i)=>{r=setInterval(function s(){return(()=>{ZT(this,void 0,void 0,(function*(){try{const i=yield JT(e,t);vP(i)||(clearInterval(r),n(i))}catch(gZ){clearInterval(r),i(gZ)}}))})(),s}(),t)})),r]}function eI(e,t){return ZT(this,void 0,void 0,(function*(){return XT(e,t)[0]}))}function tI(e,t){let r;const n=new Promise(((n,i)=>{r=setTimeout((()=>{i(t)}),e)}));return[r,n]}function rI(e,t){let r;const n=new Promise(((n,i)=>{r=setInterval((()=>{(()=>{ZT(this,void 0,void 0,(function*(){const t=yield e();t&&(clearInterval(r),i(t))}))})()}),t)}));return[r,n]}const nI=()=>{const e=VT(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=LP(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")},iI=e=>{const t=e.error.code;return hE.has(t)||t>=-32099&&t<=-32e3},sI=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"result"in e&&vP(e.error)&&("number"===typeof e.id||"string"===typeof e.id),oI=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&vP(e.result)&&"error"in e&&("number"===typeof e.id||"string"===typeof e.id),aI=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&!vP(e.params)&&!vP(e.method),cI=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"id"in e&&"result"in e,lI=e=>sI(e)||oI(e),uI=e=>Array.isArray(e)?e.every(lI):lI(e),dI=e=>Array.isArray(e)&&e.length>0&&uI(e);let hI;const fI=e=>{hI=e},pI=e=>{var t,r,n,i;return"undefined"!==typeof hI&&(hI+=1),{jsonrpc:null!==(t=e.jsonrpc)&&void 0!==t?t:"2.0",id:null!==(n=null!==(r=e.id)&&void 0!==r?r:hI)&&void 0!==n?n:nI(),method:e.method,params:null!==(i=e.params)&&void 0!==i?i:void 0}},mI=e=>e.map((e=>pI(e))),gI=e=>Array.isArray(e)&&e.length>0;var yI,bI=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class vI{constructor(){let{timeout:e,eagerStart:t,timeoutMessage:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"};this[yI]="Promise",this._state="pending",this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),this._timeoutMessage=r,this._timeoutInterval=e,t&&this.startTimer()}get state(){return this._state}then(e,t){return bI(this,void 0,void 0,(function*(){return this._promise.then(e,t)}))}catch(e){return bI(this,void 0,void 0,(function*(){return this._promise.catch(e)}))}finally(e){return bI(this,void 0,void 0,(function*(){return this._promise.finally(e)}))}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){"pending"===this._state&&this._timeoutId&&this.reject(new YA(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}yI=Symbol.toStringTag;class wI{constructor(e,t){this.eventEmitter=e,this.autoReconnect=t,this.chunkTimeout=15e3}clearQueues(){"function"===typeof this._clearQueues&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const t=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((e=>{let r,n=e;this.lastChunk&&(n=this.lastChunk+n);try{r=JSON.parse(n)}catch(bZ){return this.lastChunk=n,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),void(this.lastChunkTimeout=setTimeout((()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new sE({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))}),this.chunkTimeout))}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,r&&t.push(r)})),t}}var AI=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class _I extends sA{constructor(){super(...arguments),this._eventEmitter=new sT,this._chainId="",this._accounts=[]}_getChainId(){var e;return AI(this,void 0,void 0,(function*(){const t=yield this.request(pI({method:"eth_chainId",params:[]}));return null!==(e=null===t||void 0===t?void 0:t.result)&&void 0!==e?e:""}))}_getAccounts(){var e;return AI(this,void 0,void 0,(function*(){const t=yield this.request(pI({method:"eth_accounts",params:[]}));return null!==(e=null===t||void 0===t?void 0:t.result)&&void 0!==e?e:[]}))}_onConnect(){Promise.all([this._getChainId().then((e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))})).catch((e=>{console.error(e)})),this._getAccounts().then((e=>{this._accounts.length===e.length&&e.every((t=>e.includes(t)))||(this._accounts=e,this._onAccountsChanged())})).catch((e=>{console.error(e)}))]).then((()=>this._eventEmitter.emit("connect",{chainId:this._chainId}))).catch((e=>{console.error(e)}))}_onDisconnect(e,t){this._eventEmitter.emit("disconnect",new dE(e,t))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var EI=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const xI={autoReconnect:!0,delay:5e3,maxAttempts:5};class kI extends _I{constructor(e,t,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new r_(e);this._socketPath=e,this._socketOptions=t,this._reconnectOptions=Object.assign(Object.assign({},xI),null!==r&&void 0!==r?r:{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new wI(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError((()=>{this._clearQueues()})),this.isReconnecting=!1}get SocketConnection(){return this._socketConnection}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(bZ){if(!this.isReconnecting)throw this._connectionStatus="disconnected",bZ&&bZ.message?new BA(`Error while connecting to ${this._socketPath}. Reason: ${bZ.message}`):new r_(this._socketPath);setImmediate((()=>{this._reconnect()}))}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,t){this._eventEmitter.on(e,t)}once(e,t){this._eventEmitter.once(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_onDisconnect(e,t){this._connectionStatus="disconnected",super._onDisconnect(e,t)}disconnect(e,t){const r=null!==e&&void 0!==e?e:1e3;this._removeSocketListeners(),"disconnected"!==this.getStatus()&&this._closeSocketConnection(r,t),this._onDisconnect(r,t)}safeDisconnect(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return EI(this,void 0,void 0,(function*(){let i=0;yield(()=>EI(this,void 0,void 0,(function*(){return new Promise((e=>{const t=setInterval((()=>{r&&i>=5&&this.clearQueues(),0===this.getPendingRequestQueueSize()&&0===this.getSentRequestsQueueSize()&&(clearInterval(t),e(!0)),i+=1}),n)}))})))(),this.disconnect(e,t)}))}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach(((e,t)=>{e.deferredPromise.reject(new UA),this._sentRequestsQueue.delete(t)})),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout((()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1}),this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new jA(this._reconnectOptions.maxAttempts))))}request(e){return EI(this,void 0,void 0,(function*(){if(wT(this._socketConnection))throw new Error("Connection is undefined");"disconnected"===this.getStatus()&&this.connect();const t=gI(e)?e[0].id:e.id;if(!t)throw new i_("Request Id not defined");if(this._sentRequestsQueue.has(t))throw new FA(t);const r=new vI;r.catch((e=>{this._eventEmitter.emit("error",e)}));const n={payload:e,deferredPromise:r};if("connecting"===this.getStatus())return this._pendingRequestsQueue.set(t,n),n.deferredPromise;this._sentRequestsQueue.set(t,n);try{this._sendToSocket(n.payload)}catch(gZ){this._sentRequestsQueue.delete(t),this._eventEmitter.emit("error",gZ)}return r}))}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,t]of this._pendingRequestsQueue.entries())try{this._sendToSocket(t.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,t)}catch(gZ){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",gZ)}}_onMessage(e){const t=this._parseResponses(e);if(!wT(t)&&0!==t.length)for(const r of t){if(aI(r)&&r.method.endsWith("_subscription"))return void this._eventEmitter.emit("message",r);const e=dI(r)?r[0].id:r.id,t=this._sentRequestsQueue.get(e);if(!t)return;(dI(r)||sI(r)||oI(r))&&(this._eventEmitter.emit("message",r),t.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(e)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach(((t,r)=>{t.deferredPromise.reject(new DA(e)),this._pendingRequestsQueue.delete(r)})),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach(((t,r)=>{t.deferredPromise.reject(new DA(e)),this._sentRequestsQueue.delete(r)})),this._removeSocketListeners()}}class SI{constructor(){this._emitter=new aT}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,t){this._emitter.emit(e,t)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var PI;(PI||(PI={})).CONFIG_CHANGE="CONFIG_CHANGE";class TI extends SI{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:75e4,transactionReceiptPollingInterval:void 0,transactionSendTimeout:75e4,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:JP(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:Yw,ignoreGasPricing:!1},this.setConfig(null!==e&&void 0!==e?e:{})}setConfig(e){const t=Object.keys(e);for(const r of t)this._triggerConfigChange(r,e[r]),wT(e[r])||"number"!==typeof e[r]||"maxListenersWarningThreshold"!==r||this.setMaxListenerWarningThreshold(Number(e[r]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!wT(this.config.defaultCommon)&&!wT(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new aE(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!wT(this.config.defaultCommon)&&!wT(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new oE(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!wT(this.config.defaultHardfork)&&!wT(e)&&!wT(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new oE(this.config.defaultHardfork,e.hardfork);if(!wT(this.config.defaultChain)&&!wT(e)&&!wT(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new aE(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,t){this.emit(PI.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:t})}}var II=r(2709),OI=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class RI extends sA{constructor(e,t){if(super(),!RI.validateClientUrl(e))throw new r_(e);this.clientUrl=e,this.httpProviderOptions=t}static validateClientUrl(e){return"string"===typeof e&&/^http(s)?:\/\//i.test(e)}getStatus(){throw new ZA}supportsSubscriptions(){return!1}request(e,t){var r;return OI(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign({},null===(r=this.httpProviderOptions)||void 0===r?void 0:r.providerOptions),t),i=yield II(this.clientUrl,Object.assign(Object.assign({},n),{method:"POST",headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new iE(yield i.json(),void 0,void 0,i.status);return yield i.json()}))}on(){throw new ZA}removeListener(){throw new ZA}once(){throw new ZA}removeAllListeners(){throw new ZA}connect(){throw new ZA}disconnect(){throw new ZA}reset(){throw new ZA}reconnect(){throw new ZA}}var CI=null;"undefined"!==typeof WebSocket?CI=WebSocket:"undefined"!==typeof MozWebSocket?CI=MozWebSocket:"undefined"!==typeof r.g?CI=r.g.WebSocket||r.g.MozWebSocket:"undefined"!==typeof window?CI=window.WebSocket||window.MozWebSocket:"undefined"!==typeof self&&(CI=self.WebSocket||self.MozWebSocket);const NI=CI;class LI extends kI{constructor(e,t,r){super(e,t,r)}_validateProviderPath(e){return"string"===typeof e&&/^ws(s)?:\/\//i.test(e)}getStatus(){if(this._socketConnection&&!wT(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new NI(this._socketPath,void 0,this._socketOptions&&0===Object.keys(this._socketOptions).length?void 0:this._socketOptions)}_closeSocketConnection(e,t){var r;null===(r=this._socketConnection)||void 0===r||r.close(e,t)}_sendToSocket(e){var t;if("disconnected"===this.getStatus())throw new DA;null===(t=this._socketConnection)||void 0===t||t.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,t,r,n;null===(e=this._socketConnection)||void 0===e||e.addEventListener("open",this._onOpenHandler),null===(t=this._socketConnection)||void 0===t||t.addEventListener("message",this._onMessageHandler),null===(r=this._socketConnection)||void 0===r||r.addEventListener("close",(e=>this._onCloseHandler(e))),null===(n=this._socketConnection)||void 0===n||n.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,t,r;null===(e=this._socketConnection)||void 0===e||e.removeEventListener("message",this._onMessageHandler),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("open",this._onOpenHandler),null===(r=this._socketConnection)||void 0===r||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var t;!this._reconnectOptions.autoReconnect||[1e3,1001].includes(e.code)&&e.wasClean?(this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("error",this._onErrorHandler)):this._reconnect()}}const MI=e=>sA.isWeb3Provider(e),BI=e=>"string"!==typeof e&&"request"in e&&"Function"===e.request.constructor.name,DI=e=>"string"!==typeof e&&"request"in e&&"AsyncFunction"===e.request.constructor.name,jI=e=>"string"!==typeof e&&"send"in e,UI=e=>"string"!==typeof e&&"sendAsync"in e,FI=e=>e&&(MI(e)||DI(e)||BI(e)||UI(e)||jI(e));var HI,zI,GI=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};(zI=HI||(HI={})).PROVIDER_CHANGED="PROVIDER_CHANGED",zI.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE";const qI={HttpProvider:RI,WebsocketProvider:LI};class WI extends SI{constructor(e,t,r){super(),wT(e)||this.setProvider(e),this.useRpcCallSpecification=t,wT(r)||(this.middleware=r)}static get providers(){return qI}get provider(){return this._provider}get providers(){return qI}setProvider(e){let t;if(e&&"string"===typeof e&&this.providers)if(/^http(s)?:\/\//i.test(e))t=new this.providers.HttpProvider(e);else{if(!/^ws(s)?:\/\//i.test(e))throw new t_(`Can't autodetect provider for "${e}"`);t=new this.providers.WebsocketProvider(e)}else t=wT(e)?void 0:e;return this.emit(HI.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=t,this.emit(HI.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return GI(this,void 0,void 0,(function*(){const t=Object.assign({},e);let r=yield this._sendRequest(t);if(wT(this.middleware)||(r=yield this.middleware.processResponse(r)),sI(r))return r.result;throw new iE(r)}))}sendBatch(e){return GI(this,void 0,void 0,(function*(){return yield this._sendRequest(e)}))}_sendRequest(e){return GI(this,void 0,void 0,(function*(){const{provider:t}=this;if(wT(t))throw new t_("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=gI(e)?mI(e):pI(e);if(wT(this.middleware)||(r=yield this.middleware.processRequest(r)),MI(t)){let e;try{e=yield t.request(r)}catch(gZ){e=gZ}return this._processJsonRpcResponse(r,e,{legacy:!1,error:!1})}if(DI(t))return t.request(r).then((e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!1}))).catch((e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!0})));if(BI(t))return new Promise(((e,n)=>{const i=e=>{n(this._processJsonRpcResponse(r,e,{legacy:!0,error:!0}))},s=t=>e(this._processJsonRpcResponse(r,t,{legacy:!0,error:!1})),o=t.request(r,((e,t)=>e?i(e):s(t)));if(YT(o)){o.then(s).catch((e=>{try{const t=this._processJsonRpcResponse(r,e,{legacy:!0,error:!0});n(t)}catch(t){n(t)}}))}}));if(jI(t))return new Promise(((e,n)=>{t.send(r,((t,i)=>{if(t)return n(this._processJsonRpcResponse(r,t,{legacy:!0,error:!0}));if(wT(i))throw new iE({},'Got a "nullish" response from provider.');return e(this._processJsonRpcResponse(r,i,{legacy:!0,error:!1}))}))}));if(UI(t))return t.sendAsync(r).then((e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!1}))).catch((e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!0})));throw new t_("Provider does not have a request or send method to use.")}))}_processJsonRpcResponse(e,t,r){let{legacy:n,error:i}=r;if(wT(t))return this._buildResponse(e,null,i);if(oI(t)){if(this.useRpcCallSpecification&&iI(t)){const e=t;if(hE.get(e.error.code)){throw new(0,hE.get(e.error.code).error)(e)}throw new uE(e)}if(!WI._isReverted(t))throw new sE(t,e)}if(sI(t))return t;if(t instanceof Error)throw WI._isReverted(t),t;if(!n&&gI(e)&&dI(t))return t;if(n&&!i&&gI(e))return t;if(n&&i&&gI(e))throw t;if(n&&!oI(t)&&!sI(t))return this._buildResponse(e,t,i);if(gI(e)&&!Array.isArray(t))throw new iE(t,"Got normal response for a batch request.");if(!gI(e)&&Array.isArray(t))throw new iE(t,"Got batch response for a normal request.");throw new iE(t,"Invalid response")}static _isReverted(e){let t;if(oI(e)?t=e.error:e instanceof Error&&(t=e),null===t||void 0===t?void 0:t.message.includes("revert"))throw new qA(t);return!1}_buildResponse(e,t,r){const n={jsonrpc:"2.0",id:gI(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},n),{error:t}):Object.assign(Object.assign({},n),{result:t})}}var $I=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class KI{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.requestManager=e,this.registeredSubscriptions=t,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(HI.BEFORE_PROVIDER_CHANGE,(()=>$I(this,void 0,void 0,(function*(){yield this.unsubscribe()})))),this.requestManager.on(HI.PROVIDER_CHANGED,(()=>{this.clear(),this.listenToProviderEvents()})),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;this.requestManager.provider&&("function"!==typeof(null===e||void 0===e?void 0:e.supportsSubscriptions)||(null===e||void 0===e?void 0:e.supportsSubscriptions()))&&"function"===typeof this.requestManager.provider.on&&("function"===typeof this.requestManager.provider.request?this.requestManager.provider.on("message",(e=>this.messageListener(e))):e.on("data",(e=>this.messageListener(e))))}messageListener(e){var t,r,n;if(!e)throw new n_("Should not call messageListener with no data. Type was");const i=(null===(t=e.params)||void 0===t?void 0:t.subscription)||(null===(r=e.data)||void 0===r?void 0:r.subscription)||(null===(n=e.id)||void 0===n?void 0:n.toString(16));if(i){const t=this._subscriptions.get(i);null===t||void 0===t||t.processSubscriptionData(e)}}subscribe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yw;return $I(this,void 0,void 0,(function*(){const n=this.registeredSubscriptions[e];if(!n)throw new n_("Invalid subscription type");const i=new n(null!==t&&void 0!==t?t:void 0,{subscriptionManager:this,returnFormat:r});return yield this.addSubscription(i),i}))}get subscriptions(){return this._subscriptions}addSubscription(e){return $I(this,void 0,void 0,(function*(){if(!this.requestManager.provider)throw new t_("Provider not available");if(!this.supportsSubscriptions())throw new n_("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new n_(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),wT(e.id))throw new n_("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id}))}removeSubscription(e){return $I(this,void 0,void 0,(function*(){const{id:t}=e;if(wT(t))throw new n_("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(t)&&!this.tolerateUnlinkedSubscription)throw new n_(`Subscription with id "${t.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(t),t}))}unsubscribe(e){return $I(this,void 0,void 0,(function*(){const t=[];for(const[r,n]of this.subscriptions.entries())(!e||"function"===typeof e&&e({id:r,sub:n}))&&t.push(this.removeSubscription(n));return Promise.all(t)}))}clear(){this._subscriptions.clear()}supportsSubscriptions(){return!wT(this.requestManager.provider)&&((e=this.requestManager.provider)&&"supportsSubscriptions"in e?e.supportsSubscriptions():!(!e||"string"===typeof e||!("on"in e)));var e}}var VI=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class QI extends SI{constructor(e,t){var r;super(),this.args=e;const{requestManager:n}=t,{subscriptionManager:i}=t;this._subscriptionManager=n?new KI(n,{},!0):i,this._returnFormat=null!==(r=null===t||void 0===t?void 0:t.returnFormat)&&void 0!==r?r:Yw}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return VI(this,void 0,void 0,(function*(){return this._subscriptionManager.addSubscription(this)}))}processSubscriptionData(e){var t,r;(null===e||void 0===e?void 0:e.data)?this._processSubscriptionResult(null!==(r=null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.result)&&void 0!==r?r:null===e||void 0===e?void 0:e.data):e&&aI(e)&&this._processSubscriptionResult(null===e||void 0===e?void 0:e.params.result)}sendSubscriptionRequest(){return VI(this,void 0,void 0,(function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id}))}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return VI(this,void 0,void 0,(function*(){yield this.unsubscribe(),yield this.subscribe()}))}unsubscribe(){return VI(this,void 0,void 0,(function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))}))}sendUnsubscribeRequest(){return VI(this,void 0,void 0,(function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0}))}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var ZI=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class YI extends oA{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(bZ){return!bZ||22!==bZ.code&&1014!==bZ.code&&"QuotaExceededError"!==bZ.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==bZ.name||vP(e)||0===e.length?void 0:e}}create(e){for(let t=0;t<e;t+=1)this.add(this._accountProvider.create());return this}add(e){var t;if("string"===typeof e)return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=null!==(t=this._addressMap.get(e.address.toLowerCase()))&&void 0!==t?t:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if("string"===typeof e){const t=this._addressMap.get(e.toLowerCase());return vP(t)?void 0:this[t]}return this[e]}remove(e){if("string"===typeof e){const t=this._addressMap.get(e.toLowerCase());return!vP(t)&&(this._addressMap.delete(e.toLowerCase()),this.splice(t,1),!0)}return!!this[e]&&(this.splice(e,1),!0)}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,t){return ZI(this,void 0,void 0,(function*(){return Promise.all(this.map((r=>ZI(this,void 0,void 0,(function*(){return r.encrypt(e,t)})))))}))}decrypt(e,t,r){return ZI(this,void 0,void 0,(function*(){const n=yield Promise.all(e.map((e=>ZI(this,void 0,void 0,(function*(){return this._accountProvider.decrypt(e,t,r)})))));for(const e of n)this.add(e);return this}))}save(e,t){return ZI(this,void 0,void 0,(function*(){const r=YI.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(null!==t&&void 0!==t?t:this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0}))}load(e,t){return ZI(this,void 0,void 0,(function*(){const r=YI.getStorage();if(!r)throw new Error("Local storage not available.");const n=r.getItem(null!==t&&void 0!==t?t:this._defaultKeyName);return n&&(yield this.decrypt(JSON.parse(n)||[],e)),this}))}}const JI={web:IE};function XI(e,t,r){if(!r.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${r}`);if(16!==t.length)throw new Error("AES: wrong IV length");if(r.startsWith("aes-128")&&16!==e.length||r.startsWith("aes-256")&&32!==e.length)throw new Error("AES: wrong key length")}async function eO(e,t,r){if(!JI.web)throw new Error("Browser crypto not available.");let n;if(["aes-128-cbc","aes-256-cbc"].includes(e)&&(n="cbc"),["aes-128-ctr","aes-256-ctr"].includes(e)&&(n="ctr"),!n)throw new Error("AES: unsupported mode");return[await JI.web.subtle.importKey("raw",t,{name:`AES-${n.toUpperCase()}`,length:8*t.length},!0,["encrypt","decrypt"]),{name:`aes-${n}`,iv:r,counter:r,length:128}]}async function tO(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"aes-128-ctr",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(XI(t,r,n),JI.web){const[s,o]=await eO(n,t,r),a=await JI.web.subtle.encrypt(o,s,e);let c=new Uint8Array(a);return i||"aes-cbc"!==o.name||e.length%16||(c=c.slice(0,-16)),c}if(JI.node){const s=JI.node.createCipheriv(n,t,r);return s.setAutoPadding(i),UE(s.update(e),s.final())}throw new Error("The environment doesn't have AES module")}async function rO(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"aes-128-ctr",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(XI(t,r,n),JI.web){const[s,o]=await eO(n,t,r);if(!i&&"aes-cbc"===o.name){const i=await async function(e,t,r,n){const i=e.slice(-16);for(let s=0;s<16;s++)i[s]^=16^r[s];return(await tO(i,t,r,n)).slice(0,16)}(e,t,r,n);e=UE(e,i)}const a=await JI.web.subtle.decrypt(o,s,e),c=new Uint8Array(a);if("aes-cbc"===o.name){if(!function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(await tO(c,t,r,n),e))throw new Error("AES: wrong padding")}return c}if(JI.node){const s=JI.node.createDecipheriv(n,t,r);return s.setAutoPadding(i),UE(s.update(e),s.final())}throw new Error("The environment doesn't have AES module")}class nO extends FE{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,gE(e);const r=jE(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return yE(this),this.iHash.update(e),this}digestInto(e){yE(this),mE(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const iO=(e,t,r)=>new nO(e,t).update(r).digest();function sO(e,t,r,n){gE(e);const i=zE({dkLen:32,asyncTick:10},n),{c:s,dkLen:o,asyncTick:a}=i;if(pE(s),pE(o),pE(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=jE(t),l=jE(r),u=new Uint8Array(o),d=iO.create(e,c),h=d._cloneInto().update(l);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:d,PRFSalt:h}}function oO(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function aO(e,t,r,n){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=sO(e,t,r,n);let l;const u=new Uint8Array(4),d=RE(u),h=new Uint8Array(a.outputLen);for(let f=1,p=0;p<s;f++,p+=a.outputLen){const e=o.subarray(p,p+a.outputLen);d.setInt32(0,f,!1),(l=c._cloneInto(l)).update(u).digestInto(h),e.set(h.subarray(0,e.length));for(let t=1;t<i;t++){a._cloneInto(l).update(h).digestInto(h);for(let t=0;t<e.length;t++)e[t]^=h[t]}}return oO(a,c,o,l,h)}iO.create=(e,t)=>new nO(e,t);const cO=(e,t,r)=>e&t^e&r^t&r;class lO extends FE{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=RE(this.buffer)}update(e){yE(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=jE(e)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=RE(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){yE(this),bE(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let u=s;u<n;u++)t[u]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=RE(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<c;u++)o.setUint32(4*u,l[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}const uO=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dO=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hO=new Uint32Array(64);class fO extends lO{constructor(){super(64,32,8,!1),this.A=0|dO[0],this.B=0|dO[1],this.C=0|dO[2],this.D=0|dO[3],this.E=0|dO[4],this.F=0|dO[5],this.G=0|dO[6],this.H=0|dO[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)hO[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=hO[d-15],t=hO[d-2],r=CE(e,7)^CE(e,18)^e>>>3,n=CE(t,17)^CE(t,19)^t>>>10;hO[d]=n+hO[d-7]+r+hO[d-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let d=0;d<64;d++){const e=l+(CE(o,6)^CE(o,11)^CE(o,25))+((u=o)&a^~u&c)+uO[d]+hO[d]|0,t=(CE(r,2)^CE(r,13)^CE(r,22))+cO(r,n,i)|0;l=c,c=a,a=o,o=s+e|0,s=i,i=n,n=r,r=e+t|0}var u;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,s,o,a,c,l)}roundClean(){hO.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const pO=GE((()=>new fO)),[mO,gO]=(()=>TE.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),yO=new Uint32Array(80),bO=new Uint32Array(80);class vO extends lO{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,r,n,i,s,o,a,c,l,u,d,h,f,p,m]}set(e,t,r,n,i,s,o,a,c,l,u,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let b=0;b<16;b++,t+=4)yO[b]=e.getUint32(t),bO[b]=e.getUint32(t+=4);for(let b=16;b<80;b++){const e=0|yO[b-15],t=0|bO[b-15],r=TE.rotrSH(e,t,1)^TE.rotrSH(e,t,8)^TE.shrSH(e,t,7),n=TE.rotrSL(e,t,1)^TE.rotrSL(e,t,8)^TE.shrSL(e,t,7),i=0|yO[b-2],s=0|bO[b-2],o=TE.rotrSH(i,s,19)^TE.rotrBH(i,s,61)^TE.shrSH(i,s,6),a=TE.rotrSL(i,s,19)^TE.rotrBL(i,s,61)^TE.shrSL(i,s,6),c=TE.add4L(n,a,bO[b-7],bO[b-16]),l=TE.add4H(c,r,o,yO[b-7],yO[b-16]);yO[b]=0|l,bO[b]=0|c}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let b=0;b<80;b++){const e=TE.rotrSH(u,d,14)^TE.rotrSH(u,d,18)^TE.rotrBH(u,d,41),t=TE.rotrSL(u,d,14)^TE.rotrSL(u,d,18)^TE.rotrBL(u,d,41),v=u&h^~u&p,w=d&f^~d&m,A=TE.add5L(y,t,w,gO[b],bO[b]),_=TE.add5H(A,g,e,v,mO[b],yO[b]),E=0|A,x=TE.rotrSH(r,n,28)^TE.rotrBH(r,n,34)^TE.rotrBH(r,n,39),k=TE.rotrSL(r,n,28)^TE.rotrBL(r,n,34)^TE.rotrBL(r,n,39),S=r&i^r&o^i&o,P=n&s^n&a^s&a;g=0|p,y=0|m,p=0|h,m=0|f,h=0|u,f=0|d,({h:u,l:d}=TE.add(0|c,0|l,0|_,0|E)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const T=TE.add3L(E,k,P);r=TE.add3H(T,_,x,S),n=0|T}({h:r,l:n}=TE.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=TE.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=TE.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=TE.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=TE.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=TE.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=TE.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=TE.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,n,i,s,o,a,c,l,u,d,h,f,p,m,g,y)}roundClean(){yO.fill(0),bO.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const wO=GE((()=>new vO));function AO(e,t,r,n,i){if(!["sha256","sha512"].includes(i))throw new Error("Only sha256 and sha512 are supported");return ux(e),ux(t),aO("sha256"===i?pO:wO,e,t,{c:r,dkLen:n})}function _O(e,t,r,n,i,s){let o=e[t++]^r[n++],a=e[t++]^r[n++],c=e[t++]^r[n++],l=e[t++]^r[n++],u=e[t++]^r[n++],d=e[t++]^r[n++],h=e[t++]^r[n++],f=e[t++]^r[n++],p=e[t++]^r[n++],m=e[t++]^r[n++],g=e[t++]^r[n++],y=e[t++]^r[n++],b=e[t++]^r[n++],v=e[t++]^r[n++],w=e[t++]^r[n++],A=e[t++]^r[n++],_=o,E=a,x=c,k=l,S=u,P=d,T=h,I=f,O=p,R=m,C=g,N=y,L=b,M=v,B=w,D=A;for(let j=0;j<8;j+=2)S^=NE(_+L|0,7),O^=NE(S+_|0,9),L^=NE(O+S|0,13),_^=NE(L+O|0,18),R^=NE(P+E|0,7),M^=NE(R+P|0,9),E^=NE(M+R|0,13),P^=NE(E+M|0,18),B^=NE(C+T|0,7),x^=NE(B+C|0,9),T^=NE(x+B|0,13),C^=NE(T+x|0,18),k^=NE(D+N|0,7),I^=NE(k+D|0,9),N^=NE(I+k|0,13),D^=NE(N+I|0,18),E^=NE(_+k|0,7),x^=NE(E+_|0,9),k^=NE(x+E|0,13),_^=NE(k+x|0,18),T^=NE(P+S|0,7),I^=NE(T+P|0,9),S^=NE(I+T|0,13),P^=NE(S+I|0,18),N^=NE(C+R|0,7),O^=NE(N+C|0,9),R^=NE(O+N|0,13),C^=NE(R+O|0,18),L^=NE(D+B|0,7),M^=NE(L+D|0,9),B^=NE(M+L|0,13),D^=NE(B+M|0,18);i[s++]=o+_|0,i[s++]=a+E|0,i[s++]=c+x|0,i[s++]=l+k|0,i[s++]=u+S|0,i[s++]=d+P|0,i[s++]=h+T|0,i[s++]=f+I|0,i[s++]=p+O|0,i[s++]=m+R|0,i[s++]=g+C|0,i[s++]=y+N|0,i[s++]=b+L|0,i[s++]=v+M|0,i[s++]=w+B|0,i[s++]=A+D|0}function EO(e,t,r,n,i){let s=n+0,o=n+16*i;for(let a=0;a<16;a++)r[o+a]=e[t+16*(2*i-1)+a];for(let a=0;a<i;a++,s+=16,t+=16)_O(r,o,e,t,r,s),a>0&&(o+=16),_O(r,s,e,t+=16,r,o)}function xO(e,t,r){const n=zE({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:s,p:o,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=n;if(pE(i),pE(s),pE(o),pE(a),pE(c),pE(l),void 0!==u&&"function"!==typeof u)throw new Error("progressCb should be function");const d=128*s,h=d/4;if(i<=1||0!==(i&i-1)||i>=2**(d/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>137438953440/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const f=d*(i+o);if(f>l)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${l} (maxmem)`);const p=aO(pO,e,t,{c:1,dkLen:d*o}),m=OE(p),g=OE(new Uint8Array(d*i)),y=OE(new Uint8Array(d));let b=()=>{};if(u){const e=2*i*o,t=Math.max(Math.floor(e/1e4),1);let r=0;b=()=>{r++,!u||r%t&&r!==e||u(r/e)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:h,V:g,B32:m,B:p,tmp:y,blockMixCb:b,asyncTick:c}}function kO(e,t,r,n,i){const s=aO(pO,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),s}function SO(e,t,r,n,i,s,o){return ux(e),ux(t),function(e,t,r){const{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:h}=xO(e,t,r);LE||BE(l);for(let f=0;f<s;f++){const e=a*f;for(let t=0;t<a;t++)c[t]=l[e+t];for(let t=0,r=0;t<n-1;t++)EO(c,r,c,r+=a,i),h();EO(c,(n-1)*a,l,e,i),h();for(let t=0;t<n;t++){const t=l[e+a-16]%n;for(let r=0;r<a;r++)d[r]=l[e+r]^c[t*a+r];EO(d,0,l,e,i),h()}}return LE||BE(l),kO(e,o,u,c,d)}(e,t,{N:r,r:i,p:n,dkLen:s,onProgress:o})}const PO=BigInt(1),TO=BigInt(2);function IO(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function OO(e){if(!IO(e))throw new Error("Uint8Array expected")}const RO=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function CO(e){OO(e);let t="";for(let r=0;r<e.length;r++)t+=RO[e[r]];return t}function NO(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const LO={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function MO(e){return e>=LO._0&&e<=LO._9?e-LO._0:e>=LO._A&&e<=LO._F?e-(LO._A-10):e>=LO._a&&e<=LO._f?e-(LO._a-10):void 0}function BO(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const t=MO(e.charCodeAt(s)),r=MO(e.charCodeAt(s+1));if(void 0===t||void 0===r){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[i]=16*t+r}return n}function DO(e){return NO(CO(e))}function jO(e){return OO(e),NO(CO(Uint8Array.from(e).reverse()))}function UO(e,t){return BO(e.toString(16).padStart(2*t,"0"))}function FO(e,t){return UO(e,t).reverse()}function HO(e,t,r){let n;if("string"===typeof t)try{n=BO(t)}catch(bZ){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${bZ}`)}else{if(!IO(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"===typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function zO(){let e=0;for(let r=0;r<arguments.length;r++){const t=r<0||arguments.length<=r?void 0:arguments[r];OO(t),e+=t.length}const t=new Uint8Array(e);for(let r=0,n=0;r<arguments.length;r++){const e=r<0||arguments.length<=r?void 0:arguments[r];t.set(e,n),n+=e.length}return t}const GO=e=>(TO<<BigInt(e-1))-PO,qO=e=>new Uint8Array(e),WO=e=>Uint8Array.from(e);function $O(e,t,r){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof r)throw new Error("hmacFn must be a function");let n=qO(e),i=qO(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return r(i,n,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qO();i=a(WO([0]),e),n=a(),0!==e.length&&(i=a(WO([1]),e),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return zO(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(l()));)c();return o(),r}}const KO={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||IO(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function VO(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=(t,r,n)=>{const i=KO[r];if("function"!==typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=e[t];if((!n||void 0!==s)&&!i(s,e))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const QO=BigInt(0),ZO=BigInt(1),YO=BigInt(2),JO=BigInt(3),XO=BigInt(4),eR=BigInt(5),tR=BigInt(8);BigInt(9),BigInt(16);function rR(e,t){const r=e%t;return r>=QO?r:t+r}function nR(e,t,r){if(r<=QO||t<QO)throw new Error("Expected power/modulo > 0");if(r===ZO)return QO;let n=ZO;for(;t>QO;)t&ZO&&(n=n*e%r),e=e*e%r,t>>=ZO;return n}function iR(e,t,r){let n=e;for(;t-- >QO;)n*=n,n%=r;return n}function sR(e,t){if(e===QO||t<=QO)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=rR(e,t),n=t,i=QO,s=ZO,o=ZO,a=QO;for(;r!==QO;){const e=n/r,t=n%r,c=i-o*e,l=s-a*e;n=r,r=t,i=o,s=a,o=c,a=l}if(n!==ZO)throw new Error("invert: does not exist");return rR(i,t)}function oR(e){if(e%XO===JO){const t=(e+ZO)/XO;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%tR===eR){const t=(e-eR)/tR;return function(e,r){const n=e.mul(r,YO),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,YO),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-ZO)/YO;let r,n,i;for(r=e-ZO,n=0;r%YO===QO;r/=YO,n++);for(i=YO;i<e&&nR(i,t,e)!==e-ZO;i++);if(1===n){const t=(e+ZO)/XO;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const s=(r+ZO)/YO;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,i),r),l=e.pow(o,s),u=e.pow(o,r);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const r=e.pow(c,ZO<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),u=e.mul(u,c),a=t}return l}}(e)}const aR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cR(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function lR(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function uR(e){const t=lR(e);return t+Math.ceil(t/2)}const dR=BigInt(0),hR=BigInt(1);function fR(e){return VO(e.Fp,aR.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),VO(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cR(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:pR,aT:mR}=o,gR={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=gR;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:pR(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=gR,r="string"===typeof e?mR(e):e;OO(r);let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=gR._parseInt(r.subarray(2)),{d:o,l:a}=gR._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}},yR=BigInt(0),bR=BigInt(1),vR=(BigInt(2),BigInt(3));BigInt(4);function wR(e){const t=function(e){const t=fR(e);VO(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof r||"bigint"!==typeof r.beta||"function"!==typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return zO(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"===typeof e&&yR<e&&e<t.n}function a(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=t;if(r&&"bigint"!==typeof e){if(IO(e)&&(e=CO(e)),"string"!==typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let o;try{o="bigint"===typeof e?e:DO(HO("private key",e,n))}catch(gZ){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=rR(o,s)),a(o),o}const l=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(HO("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=s(e);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,vR),{px:s,py:o,pz:a}=this;let c=r.ZERO,l=r.ZERO,u=r.ZERO,h=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),m=r.mul(s,o);return m=r.add(m,m),u=r.mul(s,a),u=r.add(u,u),c=r.mul(e,u),l=r.mul(i,p),l=r.add(c,l),c=r.sub(f,l),l=r.add(f,l),l=r.mul(c,l),c=r.mul(m,c),u=r.mul(i,u),p=r.mul(e,p),m=r.sub(h,p),m=r.mul(e,m),m=r.add(m,u),u=r.add(h,h),h=r.add(u,h),h=r.add(h,p),h=r.mul(h,m),l=r.add(l,h),p=r.mul(o,a),p=r.add(p,p),h=r.mul(p,m),c=r.sub(c,h),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new d(c,l,u)}add(e){u(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=r.ZERO,h=r.ZERO,f=r.ZERO;const p=t.a,m=r.mul(t.b,vR);let g=r.mul(n,o),y=r.mul(i,a),b=r.mul(s,c),v=r.add(n,i),w=r.add(o,a);v=r.mul(v,w),w=r.add(g,y),v=r.sub(v,w),w=r.add(n,s);let A=r.add(o,c);return w=r.mul(w,A),A=r.add(g,b),w=r.sub(w,A),A=r.add(i,s),l=r.add(a,c),A=r.mul(A,l),l=r.add(y,b),A=r.sub(A,l),f=r.mul(p,w),l=r.mul(m,b),f=r.add(l,f),l=r.sub(y,f),f=r.add(y,f),h=r.mul(l,f),y=r.add(g,g),y=r.add(y,g),b=r.mul(p,b),w=r.mul(m,w),y=r.add(y,b),b=r.sub(g,b),b=r.mul(p,b),w=r.add(w,b),g=r.mul(y,w),h=r.add(h,g),g=r.mul(A,w),l=r.mul(v,l),l=r.sub(l,g),g=r.mul(v,y),f=r.mul(A,f),f=r.add(f,g),new d(l,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,l,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}))}multiplyUnsafe(e){const n=d.ZERO;if(e===yR)return n;if(a(e),e===bR)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:c,k2:l}=i.splitScalar(e),u=n,h=n,p=this;for(;o>yR||l>yR;)o&bR&&(u=u.add(p)),l&bR&&(h=h.add(p)),p=p.double(),o>>=bR,l>>=bR;return s&&(u=u.negate()),c&&(h=h.negate()),h=new d(r.mul(h.px,i.beta),h.py,h.pz),u.add(h)}multiply(e){a(e);let n,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:c}=o.splitScalar(s);let{p:l,f:u}=this.wNAF(t),{p:h,f:p}=this.wNAF(c);l=f.constTimeNegate(e,l),h=f.constTimeNegate(a,h),h=new d(r.mul(h.px,o.beta),h.py,h.pz),n=l.add(h),i=u.add(p)}else{const{p:e,f:t}=this.wNAF(s);n=e,i=t}return d.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=d.BASE,i=(e,t)=>t!==yR&&t!==bR&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){const{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));const o=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===bR)return!0;if(r)return r(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===bR?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),n(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return CO(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,f=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>dR;)r&hR&&(n=n.add(i)),i=i.double(),r>>=hR;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),s=[];let o=e,a=o;for(let n=0;n<r;n++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=n(t);let c=e.ZERO,l=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let n=Number(s&u);s>>=h,n>a&&(n-=d,s+=hR);const o=t,f=t+Math.abs(n)-1,p=e%2!==0,m=n<0;0===n?l=l.add(r(p,i[o])):c=c.add(r(m,i[f]))}return{p:c,f:l}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function AR(e){const t=function(e){const t=fR(e);return VO(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(e){return rR(e,n)}function a(e){return sR(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=wR({...t,toBytes(e,t,n){const i=t.toAffine(),s=r.toBytes(i.x),o=zO;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],o=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===s&&4===n){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const e=DO(o);if(!(yR<(a=e)&&a<r.ORDER))throw new Error("Point is not on curve");const t=u(e);let i;try{i=r.sqrt(t)}catch(c){const e=c instanceof Error?": "+c.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&n)!==((i&bR)===bR)&&(i=r.neg(i)),{x:e,y:i}}var a}}),h=e=>CO(UO(e,t.nByteLength));function f(e){return e>n>>bR}const p=(e,t,r)=>DO(e.slice(t,r));class m{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=HO("compactSignature",e,2*r),new m(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=gR.toSig(HO("DER",e));return new m(t,r)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:s}=this,l=v(HO("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?n+t.n:n;if(u>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&s)?"02":"03",f=c.fromHex(d+h(u)),p=a(u),m=o(-l*p),g=o(i*p),y=c.BASE.multiplyAndAddUnsafe(f,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return BO(this.toDERHex())}toDERHex(){return gR.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return BO(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const g={isValidPrivateKey(e){try{return l(e),!0}catch(gZ){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=uR(t.n);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.length,i=lR(t),s=uR(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=rR(r?DO(e):jO(e),t-ZO)+ZO;return r?FO(o,i):UO(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e){const t=IO(e),r="string"===typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof c}const b=t.bits2int||function(e){const r=DO(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},v=t.bits2int_modN||function(e){return o(b(e))},w=GO(t.nBitLength);function A(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(yR<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return UO(e,t.nByteLength)}function _(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:u}=t;let{lowS:h,prehash:p,extraEntropy:g}=i;null==h&&(h=!0),e=HO("msgHash",e),p&&(e=HO("prehashed msgHash",s(e)));const y=v(e),w=l(n),_=[A(w),A(y)];if(null!=g&&!1!==g){const e=!0===g?u(r.BYTES):g;_.push(HO("extraEntropy",e))}const x=zO(..._),k=y;return{seed:x,k2sig:function(e){const t=b(e);if(!d(t))return;const r=a(t),n=c.BASE.multiply(t).toAffine(),i=o(n.x);if(i===yR)return;const s=o(r*o(k+i*w));if(s===yR)return;let l=(n.x===i?0:2)|Number(n.y&bR),u=s;return h&&f(s)&&(u=function(e){return f(e)?o(-e):e}(s),l^=1),new m(i,u,l)}}}const E={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;const{seed:i,k2sig:s}=_(e,r,n),o=t;return $O(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;const s=e;if(r=HO("msgHash",r),n=HO("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=i;let d,h;try{if("string"===typeof s||IO(s))try{d=m.fromDER(s)}catch(_){if(!(_ instanceof gR.Err))throw _;d=m.fromCompact(s)}else{if("object"!==typeof s||"bigint"!==typeof s.r||"bigint"!==typeof s.s)throw new Error("PARSE");{const{r:e,s:t}=s;d=new m(e,t)}}h=c.fromHex(n)}catch(gZ){if("PARSE"===gZ.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&d.hasHighS())return!1;u&&(r=t.hash(r));const{r:f,s:p}=d,g=v(r),y=a(p),b=o(g*y),w=o(f*y),A=c.BASE.multiplyAndAddUnsafe(h,b,w)?.toAffine();return!!A&&o(A.x)===f},ProjectivePoint:c,Signature:m,utils:g}}function _R(e){return{hash:e,hmac:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return iO(e,t,UE(...n))},randomBytes:qE}}const ER=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),kR=BigInt(1),SR=BigInt(2),PR=(e,t)=>(e+t/SR)/t;function TR(e){const t=ER,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=iR(u,r,t)*u%t,h=iR(d,r,t)*u%t,f=iR(h,SR,t)*l%t,p=iR(f,i,t)*f%t,m=iR(p,s,t)*p%t,g=iR(m,a,t)*m%t,y=iR(g,c,t)*g%t,b=iR(y,a,t)*m%t,v=iR(b,r,t)*u%t,w=iR(v,o,t)*p%t,A=iR(w,n,t)*l%t,_=iR(A,SR,t);if(!IR.eql(IR.sqr(_),e))throw new Error("Cannot find square root");return _}const IR=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=QO)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=cR(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=oR(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:GO(i),ZERO:QO,ONE:ZO,create:t=>rR(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return QO<=t&&t<e},is0:e=>e===QO,isOdd:e=>(e&ZO)===ZO,neg:t=>rR(-t,e),eql:(e,t)=>e===t,sqr:t=>rR(t*t,e),add:(t,r)=>rR(t+r,e),sub:(t,r)=>rR(t-r,e),mul:(t,r)=>rR(t*r,e),pow:(e,t)=>function(e,t,r){if(r<QO)throw new Error("Expected power > 0");if(r===QO)return e.ONE;if(r===ZO)return t;let n=e.ONE,i=t;for(;r>QO;)r&ZO&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ZO;return n}(a,e,t),div:(t,r)=>rR(t*sR(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>sR(t,e),sqrt:n.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?FO(e,s):UO(e,s),fromBytes:e=>{if(e.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?jO(e):DO(e)}});return Object.freeze(a)}(ER,void 0,void 0,{sqrt:TR}),OR=function(e,t){const r=t=>AR({...e,..._R(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:IR,n:xR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=xR,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-kR*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=PR(s*e,t),c=PR(-n*e,t);let l=rR(e-a*r-c*i,t),u=rR(-a*n-c*s,t);const d=l>o,h=u>o;if(d&&(l=t-l),h&&(u=t-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},pO);BigInt(0);OR.ProjectivePoint;var RR;const CR=null!==(RR=OR)&&void 0!==RR?RR:a,NR=BigInt("0xffffffffffffffff"),LR=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),MR=CR.CURVE.n/BigInt(2),BR={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var DR,jR,UR,FR,HR,zR,GR,qR,WR,$R,KR,VR;(jR=DR||(DR={}))[jR.Mainnet=1]="Mainnet",jR[jR.Goerli=5]="Goerli",jR[jR.Sepolia=11155111]="Sepolia",(FR=UR||(UR={})).Chainstart="chainstart",FR.Homestead="homestead",FR.Dao="dao",FR.TangerineWhistle="tangerineWhistle",FR.SpuriousDragon="spuriousDragon",FR.Byzantium="byzantium",FR.Constantinople="constantinople",FR.Petersburg="petersburg",FR.Istanbul="istanbul",FR.MuirGlacier="muirGlacier",FR.Berlin="berlin",FR.London="london",FR.ArrowGlacier="arrowGlacier",FR.GrayGlacier="grayGlacier",FR.MergeForkIdTransition="mergeForkIdTransition",FR.Merge="merge",FR.Shanghai="shanghai",FR.ShardingForkDev="shardingFork",(zR=HR||(HR={})).ProofOfStake="pos",zR.ProofOfWork="pow",zR.ProofOfAuthority="poa",(qR=GR||(GR={})).Ethash="ethash",qR.Clique="clique",qR.Casper="casper",($R=WR||(WR={})).PolygonMainnet="polygon-mainnet",$R.PolygonMumbai="polygon-mumbai",$R.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",$R.ArbitrumOne="arbitrum-one",$R.xDaiChain="x-dai-chain",$R.OptimisticKovan="optimistic-kovan",$R.OptimisticEthereum="optimistic-ethereum",(VR=KR||(KR={}))[VR.Number=0]="Number",VR[VR.BigInt=1]="BigInt",VR[VR.Uint8Array=2]="Uint8Array",VR[VR.PrefixedHexString=3]="PrefixedHexString";const QR=e=>{if("string"!==typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return zS(e)?e.slice(2):e};const ZR=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};function YR(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var r,n;const{name:i,config:s,difficulty:o,mixHash:a,gasLimit:c,coinbase:l,baseFeePerGas:u}=e;let{extraData:d,timestamp:h,nonce:f}=e;const p=Number(h),{chainId:m}=s;if(""===d&&(d="0x"),zS(h)||(h=ZR(parseInt(h))),18!==f.length&&(f=function(e){return e&&"0x0"!==e?zS(e)?`0x${QR(e).padStart(16,"0")}`:`0x${e.padStart(16,"0")}`:"0x0000000000000000"}(f)),s.eip155Block!==s.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const g={name:i,chainId:m,networkId:m,genesis:{timestamp:h,gasLimit:parseInt(c),difficulty:parseInt(o),nonce:f,extraData:d,mixHash:a,coinbase:l,baseFeePerGas:u},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:void 0!==s.clique?{type:"poa",algorithm:"clique",clique:{period:null!==(r=s.clique.period)&&void 0!==r?r:s.clique.blockperiodseconds,epoch:null!==(n=s.clique.epoch)&&void 0!==n?n:s.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},y={[UR.Homestead]:{name:"homesteadBlock"},[UR.Dao]:{name:"daoForkBlock"},[UR.TangerineWhistle]:{name:"eip150Block"},[UR.SpuriousDragon]:{name:"eip155Block"},[UR.Byzantium]:{name:"byzantiumBlock"},[UR.Constantinople]:{name:"constantinopleBlock"},[UR.Petersburg]:{name:"petersburgBlock"},[UR.Istanbul]:{name:"istanbulBlock"},[UR.MuirGlacier]:{name:"muirGlacierBlock"},[UR.Berlin]:{name:"berlinBlock"},[UR.London]:{name:"londonBlock"},[UR.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:t},[UR.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[UR.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},b=Object.keys(y).reduce(((e,t)=>(e[y[t].name]=t,e)),{}),v=Object.keys(s).filter((e=>void 0!==b[e]&&void 0!==s[e]&&null!==s[e]));if(g.hardforks=v.map((e=>({name:b[e],block:!0===y[b[e]].isTimestamp||"number"!==typeof s[e]?null:s[e],timestamp:!0===y[b[e]].isTimestamp&&"number"===typeof s[e]?s[e]:void 0}))).filter((e=>null!==e.block||void 0!==e.timestamp)),g.hardforks.sort(((e,t)=>{var r,n;return(null!==(r=e.block)&&void 0!==r?r:1/0)-(null!==(n=t.block)&&void 0!==n?n:1/0)})),g.hardforks.sort(((e,t)=>{var r,n;return(null!==(r=e.timestamp)&&void 0!==r?r:p)-(null!==(n=t.timestamp)&&void 0!==n?n:p)})),void 0!==s.terminalTotalDifficulty){const e={name:UR.Merge,ttd:s.terminalTotalDifficulty,block:null},t=g.hardforks.findIndex((e=>{var t;return!0===(null===(t=y[e.name])||void 0===t?void 0:t.postMerge)}));-1!==t?g.hardforks.splice(t,0,e):g.hardforks.push(e)}const w=g.hardforks.length>0?g.hardforks.slice(-1)[0]:void 0;return g.hardfork=null===w||void 0===w?void 0:w.name,g.hardforks.unshift({name:UR.Chainstart,block:0}),g}function JR(e){let t=e;if("string"!==typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}const XR=function(e){var t;if(null===e||void 0===e)return new Uint8Array;if(e instanceof Uint8Array)return e;if("Uint8Array"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name))return Uint8Array.from(e);if(Array.isArray(e))return Uint8Array.from(e);if("string"===typeof e){if(!FS(e))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${e}`);return MP(JR(QR(e)))}if("number"===typeof e)return XR(jP(e));if("bigint"===typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t=`0${t}`),XR(`0x${t}`)}if(e.toArray)return Uint8Array.from(e.toArray());throw new Error("invalid type")};function eC(e){const t=LP(e);return"0x"===t?BigInt(0):BigInt(t)}const tC=function(e){return new Uint8Array(e).fill(0)};function rC(e){if(!PP(e)){throw new Error(`This method only supports Uint8Array but input was: ${e}`)}}const nC=function(e,t){return rC(e),function(e,t,r){const n=tC(t);return r?e.length<t?(n.set(e),n):e.subarray(0,t):e.length<t?(n.set(e,t-e.length),n):e.subarray(-t)}(e,t,!1)};const iC=function(e){return rC(e),function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e}(e)},sC=e=>`0x${e.toString(16)}`;function oC(e){return iC(XR(`0x${e.toString(16)}`))}const aC=function(e,t,r,n,i){const s=function(e,t){return e===BigInt(0)||e===BigInt(1)?e:void 0===t?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}(t,i);if(!function(e){return e===BigInt(0)||e===BigInt(1)}(s))throw new Error("Invalid signature v value");return new CR.Signature(eC(r),eC(n)).addRecoveryBit(Number(s)).recoverPublicKey(e).toRawBytes(!1).slice(1)};function cC(e,t){if(null===e)return null;if(void 0===e)return;if("string"===typeof e&&!FS(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"===typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=XR(e);switch(t){case KR.Uint8Array:return r;case KR.BigInt:return eC(r);case KR.Number:{const e=eC(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case KR.PrefixedHexString:return LP(r);default:throw new Error("unknown outputType")}}var lC=r(3813),uC=r(8066);const dC={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},hC={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},fC={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},pC={1153:{name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},1559:{name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},2315:{name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},2537:{name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},2565:{name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},2718:{name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},2929:{name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},2930:{name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},3198:{name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},3529:{name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},3540:{name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},3541:{name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3554:{name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3651:{name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},3670:{name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3855:{name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},3860:{name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},4345:{name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},5133:{name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}}},mC={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},merge:{name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]}},{buf:gC}=uC;class yC extends aT{constructor(e){var t,r;super(),this._eips=[],this._customChains=null!==(t=e.customChains)&&void 0!==t?t:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=null!==(r=this._chainParams.defaultHardfork)&&void 0!==r?r:UR.Merge,this.HARDFORK_CHANGES=this.hardforks().map((e=>[e.name,mC[e.name]])),this._hardfork=this.DEFAULT_HARDFORK,void 0!==e.hardfork&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}static custom(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const n=null!==(r=t.baseChain)&&void 0!==r?r:"mainnet",i=Object.assign({},yC._getChainParams(n));if(i.name="custom-chain","string"!==typeof e)return new yC(Object.assign({chain:Object.assign(Object.assign({},i),e)},t));if(e===WR.PolygonMainnet)return yC.custom({name:WR.PolygonMainnet,chainId:137,networkId:137},t);if(e===WR.PolygonMumbai)return yC.custom({name:WR.PolygonMumbai,chainId:80001,networkId:80001},t);if(e===WR.ArbitrumRinkebyTestnet)return yC.custom({name:WR.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},t);if(e===WR.ArbitrumOne)return yC.custom({name:WR.ArbitrumOne,chainId:42161,networkId:42161},t);if(e===WR.xDaiChain)return yC.custom({name:WR.xDaiChain,chainId:100,networkId:100},t);if(e===WR.OptimisticKovan)return yC.custom({name:WR.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:UR.Berlin},t));if(e===WR.OptimisticEthereum)return yC.custom({name:WR.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:UR.Berlin},t));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,t){let{chain:r,eips:n,genesisHash:i,hardfork:s,mergeForkIdPostMerge:o}=t;var a;const c=function(e,t,r){try{if(["config","difficulty","gasLimit","alloc"].some((t=>!(t in e))))throw new Error("Invalid format, expected geth genesis fields missing");return void 0!==t&&(e.name=t),YR(e,r)}catch(bZ){throw new Error(`Error parsing parameters file: ${bZ.message}`)}}(e,r,o),l=new yC({chain:null!==(a=c.name)&&void 0!==a?a:"custom",customChains:[c],eips:n,hardfork:null!==s&&void 0!==s?s:c.hardfork});return void 0!==i&&l.setForkHashes(i),l}static isSupportedChainId(e){const t=this._getInitializedChains();return Boolean(t.names[e.toString()])}static _getChainParams(e,t){let r=e;const n=this._getInitializedChains(t);if("number"===typeof r||"bigint"===typeof r){if(r=r.toString(),n.names[r]){return n[n.names[r]]}throw new Error(`Chain with ID ${r} not supported`)}if(void 0!==n[r])return n[r];throw new Error(`Chain with name ${r} not supported`)}setChain(e){if("number"===typeof e||"bigint"===typeof e||"string"===typeof e)this._chainParams=yC._getChainParams(e,this._customChains);else{if("object"!==typeof e)throw new Error("Wrong input format");{if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const t=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of t)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}}for(const t of this.hardforks())if(void 0===t.block)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),t=!0);if(!t)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,t,r){const n=cC(e,KR.BigInt),i=cC(t,KR.BigInt),s=cC(r,KR.Number),o=this.hardforks().filter((e=>null!==e.block||null!==e.ttd&&void 0!==e.ttd||void 0!==e.timestamp)),a=o.findIndex((e=>null!==e.ttd&&void 0!==e.ttd));if(o.slice(a+1).findIndex((e=>null!==e.ttd&&void 0!==e.ttd))>=0)throw Error("More than one merge hardforks found with ttd specified");let c=o.findIndex((e=>null!==e.block&&e.block>n||void 0!==s&&Number(e.timestamp)>s));if(-1===c)c=o.length;else if(0===c)throw Error("Must have at least one hardfork at block 0");if(void 0===s){c-=o.slice(0,c).reverse().findIndex((e=>null!==e.block||void 0!==e.ttd))}if(c-=1,null===o[c].block&&void 0===o[c].timestamp)(void 0===i||null===i||BigInt(o[c].ttd)>i)&&(c-=1);else if(a>=0&&void 0!==i&&null!==i){if(c>=a&&BigInt(o[a].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(c<a&&BigInt(o[a].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const l=c;for(;c<o.length-1&&(o[c].block===o[c+1].block&&o[c].timestamp===o[c+1].timestamp);c+=1);if(s){if(o.slice(0,l).reduce(((e,t)=>{var r;return Math.max(Number(null!==(r=t.timestamp)&&void 0!==r?r:"0"),e)}),0)>s)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(o.slice(c+1).reduce(((e,t)=>{var r;return Math.min(Number(null!==(r=t.timestamp)&&void 0!==r?r:s),e)}),s)<s)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return o[c].name}setHardforkByBlockNumber(e,t,r){const n=this.getHardforkByBlockNumber(e,t,r);return this.setHardfork(n),n}_getHardfork(e){const t=this.hardforks();for(const r of t)if(r.name===e)return r;return null}setEIPs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(const t of e){if(!(t in pC))throw new Error(`${t} not supported`);const r=this.gteHardfork(pC[t].minimumHardfork);if(!r)throw new Error(`${t} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(void 0!==pC[t].requiredEIPs)for(const n of pC[t].requiredEIPs)if(!e.includes(n)&&!this.isActivatedEIP(n))throw new Error(`${t} requires EIP ${n}, but is not included in the EIP list`)}this._eips=e}param(e,t){let r;for(const n of this._eips)if(r=this.paramByEIP(e,t,n),void 0!==r)return r;return this.paramByHardfork(e,t,this._hardfork)}paramByHardfork(e,t,r){let n=null;for(const i of this.HARDFORK_CHANGES){if("eips"in i[1]){const r=i[1].eips;for(const i of r){const r=this.paramByEIP(e,t,i);n="bigint"===typeof r?r:n}}else{if(void 0===i[1][e])throw new Error(`Topic ${e} not defined`);void 0!==i[1][e][t]&&(n=i[1][e][t].v)}if(i[0]===r)break}return BigInt(null!==n&&void 0!==n?n:0)}paramByEIP(e,t,r){if(!(r in pC))throw new Error(`${r} not supported`);const n=pC[r];if(!(e in n))throw new Error(`Topic ${e} not defined`);if(void 0===n[e][t])return;const i=n[e][t].v;return BigInt(i)}paramByBlock(e,t,r,n,i){const s=this.getHardforkByBlockNumber(r,n,i);return this.paramByHardfork(e,t,s)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const t of this.HARDFORK_CHANGES){const r=t[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,t){const r=cC(t,KR.BigInt),n=null!==e&&void 0!==e?e:this._hardfork,i=this.hardforkBlock(n);return"bigint"===typeof i&&i!==BigInt(0)&&r>=i}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){const r=null!==e&&void 0!==e?e:this._hardfork,n=this.hardforks();let i=-1,s=-1,o=0;for(const a of n)a.name===r&&(i=o),a.name===t&&(s=o),o+=1;return i>=s&&-1!==s}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var t;const r=null!==e&&void 0!==e?e:this._hardfork,n=null===(t=this._getHardfork(r))||void 0===t?void 0:t.block;return void 0===n||null===n?null:BigInt(n)}hardforkTimestamp(e){var t;const r=null!==e&&void 0!==e?e:this._hardfork,n=null===(t=this._getHardfork(r))||void 0===t?void 0:t.timestamp;return void 0===n||null===n?null:BigInt(n)}eipBlock(e){for(const t of this.HARDFORK_CHANGES){const r=t[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock("number"===typeof t[0]?String(t[0]):t[0])}return null}hardforkTTD(e){var t;const r=null!==e&&void 0!==e?e:this._hardfork,n=null===(t=this._getHardfork(r))||void 0===t?void 0:t.ttd;return void 0===n||null===n?null:BigInt(n)}isHardforkBlock(e,t){const r=cC(e,KR.BigInt),n=null!==t&&void 0!==t?t:this._hardfork,i=this.hardforkBlock(n);return"bigint"===typeof i&&i!==BigInt(0)&&i===r}nextHardforkBlockOrTimestamp(e){var t,r;const n=null!==e&&void 0!==e?e:this._hardfork,i=this.hardforks();let s=i.findIndex((e=>e.name===n));if(n===UR.Merge&&(s-=1),s<0)return null;let o=null!==(t=i[s].timestamp)&&void 0!==t?t:i[s].block;o=null!==o&&void 0!==o?Number(o):null;const a=i.slice(s+1).find((e=>{var t;let r=null!==(t=e.timestamp)&&void 0!==t?t:e.block;return r=null!==r&&void 0!==r?Number(r):null,e.name!==UR.Merge&&null!==r&&void 0!==r&&r!==o}));if(void 0===a)return null;const c=null!==(r=a.timestamp)&&void 0!==r?r:a.block;return null===c||void 0===c?null:BigInt(c)}nextHardforkBlock(e){const t=null!==e&&void 0!==e?e:this._hardfork;let r=this.hardforkBlock(t);if(null===r&&t===UR.Merge){const e=this.hardforks(),t=e.findIndex((e=>null!==e.ttd&&void 0!==e.ttd));if(t<0)throw Error("Merge hardfork should have been found");r=this.hardforkBlock(e[t-1].name)}if(null===r)return null;return this.hardforks().reduce(((e,t)=>{const n=BigInt(null===t.block||void 0!==t.ttd&&null!==t.ttd?0:t.block);return n>r&&null===e?n:e}),null)}isNextHardforkBlock(e,t){const r=cC(e,KR.BigInt),n=null!==t&&void 0!==t?t:this._hardfork,i=this.nextHardforkBlock(n);return null!==i&&i===r}_calcForkHash(e,t){let r=new Uint8Array,n=0;for(const s of this.hardforks()){const{block:t,timestamp:i,name:o}=s;let a=null!==i&&void 0!==i?i:t;if(a=null!==a?Number(a):null,"number"===typeof a&&0!==a&&a!==n&&o!==UR.Merge){r=TP(r,MP(a.toString(16).padStart(16,"0"))),n=a}if(s.name===e)break}const i=TP(t,r);return LP(function(e){const t=ZR(e);return MP(`0x${JR(t.slice(2))}`)}(gC(i)>>>0))}forkHash(e,t){const r=null!==e&&void 0!==e?e:this._hardfork,n=this._getHardfork(r);if(null===n||null===(null===n||void 0===n?void 0:n.block)&&void 0===(null===n||void 0===n?void 0:n.timestamp)&&void 0===(null===n||void 0===n?void 0:n.ttd)){throw new Error("No fork hash calculation possible for future hardfork")}if(null!==(null===n||void 0===n?void 0:n.forkHash)&&void 0!==(null===n||void 0===n?void 0:n.forkHash))return n.forkHash;if(!t)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,t)}hardforkForForkHash(e){const t=this.hardforks().filter((t=>t.forkHash===e));return t.length>=1?t[t.length-1]:null}setForkHashes(e){var t;for(const r of this.hardforks()){const n=null!==(t=r.timestamp)&&void 0!==t?t:r.block;null!==r.forkHash&&void 0!==r.forkHash||(null===n||void 0===n)&&"undefined"===typeof r.ttd||(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let t;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(t=r[1].consensus.type),r[0]===e)break;return null!==t&&void 0!==t?t:this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let t;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(t=r[1].consensus.algorithm),r[0]===e)break;return null!==t&&void 0!==t?t:this._chainParams.consensus.algorithm}consensusConfig(){var e;const t=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus[n[1].consensus.algorithm]),n[0]===t)break;return null!==(e=null!==r&&void 0!==r?r:this._chainParams.consensus[this.consensusAlgorithm()])&&void 0!==e?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const t={};for(const[n,i]of Object.entries(DR))t[i]=n.toLowerCase();const r={mainnet:hC,goerli:dC,sepolia:fC};if(e)for(const n of e){const{name:e}=n;t[n.chainId.toString()]=e,r[e]=n}return r.names=t,r}}var bC,vC;function wC(e){return!function(e){if(0===e.length)return!0;const t=e[0];return!!Array.isArray(t)}(e)}(vC=bC||(bC={}))[vC.EIP155ReplayProtection=155]="EIP155ReplayProtection",vC[vC.EIP1559FeeMarket=1559]="EIP1559FeeMarket",vC[vC.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",vC[vC.EIP2930AccessLists=2930]="EIP2930AccessLists";class AC{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new AC(tC(20))}equals(e){return IP(this.buf,e.buf)}isZero(){return this.equals(AC.zero())}toString(){return LP(this.buf)}toArray(){return this.buf}static publicToAddress(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e;if(rC(r),t&&64!==r.length&&(r=CR.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),64!==r.length)throw new Error("Expected pubKey to be of length 64");return fx(r).slice(-20)}}const _C=e=>{let t,r;if(wC(e)){t=e;const n=[];for(let t=0;t<e.length;t+=1){const r=e[t],i=XR(r.address),s=[];for(let e=0;e<r.storageKeys.length;e+=1)s.push(XR(r.storageKeys[e]));n.push([i,s])}r=n}else{r=null!==e&&void 0!==e?e:[];const n=[];for(let e=0;e<r.length;e+=1){const t=r[e],i=LP(t[0]),s=[];for(let e=0;e<t[1].length;e+=1)s.push(LP(t[1][e]));const o={address:i,storageKeys:s};n.push(o)}t=n}return{AccessListJSON:t,accessList:r}},EC=e=>{for(let t=0;t<e.length;t+=1){const r=e[t],n=r[0],i=r[1];if(void 0!==r[2])throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!==n.length)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let e=0;e<i.length;e+=1)if(32!==i[e].length)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},xC=e=>{const t=[];for(let r=0;r<e.length;r+=1){const n=e[r],i={address:LP(nC(n[0],20)),storageKeys:[]},s=n&&n[1];for(let e=0;e<s.length;e+=1){const t=s[e];i.storageKeys.push(LP(nC(t,32)))}t.push(i)}return t},kC=(e,t)=>{const r=t.param("gasPrices","accessListStorageKeyCost"),n=t.param("gasPrices","accessListAddressCost");let i=0;for(let s=0;s<e.length;s+=1){i+=e[s][1].length}return e.length*Number(n)+i*Number(r)};class SC{constructor(e,t){var r,n;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=DR.Mainnet,this.DEFAULT_HARDFORK=UR.Merge;const{nonce:i,gasLimit:s,to:o,value:a,data:c,v:l,r:u,s:d,type:h}=e;this._type=Number(eC(XR(h))),this.txOptions=t;const f=XR(""===o?"0x":o),p=XR(""===l?"0x":l),m=XR(""===u?"0x":u),g=XR(""===d?"0x":d);this.nonce=eC(XR(""===i?"0x":i)),this.gasLimit=eC(XR(""===s?"0x":s)),this.to=f.length>0?new AC(f):void 0,this.value=eC(XR(""===a?"0x":a)),this.data=XR(""===c?"0x":c),this.v=p.length>0?eC(p):void 0,this.r=m.length>0?eC(m):void 0,this.s=g.length>0?eC(g):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const y=void 0===this.to||null===this.to,b=null!==(r=t.allowUnlimitedInitCodeSize)&&void 0!==r&&r,v=null!==(n=t.common)&&void 0!==n?n:this._getCommon();y&&v.isActivatedEIP(3860)&&!b&&((e,t)=>{const r=e.param("vm","maxInitCodeSize");if(r&&BigInt(t)>r)throw new Error(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("vm","maxInitCodeSize")}`)})(v,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[];return this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:0===t.length}_validateYParity(){const{v:e}=this;if(void 0!==e&&e!==BigInt(0)&&e!==BigInt(1)){const e=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(e)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&void 0!==e&&e>MR){const e=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(e)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const e=this.common.param("gasPrices","txCreation");e&&(t+=e)}return t}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let n=0;n<this.data.length;n+=1)0===this.data[n]?r+=e:r+=t;if((void 0===this.to||null===this.to)&&this.common.isActivatedEIP(3860)){const e=BigInt(Math.ceil(this.data.length/32));r+=this.common.param("gasPrices","initCodeWordCost")*e}return r}toCreationAddress(){return void 0===this.to||0===this.to.buf.length}isSigned(){const{v:e,r:t,s:r}=this;return void 0!==e&&void 0!==t&&void 0!==r}verifySignature(){try{const e=this.getSenderPublicKey();return 0!==iC(e).length}catch(bZ){return!1}}getSenderAddress(){return new AC(AC.publicToAddress(this.getSenderPublicKey()))}sign(e){if(32!==e.length){const e=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(e)}let t=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(bC.EIP155ReplayProtection)&&(this.activeCapabilities.push(bC.EIP155ReplayProtection),t=!0);const r=this.getMessageToSign(!0),{v:n,r:i,s:s}=this._ecsign(r,e),o=this._processSignature(n,i,s);if(t){const e=this.activeCapabilities.indexOf(bC.EIP155ReplayProtection);e>-1&&this.activeCapabilities.splice(e,1)}return o}_getCommon(e,t){var r,n,i,s;if(void 0!==t){const r=eC(XR(t));if(e){if(e.chainId()!==r){const e=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(e)}return e.copy()}return yC.isSupportedChainId(r)?new yC({chain:r,hardfork:this.DEFAULT_HARDFORK}):yC.custom({name:"custom-chain",networkId:r,chainId:r},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if((null===e||void 0===e?void 0:e.copy)&&"function"===typeof(null===e||void 0===e?void 0:e.copy))return e.copy();if(e){const t="function"===typeof e.hardfork?e.hardfork():e.hardfork;return yC.custom({name:"custom-chain",networkId:e.networkId?e.networkId():null!==(n=BigInt(null===(r=e.customChain)||void 0===r?void 0:r.networkId))&&void 0!==n?n:void 0,chainId:e.chainId?e.chainId():null!==(s=BigInt(null===(i=e.customChain)||void 0===i?void 0:i.chainId))&&void 0!==s?s:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:t||this.DEFAULT_HARDFORK})}return new yC({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(const[n,i]of Object.entries(e))switch(t){case 64:if(r){if(void 0!==i&&i>=NR){const e=this._errorMsg(`${n} cannot equal or exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(e)}}else if(void 0!==i&&i>NR){const e=this._errorMsg(`${n} cannot exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(e)}break;case 256:if(r){if(void 0!==i&&i>=LR){const e=this._errorMsg(`${n} cannot equal or exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(e)}}else if(void 0!==i&&i>LR){const e=this._errorMsg(`${n} cannot exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(e)}break;default:{const e=this._errorMsg("unimplemented bits value");throw new Error(e)}}}static _validateNotArray(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,n]of Object.entries(e))if(t.includes(r)&&Array.isArray(n))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?LP(this.hash()):"not available (unsigned)"}catch(bZ){e="error"}let t="";try{t=this.isSigned().toString()}catch(bZ){e="error"}let r="";try{r=this.common.hardfork()}catch(bZ){r="error"}let n=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return n+=`signed=${t} hf=${r}`,n}_ecsign(e,t,r){const n=CR.sign(e,t),i=n.toCompactRawBytes();return{r:i.subarray(0,32),s:i.subarray(32,64),v:void 0===r?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2)}}static fromSerializedTx(e){}static fromTxData(e){}}const PC=MP(2..toString(16).padStart(2,"0"));class TC extends SC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;super(Object.assign(Object.assign({},e),{type:2}),t),this.DEFAULT_HARDFORK="london";const{chainId:n,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:o}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const a=_C(null!==i&&void 0!==i?i:[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,EC(this.accessList),this.maxFeePerGas=eC(XR(""===s?"0x":s)),this.maxPriorityFeePerGas=eC(XR(""===o?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),SC._validateNotArray(e),this.gasLimit*this.maxFeePerGas>LR){const e=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(e)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const e=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(e)}this._validateYParity(),this._validateHighS();(null===(r=null===t||void 0===t?void 0:t.freeze)||void 0===r||r)&&Object.freeze(this)}static fromTxData(e){return new TC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static fromSerializedTx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!IP(e.subarray(0,1),PC))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: 2, received: ${LP(e.subarray(0,1))}`);const r=lC.Tj.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return TC.fromValuesArray(r,t)}static fromValuesArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(9!==e.length&&12!==e.length)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,n,i,s,o,a,c,l,u,d,h,f]=e;return this._validateNotArray({chainId:r,v:d}),GS({nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:o,value:c,v:d,r:h,s:f}),new TC({chainId:eC(r),nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:o,to:a,value:c,data:l,accessList:null!==u&&void 0!==u?u:[],v:void 0!==d?eC(d):void 0,r:h,s:f},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(kC(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BigInt(0);const t=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,n=(t<r?t:r)+e;return this.gasLimit*n+this.value}raw(){return[oC(this.chainId),oC(this.nonce),oC(this.maxPriorityFeePerGas),oC(this.maxFeePerGas),oC(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),oC(this.value),this.data,this.accessList,void 0!==this.v?oC(this.v):Uint8Array.from([]),void 0!==this.r?oC(this.r):Uint8Array.from([]),void 0!==this.s?oC(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return TP(PC,lC.Tj.encode(e))}getMessageToSign(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.raw().slice(0,9),r=TP(PC,lC.Tj.encode(t));return e?fx(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=fx(this.serialize())),this.cache.hash):fx(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}const e=this.getMessageToVerifySignature(),{v:t,r:r,s:n}=this;this._validateHighS();try{return aC(e,t+BigInt(27),oC(r),oC(n))}catch(bZ){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(e,t,r){const n=Object.assign(Object.assign({},this.txOptions),{common:this.common});return TC.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:eC(t),s:eC(r)},n)}toJSON(){const e=xC(this.accessList);return{chainId:sC(this.chainId),nonce:sC(this.nonce),maxPriorityFeePerGas:sC(this.maxPriorityFeePerGas),maxFeePerGas:sC(this.maxFeePerGas),gasLimit:sC(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:sC(this.value),data:LP(this.data),accessList:e,v:void 0!==this.v?sC(this.v):void 0,r:void 0!==this.r?sC(this.r):void 0,s:void 0!==this.s?sC(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const IC=MP(1..toString(16).padStart(2,"0"));class OC extends SC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;super(Object.assign(Object.assign({},e),{type:1}),t),this.DEFAULT_HARDFORK="berlin";const{chainId:n,accessList:i,gasPrice:s}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const o=_C(null!==i&&void 0!==i?i:[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,EC(this.accessList),this.gasPrice=eC(XR(""===s?"0x":s)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),SC._validateNotArray(e),this.gasPrice*this.gasLimit>LR){const e=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(e)}this._validateYParity(),this._validateHighS();(null===(r=null===t||void 0===t?void 0:t.freeze)||void 0===r||r)&&Object.freeze(this)}static fromTxData(e){return new OC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static fromSerializedTx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!IP(e.subarray(0,1),IC))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: 1, received: ${LP(e.subarray(0,1))}`);const r=lC.Tj.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return OC.fromValuesArray(r,t)}static fromValuesArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(8!==e.length&&11!==e.length)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,n,i,s,o,a,c,l,u,d,h]=e;this._validateNotArray({chainId:r,v:u}),GS({nonce:n,gasPrice:i,gasLimit:s,value:a,v:u,r:d,s:h});return new OC({chainId:eC(r),nonce:n,gasPrice:i,gasLimit:s,to:o,value:a,data:c,accessList:null!==l&&void 0!==l?l:[],v:void 0!==u?eC(u):void 0,r:d,s:h},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(kC(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[oC(this.chainId),oC(this.nonce),oC(this.gasPrice),oC(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),oC(this.value),this.data,this.accessList,void 0!==this.v?oC(this.v):Uint8Array.from([]),void 0!==this.r?oC(this.r):Uint8Array.from([]),void 0!==this.s?oC(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return TP(IC,lC.Tj.encode(e))}getMessageToSign(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.raw().slice(0,8),r=TP(IC,lC.Tj.encode(t));return e?fx(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=fx(this.serialize())),this.cache.hash):fx(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const e=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(e)}const e=this.getMessageToVerifySignature(),{v:t,r:r,s:n}=this;this._validateHighS();try{return aC(e,t+BigInt(27),oC(r),oC(n))}catch(bZ){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(e,t,r){const n=Object.assign(Object.assign({},this.txOptions),{common:this.common});return OC.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:eC(t),s:eC(r)},n)}toJSON(){const e=xC(this.accessList);return{chainId:sC(this.chainId),nonce:sC(this.nonce),gasPrice:sC(this.gasPrice),gasLimit:sC(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:sC(this.value),data:LP(this.data),accessList:e,v:void 0!==this.v?sC(this.v):void 0,r:void 0!==this.r?sC(this.r):void 0,s:void 0!==this.s?sC(this.s):void 0}}errorStr(){var e,t;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${null!==(t=null===(e=this.accessList)||void 0===e?void 0:e.length)&&void 0!==t?t:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}function RC(e,t){const r=Number(e),n=2*Number(t);return r===n+35||r===n+36}class CC extends SC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(super(Object.assign(Object.assign({},e),{type:0}),t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=eC(XR(""===e.gasPrice?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>LR){const e=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(e)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),SC._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?RC(this.v,this.common.chainId())&&this.activeCapabilities.push(bC.EIP155ReplayProtection):this.activeCapabilities.push(bC.EIP155ReplayProtection));(null===(r=null===t||void 0===t?void 0:t.freeze)||void 0===r||r)&&Object.freeze(this)}static fromTxData(e){return new CC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static fromSerializedTx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=lC.Tj.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,t)}static fromValuesArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(6!==e.length&&9!==e.length)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,n,i,s,o,a,c,l,u]=e;return GS({nonce:r,gasPrice:n,gasLimit:i,value:o,v:c,r:l,s:u}),new CC({nonce:r,gasPrice:n,gasLimit:i,to:s,value:o,data:a,v:c,r:l,s:u},t)}raw(){return[oC(this.nonce),oC(this.gasPrice),oC(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),oC(this.value),this.data,void 0!==this.v?oC(this.v):Uint8Array.from([]),void 0!==this.r?oC(this.r):Uint8Array.from([]),void 0!==this.s?oC(this.s):Uint8Array.from([])]}serialize(){return lC.Tj.encode(this.raw())}_getMessageToSign(){const e=[oC(this.nonce),oC(this.gasPrice),oC(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),oC(this.value),this.data];return this.supports(bC.EIP155ReplayProtection)&&(e.push(XR(this.common.chainId())),e.push(iC(XR(0))),e.push(iC(XR(0)))),e}getMessageToSign(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this._getMessageToSign();return e?fx(lC.Tj.encode(t)):t}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=fx(lC.Tj.encode(this.raw()))),this.cache.hash):fx(lC.Tj.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const e=this._errorMsg("This transaction is not signed");throw new Error(e)}const e=this._getMessageToSign();return fx(lC.Tj.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:t,r:r,s:n}=this;this._validateHighS();try{return aC(e,t,oC(r),oC(n),this.supports(bC.EIP155ReplayProtection)?this.common.chainId():void 0)}catch(bZ){const t=this._errorMsg("Invalid Signature");throw new Error(t)}}_processSignature(e,t,r){let n=e;this.supports(bC.EIP155ReplayProtection)&&(n+=this.common.chainId()*BigInt(2)+BigInt(8));const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return CC.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:n,r:eC(t),s:eC(r)},i)}toJSON(){return{nonce:sC(this.nonce),gasPrice:sC(this.gasPrice),gasLimit:sC(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:sC(this.value),data:LP(this.data),v:void 0!==this.v?sC(this.v):void 0,r:void 0!==this.r?sC(this.r):void 0,s:void 0!==this.s?sC(this.s):void 0}}_validateTxV(e,t){let r;const n=void 0!==e?Number(e):void 0;if(void 0!==n&&n<37&&27!==n&&28!==n)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${n}`);if(void 0!==n&&0!==n&&(!t||t.gteHardfork("spuriousDragon"))&&27!==n&&28!==n)if(t){if(!RC(BigInt(n),t.chainId()))throw new Error(`Incompatible EIP155-based V ${n} and chain id ${t.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let e;e=(n-35)%2===0?35:36,r=BigInt(n-e)/BigInt(2)}return this._getCommon(t,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const NC=new Map;class LC{constructor(){}static typeToInt(e){return Number(eC(XR(e)))}static registerTransactionType(e,t){const r=LC.typeToInt(e);NC.set(r,t)}static fromTxData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!("type"in e)||void 0===e.type)return CC.fromTxData(e,t);const r=LC.typeToInt(e.type);if(0===r)return CC.fromTxData(e,t);if(1===r)return OC.fromTxData(e,t);if(2===r)return TC.fromTxData(e,t);const n=NC.get(r);if(null===n||void 0===n?void 0:n.fromTxData)return n.fromTxData(e,t);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e[0]<=127))return CC.fromSerializedTx(e,t);switch(e[0]){case 1:return OC.fromSerializedTx(e,t);case 2:return TC.fromSerializedTx(e,t);default:{const r=NC.get(Number(e[0]));if(null===r||void 0===r?void 0:r.fromSerializedTx)return r.fromSerializedTx(e,t);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}}static fromBlockBodyData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(PP(e))return this.fromSerializedData(e,t);if(Array.isArray(e))return CC.fromValuesArray(e,t);throw new Error("Cannot decode transaction: unknown type input")}}var MC=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const BC=(e,t)=>{let r;if(!t&&"string"===typeof e&&US(e)&&66!==e.length)throw new PA;try{r=PP(e)?e:CP(e)}catch(n){throw new TA}if(!t&&32!==r.byteLength)throw new PA;return r},DC=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=US(e)?e:HP(e),n=MP(r),i=MP(zP(`\x19Ethereum Signed Message:\n${n.byteLength}`)),s=t?n:TP(i,n);return UT(s)},jC=(e,t)=>{const r=BC(t),n=CR.sign(e.substring(2),r),i=n.toCompactRawBytes(),s=n.r.toString(16).padStart(64,"0"),o=n.s.toString(16).padStart(64,"0"),a=n.recovery+27;return{messageHash:e,v:jP(a),r:`0x${s}`,s:`0x${o}`,signature:`${LP(i)}${a.toString(16)}`}},UC=(e,t)=>{const r=DC(e),{messageHash:n,v:i,r:s,s:o,signature:a}=jC(r,t);return{message:e,messageHash:n,v:i,r:s,s:o,signature:a}},FC=e=>{if(vP(e))throw new u_;const t=LC.fromSerializedData(MP(e));return nT(t.getSenderAddress().toString())},HC=(e,t,r,n,i)=>{if("object"===typeof e){const t=`${e.r}${e.s.slice(2)}${e.v.slice(2)}`;return HC(e.messageHash,t,r)}if("string"===typeof t&&"string"===typeof r&&!vP(n)){const s=`${r}${n.slice(2)}${t.slice(2)}`;return HC(e,s,i)}if(vP(t))throw new IA("signature string undefined");const s=r?e:DC(e);let o=parseInt(t.substring(130),16);o>26&&(o-=27);const a=CR.Signature.fromCompact(t.slice(2,130)).addRecoveryBit(o).recoverPublicKey(s.replace("0x","")).toRawBytes(!1),c=UT(a.subarray(1));return nT(`0x${c.slice(-40)}`)},zC=e=>{const t=BC(e),r=CR.getPublicKey(t,!1),n=UT(r.slice(1)).slice(-40);return nT(`0x${n}`)},GC=(e,t)=>{const r=BC(e);return`0x${LP(CR.getPublicKey(r,t)).slice(4)}`},qC=(e,t,r)=>MC(void 0,void 0,void 0,(function*(){var n,i,s,o,a,c,l;const u=BC(e);let d;if(d=(null===r||void 0===r?void 0:r.salt)?"string"===typeof r.salt?MP(r.salt):r.salt:VT(32),!jS(t)&&!PP(t))throw new NA;const h="string"===typeof t?MP(HP(t)):t;let f;if(null===r||void 0===r?void 0:r.iv){if(f="string"===typeof r.iv?MP(r.iv):r.iv,16!==f.length)throw new LA}else f=VT(16);const p=null!==(n=null===r||void 0===r?void 0:r.kdf)&&void 0!==n?n:"scrypt";let m,g;if("pbkdf2"===p){if(g={dklen:null!==(i=null===r||void 0===r?void 0:r.dklen)&&void 0!==i?i:32,salt:LP(d).replace("0x",""),c:null!==(s=null===r||void 0===r?void 0:r.c)&&void 0!==s?s:262144,prf:"hmac-sha256"},g.c<1e3)throw new MA;m=AO(h,d,g.c,g.dklen,"sha256")}else{if("scrypt"!==p)throw new OA;g={n:null!==(o=null===r||void 0===r?void 0:r.n)&&void 0!==o?o:8192,r:null!==(a=null===r||void 0===r?void 0:r.r)&&void 0!==a?a:8,p:null!==(c=null===r||void 0===r?void 0:r.p)&&void 0!==c?c:1,dklen:null!==(l=null===r||void 0===r?void 0:r.dklen)&&void 0!==l?l:32,salt:LP(d).replace("0x","")},m=SO(h,d,g.n,g.p,g.r,g.dklen)}const y=yield tO(u,m.slice(0,16),f,"aes-128-ctr"),b=LP(y).slice(2),v=UT(TP(m.slice(16,32),y)).replace("0x","");return{version:3,id:nI(),address:zC(u).toLowerCase().replace("0x",""),crypto:{ciphertext:b,cipherparams:{iv:LP(f).replace("0x","")},cipher:"aes-128-ctr",kdf:p,kdfparams:g,mac:v}}})),WC=(e,t)=>{const r=BC(e,t);return{address:zC(r),privateKey:LP(r),signTransaction:e=>{throw new H_("Do not have network access to sign the transaction")},sign:e=>UC("string"===typeof e?e:JSON.stringify(e),r),encrypt:(e,t)=>MC(void 0,void 0,void 0,(function*(){return qC(r,e,t)}))}};var $C=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class KC{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map((e=>e.payload))}add(e){const t=pI(e),r=new vI;return this._requests.set(t.id,{payload:t,promise:r}),r}execute(e){var t;return $C(this,void 0,void 0,(function*(){if(0===this.requests.length)return Promise.resolve([]);const r=new vI({timeout:null!==(t=null===e||void 0===e?void 0:e.timeout)&&void 0!==t?t:1e3,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch((e=>r.reject(e))),r.catch((e=>{e instanceof YA&&this._abortAllRequests("Batch request timeout"),r.reject(e)})),r}))}_processBatchRequest(e){var t,r;return $C(this,void 0,void 0,(function*(){const n=yield this._requestManager.sendBatch([...this._requests.values()].map((e=>e.payload)));if(n.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new iE(n,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${n.length}`);const i=this.requests.map((e=>e.id)).map(Number).sort(((e,t)=>e-t)),s=n.map((e=>e.id)).map(Number).sort(((e,t)=>e-t));if(JSON.stringify(i)!==JSON.stringify(s))throw this._abortAllRequests("Invalid batch response"),new iE(n,`Batch request mismatch the results. Requests: [${i.join()}], Responses: [${s.join()}]`);for(const e of n)sI(e)?null===(t=this._requests.get(e.id))||void 0===t||t.promise.resolve(e.result):oI(e)&&(null===(r=this._requests.get(e.id))||void 0===r||r.promise.reject(e.error));e.resolve(n)}))}_abortAllRequests(e){for(const{promise:t}of this._requests.values())t.reject(new JA(e))}}var VC=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class QC extends TI{constructor(e){var t;if(super(),this.providers=WI.providers,wT(e)||"string"===typeof e&&""!==e.trim()||FI(e))return this._requestManager=new WI(e),void(this._subscriptionManager=new KI(this._requestManager,{}));const{config:r,provider:n,requestManager:i,subscriptionManager:s,registeredSubscriptions:o,accountProvider:a,wallet:c,requestManagerMiddleware:l}=e;this.setConfig(null!==r&&void 0!==r?r:{}),this._requestManager=null!==i&&void 0!==i?i:new WI(n,null===(t=null===r||void 0===r?void 0:r.enableExperimentalFeatures)||void 0===t?void 0:t.useSubscriptionWhenCheckingBlockTimeout,l),this._subscriptionManager=s||new KI(this.requestManager,null!==o&&void 0!==o?o:{}),a&&(this._accountProvider=a),c&&(this._wallet=c)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new this(...t.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:null===(e=this.subscriptionManager)||void 0===e?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i=new e(...[...r,this.getContextObject()]);return this.on(PI.CONFIG_CHANGE,(e=>{i.setConfig({[e.name]:e.newValue})})),this[e.name]=i,i}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(PI.CONFIG_CHANGE,(e=>{this.setConfig({[e.name]:e.newValue})}))}registerPlugin(e){if(void 0!==this[e.pluginNamespace])throw new e_(e.pluginNamespace);const t={[e.pluginNamespace]:e};t[e.pluginNamespace].link(this),Object.assign(this,t)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return QC.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return KC.bind(void 0,this._requestManager)}extend(e){var t,r=this;return e.property&&!this[e.property]&&(this[e.property]={}),null===(t=e.methods)||void 0===t||t.forEach((t=>{const n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return VC(r,void 0,void 0,(function*(){return this.requestManager.send({method:t.call,params:n})}))};e.property?this[e.property][t.name]=n:this[t.name]=n})),this}}QC.providers=WI.providers;class ZC{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const e=this._iban.slice(4),t=ZC._parseInt(e,36),r=ST(t,40);return nT(r)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},!ZC.isIndirect(e)&&!ZC.isDirect(e))throw new Error("Invalid IBAN was provided");this._iban=e}static isDirect(e){return 34===e.length||35===e.length}isDirect(){return ZC.isDirect(this._iban)}static isIndirect(e){return 20===e.length}isIndirect(){return ZC.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&1===ZC._mod9710(ZC._iso13616Prepare(e))}isValid(){return ZC.isValid(this._iban)}static fromBban(e){const t=`0${(98-this._mod9710(this._iso13616Prepare(`XE00${e}`))).toString()}`.slice(-2);return new ZC(`XE${t}${e}`)}static createIndirect(e){return ZC.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!lP(e))throw new $_(e);const t=BigInt(BP(e)).toString(36),r=ST(t,15);return ZC.fromBban(r.toUpperCase())}static toIban(e){return ZC.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}ZC._iso13616Prepare=e=>{const t="A".charCodeAt(0),r="Z".charCodeAt(0),n=e.toUpperCase();return`${n.slice(4)}${n.slice(0,4)}`.split("").map((e=>{const n=e.charCodeAt(0);return n>=t&&n<=r?n-t+10:e})).join("")},ZC._parseInt=(e,t)=>[...e].reduce(((e,r)=>BigInt(parseInt(r,t))+BigInt(t)*e),BigInt(0)),ZC._mod9710=e=>{let t,r=e;for(;r.length>2;)t=r.slice(0,9),r=`${(parseInt(t,10)%97).toString()}${r.slice(t.length)}`;return parseInt(r,10)%97},ZC.toAddress=e=>new ZC(e).toAddress();var YC,JC=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class XC extends SI{constructor(e){super(),this[YC]="Promise",this._promise=new Promise(e)}then(e,t){return JC(this,void 0,void 0,(function*(){return this._promise.then(e,t)}))}catch(e){return JC(this,void 0,void 0,(function*(){return this._promise.catch(e)}))}finally(e){return JC(this,void 0,void 0,(function*(){return this._promise.finally(e)}))}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}}YC=Symbol.toStringTag;r(867);var eN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function tN(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_syncing",params:[]})}))}function rN(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["hex"],[t]),e.send({method:"eth_sendRawTransaction",params:[t]})}))}function nN(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["blockNumberOrTag","bool"],[t,r]),e.send({method:"eth_getBlockByNumber",params:[t,r]})}))}var iN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};var sN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const oN={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},aN={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},cN={type:"object",properties:{gasPrice:{type:"null"}}},lN=(e,t,r)=>{try{SP.validateJSONSchema(e,t)}catch(gZ){if(gZ instanceof MS)throw new G_(gZ.errors,r);throw gZ}},uN=e=>{var t,r;const n=e;if(!vP(n.type)){let e;switch(n.type){case"0x0":e=oN;break;case"0x1":e=aN;break;case"0x2":e=cN;break;default:return MT({format:"uint"},n.type,Jw)}return lN(e,n,n.type),MT({format:"uint"},n.type,Jw)}if(!vP(n.maxFeePerGas)||!vP(n.maxPriorityFeePerGas))return lN(cN,n,"0x2"),"0x2";if(!vP(n.accessList))return lN(aN,n,"0x1"),"0x1";const i=null!==(t=n.hardfork)&&void 0!==t?t:null===(r=n.common)||void 0===r?void 0:r.hardfork;if(!vP(i)){const e=Object.keys(eA).indexOf(i);if(e>=Object.keys(eA).indexOf("london"))return vP(n.gasPrice)?"0x2":"0x0";if(e===Object.keys(eA).indexOf("berlin"))return"0x0"}return vP(n.gasPrice)?void 0:(lN(oN,n,"0x0"),"0x0")},dN=(e,t)=>{var r;return(null!==(r=null===t||void 0===t?void 0:t.transactionTypeParser)&&void 0!==r?r:uN)(e)},hN={type:"array",items:Object.assign({},{type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}})},fN={type:"object",properties:{accessList:Object.assign({},hN),gasUsed:{type:"string"}}},pN={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},mN={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},gN={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},hN),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},pN),hardfork:Object.assign({},mN),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},{type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}}),baseChain:Object.assign({},pN),hardfork:Object.assign({},mN)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},yN={type:"object",properties:Object.assign(Object.assign({},gN.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},hN),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},bN={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},vN={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},yN)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},bN)},withdrawalsRoot:{format:"bytes32"}}},wN={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},bN)},withdrawalsRoot:{format:"bytes32"}}},AN={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},_N={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},EN={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},AN)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},xN={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},kN={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},SN={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},{type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}})}}};function PN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yw,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{transactionSchema:yN,fillInputAndData:!1};var n,i;let s=_T({},e);if(vP(null===e||void 0===e?void 0:e.common)||(s.common=Object.assign({},e.common),vP(null===(n=e.common)||void 0===n?void 0:n.customChain)||(s.common.customChain=Object.assign({},e.common.customChain))),s=MT(null!==(i=r.transactionSchema)&&void 0!==i?i:yN,s,t),!vP(s.data)&&!vP(s.input)&&JP(s.data)!==JP(s.input))throw new L_({data:LP(s.data),input:LP(s.input)});return r.fillInputAndData&&(vP(s.data)?vP(s.input)||(s.data=s.input):s.input=s.data),vP(s.gasLimit)||(s.gas=s.gasLimit,delete s.gasLimit),s}var TN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function IN(e,t){return TN(this,void 0,void 0,(function*(){const r=yield function(e){return iN(this,void 0,void 0,(function*(){return e.send({method:"net_version",params:[]})}))}(e.requestManager);return MT({format:"uint"},r,t)}))}function ON(e,t){return TN(this,void 0,void 0,(function*(){const r=yield function(e){return iN(this,void 0,void 0,(function*(){return e.send({method:"net_peerCount",params:[]})}))}(e.requestManager);return MT({format:"uint"},r,t)}))}const RN=e=>TN(void 0,void 0,void 0,(function*(){return function(e){return iN(this,void 0,void 0,(function*(){return e.send({method:"net_listening",params:[]})}))}(e.requestManager)}));var CN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class NN extends QC{getId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return CN(this,void 0,void 0,(function*(){return IN(this,e)}))}getPeerCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return CN(this,void 0,void 0,(function*(){return ON(this,e)}))}isListening(){return CN(this,void 0,void 0,(function*(){return RN(this)}))}}const LN="ALLEVENTS",MN={name:LN,signature:"",type:"event",inputs:[]},BN={bytes:Qw.HEX,number:Kw.NUMBER};var DN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function jN(e,t,r){return DN(this,void 0,void 0,(function*(){const n=HN(e,t);if(!vP(n)){if(n.startsWith("-"))throw new N_(n);if(Number(n)<0||Number(n)>127)throw new N_(n);if(vP(e.gasPrice)&&("0x0"===n||"0x1"===n))return{gasPrice:yield wM(t,r),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if("0x2"===n)return Object.assign({gasPrice:void 0},yield function(e,t,r){var n,i,s,o;return DN(this,void 0,void 0,(function*(){const a=yield SM(t,t.defaultBlock,!1,Jw);if(vP(a.baseFeePerGas))throw new C_;let c;if(vP(e.gasPrice)&&BigInt(a.baseFeePerGas)===BigInt(0)&&(c=yield wM(t,r)),!vP(e.gasPrice)||!vP(c)){const t=MT({format:"uint"},null!==(n=e.gasPrice)&&void 0!==n?n:c,r);return{maxPriorityFeePerGas:t,maxFeePerGas:t}}return{maxPriorityFeePerGas:MT({format:"uint"},null!==(i=e.maxPriorityFeePerGas)&&void 0!==i?i:t.defaultMaxPriorityFeePerGas,r),maxFeePerGas:MT({format:"uint"},null!==(s=e.maxFeePerGas)&&void 0!==s?s:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt(null!==(o=e.maxPriorityFeePerGas)&&void 0!==o?o:t.defaultMaxPriorityFeePerGas),r)}}))}(e,t,r))}}))}var UN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const FN=(e,t,r,n)=>{if(void 0!==r&&e in r&&void 0!==r[e]){if("string"===typeof r[e]&&lP(r[e]))return r[e];if(!US(r[e])&&fP(r[e])){if(t.wallet){const n=t.wallet.get(MT({format:"uint"},r[e],BN));if(!vP(n))return n.address;throw new z_}throw new z_}throw"from"===e?new h_(r.from):new f_(r.to)}if("from"===e){if(!vP(n))return zC(n);if(!vP(t.defaultAccount))return t.defaultAccount}},HN=(e,t)=>{const r=dN(e,t);return vP(r)?vP(t.defaultTransactionType)?void 0:MT({format:"uint"},t.defaultTransactionType,Jw):r};function zN(e){var t,r;return UN(this,void 0,void 0,(function*(){let n=MT(gN,e.transaction,e.web3Context.defaultReturnFormat);if(vP(n.from)&&(n.from=FN("from",e.web3Context,void 0,e.privateKey)),vP(n.nonce)&&(n.nonce=yield function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultReturnFormat;return UN(void 0,void 0,void 0,(function*(){if(vP(t))throw new R_;return LM(e,t,e.defaultBlock,r)}))}(e.web3Context,n.from,Jw)),vP(n.value)&&(n.value="0x0"),vP(n.data))vP(n.input)?n.input="0x":n.input.startsWith("0x")||(n.input=`0x${n.input}`);else{if(!vP(n.input)&&n.data!==n.input)throw new L_({data:LP(n.data),input:LP(n.input)});n.data.startsWith("0x")||(n.data=`0x${n.data}`)}if(vP(n.common)){if(e.web3Context.defaultCommon){const t=e.web3Context.defaultCommon,r=t.customChain.chainId,i=t.customChain.networkId,s=t.customChain.name;n.common=Object.assign(Object.assign({},t),{customChain:{chainId:r,networkId:i,name:s}})}vP(n.chain)&&(n.chain=e.web3Context.defaultChain),vP(n.hardfork)&&(n.hardfork=e.web3Context.defaultHardfork)}if(vP(n.chainId)&&vP(null===(t=n.common)||void 0===t?void 0:t.customChain.chainId)&&(n.chainId=yield HM(e.web3Context,Jw)),vP(n.networkId)&&(n.networkId=null!==(r=e.web3Context.defaultNetworkId)&&void 0!==r?r:yield IN(e.web3Context,Jw)),vP(n.gasLimit)&&!vP(n.gas)&&(n.gasLimit=n.gas),n.type=HN(n,e.web3Context),!vP(n.accessList)||"0x1"!==n.type&&"0x2"!==n.type||(n.accessList=[]),e.fillGasPrice&&(n=Object.assign(Object.assign({},n),yield jN(n,e.web3Context,Jw))),vP(n.gas)&&vP(n.gasLimit)&&e.fillGasLimit){const t=yield UM(e.web3Context,n,"latest",Jw);n=Object.assign(Object.assign({},n),{gas:MT({format:"uint"},t,Jw)})}return n}))}var GN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function qN(e,t,r){const n=e.transactionPollingInterval,[i,s]=rI((()=>GN(this,void 0,void 0,(function*(){let n;try{n=yield _M(e,BN)}catch(gZ){return void console.warn("An error happen while trying to get the block number",gZ)}const i=n-t;if(i>=e.transactionBlockTimeout)return new j_({starterBlockNumber:t,numberOfBlocks:i,transactionHash:r})}))),n);return[s,{clean:()=>{clearInterval(i)}}]}function WN(e,t){var r,n;return GN(this,void 0,void 0,(function*(){const{provider:i}=e.requestManager;let s;const o=yield _M(e,BN);return s=(null===(n=(r=i).supportsSubscriptions)||void 0===n?void 0:n.call(r))&&e.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?yield function(e,t,r){var n;return GN(this,void 0,void 0,(function*(){let i,s,o=!0;function a(n,i){i&&console.warn("error happened at subscription. So revert to polling...",i),s.clean(),o=!1;const[a,c]=qN(e,t,r);s.clean=c.clean,a.catch((e=>n(e)))}try{i=yield null===(n=e.subscriptionManager)||void 0===n?void 0:n.subscribe("newHeads"),s={clean:()=>{var t;i.id&&(null===(t=e.subscriptionManager)||void 0===t||t.removeSubscription(i).then((()=>{})).catch((()=>{})))}}}catch(gZ){return qN(e,t,r)}return[new Promise(((n,s)=>{try{i.on("data",(n=>{if(o=!1,!(null===n||void 0===n?void 0:n.number))return;const i=Number(BigInt(n.number)-BigInt(t));i>=e.transactionBlockTimeout&&s(new j_({starterBlockNumber:t,numberOfBlocks:i,transactionHash:r}))})),i.on("error",(e=>{a(s,e)}))}catch(gZ){a(s,gZ)}setTimeout((()=>{o&&a(s)}),1e3*e.blockHeaderTimeout)})),s]}))}(e,o,t):qN(e,o,t),s}))}var $N=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function KN(e,t,r){return $N(this,void 0,void 0,(function*(){const[n,i]=tI(e.transactionSendTimeout,new M_({numberOfSeconds:e.transactionSendTimeout/1e3,transactionHash:r})),[s,o]=yield WN(e,r);try{return yield Promise.race([t(),i,s])}finally{clearTimeout(n),o.clean()}}))}var VN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function QN(e,t,r,n){var i;return VN(this,void 0,void 0,(function*(){const s=null!==(i=e.transactionReceiptPollingInterval)&&void 0!==i?i:e.transactionPollingInterval,[o,a]=XT((()=>VN(this,void 0,void 0,(function*(){try{return(null!==n&&void 0!==n?n:NM)(e,t,r)}catch(gZ){return void console.warn("An error happen while trying to get the transaction receipt",gZ)}}))),s),[c,l]=tI(e.transactionPollingTimeout,new D_({numberOfSeconds:e.transactionPollingTimeout/1e3,transactionHash:t})),[u,d]=yield WN(e,t);try{return yield Promise.race([o,l,u])}finally{c&&clearTimeout(c),a&&clearInterval(a),d.clean()}}))}var ZN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const YN=e=>{let{web3Context:t,transactionReceipt:r,transactionPromiEvent:n,customTransactionReceiptSchema:i,returnFormat:s}=e;var o;let a=1;const c=setInterval((()=>{ZN(void 0,void 0,void 0,(function*(){if(a>=t.transactionConfirmationBlocks)return void clearInterval(c);const e=yield nN(t.requestManager,jP(BigInt(r.blockNumber)+BigInt(a)),!1);(null===e||void 0===e?void 0:e.hash)&&(a+=1,n.emit("confirmation",{confirmations:MT({format:"uint"},a,s),receipt:MT(null!==i&&void 0!==i?i:EN,r,s),latestBlockHash:MT({format:"bytes32"},e.hash,s)}))}))}),null!==(o=t.transactionReceiptPollingInterval)&&void 0!==o?o:t.transactionPollingInterval)};var JN=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function XN(e,t,r,n,i,s){if(vP(r)||vP(r.blockHash))throw new U_({receipt:r,blockHash:MT({format:"bytes32"},null===r||void 0===r?void 0:r.blockHash,i),transactionHash:MT({format:"bytes32"},n,i)});if(!r.blockNumber)throw new F_({receipt:r});t.emit("confirmation",{confirmations:MT({format:"uint"},1,i),receipt:MT(null!==s&&void 0!==s?s:EN,r,i),latestBlockHash:MT({format:"bytes32"},r.blockHash,i)});const o=e.requestManager.provider;o&&"supportsSubscriptions"in o&&o.supportsSubscriptions()?(e=>{let t,{web3Context:r,transactionReceipt:n,transactionPromiEvent:i,customTransactionReceiptSchema:s,returnFormat:o}=e,a=!0;setImmediate((()=>{var e;null===(e=r.subscriptionManager)||void 0===e||e.subscribe("newHeads").then((e=>{e.on("data",(c=>JN(void 0,void 0,void 0,(function*(){var l;if(a=!1,!(null===c||void 0===c?void 0:c.number)||t===(null===c||void 0===c?void 0:c.parentHash))return;t=null===c||void 0===c?void 0:c.parentHash;const u=BigInt(c.number)-BigInt(n.blockNumber)+BigInt(1);i.emit("confirmation",{confirmations:MT({format:"uint"},u,o),receipt:MT(null!==s&&void 0!==s?s:EN,n,o),latestBlockHash:MT({format:"bytes32"},c.parentHash,o)}),u>=r.transactionConfirmationBlocks&&(yield null===(l=r.subscriptionManager)||void 0===l?void 0:l.removeSubscription(e))})))),e.on("error",(()=>JN(void 0,void 0,void 0,(function*(){var t;yield null===(t=r.subscriptionManager)||void 0===t?void 0:t.removeSubscription(e),a=!1,YN({web3Context:r,transactionReceipt:n,transactionPromiEvent:i,customTransactionReceiptSchema:s,returnFormat:o})}))))})).catch((()=>{a=!1,YN({web3Context:r,transactionReceipt:n,customTransactionReceiptSchema:s,transactionPromiEvent:i,returnFormat:o})}))})),setTimeout((()=>{a&&YN({web3Context:r,transactionReceipt:n,transactionPromiEvent:i,returnFormat:o})}),1e3*r.blockHeaderTimeout)})({web3Context:e,transactionReceipt:r,transactionPromiEvent:t,customTransactionReceiptSchema:s,returnFormat:i}):YN({web3Context:e,transactionReceipt:r,transactionPromiEvent:t,customTransactionReceiptSchema:s,returnFormat:i})}const eL=e=>!wT(e)&&"object"===typeof e&&!wT(e.type)&&"error"===e.type,tL=e=>!wT(e)&&"object"===typeof e&&!wT(e.type)&&"event"===e.type,rL=e=>!wT(e)&&"object"===typeof e&&!wT(e.type)&&"function"===e.type,nL=e=>"object"===typeof e&&"undefined"===typeof e.components&&"undefined"===typeof e.name,iL=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},sL=e=>{const t=[];for(const r of Object.keys(e)){const n=e[r];"object"===typeof n?t.push(Object.assign(Object.assign({},iL(r)),{components:sL(n)})):t.push({name:r,type:e[r]})}return t},oL=(e,t)=>{const r=[];return t.forEach((t=>{if("object"===typeof t.components){if(!t.type.startsWith("tuple"))throw new XA(`Invalid value given "${t.type}". Error: components found but type is not tuple.`);const n=t.type.indexOf("["),i=n>=0?t.type.substring(n):"",s=oL(e,t.components);Array.isArray(s)&&e?r.push(`tuple(${s.join(",")})${i}`):e?r.push(`(${s.join()})`):r.push(`(${s.join(",")})${i}`)}else r.push(t.type)})),r},aL=e=>{var t,r,n,i;return eL(e)||tL(e)||rL(e)?(null===(t=e.name)||void 0===t?void 0:t.includes("("))?e.name:`${null!==(r=e.name)&&void 0!==r?r:""}(${oL(!1,null!==(n=e.inputs)&&void 0!==n?n:[]).join(",")})`:`(${oL(!1,null!==(i=e.inputs)&&void 0!==i?i:[]).join(",")})`},cL=e=>{if("string"!==typeof e&&!tL(e))throw new XA("Invalid parameter value in encodeEventSignature");let t;return t=!e||"function"!==typeof e&&"object"!==typeof e?e:aL(e),UT(t)};function lL(e,t){const r=e.exec(t);return r?.groups}var uL=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,dL=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,hL=/^\(.+?\).*?$/,fL=Object.defineProperty,pL=(e,t,r)=>(((e,t,r)=>{t in e?fL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!==typeof t?t+"":t,r),r),mL=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.cause instanceof mL?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof mL&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@0.7.1"].join("\n")),pL(this,"details"),pL(this,"docsPath"),pL(this,"metaMessages"),pL(this,"shortMessage"),pL(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}};var gL=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function yL(e){return gL.test(e)}function bL(e){return lL(gL,e)}var vL=new Set(["memory","indexed","storage","calldata"]),wL=new Set(["calldata","memory","storage"]);var AL=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var _L=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,EL=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,xL=/^u?int$/;function kL(e,t){const r=function(e,t){return t?`${t}:${e}`:e}(e,t?.type);if(AL.has(r))return AL.get(r);const n=hL.test(e),i=lL(n?EL:_L,e);if(!i)throw new mL("Invalid ABI parameter.",{details:e});if(i.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||uL.test(e)||dL.test(e)||TL.test(e)}(i.name))throw new mL("Invalid ABI parameter.",{details:e,metaMessages:[`"${i.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const s=i.name?{name:i.name}:{},o="indexed"===i.modifier?{indexed:!0}:{},a=t?.structs??{};let c,l={};if(n){c="tuple";const e=SL(i.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(kL(e[n],{structs:a}));l={components:t}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(xL.test(i.type))c=`${i.type}256`;else if(c=i.type,"struct"!==t?.type&&!PL(c))throw new mL("Unknown type.",{metaMessages:[`Type "${c}" is not a valid ABI type.`]});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new mL("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`]});if(wL.has(i.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(c,!!i.array))throw new mL("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${i.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${i.modifier}" was given.`]})}const u={type:`${c}${i.array??""}`,...s,...o,...l};return AL.set(r,u),u}function SL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(""===e){if(""===r)return t;if(0!==n)throw new mL("Unbalanced parentheses.",{metaMessages:[`"${r.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`});return[...t,r.trim()]}const i=e.length;for(let s=0;s<i;s++){const i=e[s],o=e.slice(s+1);switch(i){case",":return 0===n?SL(o,[...t,r.trim()]):SL(o,t,`${r}${i}`,n);case"(":return SL(o,t,`${r}${i}`,n+1);case")":return SL(o,t,`${r}${i}`,n-1);default:return SL(o,t,`${r}${i}`,n)}}return[]}function PL(e){return"address"===e||"bool"===e||"function"===e||"string"===e||uL.test(e)||dL.test(e)}var TL=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function IL(e){const t={},r=e.length;for(let o=0;o<r;o++){const r=e[o];if(!yL(r))continue;const n=bL(r);if(!n)throw new mL("Invalid struct signature.",{details:r});const i=n.properties.split(";"),s=[],a=i.length;for(let e=0;e<a;e++){const t=i[e].trim();if(!t)continue;const r=kL(t,{type:"struct"});s.push(r)}if(!s.length)throw new mL("Invalid struct signature.",{details:r,metaMessages:["No properties exist."]});t[n.name]=s}const n={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[e,r]=i[o];n[e]=RL(r,t)}return n}var OL=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function RL(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const n=[],i=e.length;for(let s=0;s<i;s++){const i=e[s];if(hL.test(i.type))n.push(i);else{const e=lL(OL,i.type);if(!e?.type)throw new mL("Invalid ABI parameter.",{details:JSON.stringify(i,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:s,type:o}=e;if(o in t){if(r.has(o))throw new mL("Circular reference detected.",{metaMessages:[`Struct "${o}" is a circular reference.`]});n.push({...i,type:`tuple${s??""}`,components:RL(t[o]??[],t,new Set([...r,o]))})}else{if(!PL(o))throw new mL("Unknown type.",{metaMessages:[`Type "${o}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]});n.push(i)}}}return n}const CL=32;function NL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t;if(void 0!==(null===(t=globalThis.Buffer)||void 0===t?void 0:t.alloc)){const t=globalThis.Buffer.alloc(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return new Uint8Array(e)}function LL(e){var t,r;return Object.assign(Object.assign({},e),{name:null!==(t=e.name)&&void 0!==t?t:"",components:null===(r=e.components)||void 0===r?void 0:r.map((e=>LL(e)))})}function ML(e){return e.map((e=>{var t,r;if(!wT(r=e)&&"object"===typeof r&&!wT(r.type)&&"string"===typeof r.type)return e;if("string"===typeof e)return LL(function(e){let t;if("string"===typeof e)t=kL(e,{modifiers:vL});else{const r=IL(e),n=e.length;for(let i=0;i<n;i++){const n=e[i];if(!yL(n)){t=kL(n,{modifiers:vL,structs:r});break}}}if(!t)throw new mL("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t}(e.replace(/tuple/,"")));if(nL(e)){const r=Object.keys(e)[0],n=iL(r);return n.name=null!==(t=n.name)&&void 0!==t?t:"",Object.assign(Object.assign({},n),{components:sL(e[r])})}throw new XA("Invalid abi")}))}function BL(e){const t=e.type.lastIndexOf("["),r=e.type.substring(0,t),n=e.type.substring(t);let i=-1;if("[]"!==n&&(i=Number(n.slice(1,-1)),isNaN(i)))throw new XA("Invalid fixed array size",{size:n});return{param:{type:r,name:"",components:e.components},size:i}}function DL(e){var t,r;return!("string"!==e.type&&"bytes"!==e.type&&!e.type.endsWith("[]"))||("tuple"===e.type?null!==(r=null===(t=e.components)||void 0===t?void 0:t.some(DL))&&void 0!==r&&r:!!e.type.endsWith("]")&&DL(BL(e).param))}const jL=new Map;let UL=BigInt(256);for(let r=8;r<=256;r+=8)jL.set(`uint${r}`,{min:BigInt(0),max:UL-BigInt(1)}),jL.set(`int${r}`,{min:-UL/BigInt(2),max:UL/BigInt(2)-BigInt(1)}),UL*=BigInt(256);jL.set("int",jL.get("int256")),jL.set("uint",jL.get("uint256"));const FL=BigInt(1)<<BigInt(256);function HL(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CL;return t=e<0?(FL+e).toString(16):e.toString(16),t=ET(t,2*r),iP(t)}function zL(e,t){let r;try{r=eT(t)}catch(bZ){throw new XA("provided input is not number value",{type:e.type,value:t,name:e.name})}const n=jL.get(e.type);if(!n)throw new XA("provided abi contains invalid number datatype",{type:e.type});if(r<n.min)throw new XA("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:n.min.toString()});if(r>n.max)throw new XA("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:n.max.toString()});return{dynamic:!1,encoded:HL(r)}}function GL(e,t){if(t.length<CL)throw new XA("Not enough bytes left to decode",{param:e,bytesLeft:t.length});const r=t.subarray(0,CL),n=jL.get(e.type);if(!n)throw new XA("provided abi contains invalid number datatype",{type:e.type});const i=function(e,t){const r=tP(e),n=BigInt(r);return n<=t?n:n-FL}(r,n.max);if(i<n.min)throw new XA("decoded value is less then minimum for given type",{type:e.type,value:i,name:e.name,minimum:n.min.toString()});if(i>n.max)throw new XA("decoded value is greater then maximum for given type",{type:e.type,value:i,name:e.name,maximum:n.max.toString()});return{result:i,encoded:t.subarray(CL),consumed:CL}}function qL(e,t){if("string"===typeof t&&t.length%2!==0&&(t+="0"),!aP(t))throw new XA("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});const r=CP(t),[,n]=e.type.split("bytes");if(n){if(Number(n)>32||Number(n)<1)throw new XA("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(n)<r.length)throw new XA("provided input size is different than type size",{type:e.type,value:t,name:e.name});const i=NL(CL);return i.set(r),{dynamic:!1,encoded:i}}const i=Math.ceil(r.length/CL),s=NL(CL+i*CL);return s.set(zL({type:"uint32",name:""},r.length).encoded),s.set(r,CL),{dynamic:!0,encoded:s}}function WL(e,t){const[,r]=e.type.split("bytes");let n=Number(r),i=t,s=1,o=0;if(!n){const e=GL({type:"uint32",name:""},i);n=Number(e.result),o+=e.consumed,i=e.encoded,s=Math.ceil(n/CL)}if(n>t.length)throw new XA("there is not enough data to decode",{type:e.type,encoded:t,size:n});return{result:LP(i.subarray(0,n)),encoded:i.subarray(s*CL),consumed:o+s*CL}}function $L(e){let t=0,r=0;const n=[],i=[];for(const s of e)s.dynamic?t+=CL:t+=s.encoded.length;for(const s of e)s.dynamic?(n.push(zL({type:"uint256",name:""},t+r)),i.push(s),r+=s.encoded.length):n.push(s);return TP(...n.map((e=>e.encoded)),...i.map((e=>e.encoded)))}function KL(e,t){if("string"===e.type)return function(e,t){if("string"!==typeof t)throw new XA("invalid input, should be string",{input:t});return qL({type:"bytes",name:""},$P(t))}(0,t);if("bool"===e.type)return function(e,t){let r;try{r=iT(t)}catch(bZ){if(bZ instanceof J_)throw new XA("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return zL({type:"uint8",name:""},Number(r))}(e,t);if("address"===e.type)return function(e,t){if("string"!==typeof t)throw new XA("address type expects string as input type",{value:t,name:e.name,type:e.type});let r=t.toLowerCase();if(r.startsWith("0x")||(r=`0x${r}`),!lP(r))throw new XA("provided input is not valid address",{value:t,name:e.name,type:e.type});const n=iP(r),i=NL(CL);return i.set(n,12),{dynamic:!1,encoded:i}}(e,t);if("tuple"===e.type)return QL(e,t);if(e.type.endsWith("]"))return function(e,t){if(!Array.isArray(t))throw new XA("Expected value to be array",{abi:e,values:t});const{size:r,param:n}=BL(e),i=t.map((e=>KL(n,e))),s=-1===r,o=i.length>0&&i[0].dynamic;if(!s&&t.length!==r)throw new XA("Given arguments count doesn't match array length",{arrayLength:r,argumentsLength:t.length});if(s||o){const e=$L(i);if(s){const t=zL({type:"uint256",name:""},i.length).encoded;return{dynamic:!0,encoded:i.length>0?TP(t,e):t}}return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:TP(...i.map((e=>e.encoded)))}}(e,t);if(e.type.startsWith("bytes"))return qL(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return zL(e,t);throw new XA("Unsupported",{param:e,value:t})}function VL(e,t){if("string"===e.type)return function(e,t){const r=WL({type:"bytes",name:""},t);return{result:qP(r.result),encoded:r.encoded,consumed:r.consumed}}(0,t);if("bool"===e.type)return function(e,t){const r=GL({type:"uint8",name:""},t);if(r.result>1||r.result<0)throw new XA("Invalid boolean value encoded",{boolBytes:t.subarray(0,CL),numberResult:r});return{result:r.result===BigInt(1),encoded:r.encoded,consumed:CL}}(0,t);if("address"===e.type)return function(e,t){const r=t.subarray(12,CL);if(20!==r.length)throw new XA("Invalid decoding input, not enough bytes to decode address",{bytes:t});const n=tP(r);return{result:nT(n),encoded:t.subarray(CL),consumed:CL}}(0,t);if("tuple"===e.type)return ZL(e,t);if(e.type.endsWith("]"))return function(e,t){let{size:r,param:n}=BL(e),i=0;const s=[];let o=t;if(-1===r){const e=GL({type:"uint32",name:""},t);r=Number(e.result),i=e.consumed,o=e.encoded}if(DL(n)){for(let e=0;e<r;e+=1){const t=GL({type:"uint32",name:""},o.subarray(e*CL));i+=t.consumed;const r=VL(n,o.subarray(Number(t.result)));i+=r.consumed,s.push(r.result)}return{result:s,encoded:o.subarray(i),consumed:i}}for(let a=0;a<r;a+=1){const e=VL(n,t.subarray(i));i+=e.consumed,s.push(e.result)}return{result:s,encoded:t.subarray(i),consumed:i}}(e,t);if(e.type.startsWith("bytes"))return WL(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return GL(e,t);throw new XA("Unsupported",{param:e,bytes:t})}function QL(e,t){var r,n,i;let s=!1;if(!Array.isArray(t)&&"object"!==typeof t)throw new XA("param must be either Array or Object",{param:e,input:t});const o=t,a=[];for(let c=0;c<(null!==(n=null===(r=e.components)||void 0===r?void 0:r.length)&&void 0!==n?n:0);c+=1){const r=e.components[c];let n;if(Array.isArray(o)){if(c>=o.length)throw new XA("input param length missmatch",{param:e,input:t});n=KL(r,o[c])}else{const s=o[null!==(i=r.name)&&void 0!==i?i:""];if(void 0===s||null===s)throw new XA("missing input defined in abi",{param:e,input:t,paramName:r.name});n=KL(r,s)}n.dynamic&&(s=!0),a.push(n)}return s?{dynamic:!0,encoded:$L(a)}:{dynamic:!1,encoded:TP(...a.map((e=>e.encoded)))}}function ZL(e,t){const r={__length__:0};let n=0;if(!e.components)return{result:r,encoded:t,consumed:n};let i=0;for(const[s,o]of e.components.entries()){let e;if(DL(o)){const r=GL({type:"uint32",name:""},t.subarray(n));e=VL(o,t.subarray(Number(r.result))),n+=r.consumed,i+=e.consumed}else e=VL(o,t.subarray(n)),n+=e.consumed;r.__length__+=1,r[s]=e.result,o.name&&""!==o.name&&(r[o.name]=e.result)}return{encoded:t.subarray(n+i),result:r,consumed:n+i}}function YL(e){const t=[];return e.forEach((e=>{if(Array.isArray(e)){const r=YL(e);t.push({type:"tuple",components:r,name:""})}else t.push({type:JP(e,!0)})})),t}function JL(e,t){if((null===e||void 0===e?void 0:e.length)!==t.length)throw new XA("Invalid number of values received for given ABI",{expected:null===e||void 0===e?void 0:e.length,received:t.length});return tP(QL({type:"tuple",name:"",components:ML(e)},t).encoded)}function XL(e){try{return tP(QL({type:"tuple",name:"",components:YL(e)},e).encoded)}catch(bZ){throw new XA("Could not infer types from given params",{params:e})}}const eM=(e,t)=>JL([e],[t]),tM=(e,t,r)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new XA("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return function(e,t){return ZL({type:"tuple",name:"",components:ML(e)},iP(t)).result}(e,`0x${t.replace(/0x/i,"")}`)}catch(yZ){throw new XA(`Parameter decoding error: ${yZ.message}`,{internalErr:yZ})}},rM=(e,t)=>tM(e,t),nM=(e,t)=>rM([e],t)[0],iM=e=>{if("string"!==typeof e&&!rL(e))throw new XA("Invalid parameter value in encodeFunctionSignature");let t;return t=!e||"function"!==typeof e&&"object"!==typeof e?e:aL(e),UT(t).slice(0,10)},sM=function(e,t){const r=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&t&&t.length>=10&&t.startsWith("0x")?t.slice(10):t;if(!e.inputs)throw new HA("No inputs found in the ABI");const n=rM([...e.inputs],r);return Object.assign(Object.assign({},n),{__method__:aL(e)})},oM=["bool","string","int","uint","address","fixed","ufixed"],aM=(e,t,r)=>{const n=Array.isArray(r)?r:[r],i={},s={};for(const[h,f]of e.entries())f.indexed?i[h]=f:s[h]=f;const o=t?tM(Object.values(s),t):{__length__:0},a=n.length-Object.keys(i).length,c=Object.values(i).map(((e,t)=>{return oM.some((t=>e.type.startsWith(t)))?(r=e.type,i=n[t+a],"string"===r?i:nM(r,i)):n[t+a];var r,i})),l={__length__:0};let u=0,d=0;for(const[h,f]of e.entries())l[h]="string"===f.type?"":void 0,i[h]&&(l[h]=c[u],u+=1),s[h]&&(l[h]=o[String(d)],d+=1),f.name&&(l[f.name]=l[h]),l.__length__+=1;return l},cM=(e,t)=>{if(null===t||void 0===t?void 0:t.data){let r,n,i;try{const s=t.data.slice(0,10),o=e.find((e=>(e=>{if("string"!==typeof e&&!eL(e))throw new XA("Invalid parameter value in encodeErrorSignature");let t;return t=!e||"function"!==typeof e&&"object"!==typeof e?e:aL(e),UT(t)})(e).startsWith(s)));(null===o||void 0===o?void 0:o.inputs)?(r=o.name,n=aL(o),i=rM([...o.inputs],t.data.substring(10))):t.data.startsWith("0x08c379a0")?(r="Error",n="Error(string)",i=rM([{name:"message",type:"string"}],t.data.substring(10))):t.data.startsWith("0x4e487b71")?(r="Panic",n="Panic(uint256)",i=rM([{name:"code",type:"uint256"}],t.data.substring(10))):console.error("No matching error abi found for error data",t.data)}catch(yZ){console.error(yZ)}r&&t.setDecodedProperties(r,n,i)}};var lM=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const uM=(e,t)=>{var r,n,i,s,o;if(e instanceof qA&&e.cause instanceof GA){if(void 0!==t){const i=t.filter((e=>eL(e)));return cM(i,e.cause),{reason:e.cause.message,signature:null===(r=e.cause.data)||void 0===r?void 0:r.slice(0,10),data:null===(n=e.cause.data)||void 0===n?void 0:n.substring(10),customErrorName:e.cause.errorName,customErrorDecodedSignature:e.cause.errorSignature,customErrorArguments:e.cause.errorArgs}}return{reason:e.cause.message,signature:null===(i=e.cause.data)||void 0===i?void 0:i.slice(0,10),data:null===(s=e.cause.data)||void 0===s?void 0:s.substring(10)}}if(e instanceof sE&&!Array.isArray(null===(o=e.cause)||void 0===o?void 0:o.errors)&&void 0!==e.cause)return e.cause.message;throw e};function dM(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultReturnFormat;return lM(this,void 0,void 0,(function*(){try{return void(yield jM(e,t,e.defaultBlock,n))}catch(gZ){return uM(gZ,r)}}))}var hM=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function fM(e,t,r,n,i,s){return hM(this,void 0,void 0,(function*(){let o,a=s;if(void 0===a&&(void 0!==n?a=uM(n):e.handleRevert&&void 0!==t&&(a=yield dM(e,t,i))),void 0===a)o=new l_(r);else if("string"===typeof a)o=new a_(a,void 0,r);else if(void 0!==a.customErrorName&&void 0!==a.customErrorDecodedSignature&&void 0!==a.customErrorArguments){const e=a;o=new c_(e.reason,e.customErrorName,e.customErrorDecodedSignature,e.customErrorArguments,e.signature,r,e.data)}else o=new a_(a.reason,a.signature,r,a.data);return o}))}const pM=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yw;var i,s,o,a,c;let l=Object.assign({},e);const u=MT(AN,t,n);if([LN,"allEvents"].includes(l.name)){const e=r.find((e=>e.signature===t.topics[0]));l=e||{anonymous:!0}}if(l.inputs=null!==(s=null!==(i=l.inputs)&&void 0!==i?i:e.inputs)&&void 0!==s?s:[],!l.anonymous){let e=0;(null!==(o=l.inputs)&&void 0!==o?o:[]).forEach((t=>{t.indexed&&(e+=1)})),e>0&&(null===t||void 0===t?void 0:t.topics)&&(null===t||void 0===t?void 0:t.topics.length)!==e+1&&(l=Object.assign(Object.assign({},l),{anonymous:!0,inputs:[]}))}const d=l.anonymous?t.topics:(null!==(a=t.topics)&&void 0!==a?a:[]).slice(1);return Object.assign(Object.assign({},u),{returnValues:aM([...null!==(c=l.inputs)&&void 0!==c?c:[]],t.data,d),event:l.name,signature:!l.anonymous&&t.topics&&0!==t.topics.length&&t.topics[0]?t.topics[0]:void 0,raw:{data:t.data,topics:t.topics}})};var mM=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class gM{constructor(e){let{options:t,web3Context:r,promiEvent:n,returnFormat:i}=e;this.options={checkRevertBeforeSending:!0},this.options=t,this.web3Context=r,this.promiEvent=n,this.returnFormat=i}getReceiptWithEvents(e){var t,r;const n=Object.assign({},null!==e&&void 0!==e?e:{});if((null===(t=this.options)||void 0===t?void 0:t.contractAbi)&&n.logs&&n.logs.length>0){n.events={};for(const e of n.logs){const t=pM(MN,e,null===(r=this.options)||void 0===r?void 0:r.contractAbi,this.returnFormat);t.event&&(n.events[t.event]=t)}}return n}checkRevertBeforeSending(e){return mM(this,void 0,void 0,(function*(){if(!1!==this.options.checkRevertBeforeSending){let t=e;vP(e.data)&&vP(e.input)&&vP(e.gas)&&(t=Object.assign(Object.assign({},e),{gas:21e3}));const r=yield dM(this.web3Context,t,this.options.contractAbi);if(void 0!==r)throw yield fM(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}}))}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){let{transactionFormatted:t,transaction:r}=e;var n;return mM(this,void 0,void 0,(function*(){let e=t;return this.web3Context.config.ignoreGasPricing||(null===(n=this.options)||void 0===n?void 0:n.ignoreGasPricing)||!vP(t.gasPrice)||!vP(r.maxPriorityFeePerGas)&&!vP(r.maxFeePerGas)||(e=Object.assign(Object.assign({},t),yield jN(t,this.web3Context,Jw))),e}))}signAndSend(e){let{wallet:t,tx:r}=e;return mM(this,void 0,void 0,(function*(){if(t){const e=yield t.signTransaction(r);return KN(this.web3Context,(()=>mM(this,void 0,void 0,(function*(){return rN(this.web3Context.requestManager,e.rawTransaction)}))),e.transactionHash)}return KN(this.web3Context,(()=>mM(this,void 0,void 0,(function*(){return function(e,t){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_sendTransaction",params:[t]})}))}(this.web3Context.requestManager,r)}))))}))}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){let{error:t,tx:r}=e;var n;return mM(this,void 0,void 0,(function*(){let e=t;return e instanceof qA&&this.web3Context.handleRevert&&(e=yield fM(this.web3Context,r,void 0,void 0,null===(n=this.options)||void 0===n?void 0:n.contractAbi)),(e instanceof sE||e instanceof qA||e instanceof c_||e instanceof l_||e instanceof a_||e instanceof D_)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",e),e}))}emitConfirmation(e){let{receipt:t,transactionHash:r,customTransactionReceiptSchema:n}=e;this.promiEvent.listenerCount("confirmation")>0&&XN(this.web3Context,this.promiEvent,t,r,this.returnFormat,n)}handleResolve(e){let{receipt:t,tx:r}=e;var n,i,s;return mM(this,void 0,void 0,(function*(){if(null===(n=this.options)||void 0===n?void 0:n.transactionResolver)return null===(i=this.options)||void 0===i?void 0:i.transactionResolver(t);if(t.status===BigInt(0)){const e=yield fM(this.web3Context,r,t,void 0,null===(s=this.options)||void 0===s?void 0:s.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",e),e}return t}))}}var yM=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},bM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function vM(e,t){return yM(this,void 0,void 0,(function*(){const r=yield function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_hashrate",params:[]})}))}(e.requestManager);return MT({format:"uint"},r,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function wM(e,t){return yM(this,void 0,void 0,(function*(){const r=yield function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_gasPrice",params:[]})}))}(e.requestManager);return MT({format:"uint"},r,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function AM(e,t){return yM(this,void 0,void 0,(function*(){const r=yield function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_maxPriorityFeePerGas",params:[]})}))}(e.requestManager);return MT({format:"uint"},r,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function _M(e,t){return yM(this,void 0,void 0,(function*(){const r=yield function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_blockNumber",params:[]})}))}(e.requestManager);return MT({format:"uint"},r,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function EM(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return yM(this,void 0,void 0,(function*(){const i=mP(r)?r:MT({format:"uint"},r,Jw),s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getBalance",params:[t,r]})}))}(e.requestManager,t,i);return MT({format:"uint"},s,null!==n&&void 0!==n?n:e.defaultReturnFormat)}))}function xM(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultBlock,i=arguments.length>4?arguments[4]:void 0;return yM(this,void 0,void 0,(function*(){const s=MT({format:"uint"},r,Jw),o=mP(n)?n:MT({format:"uint"},n,Jw),a=yield function(e,t,r,n){return eN(this,void 0,void 0,(function*(){return SP.validate(["address","hex","blockNumberOrTag"],[t,r,n]),e.send({method:"eth_getStorageAt",params:[t,r,n]})}))}(e.requestManager,t,s,o);return MT({format:"bytes"},a,null!==i&&void 0!==i?i:e.defaultReturnFormat)}))}function kM(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return yM(this,void 0,void 0,(function*(){const i=mP(r)?r:MT({format:"uint"},r,Jw),s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getCode",params:[t,r]})}))}(e.requestManager,t,i);return MT({format:"bytes"},s,null!==n&&void 0!==n?n:e.defaultReturnFormat)}))}function SM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;var i;return yM(this,void 0,void 0,(function*(){let s;if(aP(t)){const n=MT({format:"bytes32"},t,Jw);s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["bytes32","bool"],[t,r]),e.send({method:"eth_getBlockByHash",params:[t,r]})}))}(e.requestManager,n,r)}else{const n=mP(t)?t:MT({format:"uint"},t,Jw);s=yield nN(e.requestManager,n,r)}const o=MT(vN,s,null!==n&&void 0!==n?n:e.defaultReturnFormat);if(!vP(o)){return Object.assign(Object.assign({},o),{transactions:null!==(i=o.transactions)&&void 0!==i?i:[]})}return o}))}function PM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2?arguments[2]:void 0;return yM(this,void 0,void 0,(function*(){let n;if(aP(t)){const r=MT({format:"bytes32"},t,Jw);n=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["bytes32"],[t]),e.send({method:"eth_getBlockTransactionCountByHash",params:[t]})}))}(e.requestManager,r)}else{const r=mP(t)?t:MT({format:"uint"},t,Jw);n=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getBlockTransactionCountByNumber",params:[t]})}))}(e.requestManager,r)}return MT({format:"uint"},n,null!==r&&void 0!==r?r:e.defaultReturnFormat)}))}function TM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2?arguments[2]:void 0;return yM(this,void 0,void 0,(function*(){let n;if(aP(t)){const r=MT({format:"bytes32"},t,Jw);n=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["bytes32"],[t]),e.send({method:"eth_getUncleCountByBlockHash",params:[t]})}))}(e.requestManager,r)}else{const r=mP(t)?t:MT({format:"uint"},t,Jw);n=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getUncleCountByBlockNumber",params:[t]})}))}(e.requestManager,r)}return MT({format:"uint"},n,null!==r&&void 0!==r?r:e.defaultReturnFormat)}))}function IM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return yM(this,void 0,void 0,(function*(){const i=MT({format:"uint"},r,Jw);let s;if(aP(t)){const r=MT({format:"bytes32"},t,Jw);s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["bytes32","hex"],[t,r]),e.send({method:"eth_getUncleByBlockHashAndIndex",params:[t,r]})}))}(e.requestManager,r,i)}else{const r=mP(t)?t:MT({format:"uint"},t,Jw);s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["blockNumberOrTag","hex"],[t,r]),e.send({method:"eth_getUncleByBlockNumberAndIndex",params:[t,r]})}))}(e.requestManager,r,i)}return MT(vN,s,null!==n&&void 0!==n?n:e.defaultReturnFormat)}))}function OM(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultReturnFormat;return yM(this,void 0,void 0,(function*(){const n=MT({format:"bytes32"},t,Yw),i=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionByHash",params:[t]})}))}(e.requestManager,n);return vP(i)?i:PN(i,r,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})}))}function RM(e,t){return yM(this,void 0,void 0,(function*(){return(yield function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_pendingTransactions",params:[]})}))}(e.requestManager)).map((r=>PN(r,null!==t&&void 0!==t?t:e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})))}))}function CM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return yM(this,void 0,void 0,(function*(){const i=MT({format:"uint"},r,Jw);let s;if(aP(t)){const r=MT({format:"bytes32"},t,Jw);s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["bytes32","hex"],[t,r]),e.send({method:"eth_getTransactionByBlockHashAndIndex",params:[t,r]})}))}(e.requestManager,r,i)}else{const r=mP(t)?t:MT({format:"uint"},t,Jw);s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["blockNumberOrTag","hex"],[t,r]),e.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[t,r]})}))}(e.requestManager,r,i)}return vP(s)?s:PN(s,null!==n&&void 0!==n?n:e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})}))}function NM(e,t,r){return yM(this,void 0,void 0,(function*(){const n=MT({format:"bytes32"},t,Yw);let i;try{i=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionReceipt",params:[t]})}))}(e.requestManager,n)}catch(gZ){if("object"!==typeof gZ||vP(gZ)||!("message"in gZ)||"transaction indexing is in progress"!==gZ.message)throw gZ;console.warn("Transaction indexing is in progress.")}return vP(i)?i:MT(EN,i,null!==r&&void 0!==r?r:e.defaultReturnFormat)}))}function LM(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return yM(this,void 0,void 0,(function*(){const i=mP(r)?r:MT({format:"uint"},r,Jw),s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getTransactionCount",params:[t,r]})}))}(e.requestManager,t,i);return MT({format:"uint"},s,null!==n&&void 0!==n?n:e.defaultReturnFormat)}))}function MM(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{checkRevertBeforeSending:!0},i=arguments.length>4?arguments[4]:void 0;const s=new XC(((o,a)=>{setImmediate((()=>{(()=>{yM(this,void 0,void 0,(function*(){const c=new gM({web3Context:e,promiEvent:s,options:n,returnFormat:r});let l=Object.assign({},t);vP(i)||(l=yield i.processTransaction(l));let u=PN(Object.assign(Object.assign({},l),{from:FN("from",e,l),to:FN("to",e,l)}),Jw,{transactionSchema:e.config.customTransactionSchema});try{let t;u=yield c.populateGasPrice({transaction:l,transactionFormatted:u}),yield c.checkRevertBeforeSending(u),c.emitSending(u),e.wallet&&!vP(u.from)&&(t=e.wallet.get(u.from));const n=yield c.signAndSend({wallet:t,tx:u}),i=MT({format:"bytes32"},n,null!==r&&void 0!==r?r:e.defaultReturnFormat);c.emitSent(u),c.emitTransactionHash(i);const s=yield QN(e,n,null!==r&&void 0!==r?r:e.defaultReturnFormat),a=c.getReceiptWithEvents(MT(EN,s,null!==r&&void 0!==r?r:e.defaultReturnFormat));c.emitReceipt(a),o(yield c.handleResolve({receipt:a,tx:u})),c.emitConfirmation({receipt:a,transactionHash:n})}catch(gZ){a(yield c.handleError({error:gZ,tx:u}))}}))})()}))}));return s}function BM(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultReturnFormat;var i;return yM(this,void 0,void 0,(function*(){const s=MT({format:"bytes"},t,Yw);if(null===(i=e.wallet)||void 0===i?void 0:i.get(r)){const t=e.wallet.get(r).sign(s);return MT(xN,t,n)}if("number"===typeof r)throw new s_(t,'RPC method "eth_sign" does not support index signatures');const o=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["address","hex"],[t,r]),e.send({method:"eth_sign",params:[t,r]})}))}(e.requestManager,r,s);return MT({format:"bytes"},o,n)}))}function DM(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultReturnFormat;return yM(this,void 0,void 0,(function*(){const n=yield function(e,t){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_signTransaction",params:[t]})}))}(e.requestManager,PN(t,Jw,{transactionSchema:e.config.customTransactionSchema}));return jS(n)?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{fillInputAndData:!1};return{raw:MT({format:"bytes"},e,t),tx:PN(Object.assign(Object.assign({},LC.fromSerializedData(MP(e)).toJSON()),{hash:LP(DT(MP(e))),type:(n=MP(e),n[0]>127?"0x0":JP(n[0]))}),t,{fillInputAndData:r.fillInputAndData,transactionSchema:r.transactionSchema})};var n}(n,r,{fillInputAndData:!0}):{raw:MT({format:"bytes"},n.raw,r),tx:PN(n.tx,r,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})}}))}function jM(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultReturnFormat;return yM(this,void 0,void 0,(function*(){const i=mP(r)?r:MT({format:"uint"},r,Jw),s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_call",params:[t,r]})}))}(e.requestManager,PN(t,Jw,{transactionSchema:e.config.customTransactionSchema}),i);return MT({format:"bytes"},s,n)}))}function UM(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return yM(this,void 0,void 0,(function*(){const i=PN(t,Jw,{transactionSchema:e.config.customTransactionSchema}),s=mP(r)?r:MT({format:"uint"},r,Jw),o=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_estimateGas",params:[t,r]})}))}(e.requestManager,i,s);return MT({format:"uint"},o,null!==n&&void 0!==n?n:e.defaultReturnFormat)}))}function FM(e,t,r){return yM(this,void 0,void 0,(function*(){let{toBlock:n,fromBlock:i}=t;vP(n)||"number"!==typeof n&&"bigint"!==typeof n||(n=jP(n)),vP(i)||"number"!==typeof i&&"bigint"!==typeof i||(i=jP(i));const s=Object.assign(Object.assign({},t),{fromBlock:i,toBlock:n}),o=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["filter"],[t]),e.send({method:"eth_getLogs",params:[t]})}))}(e.requestManager,s);return o.map((t=>"string"===typeof t?t:MT(AN,t,null!==r&&void 0!==r?r:e.defaultReturnFormat)))}))}function HM(e,t){return yM(this,void 0,void 0,(function*(){const r=yield function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_chainId",params:[]})}))}(e.requestManager);return MT({format:"uint"},r,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function zM(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultBlock,i=arguments.length>4?arguments[4]:void 0;return yM(this,void 0,void 0,(function*(){const s=r.map((e=>MT({format:"bytes"},e,Jw))),o=mP(n)?n:MT({format:"uint"},n,Jw),a=yield function(e,t,r,n){return eN(this,void 0,void 0,(function*(){return SP.validate(["address","bytes32[]","blockNumberOrTag"],[t,r,n]),e.send({method:"eth_getProof",params:[t,r,n]})}))}(e.requestManager,t,s,o);return MT(SN,a,null!==i&&void 0!==i?i:e.defaultReturnFormat)}))}function GM(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return yM(this,void 0,void 0,(function*(){const s=MT({format:"uint"},t,Jw),o=mP(r)?r:MT({format:"uint"},r,Jw),a=MT({type:"array",items:{format:"uint"}},n,BN),c=yield function(e,t,r,n){return eN(this,void 0,void 0,(function*(){SP.validate(["hex","blockNumberOrTag"],[t,r]);for(const e of n)SP.validate(["number"],[e]);return e.send({method:"eth_feeHistory",params:[t,r,n]})}))}(e.requestManager,s,o,a);return MT(kN,c,null!==i&&void 0!==i?i:e.defaultReturnFormat)}))}function qM(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return yM(this,void 0,void 0,(function*(){const i=mP(r)?r:MT({format:"uint"},r,Jw),s=yield function(e,t,r){return eN(this,void 0,void 0,(function*(){return SP.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_createAccessList",params:[t,r]})}))}(e.requestManager,PN(t,Jw,{transactionSchema:e.config.customTransactionSchema}),i);return MT(fN,s,null!==n&&void 0!==n?n:e.defaultReturnFormat)}))}function WM(e,t,r,n,i){return yM(this,void 0,void 0,(function*(){const s=yield function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return eN(this,void 0,void 0,(function*(){return SP.validate(["address"],[t]),e.send({method:"eth_signTypedData"+(n?"":"_v4"),params:[t,r]})}))}(e.requestManager,t,r,n);return MT({format:"bytes"},s,null!==i&&void 0!==i?i:e.defaultReturnFormat)}))}var $M=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function KM(e,t){return $M(this,void 0,void 0,(function*(){const r=yield function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_newPendingTransactionFilter",params:[]})}))}(e.requestManager);return MT({format:"uint"},r,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function VM(e,t,r){return $M(this,void 0,void 0,(function*(){let{toBlock:n,fromBlock:i}=t;vP(n)||"number"!==typeof n&&"bigint"!==typeof n||(n=jP(n)),vP(i)||"number"!==typeof i&&"bigint"!==typeof i||(i=jP(i));const s=Object.assign(Object.assign({},t),{fromBlock:i,toBlock:n}),o=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["filter"],[t]),e.send({method:"eth_newFilter",params:[t]})}))}(e.requestManager,s);return MT({format:"uint"},o,null!==r&&void 0!==r?r:e.defaultReturnFormat)}))}function QM(e,t){return $M(this,void 0,void 0,(function*(){const r=yield function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_newBlockFilter",params:[]})}))}(e.requestManager);return MT({format:"uint"},r,null!==t&&void 0!==t?t:e.defaultReturnFormat)}))}function ZM(e,t){return $M(this,void 0,void 0,(function*(){const r=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["hex"],[t]),e.send({method:"eth_uninstallFilter",params:[t]})}))}(e.requestManager,jP(t));return r}))}function YM(e,t,r){return $M(this,void 0,void 0,(function*(){const n=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["hex"],[t]),e.send({method:"eth_getFilterChanges",params:[t]})}))}(e.requestManager,jP(t));return n.map((t=>"string"===typeof t?t:MT(AN,t,null!==r&&void 0!==r?r:e.defaultReturnFormat)))}))}function JM(e,t,r){return $M(this,void 0,void 0,(function*(){const n=yield function(e,t){return eN(this,void 0,void 0,(function*(){return SP.validate(["hex"],[t]),e.send({method:"eth_getFilterLogs",params:[t]})}))}(e.requestManager,jP(t));return n.map((t=>"string"===typeof t?t:MT(AN,t,null!==r&&void 0!==r?r:e.defaultReturnFormat)))}))}class XM extends QI{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return MT(AN,e,super.returnFormat)}}class eB extends QI{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return MT({format:"string"},e,super.returnFormat)}}class tB extends QI{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return MT(wN,e,super.returnFormat)}}class rB extends QI{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if("boolean"===typeof e)this.emit("changed",e);else{const t=Object.fromEntries(Object.entries((null===e||void 0===e?void 0:e.status)||e).map((e=>{let[t,r]=e;return[t.charAt(0).toLowerCase()+t.substring(1),r]})));this.emit("changed",e.syncing),this.emit("data",MT(_N,t,super.returnFormat))}}}var nB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const iB={logs:XM,newPendingTransactions:eB,newHeads:tB,syncing:rB,pendingTransactions:eB,newBlockHeaders:tB};class sB extends QC{constructor(e){"string"===typeof e||FI(e)?super({provider:e,registeredSubscriptions:iB}):e.registeredSubscriptions?super(e):(super(Object.assign(Object.assign({},e),{registeredSubscriptions:iB})),this.getFeeData=this.calculateFeeData)}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return nB(this,void 0,void 0,(function*(){return function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_protocolVersion",params:[]})}))}(this.requestManager)}))}isSyncing(){return nB(this,void 0,void 0,(function*(){return tN(this.requestManager)}))}getCoinbase(){return nB(this,void 0,void 0,(function*(){return function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_coinbase",params:[]})}))}(this.requestManager)}))}isMining(){return nB(this,void 0,void 0,(function*(){return function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_mining",params:[]})}))}(this.requestManager)}))}getHashrate(e){var t;return void 0===e&&(e=null!==(t=this.defaultReturnFormat)&&void 0!==t?t:Yw),nB(this,void 0,void 0,(function*(){return this.getHashRate(e)}))}getHashRate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return vM(this,e)}))}getGasPrice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return wM(this,e)}))}getMaxPriorityFeePerGas(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return AM(this,e)}))}calculateFeeData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BigInt(2),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OP.Gwei;var r;return nB(this,void 0,void 0,(function*(){const n=yield this.getBlock(void 0,!1),i=null!==(r=null===n||void 0===n?void 0:n.baseFeePerGas)&&void 0!==r?r:void 0;let s,o,a;try{s=yield this.getGasPrice()}catch(gZ){}try{o=yield this.getMaxPriorityFeePerGas()}catch(gZ){}if(i){let r;o=null!==o&&void 0!==o?o:t,r="number"===typeof e?BigInt(Math.floor(1e3*e))/BigInt(1e3):e,a=i*r+o}return{gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:o,baseFeePerGas:i}}))}getAccounts(){var e;return nB(this,void 0,void 0,(function*(){return(null!==(e=yield function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_accounts",params:[]})}))}(this.requestManager))&&void 0!==e?e:[]).map((e=>nT(e)))}))}getBlockNumber(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return _M(this,e)}))}getBalance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return EM(this,e,t,r)}))}getStorageAt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultBlock,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return xM(this,e,t,r,n)}))}getCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return kM(this,e,t,r)}))}getBlock(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return SM(this,e,t,r)}))}getBlockTransactionCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return PM(this,e,t)}))}getBlockUncleCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return TM(this,e,t)}))}getUncle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return IM(this,e,t,r)}))}getTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){const r=yield OM(this,e,t);if(!r)throw new d_;return r}))}getPendingTransactions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return RM(this,e)}))}getTransactionFromBlock(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return CM(this,e,t,r)}))}getTransactionReceipt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){const r=yield NM(this,e,t);if(!r)throw new d_;return r}))}getTransactionCount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return LM(this,e,t,r)}))}sendTransaction(e){return MM(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat,arguments.length>2?arguments[2]:void 0,this.transactionMiddleware)}sendSignedTransaction(e){return function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{checkRevertBeforeSending:!0};const i=new XC(((s,o)=>{setImmediate((()=>{(()=>{yM(this,void 0,void 0,(function*(){const a=new gM({web3Context:e,promiEvent:i,options:n,returnFormat:r}),c=MT({format:"bytes"},t,Jw),l=LC.fromSerializedData(CP(MP(c))),u=Object.assign(Object.assign({},l.toJSON()),{from:l.getSenderAddress().toString()});try{const{v:t,r:n,s:i}=u,o=bM(u,["v","r","s"]);yield a.checkRevertBeforeSending(o),a.emitSending(c);const l=yield KN(e,(()=>yM(this,void 0,void 0,(function*(){return rN(e.requestManager,c)}))));a.emitSent(c);const d=MT({format:"bytes32"},l,null!==r&&void 0!==r?r:e.defaultReturnFormat);a.emitTransactionHash(d);const h=yield QN(e,l,null!==r&&void 0!==r?r:e.defaultReturnFormat),f=a.getReceiptWithEvents(MT(EN,h,null!==r&&void 0!==r?r:e.defaultReturnFormat));a.emitReceipt(f),s(yield a.handleResolve({receipt:f,tx:u})),a.emitConfirmation({receipt:f,transactionHash:l})}catch(gZ){o(yield a.handleError({error:gZ,tx:u}))}}))})()}))}));return i}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat,arguments.length>2?arguments[2]:void 0)}sign(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return BM(this,e,t,r)}))}signTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return DM(this,e,t)}))}call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return jM(this,e,t,r)}))}estimateGas(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return UM(this,e,t,r)}))}getPastLogs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return FM(this,e,t)}))}getWork(){return nB(this,void 0,void 0,(function*(){return function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_getWork",params:[]})}))}(this.requestManager)}))}submitWork(e,t,r){return nB(this,void 0,void 0,(function*(){return function(e,t,r,n){return eN(this,void 0,void 0,(function*(){return SP.validate(["bytes8","bytes32","bytes32"],[t,r,n]),e.send({method:"eth_submitWork",params:[t,r,n]})}))}(this.requestManager,e,t,r)}))}requestAccounts(){return nB(this,void 0,void 0,(function*(){return function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"eth_requestAccounts",params:[]})}))}(this.requestManager)}))}getChainId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return HM(this,e)}))}getNodeInfo(){return nB(this,void 0,void 0,(function*(){return function(e){return eN(this,void 0,void 0,(function*(){return e.send({method:"web3_clientVersion",params:[]})}))}(this.requestManager)}))}getProof(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultBlock,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return zM(this,e,t,r,n)}))}getFeeHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return GM(this,e,t,r,n)}))}createAccessList(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return qM(this,e,t,r)}))}signTypedData(e,t,r,n){var i;return void 0===r&&(r=!1),void 0===n&&(n=null!==(i=this.defaultReturnFormat)&&void 0!==i?i:Yw),nB(this,void 0,void 0,(function*(){return WM(this,e,t,r,n)}))}subscribe(e,t,r){var n,i;return void 0===r&&(r=null!==(n=this.defaultReturnFormat)&&void 0!==n?n:Yw),nB(this,void 0,void 0,(function*(){const n=yield null===(i=this.subscriptionManager)||void 0===i?void 0:i.subscribe(e,t,r);return n instanceof XM&&"logs"===e&&"object"===typeof t&&!wT(t.fromBlock)&&Number.isFinite(Number(t.fromBlock))&&setImmediate((()=>{this.getPastLogs(t).then((e=>{for(const t of e)n._processSubscriptionResult(t)})).catch((e=>{n._processSubscriptionError(e)}))})),n}))}static shouldClearSubscription(e){let{sub:t}=e;return!(t instanceof rB)}clearSubscriptions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;return null===(t=this.subscriptionManager)||void 0===t?void 0:t.unsubscribe(e?sB.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return KM(this,e)}))}createNewFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return VM(this,e,t)}))}createNewBlockFilter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return QM(this,e)}))}uninstallFilter(e){return nB(this,void 0,void 0,(function*(){return ZM(this,e)}))}getFilterChanges(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return YM(this,e,t)}))}getFilterLogs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return nB(this,void 0,void 0,(function*(){return JM(this,e,t)}))}}const oB=e=>{if(vP(e.gas)||!dP(e.gas)||vP(e.gasPrice)||!dP(e.gasPrice))throw new k_({gas:e.gas,gasPrice:e.gasPrice});if(!vP(e.maxFeePerGas)||!vP(e.maxPriorityFeePerGas))throw new T_({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas})},aB=e=>{if(!vP(e.gasPrice)&&"0x2"===e.type)throw new P_(e.gasPrice);if("0x0"===e.type||"0x1"===e.type)throw new T_({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas});if(vP(e.maxFeePerGas)||!dP(e.maxFeePerGas)||vP(e.maxPriorityFeePerGas)||!dP(e.maxPriorityFeePerGas))throw new S_({maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas})},cB=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{transactionSchema:void 0};if(!vP(t))return void t(e);if("object"!==typeof e||vP(e))throw new I_(e);(e=>{if(!vP(e.common)){if(vP(e.common.customChain))throw new p_;if(vP(e.common.customChain.chainId))throw new m_;if(!vP(e.chainId)&&e.chainId!==e.common.customChain.chainId)throw new g_({txChainId:e.chainId,customChainId:e.common.customChain.chainId})}})(e),(e=>{if(!vP(e.common)&&!vP(e.chain)&&!vP(e.hardfork))throw new v_;if(!vP(e.chain)&&vP(e.hardfork)||!vP(e.hardfork)&&vP(e.chain))throw new w_({chain:e.chain,hardfork:e.hardfork})})(e),(e=>{if(!vP(e.common)&&!vP(e.common.baseChain)&&!vP(e.chain)&&e.chain!==e.common.baseChain)throw new y_({txChain:e.chain,baseChain:e.common.baseChain})})(e),(e=>{if(!vP(e.common)&&!vP(e.common.hardfork)&&!vP(e.hardfork)&&e.hardfork!==e.common.hardfork)throw new b_({txHardfork:e.hardfork,commonHardfork:e.common.hardfork})})(e);const n=PN(e,Jw,{transactionSchema:r.transactionSchema});if((e=>{const t=!vP(e.gas)||!vP(e.gasLimit),r=t&&!vP(e.gasPrice),n=t&&!vP(e.maxPriorityFeePerGas)&&!vP(e.maxFeePerGas);if(!r&&!n)throw new __({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});if(r&&n)throw new x_({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});(r?oB:aB)(e),(!vP(e.type)&&e.type>"0x1"?aB:oB)(e)})(n),vP(n.nonce)||vP(n.chainId)||n.nonce.startsWith("-")||n.chainId.startsWith("-"))throw new O_({nonce:e.nonce,chainId:e.chainId})};var lB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const uB=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return lB(void 0,void 0,void 0,(function*(){var s;const o=PN(yield(s={transaction:e,web3Context:t,privateKey:r,fillGasPrice:n,fillGasLimit:i},UN(void 0,void 0,void 0,(function*(){var e;return(null!==(e=s.web3Context.transactionBuilder)&&void 0!==e?e:zN)(Object.assign(Object.assign({},s),{transaction:s.transaction}))}))),Jw,{transactionSchema:t.config.customTransactionSchema});return cB(o,void 0,{transactionSchema:t.config.customTransactionSchema}),LC.fromTxData((e=>{var t,r;return Object.assign(Object.assign({},e),{nonce:e.nonce,gasPrice:e.gasPrice,gasLimit:null!==(t=e.gasLimit)&&void 0!==t?t:e.gas,to:e.to,value:e.value,data:null!==(r=e.data)&&void 0!==r?r:e.input,type:e.type,chainId:e.chainId,accessList:e.accessList,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas})})(o),((e,t)=>{var r,n,i,s,o,a,c,l,u,d,h,f,p,m,g,y,b,v;let w;if((vP(e.chain)||vP(e.hardfork))&&vP(e.common))t.defaultCommon?(w=Object.assign({},t.defaultCommon),vP(w.hardfork)&&(w.hardfork=null!==(r=e.hardfork)&&void 0!==r?r:t.defaultHardfork),vP(w.baseChain)&&(w.baseChain=t.defaultChain)):w=yC.custom({name:"custom-network",chainId:XP(e.chainId),networkId:vP(e.networkId)?void 0:XP(e.networkId),defaultHardfork:null!==(n=e.hardfork)&&void 0!==n?n:t.defaultHardfork},{baseChain:t.defaultChain});else{const r=null!==(a=null!==(o=null===(s=null===(i=null===e||void 0===e?void 0:e.common)||void 0===i?void 0:i.customChain)||void 0===s?void 0:s.name)&&void 0!==o?o:e.chain)&&void 0!==a?a:"custom-network",n=XP(null!==(u=null===(l=null===(c=null===e||void 0===e?void 0:e.common)||void 0===c?void 0:c.customChain)||void 0===l?void 0:l.chainId)&&void 0!==u?u:null===e||void 0===e?void 0:e.chainId),A=XP(null!==(f=null===(h=null===(d=null===e||void 0===e?void 0:e.common)||void 0===d?void 0:d.customChain)||void 0===h?void 0:h.networkId)&&void 0!==f?f:null===e||void 0===e?void 0:e.networkId),_=null!==(g=null!==(m=null===(p=null===e||void 0===e?void 0:e.common)||void 0===p?void 0:p.hardfork)&&void 0!==m?m:null===e||void 0===e?void 0:e.hardfork)&&void 0!==g?g:t.defaultHardfork,E=null!==(v=null!==(b=null===(y=e.common)||void 0===y?void 0:y.baseChain)&&void 0!==b?b:e.chain)&&void 0!==v?v:t.defaultChain;n&&A&&r&&(w=yC.custom({name:r,chainId:n,networkId:A,defaultHardfork:_},{baseChain:E}))}return{common:w}})(o,t))}))},dB=(e,t,r)=>{let{address:n}=e;var i,s;const o=null===r||void 0===r?void 0:r.topics,a=null!==(i=null===r||void 0===r?void 0:r.filter)&&void 0!==i?i:{},c={};if(wT(null===r||void 0===r?void 0:r.fromBlock)||(c.fromBlock=MT(vN.properties.number,null===r||void 0===r?void 0:r.fromBlock,{number:Kw.HEX,bytes:Qw.HEX})),wT(null===r||void 0===r?void 0:r.toBlock)||(c.toBlock=MT(vN.properties.number,null===r||void 0===r?void 0:r.toBlock,{number:Kw.HEX,bytes:Qw.HEX})),o&&Array.isArray(o))c.topics=[...o];else if(c.topics=[],!t||t.anonymous||[LN,"allEvents"].includes(t.name)||c.topics.push(null!==(s=t.signature)&&void 0!==s?s:cL(aL(t))),![LN,"allEvents"].includes(t.name)&&t.inputs)for(const l of t.inputs){if(!l.indexed)continue;const e=a[l.name];e?Array.isArray(e)?c.topics.push(e.map((e=>eM(l.type,e)))):"string"===l.type?c.topics.push(DT(e)):c.topics.push(eM(l.type,e)):c.topics.push(null)}return c.topics.length||delete c.topics,n&&(c.address=n.toLowerCase()),c},hB=(e,t,r)=>{const n=Array.isArray(e.inputs)?e.inputs.length:0;if(e.inputs&&n!==t.length)throw new HA(`The number of arguments is not matching the methods required number. You need to pass ${n} arguments.`);let i;if(i=e.inputs?JL(Array.isArray(e.inputs)?e.inputs:[],t).replace("0x",""):XL(t).replace("0x",""),!wT(s=e)&&"object"===typeof s&&!wT(s.type)&&"constructor"===s.type){if(!r)throw new HA("The contract has no contract data option set. This is necessary to append the constructor parameters.");return r.startsWith("0x")?`${r}${i}`:`0x${r}${i}`}var s;return`${iM(e)}${i}`};class fB extends QI{constructor(e,t){super(e,t),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return pM(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const pB=(e,t,r,n)=>{var i,s;const o={};return wT(e.data)&&"both"!==n||(o.data=hB(t,r,null!==(i=e.data)&&void 0!==i?i:e.input)),wT(e.input)&&"both"!==n||(o.input=hB(t,r,null!==(s=e.input)&&void 0!==s?s:e.data)),wT(o.input)&&wT(o.data)&&(o[n]=hB(t,r)),{data:o.data,input:o.input}},mB=e=>{let{abi:t,params:r,options:n,contractOptions:i}=e;var s,o,a;if(!(null!==(a=null!==(o=null!==(s=null===n||void 0===n?void 0:n.input)&&void 0!==s?s:null===n||void 0===n?void 0:n.data)&&void 0!==o?o:i.input)&&void 0!==a?a:i.data)&&!(null===n||void 0===n?void 0:n.to)&&!i.address)throw new HA("Contract address not specified");if(!(null===n||void 0===n?void 0:n.from)&&!i.from)throw new HA('Contract "from" address not specified');let c=_T({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},n);const l=pB(c,t,r,null===n||void 0===n?void 0:n.dataInputFill);return c=Object.assign(Object.assign({},c),{data:l.data,input:l.input}),c},gB=e=>"object"===typeof e&&!wT(e)&&0!==Object.keys(e).length&&!vT(e);var yB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class bB{constructor(e,t){this.parent=e,this.deployOptions=t;const{args:r,abi:n,contractOptions:i,deployData:s}=this.calculateDeployParams();this.args=r,this.constructorAbi=n,this.contractOptions=i,this.deployData=s}_contractMethodDeploySend(e){const t={transactionResolver:e=>{if(e.status===BigInt(0))throw new HA("code couldn't be stored",e);const t=this.parent.clone();return t.options.address=e.contractAddress,t},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return vP(this.parent.getTransactionMiddleware())?MM(this.parent,e,this.parent.defaultReturnFormat,t):MM(this.parent,e,this.parent.defaultReturnFormat,t,this.parent.getTransactionMiddleware())}send(e){const t=Object.assign({},e),r=this.populateTransaction(t);return this._contractMethodDeploySend(r)}populateTransaction(e){var t,r;const n=Object.assign(Object.assign({},this.contractOptions),{from:null!==(r=null!==(t=this.contractOptions.from)&&void 0!==t?t:this.parent.defaultAccount)&&void 0!==r?r:void 0}),i=mB({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:n});return i.dataInputFill&&delete i.dataInputFill,i}calculateDeployParams(){var e,t,r,n,i,s;let o=this.parent.options.jsonInterface.find((e=>"constructor"===e.type));o||(o={type:"constructor",stateMutability:""});const a=MT({format:"bytes"},null!==(t=null===(e=this.deployOptions)||void 0===e?void 0:e.input)&&void 0!==t?t:this.parent.options.input,Yw),c=MT({format:"bytes"},null!==(n=null===(r=this.deployOptions)||void 0===r?void 0:r.data)&&void 0!==n?n:this.parent.options.data,Yw);if((!a||"0x"===a.trim())&&(!c||"0x"===c.trim()))throw new HA("contract creation without any data provided.");return{args:null!==(s=null===(i=this.deployOptions)||void 0===i?void 0:i.arguments)&&void 0!==s?s:[],abi:o,contractOptions:Object.assign(Object.assign({},this.parent.options),{input:a,data:c}),deployData:null!==a&&void 0!==a?a:c}}estimateGas(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.parent.defaultReturnFormat;return yB(this,void 0,void 0,(function*(){const r=Object.assign({},e);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:t,options:r,contractOptions:this.contractOptions})}))}encodeABI(){return hB(this.constructorAbi,this.args,MT({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},sM(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var vB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class wB extends KI{constructor(e,t){super(e.requestManager,e.registeredSubscriptions),this.parentContract=t}subscribe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yw;const n=Object.create(null,{subscribe:{get:()=>super.subscribe}});return vB(this,void 0,void 0,(function*(){return n.subscribe.call(this,e,null!==t&&void 0!==t?t:this.parentContract.options,r)}))}}var AB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const _B={logs:fB,newHeads:tB,newBlockHeaders:tB};class EB extends QC{constructor(e,t,r,n,i){var s,o,a;const c=vT(t)?t:vT(r)?r:void 0;let l,u;if(l=gB(t)?t:gB(r)?r:n,u="object"===typeof t&&"provider"in t?t.provider:"object"===typeof r&&"provider"in r?r.provider:"object"===typeof n&&"provider"in n?n.provider:EB.givenProvider,super(Object.assign(Object.assign({},l),{provider:u,registeredSubscriptions:_B})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new wB(super.subscriptionManager,this),(null===l||void 0===l?void 0:l.wallet)&&(this._wallet=l.wallet),(null===l||void 0===l?void 0:l.accountProvider)&&(this._accountProvider=l.accountProvider),!vP(c)&&!vP(c.data)&&!vP(c.input)&&"both"!==this.config.contractDataInputFill)throw new WA({data:c.data,input:c.input});this._overloadedMethodAbis=new Map;const d=OT(n)?n:OT(r)?r:null!==i&&void 0!==i?i:this.defaultReturnFormat,h="string"===typeof t?t:void 0;this.config.contractDataInputFill=null!==(s=null===c||void 0===c?void 0:c.dataInputFill)&&void 0!==s?s:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,d),this.defaultReturnFormat!==d&&(this.defaultReturnFormat=d),vP(h)||this._parseAndSetAddress(h,d),this.options={address:h,jsonInterface:this._jsonInterface,gas:null!==(o=null===c||void 0===c?void 0:c.gas)&&void 0!==o?o:null===c||void 0===c?void 0:c.gasLimit,gasPrice:null===c||void 0===c?void 0:c.gasPrice,from:null===c||void 0===c?void 0:c.from,input:null===c||void 0===c?void 0:c.input,data:null===c||void 0===c?void 0:c.data},this.syncWithContext=null!==(a=null===c||void 0===c?void 0:c.syncWithContext)&&void 0!==a&&a,l instanceof QC&&this.subscribeToContextEvents(l),Object.defineProperty(this.options,"address",{set:e=>this._parseAndSetAddress(e,d),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:e=>this._parseAndSetJsonInterface(e,d),get:()=>this._jsonInterface}),l instanceof QC&&l.on(PI.CONFIG_CHANGE,(e=>{this.setConfig({[e.name]:e.newValue})}))}get subscriptionManager(){return this._subscriptionManager}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return e=this.options.address?new EB([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):new EB([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new bB(this,e)}getPastEvents(e,t,r){var n;return AB(this,void 0,void 0,(function*(){const i="string"===typeof e?e:LN,s="string"===typeof e||OT(e)?OT(t)?{}:t:e,o=OT(e)?e:OT(t)?t:null!==r&&void 0!==r?r:this.defaultReturnFormat,a="allEvents"===i||i===LN?MN:this._jsonInterface.find((e=>"name"in e&&e.name===i));if(!a)throw new HA(`Event ${i} not found.`);const{fromBlock:c,toBlock:l,topics:u,address:d}=dB(this.options,a,null!==s&&void 0!==s?s:{}),h=yield FM(this,{fromBlock:c,toBlock:l,topics:u,address:d},o),f=h?h.map((e=>"string"===typeof e?e:pM(a,e,this._jsonInterface,o))):[],p=null!==(n=null===s||void 0===s?void 0:s.filter)&&void 0!==n?n:{},m=Object.keys(p);return m.length>0?f.filter((e=>"string"===typeof e||m.every((t=>{var r;if(Array.isArray(p[t]))return p[t].some((r=>String(e.returnValues[t]).toUpperCase()===String(r).toUpperCase()));const n=null===(r=a.inputs)||void 0===r?void 0:r.filter((e=>e.name===t))[0];if((null===n||void 0===n?void 0:n.indexed)&&"string"===n.type){if(DT(p[t])===String(e.returnValues[t]))return!0}return String(e.returnValues[t]).toUpperCase()===String(p[t]).toUpperCase()})))):f}))}_parseAndSetAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;this._address=e?nT(MT({format:"address"},e,t)):e}decodeMethodData(e){const t=e.slice(0,10),r=this._jsonInterface.filter((e=>"error"!==e.type)).find((e=>t===iM(aL(e))));if(!r)throw new HA(`The ABI for the provided method signature ${t} was not found.`);return sM(r,e)}_parseAndSetJsonInterface(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;var r,n,i,s,o;this._functions={},this._methods={},this._events={};let a=[];const c=e.filter((e=>"error"!==e.type)),l=e.filter((e=>eL(e)));for(const u of c){const e=Object.assign(Object.assign({},u),{signature:""});if(rL(e)){const t=aL(e),a=iM(t);e.methodNameWithInputs=t,e.signature=a,e.constant=null!==(n=null!==(r="view"===e.stateMutability)&&void 0!==r?r:"pure"===e.stateMutability)&&void 0!==n?n:e.constant,e.payable=null!==(i="payable"===e.stateMutability)&&void 0!==i?i:e.payable,this._overloadedMethodAbis.set(e.name,[...null!==(s=this._overloadedMethodAbis.get(e.name))&&void 0!==s?s:[],e]);const c=null!==(o=this._overloadedMethodAbis.get(e.name))&&void 0!==o?o:[],u=this._createContractMethod(c,l),d=this._createContractMethod(c,l,!0);this._functions[t]={signature:a,method:d},this._methods[e.name]=u,this._methods[t]=d,this._methods[a]=d}else if(tL(e)){const r=aL(e),n=cL(r),i=this._createContractEvent(e,t);e.signature=n,r in this._events&&"bound"!==e.name||(this._events[r]=i),this._events[e.name]=i,this._events[n]=i}a=[...a,e]}this._events.allEvents=this._createContractEvent(MN,t),this._jsonInterface=[...a],this._errorsInterface=l}_getAbiParams(e,t){var r;try{return ZS(null!==(r=e.inputs)&&void 0!==r?r:[],t)}catch(gZ){throw new HA(`Invalid parameters for method ${e.name}: ${gZ.message}`)}}_createContractMethod(e,t){var r=this;let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e[e.length-1];return function(){for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];var a,c,l;let u;const d=null!==(c=n?null===(a=r._overloadedMethodAbis.get(i.name))||void 0===a?void 0:a.filter((e=>e.signature===i.signature)):r._overloadedMethodAbis.get(i.name))&&void 0!==c?c:[];let h=d[0];const f=t,p=d.filter((e=>{var t;return(null!==(t=e.inputs)&&void 0!==t?t:[]).length===s.length}));if(1===d.length||0===p.length)u=r._getAbiParams(h,s),SP.validate(null!==(l=i.inputs)&&void 0!==l?l:[],u);else{const e=[],t=[];for(const n of p)try{u=r._getAbiParams(n,s),SP.validate(n.inputs,u),t.push(n)}catch(bZ){e.push(bZ)}if(1===t.length?[h]=t:t.length>1&&([h]=t,console.warn(`Multiple methods found that is compatible with the given inputs.\n\tFound ${t.length} compatible methods: ${JSON.stringify(t.map((e=>`${e.methodNameWithInputs} (signature: ${e.signature})`)))} \n\tThe first one will be used: ${h.methodNameWithInputs}`)),e.length===p.length)throw new MS(e)}const m={arguments:u,call:(e,t)=>AB(r,void 0,void 0,(function*(){return this._contractMethodCall(h,u,f,e,t)})),send:e=>r._contractMethodSend(h,u,f,e),populateTransaction:(e,t)=>{var n,o;let a=null!==t&&void 0!==t?t:r.options;a=Object.assign(Object.assign({},a),{input:void 0,from:null!==(o=null!==(n=null===a||void 0===a?void 0:a.from)&&void 0!==n?n:r.defaultAccount)&&void 0!==o?o:void 0});const c=mB({abi:i,params:s,options:Object.assign(Object.assign({},e),{dataInputFill:r.config.contractDataInputFill}),contractOptions:a});return c.dataInputFill&&delete c.dataInputFill,c},estimateGas:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.defaultReturnFormat;return AB(r,void 0,void 0,(function*(){return this.contractMethodEstimateGas({abi:h,params:u,returnFormat:t,options:e})}))},encodeABI:()=>hB(h,u),decodeData:e=>sM(h,e),createAccessList:(e,t)=>AB(r,void 0,void 0,(function*(){return this._contractMethodCreateAccessList(h,u,f,e,t)}))};return h.stateMutability,m}}_contractMethodCall(e,t,r,n,i){var s;return AB(this,void 0,void 0,(function*(){const o=(e=>{let{abi:t,params:r,options:n,contractOptions:i}=e;if(!(null===n||void 0===n?void 0:n.to)&&!i.address)throw new HA("Contract address not specified");let s=_T({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},n);const o=pB(s,t,r,null===n||void 0===n?void 0:n.dataInputFill);return s=Object.assign(Object.assign({},s),{data:o.data,input:o.input}),s})({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(s=this.options.from)&&void 0!==s?s:this.config.defaultAccount})});try{const t=yield jM(this,o,i,this.defaultReturnFormat);return((e,t)=>{if("constructor"===e.type)return t;if(!t)return null;const r=t.length>=2?t.slice(2):t;if(!e.outputs)return null;const n=rM([...e.outputs],r);return 1===n.__length__?n[0]:n})(e,t)}catch(gZ){throw gZ instanceof qA&&cM(r,gZ.cause),gZ}}))}_contractMethodCreateAccessList(e,t,r,n,i){var s;return AB(this,void 0,void 0,(function*(){const o=(e=>{let{abi:t,params:r,options:n,contractOptions:i}=e;if(!(null===n||void 0===n?void 0:n.to)&&!i.address)throw new HA("Contract address not specified");if(!(null===n||void 0===n?void 0:n.from)&&!i.from)throw new HA('Contract "from" address not specified');let s=_T({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},n);const o=pB(s,t,r,null===n||void 0===n?void 0:n.dataInputFill);return s=Object.assign(Object.assign({},s),{data:o.data,input:o.input}),s})({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(s=this.options.from)&&void 0!==s?s:this.config.defaultAccount})});try{return qM(this,o,i,this.defaultReturnFormat)}catch(gZ){throw gZ instanceof qA&&cM(r,gZ.cause),gZ}}))}_contractMethodSend(e,t,r,n,i){var s,o;let a=null!==i&&void 0!==i?i:this.options;a=Object.assign(Object.assign({},a),{input:void 0,from:null!==(o=null!==(s=a.from)&&void 0!==s?s:this.defaultAccount)&&void 0!==o?o:void 0});const c=mB({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:a}),l=vP(this.transactionMiddleware)?MM(this,c,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):MM(this,c,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return l.on("error",(e=>{e instanceof qA&&cM(r,e.cause)})),l}contractMethodEstimateGas(e){let{abi:t,params:r,returnFormat:n,options:i,contractOptions:s}=e;return AB(this,void 0,void 0,(function*(){const e=(e=>{let{abi:t,params:r,options:n,contractOptions:i}=e,s=_T({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,data:i.data},n);const o=pB(s,t,r,null===n||void 0===n?void 0:n.dataInputFill);return s=Object.assign(Object.assign({},s),{data:o.data,input:o.input}),s})({abi:t,params:r,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:null!==s&&void 0!==s?s:this.options});return UM(this,e,Xw.LATEST,null!==n&&void 0!==n?n:this.defaultReturnFormat)}))}_createContractEvent(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReturnFormat;return function(){var n;const{topics:i,fromBlock:s}=dB(t.options,e,arguments.length<=0?void 0:arguments[0]),o=new fB({address:t.options.address,topics:i,abi:e,jsonInterface:t._jsonInterface},{subscriptionManager:t.subscriptionManager,returnFormat:r});return vP(s)||t.getPastEvents(e.name,{fromBlock:s,topics:i},r).then((e=>{e&&e.forEach((e=>o.emit("data",e)))})).catch((e=>{o.emit("error",new n_("Failed to get past events.",e))})),null===(n=t.subscriptionManager)||void 0===n||n.addSubscription(o).catch((e=>{o.emit("error",new n_("Failed to subscribe.",e))})),o}}subscribeToContextEvents(e){const t=this;this.context=e,t.syncWithContext&&e.on(PI.CONFIG_CHANGE,(e=>{t.setConfig({[e.name]:e.newValue})}))}}const xB=EB,kB={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},SB="addr",PB="addr",TB="pubkey",IB="contenthash",OB="text",RB="name",CB={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},NB={"0x1":"main","0x5":"goerli"},LB=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],MB=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}],BB=e=>{let t="";for(let r=0;r<32;r+=1)t+="00";if(e){const r=(e=>pg(e))(e).split(".");for(let e=r.length-1;e>=0;e-=1){const n=UT(r[e]).slice(2);t=UT(`0x${t}${n}`).slice(2)}}return`0x${t}`};var DB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class jB{constructor(e,t){this.contract=new EB(LB,null!==t&&void 0!==t?t:CB.main,e),this.context=e}getOwner(e){return DB(this,void 0,void 0,(function*(){try{return this.contract.methods.owner(BB(e)).call()}catch(gZ){throw new Error}}))}getTTL(e){return DB(this,void 0,void 0,(function*(){try{return this.contract.methods.ttl(BB(e)).call()}catch(gZ){throw new Error}}))}recordExists(e){return DB(this,void 0,void 0,(function*(){try{return this.contract.methods.recordExists(BB(e)).call()}catch(gZ){throw new Error}}))}getResolver(e){return DB(this,void 0,void 0,(function*(){try{return this.contract.methods.resolver(BB(e)).call().then((e=>{if("string"===typeof e){return new EB(MB,e,this.context)}throw new Error}))}catch(gZ){throw new Error}}))}get events(){return this.contract.events}}var UB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class FB{constructor(e){this.registry=e}getResolverContractAdapter(e){return UB(this,void 0,void 0,(function*(){return this.registry.getResolver(e)}))}checkInterfaceSupport(e,t){var r,n;return UB(this,void 0,void 0,(function*(){if(wT(kB[t]))throw new zA(null!==(r=e.options.address)&&void 0!==r?r:"",t);if(!(yield e.methods.supportsInterface(kB[t]).call()))throw new zA(null!==(n=e.options.address)&&void 0!==n?n:"",t)}))}supportsInterface(e,t){var r;return UB(this,void 0,void 0,(function*(){const n=yield this.getResolverContractAdapter(e);let i=t;if(!US(i)){if(i=null!==(r=jT(t))&&void 0!==r?r:"",""===t)throw new Error("Invalid interface Id");i=i.slice(0,10)}return n.methods.supportsInterface(i).call()}))}getAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return UB(this,void 0,void 0,(function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,PB),r.methods.addr(BB(e),t).call()}))}getPubkey(e){return UB(this,void 0,void 0,(function*(){const t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,TB),t.methods.pubkey(BB(e)).call()}))}getContenthash(e){return UB(this,void 0,void 0,(function*(){const t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,IB),t.methods.contenthash(BB(e)).call()}))}setAddress(e,t,r){return UB(this,void 0,void 0,(function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,SB),n.methods.setAddr(BB(e),t).send(r)}))}getText(e,t){return UB(this,void 0,void 0,(function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,OB),r.methods.text(BB(e),t).call()}))}getName(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return UB(this,void 0,void 0,(function*(){const r=`${e.toLowerCase().substring(2)}.addr.reverse`,n=yield this.getResolverContractAdapter(r);return t&&(yield this.checkInterfaceSupport(n,RB)),n.methods.name(BB(r)).call()}))}}var HB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class zB extends QC{constructor(e,t){super(null!==t&&void 0!==t?t:""),this.registryAddress=null!==e&&void 0!==e?e:CB.main,this._registry=new jB(this.getContextObject(),e),this._resolver=new FB(this._registry)}getResolver(e){return HB(this,void 0,void 0,(function*(){return this._registry.getResolver(e)}))}recordExists(e){return HB(this,void 0,void 0,(function*(){return this._registry.recordExists(e)}))}getTTL(e){return HB(this,void 0,void 0,(function*(){return this._registry.getTTL(e)}))}getOwner(e){return HB(this,void 0,void 0,(function*(){return this._registry.getOwner(e)}))}getAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return HB(this,void 0,void 0,(function*(){return this._resolver.getAddress(e,t)}))}getText(e,t){return HB(this,void 0,void 0,(function*(){return lP(e)?this._resolver.getText(yield this._resolver.getName(e,!1),t):this._resolver.getText(e,t)}))}getName(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return HB(this,void 0,void 0,(function*(){return this._resolver.getName(e,t)}))}getPubkey(e){return HB(this,void 0,void 0,(function*(){return this._resolver.getPubkey(e)}))}getContenthash(e){return HB(this,void 0,void 0,(function*(){return this._resolver.getContenthash(e)}))}checkNetwork(){return HB(this,void 0,void 0,(function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const r=yield(t=this,yM(void 0,void 0,void 0,(function*(){return tN(t.requestManager)})));if("boolean"!==typeof r||r)throw new KA;this._lastSyncCheck=e}var t;if(this._detectedAddress)return this._detectedAddress;const r=yield IN(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:Kw.HEX})),n=CB[NB[r]];if("undefined"===typeof n)throw new $A(r);return this._detectedAddress=n,this._detectedAddress}))}supportsInterface(e,t){return HB(this,void 0,void 0,(function*(){return this._resolver.supportsInterface(e,t)}))}get events(){return this._registry.events}setAddress(e,t,r){return HB(this,void 0,void 0,(function*(){return this._resolver.setAddress(e,t,r)}))}}var GB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const qB=e=>GB(void 0,void 0,void 0,(function*(){const t=yield(e=>sN(void 0,void 0,void 0,(function*(){return e.send({method:"personal_listAccounts",params:[]})})))(e);return t.map(nT)})),WB=(e,t)=>GB(void 0,void 0,void 0,(function*(){SP.validate(["string"],[t]);const r=yield((e,t)=>sN(void 0,void 0,void 0,(function*(){return e.send({method:"personal_newAccount",params:[t]})})))(e,t);return nT(r)})),$B=(e,t,r,n)=>GB(void 0,void 0,void 0,(function*(){return SP.validate(["address","string","uint"],[t,r,n]),((e,t,r,n)=>sN(void 0,void 0,void 0,(function*(){return e.send({method:"personal_unlockAccount",params:[t,r,n]})})))(e,t,r,n)})),KB=(e,t)=>GB(void 0,void 0,void 0,(function*(){return SP.validate(["address"],[t]),((e,t)=>sN(void 0,void 0,void 0,(function*(){return e.send({method:"personal_lockAccount",params:[t]})})))(e,t)})),VB=(e,t,r)=>GB(void 0,void 0,void 0,(function*(){return SP.validate(["string","string"],[t,r]),((e,t,r)=>sN(void 0,void 0,void 0,(function*(){return e.send({method:"personal_importRawKey",params:[t,r]})})))(e,t,r)})),QB=(e,t,r,n)=>GB(void 0,void 0,void 0,(function*(){const i=PN(t,Jw,{transactionSchema:null===n||void 0===n?void 0:n.customTransactionSchema});return((e,t,r)=>sN(void 0,void 0,void 0,(function*(){return e.send({method:"personal_sendTransaction",params:[t,r]})})))(e,i,r)})),ZB=(e,t,r,n)=>GB(void 0,void 0,void 0,(function*(){const i=PN(t,Jw,{transactionSchema:null===n||void 0===n?void 0:n.customTransactionSchema});return((e,t,r)=>sN(void 0,void 0,void 0,(function*(){return e.send({method:"personal_signTransaction",params:[t,r]})})))(e,i,r)})),YB=(e,t,r,n)=>GB(void 0,void 0,void 0,(function*(){SP.validate(["string","address","string"],[t,r,n]);const i=US(t)?t:HP(t);return((e,t,r,n)=>sN(void 0,void 0,void 0,(function*(){return e.send({method:"personal_sign",params:[t,r,n]})})))(e,i,r,n)})),JB=(e,t,r)=>GB(void 0,void 0,void 0,(function*(){SP.validate(["string","string"],[t,r]);const n=US(t)?t:HP(t);return((e,t,r)=>sN(void 0,void 0,void 0,(function*(){return e.send({method:"personal_ecRecover",params:[t,r]})})))(e,n,r)}));var XB=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class eD extends QC{getAccounts(){return XB(this,void 0,void 0,(function*(){return qB(this.requestManager)}))}newAccount(e){return XB(this,void 0,void 0,(function*(){return WB(this.requestManager,e)}))}unlockAccount(e,t,r){return XB(this,void 0,void 0,(function*(){return $B(this.requestManager,e,t,r)}))}lockAccount(e){return XB(this,void 0,void 0,(function*(){return KB(this.requestManager,e)}))}importRawKey(e,t){return XB(this,void 0,void 0,(function*(){return VB(this.requestManager,e,t)}))}sendTransaction(e,t){return XB(this,void 0,void 0,(function*(){return QB(this.requestManager,e,t,this.config)}))}signTransaction(e,t){return XB(this,void 0,void 0,(function*(){return ZB(this.requestManager,e,t,this.config)}))}sign(e,t,r){return XB(this,void 0,void 0,(function*(){return YB(this.requestManager,e,t,r)}))}ecRecover(e,t){return XB(this,void 0,void 0,(function*(){return JB(this.requestManager,e,t)}))}}var tD,rD,nD,iD;(rD=tD||(tD={})).HTTPS="https",rD.WebSocket="wss",(iD=nD||(nD={})).ETH_MAINNET="eth_mainnet",iD.ETH_SEPOLIA="eth_sepolia",iD.ETH_HOLESKY="eth_holesky",iD.POLYGON_MAINNET="polygon_mainnet",iD.POLYGON_AMOY="polygon_amoy",iD.AVALANCHE_C_MAINNET="avalanche_c_mainnet",iD.AVALANCHE_P_MAINNET="avalanche_p_mainnet",iD.AVALANCHE_X_MAINNET="avalanche_x_mainnet",iD.ARBITRUM_MAINNET="arbitrum_mainnet",iD.ARBITRUM_SEPOLIA="arbitrum_sepolia",iD.BASE_MAINNET="base_mainnet",iD.BASE_SEPOLIA="base_sepolia",iD.OPTIMISM_MAINNET="optimism_mainnet",iD.OPTIMISM_SEPOLIA="optimism_sepolia",iD.FANTOM_MAINNET="fantom_mainnet",iD.FANTOM_TESTNET="fantom_testnet",iD.DYMENSION_MAINNET="dymension_mainnet",iD.DYMENSION_TESTNET="dymension_testnet",iD.BNB_MAINNET="bnb_mainnet",iD.BNB_TESTNET="bnb_testnet",iD.BSC_MAINNET="bsc_mainnet",iD.BSC_TESTNET="bsc_testnet",iD.ARBITRUM_ONE="arbitrum_one",iD.ARBITRUM_NOVA="arbitrum_nova",iD.AVALANCHE_FUJI_C="avalanche_fuji_c",iD.AVALANCHE_FUJI_P="avalanche_fuji_p",iD.AVALANCHE_FUJI_X="avalanche_fuji_x",iD.BLAST_MAINNET="blast_mainnet",iD.OPBNB_MAINNET="opbnb_mainnet",iD.OPBNB_TESTNET="opbnb_testnet",iD.GNOSIS_MAINNET="gnosis_mainnet",iD.GNOSIS_CHIADO="gnosis_chiado",iD.PULSECHAIN_MAINNET="pulsechain_mainnet",iD.PULSECHAIN_TESTNET="pulsechain_testnet",iD.KAVA_MAINNET="kava_mainnet",iD.CRONOS_MAINNET="cronos_mainnet",iD.MANTLE_MAINNET="mantle_mainnet",iD.CHILIZ_MAINNET="chiliz_mainnet",iD.CHILIZ_SPICY="chiliz_spicy",iD.MOONBEAM_MAINNET="moonbeam_mainnet",iD.TAIKO_MAINNET="taiko_mainnet",iD.TAIKO_HEKLA="taiko_hekla",iD.LINEA_MAINNET="linea_mainnet",iD.LINEA_SEPOLIA="linea_sepolia",iD.BAHAMUT_MAINNET="bahamut_mainnet",iD.SCROLL_MAINNET="scroll_mainnet",iD.SCROLL_SEPOLIA="scroll_sepolia",iD.TRON_MAINNET="tron_mainnet",iD.SYSCOIN_MAINNET="syscoin_mainnet",iD.SYSCOIN_TANENBAUM="syscoin_tanenbaum",iD.MOONRIVER_MAINNET="moonriver_mainnet",iD.HAQQ_MAINNET="haqq_mainnet",iD.EVMOS_MAINNET="evmos_mainnet",iD.EVMOS_TESTNET="evmos_testnet",iD.BERACHAIN_TESTNET="berachain_testnet";class sD extends xA{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=1300}}class oD extends xA{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=1301}}var aD=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class cD extends _I{constructor(e,t,r,n,i){if(super(),void 0!==i&&t===tD.HTTPS&&!("providerOptions"in i))throw new oD("HTTP Provider");if(void 0!==i&&t===tD.WebSocket&&!("socketOptions"in i)&&!("reconnectOptions"in i))throw new oD("Websocket Provider");this.transport=t,t===tD.HTTPS?this.provider=new RI(this.getRPCURL(e,t,r,n),i):t===tD.WebSocket&&(this.provider=new LI(this.getRPCURL(e,t,r,n),null===i||void 0===i?void 0:i.socketOptions,null===i||void 0===i?void 0:i.reconnectOptions))}request(e,t){return aD(this,void 0,void 0,(function*(){return this.transport===tD.HTTPS?yield this.provider.request(e,t):this.provider.request(e)}))}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,t){var r;(null===(r=this.provider)||void 0===r?void 0:r.once)&&this.provider.once(e,t)}removeAllListeners(e){var t;(null===(t=this.provider)||void 0===t?void 0:t.removeAllListeners)&&this.provider.removeAllListeners(e)}connect(){var e;(null===(e=this.provider)||void 0===e?void 0:e.connect)&&this.provider.connect()}disconnect(e,t){var r;(null===(r=this.provider)||void 0===r?void 0:r.disconnect)&&this.provider.disconnect(e,t)}reset(){var e;(null===(e=this.provider)||void 0===e?void 0:e.reset)&&this.provider.reset()}on(e,t){this.provider&&this.provider.on(e,t)}removeListener(e,t){this.provider&&this.provider.removeListener(e,t)}}var lD=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const uD=e=>void 0!==e&&e.trim().length>0;const dD=[nD.DYMENSION_MAINNET,nD.DYMENSION_TESTNET,nD.KAVA_MAINNET,nD.CRONOS_MAINNET,nD.POLYGON_MAINNET];class hD extends cD{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nD.ETH_MAINNET,arguments.length>1&&void 0!==arguments[1]?arguments[1]:tD.HTTPS,"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",arguments.length>3?arguments[3]:void 0)}getRPCURL(e,t,r,n){if(!hD.networkHostMap[e])throw new Error("Network info not avalible.");const i=`${hD.networkHostMap[e]}.publicnode.com`,s=void 0!==(o=n)&&o.trim().length>0?n:i;var o;return dD.includes(e)&&t===tD.WebSocket?`${t}://${s}/websocket`:`${t}://${s}`}}hD.networkHostMap={[nD.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[nD.DYMENSION_MAINNET]:"dymension-evm-rpc",[nD.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[nD.BLAST_MAINNET]:"blast-rpc",[nD.GNOSIS_MAINNET]:"gnosis-rpc",[nD.PULSECHAIN_MAINNET]:"pulsechain-rpc",[nD.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[nD.KAVA_MAINNET]:"kava-evm-rpc",[nD.CRONOS_MAINNET]:"cronos-evm-rpc",[nD.MANTLE_MAINNET]:"mantle-rpc",[nD.TAIKO_MAINNET]:"taiko-rpc",[nD.TAIKO_HEKLA]:"taiko-hekla-rpc",[nD.LINEA_MAINNET]:"linea-rpc",[nD.LINEA_SEPOLIA]:"linea-sepolia-rpc",[nD.SCROLL_MAINNET]:"scroll-rpc",[nD.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[nD.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[nD.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[nD.HAQQ_MAINNET]:"haqq-evm-rpc",[nD.EVMOS_MAINNET]:"evmos-evm-rpc",[nD.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[nD.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[nD.ETH_MAINNET]:"ethereum-rpc",[nD.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[nD.ETH_HOLESKY]:"ethereum-holesky-rpc",[nD.BSC_MAINNET]:"bsc-rpc",[nD.BSC_TESTNET]:"bsc-testnet-rpc",[nD.POLYGON_MAINNET]:"polygon-bor-rpc",[nD.BASE_MAINNET]:"base-rpc",[nD.BASE_SEPOLIA]:"base-sepolia-rpc",[nD.ARBITRUM_ONE]:"arbitrum-one-rpc",[nD.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[nD.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[nD.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[nD.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[nD.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[nD.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[nD.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[nD.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[nD.OPTIMISM_MAINNET]:"optimism-rpc",[nD.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[nD.FANTOM_MAINNET]:"fantom-rpc",[nD.FANTOM_TESTNET]:"fantom-testnet-rpc",[nD.OPBNB_MAINNET]:"opbnb-rpc",[nD.OPBNB_TESTNET]:"opbnb-testnet-rpc",[nD.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[nD.CHILIZ_MAINNET]:"chiliz-rpc",[nD.CHILIZ_SPICY]:"chiliz-spicy-rpc",[nD.MOONBEAM_MAINNET]:"moonbeam-rpc",[nD.BAHAMUT_MAINNET]:"bahamut-rpc",[nD.TRON_MAINNET]:"tron-evm-rpc",[nD.MOONRIVER_MAINNET]:"moonriver-rpc"};const fD=new class extends cD{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:nD.ETH_MAINNET,arguments.length>1&&void 0!==arguments[1]?arguments[1]:tD.HTTPS,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",arguments.length>4?arguments[4]:void 0)}request(e,t){const r=Object.create(null,{request:{get:()=>super.request}});return lD(this,void 0,void 0,(function*(){try{return yield r.request.call(this,e,t)}catch(gZ){if(gZ instanceof iE&&429===gZ.statusCode)throw new sD(gZ);throw gZ}}))}getRPCURL(e,t,r,n){let i="",s="";switch(e){case nD.ETH_MAINNET:i=uD(n)?n:"powerful-holy-bush.quiknode.pro",s=uD(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case nD.ETH_SEPOLIA:i=uD(n)?n:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",s=uD(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case nD.ETH_HOLESKY:i=uD(n)?n:"yolo-morning-card.ethereum-holesky.quiknode.pro",s=uD(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case nD.ARBITRUM_MAINNET:i=uD(n)?n:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",s=uD(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case nD.ARBITRUM_SEPOLIA:i=uD(n)?n:"few-patient-pond.arbitrum-sepolia.quiknode.pro",s=uD(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case nD.BNB_MAINNET:i=uD(n)?n:"purple-empty-reel.bsc.quiknode.pro",s=uD(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case nD.BNB_TESTNET:i=uD(n)?n:"floral-rough-scion.bsc-testnet.quiknode.pro",s=uD(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case nD.POLYGON_MAINNET:i=uD(n)?n:"small-chaotic-moon.matic.quiknode.pro",s=uD(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case nD.POLYGON_AMOY:i=uD(n)?n:"prettiest-side-shape.matic-amoy.quiknode.pro",s=uD(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${t}://${i}/${s}`}},pD={encodeEventSignature:cL,encodeFunctionCall:(e,t)=>{var r;if(!rL(e))throw new XA("Invalid parameter value in encodeFunctionCall");return`${iM(e)}${JL(null!==(r=e.inputs)&&void 0!==r?r:[],null!==t&&void 0!==t?t:[]).replace("0x","")}`},encodeFunctionSignature:iM,encodeParameter:eM,encodeParameters:JL,decodeParameter:nM,decodeParameters:rM,decodeLog:aM};var mD=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const gD=e=>{const t=(t,r)=>mD(void 0,void 0,void 0,(function*(){return((e,t)=>MC(void 0,void 0,void 0,(function*(){const r=e.sign(MP(t));if(vP(r.v)||vP(r.r)||vP(r.s))throw new H_("Signer Error");const n=r.validate(!0);if(n.length>0){let e="Signer Error ";for(const t of n)e+=`${e} ${t}.`;throw new H_(e)}const i=LP(r.serialize()),s=UT(i);return{messageHash:LP(r.getMessageToSign(!0)),v:`0x${r.v.toString(16)}`,r:`0x${r.r.toString(16).padStart(64,"0")}`,s:`0x${r.s.toString(16).padStart(64,"0")}`,rawTransaction:i,transactionHash:LP(s)}})))(yield uB(t,e),MT({format:"bytes"},r,Jw))})),r=e=>{const r=WC(e);return Object.assign(Object.assign({},r),{signTransaction:e=>mD(void 0,void 0,void 0,(function*(){return t(e,r.privateKey)}))})},n=(e,r,n)=>mD(void 0,void 0,void 0,(function*(){var i;const s=yield((e,t,r)=>MC(void 0,void 0,void 0,(function*(){const n="object"===typeof e?e:JSON.parse(r?e.toLowerCase():e);if(SP.validateJSONSchema(BR,n),3!==n.version)throw new CA;const i="string"===typeof t?MP(HP(t)):t;let s;if(SP.validate(["bytes"],[i]),"scrypt"===n.crypto.kdf){const e=n.crypto.kdfparams;s=SO(i,"string"===typeof e.salt?MP(e.salt):e.salt,e.n,e.p,e.r,e.dklen)}else{if("pbkdf2"!==n.crypto.kdf)throw new OA;{const e=n.crypto.kdfparams;s=AO(i,"string"===typeof e.salt?MP(e.salt):e.salt,e.c,e.dklen,"sha256")}}const o=MP(n.crypto.ciphertext);if(UT(TP(s.slice(16,32),o)).replace("0x","")!==n.crypto.mac)throw new RA;const a=yield rO(MP(n.crypto.ciphertext),s.slice(0,16),MP(n.crypto.cipherparams.iv));return WC(a)})))(e,r,null===(i=null===n||void 0===n?void 0:n.nonStrict)||void 0===i||i);return Object.assign(Object.assign({},s),{signTransaction:e=>mD(void 0,void 0,void 0,(function*(){return t(e,s.privateKey)}))})})),i=()=>{const e=(()=>{const e=CR.utils.randomPrivateKey();return WC(`${LP(e)}`)})();return Object.assign(Object.assign({},e),{signTransaction:r=>mD(void 0,void 0,void 0,(function*(){return t(r,e.privateKey)}))})},s=new YI({create:i,privateKeyToAccount:r,decrypt:n});return{signTransaction:t,create:i,privateKeyToAccount:r,decrypt:n,recoverTransaction:FC,hashMessage:DC,sign:UC,recover:HC,encrypt:qC,wallet:s,privateKeyToAddress:zC,parseAndValidatePrivateKey:BC,privateKeyToPublicKey:GC}};var yD,bD,vD=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};(bD=yD||(yD={})).eip6963announceProvider="eip6963:announceProvider",bD.eip6963requestProvider="eip6963:requestProvider";const wD=new Map,AD="web3:providersMapUpdated";class _D extends QC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fD;var t;(wT(e)||"string"===typeof e&&""===e.trim()||"string"!==typeof e&&!FI(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};"string"===typeof e||FI(e)?r.provider=e:r=e||{},r.registeredSubscriptions=Object.assign(Object.assign({},iB),null!==(t=r.registeredSubscriptions)&&void 0!==t?t:{}),super(r);const n=gD(this);this._wallet=n.wallet,this._accountProvider=n,this.utils=s;const i=this;const o=i.use(sB);this.eth=Object.assign(o,{ens:i.use(zB,CB.main),Iban:ZC,net:i.use(NN),personal:i.use(eD),Contract:class extends xB{constructor(e,t,r,n,s){if(vT(t)&&vT(r))throw new VA("Should not provide options at both 2nd and 3rd parameters");let a,c,l,u={};if(!wT(t)&&"object"!==typeof t&&"string"!==typeof t)throw new VA;if("string"===typeof t&&(a=t),u=vT(t)?t:vT(r)?r:{},c=t instanceof QC?t:r instanceof QC?r:n instanceof QC?n:i.getContextObject(),s?l=s:OT(r)?l=r:OT(n)&&(l=n),super(e,a,u,c,l),super.subscribeToContextEvents(i),!wT(o)){const e=o.getTransactionMiddleware();wT(e)||super.setTransactionMiddleware(e)}}},abi:pD,accounts:n})}}_D.version="4.15.0",_D.utils=s,_D.requestEIP6963Providers=()=>vD(void 0,void 0,void 0,(function*(){return new Promise(((e,t)=>{"undefined"===typeof window&&t(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(yD.eip6963announceProvider,(t=>{wD.set(t.detail.info.uuid,t.detail);const r=new CustomEvent(AD,{detail:wD});window.dispatchEvent(r),e(wD)})),window.dispatchEvent(new Event(yD.eip6963requestProvider))}))})),_D.onNewProviderDiscovered=e=>{if("undefined"===typeof window)throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(AD,e)},_D.modules={Web3Eth:sB,Iban:ZC,Net:NN,ENS:zB,Personal:eD};const ED=_D,xD=(0,l.memo)((e=>{let{provider:t}=e;const r=na(),[n,i]=(0,l.useState)(),[s,o]=(0,l.useState)(),[a,c]=(0,l.useState)(),[u,d]=(0,l.useState)();(0,l.useEffect)((()=>{new ED(t).eth.getChainId().then((e=>i(e.toString())))}),[t]);const f=(0,l.useCallback)((async()=>{const e=new ED(t),r=await e.eth.getChainId();i(r.toString())}),[t]),p=(0,l.useCallback)((async()=>{if(!t)return;const e=new ED(t),r=await e.eth.getAccounts();r.length>0&&o(r[0])}),[t]),m=(0,l.useCallback)((async()=>{if(!t||!s)return;const e=new ED(t),r=await e.eth.personal.sign("Hello world",s,"password");d(r)}),[t,s]),g=(0,l.useCallback)((async()=>{if(!t||!s)return;const e=new ED(t),r=await e.eth.getBalance(s);c(r.toString())}),[t,s]);return(0,h.jsxs)(Au,{className:"gap-y-row",children:[(0,h.jsx)($w,{className:"px-pageFrame text-2xl",children:"EVM"}),(0,h.jsx)(Ww,{text:"Disconnect",onClick:r.openModal}),(0,h.jsx)(Ww,{text:"Get Chain ID",onClick:f}),(0,h.jsx)(Ww,{text:"Get Address",onClick:p}),s&&(0,h.jsxs)(l.Fragment,{children:[(0,h.jsx)(Ww,{text:"Sign",onClick:m}),(0,h.jsx)(Ww,{text:"Get Balance",onClick:g})]}),(0,h.jsxs)(Au,{className:"gap-y-row px-pageFrame",children:[(0,h.jsxs)($w,{className:"break-all",children:["Chain ID: ",n]}),(0,h.jsxs)($w,{className:"break-all",children:["Address: ",s]}),(0,h.jsxs)($w,{className:"break-all",children:["Balance: ",a]}),(0,h.jsxs)($w,{className:"break-all",children:["Signature: ",u]})]})]})}));xD.displayName="EvmConsumer";class kD extends Error{}class SD extends kD{}class PD extends kD{}class TD extends kD{}class ID extends kD{}class OD extends kD{}class RD extends SD{constructor(e,t){super(),this.address=e,this.errorDetail=t,this.name="InvalidAddressError",this.message=`Invalid address "${e}"`,this.message+=t?` ${t}.`:"."}}class CD extends SD{constructor(e,t){super(),this.address=e,this.errorDetail=t,this.name="InvalidStakingAddressError",this.message=`Invalid staking address "${e}", you can only set destination as your own address`}}class ND extends SD{constructor(e,t){super(),this.address=e,this.errorDetail=t,this.name="InvalidFinalizeUnstakeAmountError",this.message="The amount can only be 0 when finalizing an unstake"}}class LD extends SD{constructor(e,t){super(),this.blockHash=e,this.errorDetail=t,this.name="InvalidBlockHashError",this.message=`Invalid block hash "${e}"`,this.message+=t?` ${t}.`:"."}}class MD extends SD{constructor(e){super(),this.amount=e,this.name="InvalidAmountError",this.message=`Invalid amount "${e}"`}}class BD extends SD{constructor(e,t){super(),this.hexString=e,this.errorDetail=t,this.name="InvalidHexStringError",this.message=`Invalid hex string "${e}"`,this.message+=t?` ${t}.`:"."}}class DD extends SD{constructor(e,t){super(),this.msg=e,this.errorDetail=t,this.name="InvalidMessageError",this.message=`Invalid message "${e}"`,this.message+=t?` ${t}.`:"."}}class jD extends SD{constructor(e,t,r,n){super(),this.viewName=e,this.sigs=t,this.args=r,this.cause=n,this.name="InvalidViewParameterError",this.message=`Invalid view arguments ${JSON.stringify(r)} received for name "${e}" expecting one of the following signatures ${JSON.stringify(t)}.`}}class UD extends SD{constructor(e,t){super(),this.publicKey=e,this.errorDetail=t,this.name="InvalidPublicKeyError",this.message=`Invalid public key "${e}"`,this.message+=t?` ${t}.`:"."}}class FD extends SD{constructor(e,t){super(),this.contractAddress=e,this.errorDetail=t,this.name="InvalidContractAddressError",this.message=`Invalid contract address "${e}"`,this.message+=t?` ${t}.`:"."}}class HD extends SD{constructor(e,t){super(),this.chainId=e,this.errorDetail=t,this.name="InvalidChainIdError",this.message=`Invalid chain id "${e}"`,this.message+=t?` ${t}.`:"."}}class zD extends SD{constructor(e,t){super(),this.keyHash=e,this.errorDetail=t,this.name="InvalidKeyHashError",this.message=`Invalid public key hash "${e}"`,this.message+=t?` ${t}.`:"."}}class GD extends SD{constructor(e,t){super(),this.operationHash=e,this.errorDetail=t,this.name="InvalidOperationHashError",this.message=`Invalid operation hash "${e}"`,this.message+=t?` ${t}.`:"."}}class qD extends SD{constructor(e,t){super(),this.operationKind=e,this.errorDetail=t,this.name="InvalidOperationKindError",this.message=`Invalid operation kind "${e}"`,this.message+=t?` ${t}.`:"."}}class WD extends ID{constructor(e){super(),this.message=e,this.name="DeprecationError"}}class $D extends kD{constructor(e,t){super(),this.pkh=e,this.cause=t,this.name="PublicKeyNotFoundError",this.message=`Public key not found of this address "${e}" in either wallet or contract API.`}}var KD,VD,QD=r(7802);function ZD(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}"function"===typeof SuppressedError&&SuppressedError;class YD extends OD{constructor(e,t,r){super(),this.method=e,this.url=t,this.cause=r,this.name="HttpRequestFailed",this.message=`${e} ${t} ${String(r)}`}}class JD extends OD{constructor(e,t,r,n,i){super(),this.message=e,this.status=t,this.statusText=r,this.body=n,this.url=i,this.name="HttpResponseError"}}class XD extends OD{constructor(e,t){super(),this.timeout=e,this.url=t,this.name="HttpTimeoutError",this.message=`HTTP request timeout of ${e}ms exceeded`}}(VD=KD||(KD={}))[VD.CONTINUE=100]="CONTINUE",VD[VD.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",VD[VD.PROCESSING=102]="PROCESSING",VD[VD.OK=200]="OK",VD[VD.CREATED=201]="CREATED",VD[VD.ACCEPTED=202]="ACCEPTED",VD[VD.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",VD[VD.NO_CONTENT=204]="NO_CONTENT",VD[VD.RESET_CONTENT=205]="RESET_CONTENT",VD[VD.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",VD[VD.MULTI_STATUS=207]="MULTI_STATUS",VD[VD.ALREADY_REPORTED=208]="ALREADY_REPORTED",VD[VD.IM_USED=226]="IM_USED",VD[VD.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",VD[VD.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",VD[VD.FOUND=302]="FOUND",VD[VD.SEE_OTHER=303]="SEE_OTHER",VD[VD.NOT_MODIFIED=304]="NOT_MODIFIED",VD[VD.USE_PROXY=305]="USE_PROXY",VD[VD.SWITCH_PROXY=306]="SWITCH_PROXY",VD[VD.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",VD[VD.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",VD[VD.BAD_REQUEST=400]="BAD_REQUEST",VD[VD.UNAUTHORIZED=401]="UNAUTHORIZED",VD[VD.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",VD[VD.FORBIDDEN=403]="FORBIDDEN",VD[VD.NOT_FOUND=404]="NOT_FOUND",VD[VD.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",VD[VD.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",VD[VD.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",VD[VD.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",VD[VD.CONFLICT=409]="CONFLICT",VD[VD.GONE=410]="GONE",VD[VD.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",VD[VD.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",VD[VD.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",VD[VD.URI_TOO_LONG=414]="URI_TOO_LONG",VD[VD.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",VD[VD.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",VD[VD.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",VD[VD.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",VD[VD.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",VD[VD.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",VD[VD.LOCKED=423]="LOCKED",VD[VD.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",VD[VD.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",VD[VD.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",VD[VD.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",VD[VD.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",VD[VD.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",VD[VD.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",VD[VD.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",VD[VD.BAD_GATEWAY=502]="BAD_GATEWAY",VD[VD.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",VD[VD.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",VD[VD.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",VD[VD.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",VD[VD.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",VD[VD.LOOP_DETECTED=508]="LOOP_DETECTED",VD[VD.NOT_EXTENDED=510]="NOT_EXTENDED",VD[VD.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED";var ej;let tj=null===globalThis||void 0===globalThis?void 0:globalThis.fetch;"undefined"!==typeof QD&&!!(null===(ej=null===QD||void 0===QD?void 0:QD.versions)||void 0===ej?void 0:ej.node)&&(tj=r(5632));class rj{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;this.timeout=e}serialize(e){if(!e)return"";const t=[];for(const n in e)if(e.hasOwnProperty(n)&&"undefined"!==typeof e[n]){const r="function"===typeof e[n].toJSON?e[n].toJSON():e[n];if(null===r){t.push(encodeURIComponent(n));continue}if(Array.isArray(r)){r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}));continue}t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}const r=t.join("&");return r?`?${r}`:""}createRequest(e,t){return ZD(this,arguments,void 0,(function(e,t){var r=this;let{url:n,method:i,timeout:s=this.timeout,query:o,headers:a={},json:c=!0}=e;return function*(){const e=n+r.serialize(o);a["Content-Type"]||(a["Content-Type"]="application/json");const l=new AbortController,u=setTimeout((()=>l.abort()),s);try{const r=yield tj(e,{keepalive:!1,method:i,headers:a,body:JSON.stringify(t),signal:l.signal});if("undefined"===typeof r)throw new Error("Response is undefined");if(r.status>=400){const t=yield r.text();throw new JD(`Http error response: (${r.status}) ${t}`,r.status,r.statusText,t,e)}return c?r.json():r.text()}catch(bZ){throw bZ instanceof Error&&"AbortError"===bZ.name?new XD(s,e):bZ instanceof JD?bZ:new YD(String(i),e,bZ)}finally{clearTimeout(u)}}()}))}}var nj=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ij=Math.ceil,sj=Math.floor,oj="[BigNumber Error] ",aj=oj+"Number primitive has more than 15 significant digits: ",cj=1e14,lj=14,uj=9007199254740991,dj=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],hj=1e7,fj=1e9;function pj(e){var t=0|e;return e>0||e===t?t:t-1}function mj(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(t=e[n++]+"",r=lj-t.length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function gj(e,t){var r,n,i=e.c,s=t.c,o=e.s,a=t.s,c=e.e,l=t.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==l,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function yj(e,t,r,n){if(e<t||e>r||e!==sj(e))throw Error(oj+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function bj(e){var t=e.c.length-1;return pj(e.e/lj)==t&&e.c[t]%2!=0}function vj(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function wj(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Aj=function e(t){var r,n,i,s=v.prototype={constructor:v,toString:null,valueOf:null},o=new v(1),a=20,c=4,l=-7,u=21,d=-1e7,h=1e7,f=!1,p=1,m=0,g={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},y="0123456789abcdefghijklmnopqrstuvwxyz",b=!0;function v(e,t){var r,s,o,l,u,f,p,m,g=this;if(!(g instanceof v))return new v(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>h?g.c=g.e=null:e.e<d?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,u=e;u>=10;u/=10,l++);return void(l>h?g.c=g.e=null:(g.e=l,g.c=[e]))}m=String(e)}else{if(!nj.test(m=String(e)))return i(g,m,f);g.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(l=m.indexOf("."))>-1&&(m=m.replace(".","")),(u=m.search(/e/i))>0?(l<0&&(l=u),l+=+m.slice(u+1),m=m.substring(0,u)):l<0&&(l=m.length)}else{if(yj(t,2,y.length,"Base"),10==t&&b)return E(g=new v(e),a+g.e+1,c);if(m=String(e),f="number"==typeof e){if(0*e!=0)return i(g,m,f,t);if(g.s=1/e<0?(m=m.slice(1),-1):1,v.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(aj+e)}else g.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(r=y.slice(0,t),l=u=0,p=m.length;u<p;u++)if(r.indexOf(s=m.charAt(u))<0){if("."==s){if(u>l){l=p;continue}}else if(!o&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){o=!0,u=-1,l=0;continue}return i(g,String(e),f,t)}f=!1,(l=(m=n(m,t,10,g.s)).indexOf("."))>-1?m=m.replace(".",""):l=m.length}for(u=0;48===m.charCodeAt(u);u++);for(p=m.length;48===m.charCodeAt(--p););if(m=m.slice(u,++p)){if(p-=u,f&&v.DEBUG&&p>15&&(e>uj||e!==sj(e)))throw Error(aj+g.s*e);if((l=l-u-1)>h)g.c=g.e=null;else if(l<d)g.c=[g.e=0];else{if(g.e=l,g.c=[],u=(l+1)%lj,l<0&&(u+=lj),u<p){for(u&&g.c.push(+m.slice(0,u)),p-=lj;u<p;)g.c.push(+m.slice(u,u+=lj));u=lj-(m=m.slice(u)).length}else u-=p;for(;u--;m+="0");g.c.push(+m)}}else g.c=[g.e=0]}function w(e,t,r,n){var i,s,o,a,d;if(null==r?r=c:yj(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)d=mj(e.c),d=1==n||2==n&&(o<=l||o>=u)?vj(d,o):wj(d,o,"0");else if(s=(e=E(new v(e),t,r)).e,a=(d=mj(e.c)).length,1==n||2==n&&(t<=s||s<=l)){for(;a<t;d+="0",a++);d=vj(d,s)}else if(t-=o,d=wj(d,s,"0"),s+1>a){if(--t>0)for(d+=".";t--;d+="0");}else if((t+=s-a)>0)for(s+1==a&&(d+=".");t--;d+="0");return e.s<0&&i?"-"+d:d}function A(e,t){for(var r,n,i=1,s=new v(e[0]);i<e.length;i++)(!(n=new v(e[i])).s||(r=gj(s,n))===t||0===r&&s.s===t)&&(s=n);return s}function _(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*lj-1)>h?e.c=e.e=null:r<d?e.c=[e.e=0]:(e.e=r,e.c=t),e}function E(e,t,r,n){var i,s,o,a,c,l,u,f=e.c,p=dj;if(f){e:{for(i=1,a=f[0];a>=10;a/=10,i++);if((s=t-i)<0)s+=lj,o=t,c=f[l=0],u=sj(c/p[i-o-1]%10);else if((l=ij((s+1)/lj))>=f.length){if(!n)break e;for(;f.length<=l;f.push(0));c=u=0,i=1,o=(s%=lj)-lj+1}else{for(c=a=f[l],i=1;a>=10;a/=10,i++);u=(o=(s%=lj)-lj+i)<0?0:sj(c/p[i-o-1]%10)}if(n=n||t<0||null!=f[l+1]||(o<0?c:c%p[i-o-1]),n=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?o>0?c/p[i-o]:0:f[l-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,n?(t-=e.e+1,f[0]=p[(lj-t%lj)%lj],e.e=-t||0):f[0]=e.e=0,e;if(0==s?(f.length=l,a=1,l--):(f.length=l+1,a=p[lj-s],f[l]=o>0?sj(c/p[i-o]%p[o])*a:0),n)for(;;){if(0==l){for(s=1,o=f[0];o>=10;o/=10,s++);for(o=f[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(e.e++,f[0]==cj&&(f[0]=1));break}if(f[l]+=a,f[l]!=cj)break;f[l--]=0,a=1}for(s=f.length;0===f[--s];f.pop());}e.e>h?e.c=e.e=null:e.e<d&&(e.c=[e.e=0])}return e}function x(e){var t,r=e.e;return null===r?e.toString():(t=mj(e.c),t=r<=l||r>=u?vj(t,r):wj(t,r,"0"),e.s<0?"-"+t:t)}return v.clone=e,v.ROUND_UP=0,v.ROUND_DOWN=1,v.ROUND_CEIL=2,v.ROUND_FLOOR=3,v.ROUND_HALF_UP=4,v.ROUND_HALF_DOWN=5,v.ROUND_HALF_EVEN=6,v.ROUND_HALF_CEIL=7,v.ROUND_HALF_FLOOR=8,v.EUCLID=9,v.config=v.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(oj+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(yj(r=e[t],0,fj,t),a=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(yj(r=e[t],0,8,t),c=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(yj(r[0],-fj,0,t),yj(r[1],0,fj,t),l=r[0],u=r[1]):(yj(r,-fj,fj,t),l=-(u=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)yj(r[0],-fj,-1,t),yj(r[1],1,fj,t),d=r[0],h=r[1];else{if(yj(r,-fj,fj,t),!r)throw Error(oj+t+" cannot be zero: "+r);d=-(h=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(oj+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw f=!r,Error(oj+"crypto unavailable");f=r}else f=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(yj(r=e[t],0,9,t),p=r),e.hasOwnProperty(t="POW_PRECISION")&&(yj(r=e[t],0,fj,t),m=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(oj+t+" not an object: "+r);g=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(oj+t+" invalid: "+r);b="0123456789"==r.slice(0,10),y=r}}return{DECIMAL_PLACES:a,ROUNDING_MODE:c,EXPONENTIAL_AT:[l,u],RANGE:[d,h],CRYPTO:f,MODULO_MODE:p,POW_PRECISION:m,FORMAT:g,ALPHABET:y}},v.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!v.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&i>=-fj&&i<=fj&&i===sj(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%lj)<1&&(t+=lj),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=cj||r!==sj(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(oj+"Invalid BigNumber: "+e)},v.maximum=v.max=function(){return A(arguments,-1)},v.minimum=v.min=function(){return A(arguments,1)},v.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return sj(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var r,n,i,s,c,l=0,u=[],d=new v(o);if(null==e?e=a:yj(e,0,fj),s=ij(e/lj),f)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(s*=2));l<s;)(c=131072*r[l]+(r[l+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),r[l]=n[0],r[l+1]=n[1]):(u.push(c%1e14),l+=2);l=s/2}else{if(!crypto.randomBytes)throw f=!1,Error(oj+"crypto unavailable");for(r=crypto.randomBytes(s*=7);l<s;)(c=281474976710656*(31&r[l])+1099511627776*r[l+1]+4294967296*r[l+2]+16777216*r[l+3]+(r[l+4]<<16)+(r[l+5]<<8)+r[l+6])>=9e15?crypto.randomBytes(7).copy(r,l):(u.push(c%1e14),l+=7);l=s/7}if(!f)for(;l<s;)(c=t())<9e15&&(u[l++]=c%1e14);for(s=u[--l],e%=lj,s&&e&&(c=dj[lj-e],u[l]=sj(s/c)*c);0===u[l];u.pop(),l--);if(l<0)u=[i=0];else{for(i=-1;0===u[0];u.splice(0,1),i-=lj);for(l=1,c=u[0];c>=10;c/=10,l++);l<lj&&(i-=lj-l)}return d.e=i,d.c=u,d}}(),v.sum=function(){for(var e=1,t=arguments,r=new v(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=n.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,s,o,l){var u,d,h,f,p,g,b,w,A=n.indexOf("."),_=a,E=c;for(A>=0&&(f=m,m=0,n=n.replace(".",""),g=(w=new v(i)).pow(n.length-A),m=f,w.c=t(wj(mj(g.c),g.e,"0"),10,s,e),w.e=w.c.length),h=f=(b=t(n,i,s,l?(u=y,e):(u=e,y))).length;0==b[--f];b.pop());if(!b[0])return u.charAt(0);if(A<0?--h:(g.c=b,g.e=h,g.s=o,b=(g=r(g,w,_,E,s)).c,p=g.r,h=g.e),A=b[d=h+_+1],f=s/2,p=p||d<0||null!=b[d+1],p=E<4?(null!=A||p)&&(0==E||E==(g.s<0?3:2)):A>f||A==f&&(4==E||p||6==E&&1&b[d-1]||E==(g.s<0?8:7)),d<1||!b[0])n=p?wj(u.charAt(1),-_,u.charAt(0)):u.charAt(0);else{if(b.length=d,p)for(--s;++b[--d]>s;)b[d]=0,d||(++h,b=[1].concat(b));for(f=b.length;!b[--f];);for(A=0,n="";A<=f;n+=u.charAt(b[A++]));n=wj(n,h,u.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,s,o,a=0,c=e.length,l=t%hj,u=t/hj|0;for(e=e.slice();c--;)a=((i=l*(s=e[c]%hj)+(n=u*s+(o=e[c]/hj|0)*l)%hj*hj+a)/r|0)+(n/hj|0)+u*o,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,o,a){var c,l,u,d,h,f,p,m,g,y,b,w,A,_,x,k,S,P=n.s==i.s?1:-1,T=n.c,I=i.c;if(!T||!T[0]||!I||!I[0])return new v(n.s&&i.s&&(T?!I||T[0]!=I[0]:I)?T&&0==T[0]||!I?0*P:P/0:NaN);for(g=(m=new v(P)).c=[],P=s+(l=n.e-i.e)+1,a||(a=cj,l=pj(n.e/lj)-pj(i.e/lj),P=P/lj|0),u=0;I[u]==(T[u]||0);u++);if(I[u]>(T[u]||0)&&l--,P<0)g.push(1),d=!0;else{for(_=T.length,k=I.length,u=0,P+=2,(h=sj(a/(I[0]+1)))>1&&(I=e(I,h,a),T=e(T,h,a),k=I.length,_=T.length),A=k,b=(y=T.slice(0,k)).length;b<k;y[b++]=0);S=I.slice(),S=[0].concat(S),x=I[0],I[1]>=a/2&&x++;do{if(h=0,(c=t(I,y,k,b))<0){if(w=y[0],k!=b&&(w=w*a+(y[1]||0)),(h=sj(w/x))>1)for(h>=a&&(h=a-1),p=(f=e(I,h,a)).length,b=y.length;1==t(f,y,p,b);)h--,r(f,k<p?S:I,p,a),p=f.length,c=1;else 0==h&&(c=h=1),p=(f=I.slice()).length;if(p<b&&(f=[0].concat(f)),r(y,f,b,a),b=y.length,-1==c)for(;t(I,y,k,b)<1;)h++,r(y,k<b?S:I,b,a),b=y.length}else 0===c&&(h++,y=[0]);g[u++]=h,y[0]?y[b++]=T[A]||0:(y=[T[A]],b=1)}while((A++<_||null!=y[0])&&P--);d=null!=y[0],g[0]||g.splice(0,1)}if(a==cj){for(u=1,P=g[0];P>=10;P/=10,u++);E(m,s+(m.e=u+l*lj-1)+1,o,d)}else m.e=l,m.r=+d;return m}}(),i=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,r=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(s,o,a,c){var l,u=a?o:o.replace(i,"");if(n.test(u))s.s=isNaN(u)?null:u<0?-1:1;else{if(!a&&(u=u.replace(e,(function(e,t,r){return l="x"==(r=r.toLowerCase())?16:"b"==r?2:8,c&&c!=l?e:t})),c&&(l=c,u=u.replace(t,"$1").replace(r,"0.$1")),o!=u))return new v(u,l);if(v.DEBUG)throw Error(oj+"Not a"+(c?" base "+c:"")+" number: "+o);s.s=null}s.c=s.e=null}}(),s.absoluteValue=s.abs=function(){var e=new v(this);return e.s<0&&(e.s=1),e},s.comparedTo=function(e,t){return gj(this,new v(e,t))},s.decimalPlaces=s.dp=function(e,t){var r,n,i,s=this;if(null!=e)return yj(e,0,fj),null==t?t=c:yj(t,0,8),E(new v(s),e+s.e+1,t);if(!(r=s.c))return null;if(n=((i=r.length-1)-pj(this.e/lj))*lj,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},s.dividedBy=s.div=function(e,t){return r(this,new v(e,t),a,c)},s.dividedToIntegerBy=s.idiv=function(e,t){return r(this,new v(e,t),0,1)},s.exponentiatedBy=s.pow=function(e,t){var r,n,i,s,a,l,u,d,h=this;if((e=new v(e)).c&&!e.isInteger())throw Error(oj+"Exponent not an integer: "+x(e));if(null!=t&&(t=new v(t)),a=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return d=new v(Math.pow(+x(h),a?e.s*(2-bj(e)):+x(e))),t?d.mod(t):d;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new v(NaN);(n=!l&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||a&&h.c[1]>=24e7:h.c[0]<8e13||a&&h.c[0]<=9999975e7)))return s=h.s<0&&bj(e)?-0:0,h.e>-1&&(s=1/s),new v(l?1/s:s);m&&(s=ij(m/lj+2))}for(a?(r=new v(.5),l&&(e.s=1),u=bj(e)):u=(i=Math.abs(+x(e)))%2,d=new v(o);;){if(u){if(!(d=d.times(h)).c)break;s?d.c.length>s&&(d.c.length=s):n&&(d=d.mod(t))}if(i){if(0===(i=sj(i/2)))break;u=i%2}else if(E(e=e.times(r),e.e+1,1),e.e>14)u=bj(e);else{if(0===(i=+x(e)))break;u=i%2}h=h.times(h),s?h.c&&h.c.length>s&&(h.c.length=s):n&&(h=h.mod(t))}return n?d:(l&&(d=o.div(d)),t?d.mod(t):s?E(d,m,c,undefined):d)},s.integerValue=function(e){var t=new v(this);return null==e?e=c:yj(e,0,8),E(t,t.e+1,e)},s.isEqualTo=s.eq=function(e,t){return 0===gj(this,new v(e,t))},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(e,t){return gj(this,new v(e,t))>0},s.isGreaterThanOrEqualTo=s.gte=function(e,t){return 1===(t=gj(this,new v(e,t)))||0===t},s.isInteger=function(){return!!this.c&&pj(this.e/lj)>this.c.length-2},s.isLessThan=s.lt=function(e,t){return gj(this,new v(e,t))<0},s.isLessThanOrEqualTo=s.lte=function(e,t){return-1===(t=gj(this,new v(e,t)))||0===t},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&0==this.c[0]},s.minus=function(e,t){var r,n,i,s,o=this,a=o.s;if(t=(e=new v(e,t)).s,!a||!t)return new v(NaN);if(a!=t)return e.s=-t,o.plus(e);var l=o.e/lj,u=e.e/lj,d=o.c,h=e.c;if(!l||!u){if(!d||!h)return d?(e.s=-t,e):new v(h?o:NaN);if(!d[0]||!h[0])return h[0]?(e.s=-t,e):new v(d[0]?o:3==c?-0:0)}if(l=pj(l),u=pj(u),d=d.slice(),a=l-u){for((s=a<0)?(a=-a,i=d):(u=l,i=h),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(s=(a=d.length)<(t=h.length))?a:t,a=t=0;t<n;t++)if(d[t]!=h[t]){s=d[t]<h[t];break}if(s&&(i=d,d=h,h=i,e.s=-e.s),(t=(n=h.length)-(r=d.length))>0)for(;t--;d[r++]=0);for(t=cj-1;n>a;){if(d[--n]<h[n]){for(r=n;r&&!d[--r];d[r]=t);--d[r],d[n]+=cj}d[n]-=h[n]}for(;0==d[0];d.splice(0,1),--u);return d[0]?_(e,d,u):(e.s=3==c?-1:1,e.c=[e.e=0],e)},s.modulo=s.mod=function(e,t){var n,i,s=this;return e=new v(e,t),!s.c||!e.s||e.c&&!e.c[0]?new v(NaN):!e.c||s.c&&!s.c[0]?new v(s):(9==p?(i=e.s,e.s=1,n=r(s,e,0,3),e.s=i,n.s*=i):n=r(s,e,0,p),(e=s.minus(n.times(e))).c[0]||1!=p||(e.s=s.s),e)},s.multipliedBy=s.times=function(e,t){var r,n,i,s,o,a,c,l,u,d,h,f,p,m,g,y=this,b=y.c,w=(e=new v(e,t)).c;if(!b||!w||!b[0]||!w[0])return!y.s||!e.s||b&&!b[0]&&!w||w&&!w[0]&&!b?e.c=e.e=e.s=null:(e.s*=y.s,b&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=pj(y.e/lj)+pj(e.e/lj),e.s*=y.s,(c=b.length)<(d=w.length)&&(p=b,b=w,w=p,i=c,c=d,d=i),i=c+d,p=[];i--;p.push(0));for(m=cj,g=hj,i=d;--i>=0;){for(r=0,h=w[i]%g,f=w[i]/g|0,s=i+(o=c);s>i;)r=((l=h*(l=b[--o]%g)+(a=f*l+(u=b[o]/g|0)*h)%g*g+p[s]+r)/m|0)+(a/g|0)+f*u,p[s--]=l%m;p[s]=r}return r?++n:p.splice(0,1),_(e,p,n)},s.negated=function(){var e=new v(this);return e.s=-e.s||null,e},s.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new v(e,t)).s,!i||!t)return new v(NaN);if(i!=t)return e.s=-t,n.minus(e);var s=n.e/lj,o=e.e/lj,a=n.c,c=e.c;if(!s||!o){if(!a||!c)return new v(i/0);if(!a[0]||!c[0])return c[0]?e:new v(a[0]?n:0*i)}if(s=pj(s),o=pj(o),a=a.slice(),i=s-o){for(i>0?(o=s,r=c):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=c.length)<0&&(r=c,c=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/cj|0,a[t]=cj===a[t]?0:a[t]%cj;return i&&(a=[i].concat(a),++o),_(e,a,o)},s.precision=s.sd=function(e,t){var r,n,i,s=this;if(null!=e&&e!==!!e)return yj(e,1,fj),null==t?t=c:yj(t,0,8),E(new v(s),e,t);if(!(r=s.c))return null;if(n=(i=r.length-1)*lj+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&s.e+1>n&&(n=s.e+1),n},s.shiftedBy=function(e){return yj(e,-9007199254740991,uj),this.times("1e"+e)},s.squareRoot=s.sqrt=function(){var e,t,n,i,s,o=this,l=o.c,u=o.s,d=o.e,h=a+4,f=new v("0.5");if(1!==u||!l||!l[0])return new v(!u||u<0&&(!l||l[0])?NaN:l?o:1/0);if(0==(u=Math.sqrt(+x(o)))||u==1/0?(((t=mj(l)).length+d)%2==0&&(t+="0"),u=Math.sqrt(+t),d=pj((d+1)/2)-(d<0||d%2),n=new v(t=u==1/0?"5e"+d:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+d)):n=new v(u+""),n.c[0])for((u=(d=n.e)+h)<3&&(u=0);;)if(s=n,n=f.times(s.plus(r(o,s,h,1))),mj(s.c).slice(0,u)===(t=mj(n.c)).slice(0,u)){if(n.e<d&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(E(n,n.e+a+2,1),e=!n.times(n).eq(o));break}if(!i&&(E(s,s.e+a+2,0),s.times(s).eq(o))){n=s;break}h+=4,u+=4,i=1}return E(n,n.e+a+1,c,e)},s.toExponential=function(e,t){return null!=e&&(yj(e,0,fj),e++),w(this,e,t,1)},s.toFixed=function(e,t){return null!=e&&(yj(e,0,fj),e=e+this.e+1),w(this,e,t)},s.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=g;else if("object"!=typeof r)throw Error(oj+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var s,o=n.split("."),a=+r.groupSize,c=+r.secondaryGroupSize,l=r.groupSeparator||"",u=o[0],d=o[1],h=i.s<0,f=h?u.slice(1):u,p=f.length;if(c&&(s=a,a=c,c=s,p-=s),a>0&&p>0){for(s=p%a||a,u=f.substr(0,s);s<p;s+=a)u+=l+f.substr(s,a);c>0&&(u+=l+f.slice(s)),h&&(u="-"+u)}n=d?u+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):u}return(r.prefix||"")+n+(r.suffix||"")},s.toFraction=function(e){var t,n,i,s,a,l,u,d,f,p,m,g,y=this,b=y.c;if(null!=e&&(!(u=new v(e)).isInteger()&&(u.c||1!==u.s)||u.lt(o)))throw Error(oj+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+x(u));if(!b)return new v(y);for(t=new v(o),f=n=new v(o),i=d=new v(o),g=mj(b),a=t.e=g.length-y.e-1,t.c[0]=dj[(l=a%lj)<0?lj+l:l],e=!e||u.comparedTo(t)>0?a>0?t:f:u,l=h,h=1/0,u=new v(g),d.c[0]=0;p=r(u,t,0,1),1!=(s=n.plus(p.times(i))).comparedTo(e);)n=i,i=s,f=d.plus(p.times(s=f)),d=s,t=u.minus(p.times(s=t)),u=s;return s=r(e.minus(n),i,0,1),d=d.plus(s.times(f)),n=n.plus(s.times(i)),d.s=f.s=y.s,m=r(f,i,a*=2,c).minus(y).abs().comparedTo(r(d,n,a,c).minus(y).abs())<1?[f,i]:[d,n],h=l,m},s.toNumber=function(){return+x(this)},s.toPrecision=function(e,t){return null!=e&&yj(e,1,fj),w(this,e,t,2)},s.toString=function(e){var t,r=this,i=r.s,s=r.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=l||s>=u?vj(mj(r.c),s):wj(mj(r.c),s,"0"):10===e&&b?t=wj(mj((r=E(new v(r),a+s+1,c)).c),r.e,"0"):(yj(e,2,y.length,"Base"),t=n(wj(mj(r.c),s,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},s.valueOf=s.toJSON=function(){return x(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,null!=t&&v.set(t),v}();const _j=Aj;var Ej,xj,kj=r(4507),Sj=(r(7172),r(7360),r(2129)),Pj=r.n(Sj),Tj=r(2981),Ij=r.n(Tj);r(8965),r(1587);(xj=Ej||(Ej={})).TZ1="tz1",xj.TZ2="tz2",xj.TZ3="tz3",xj.TZ4="tz4",xj.KT="KT",xj.KT1="KT1",xj.EDSK2="edsk2",xj.SPSK="spsk",xj.P2SK="p2sk",xj.EDPK="edpk",xj.SPPK="sppk",xj.P2PK="p2pk",xj.BLPK="BLpk",xj.EDESK="edesk",xj.SPESK="spesk",xj.P2ESK="p2esk",xj.EDSK="edsk",xj.EDSIG="edsig",xj.SPSIG="spsig",xj.P2SIG="p2sig",xj.SIG="sig",xj.NET="Net",xj.NCE="nce",xj.B="B",xj.O="o",xj.LO="Lo",xj.LLO="LLo",xj.P="P",xj.CO="Co",xj.ID="id",xj.EXPR="expr",xj.TZ="TZ",xj.VH="vh",xj.SASK="sask",xj.ZET1="zet1",xj.SR1="sr1",xj.SRC1="src1",xj.SH="sh";const Oj={[Ej.TZ1]:new Uint8Array([6,161,159]),[Ej.TZ2]:new Uint8Array([6,161,161]),[Ej.TZ3]:new Uint8Array([6,161,164]),[Ej.TZ4]:new Uint8Array([6,161,166]),[Ej.KT]:new Uint8Array([2,90,121]),[Ej.KT1]:new Uint8Array([2,90,121]),[Ej.EDSK]:new Uint8Array([43,246,78,7]),[Ej.EDSK2]:new Uint8Array([13,15,58,7]),[Ej.SPSK]:new Uint8Array([17,162,224,201]),[Ej.P2SK]:new Uint8Array([16,81,238,189]),[Ej.EDPK]:new Uint8Array([13,15,37,217]),[Ej.SPPK]:new Uint8Array([3,254,226,86]),[Ej.P2PK]:new Uint8Array([3,178,139,127]),[Ej.BLPK]:new Uint8Array([6,149,135,204]),[Ej.EDESK]:new Uint8Array([7,90,60,179,41]),[Ej.SPESK]:new Uint8Array([9,237,241,174,150]),[Ej.P2ESK]:new Uint8Array([9,48,57,115,171]),[Ej.EDSIG]:new Uint8Array([9,245,205,134,18]),[Ej.SPSIG]:new Uint8Array([13,115,101,19,63]),[Ej.P2SIG]:new Uint8Array([54,240,44,52]),[Ej.SIG]:new Uint8Array([4,130,43]),[Ej.NET]:new Uint8Array([87,82,0]),[Ej.NCE]:new Uint8Array([69,220,169]),[Ej.B]:new Uint8Array([1,52]),[Ej.O]:new Uint8Array([5,116]),[Ej.LO]:new Uint8Array([133,233]),[Ej.LLO]:new Uint8Array([29,159,109]),[Ej.P]:new Uint8Array([2,170]),[Ej.CO]:new Uint8Array([79,179]),[Ej.ID]:new Uint8Array([153,103]),[Ej.EXPR]:new Uint8Array([13,44,64,27]),[Ej.TZ]:new Uint8Array([2,90,121]),[Ej.VH]:new Uint8Array([1,106,242]),[Ej.SASK]:new Uint8Array([11,237,20,92]),[Ej.ZET1]:new Uint8Array([18,71,40,223]),[Ej.SR1]:new Uint8Array([6,124,117]),[Ej.SRC1]:new Uint8Array([17,165,134,138]),[Ej.SH]:new Uint8Array([2,116,180])},Rj={[Ej.TZ1]:20,[Ej.TZ2]:20,[Ej.TZ3]:20,[Ej.TZ4]:20,[Ej.KT]:20,[Ej.KT1]:20,[Ej.EDPK]:32,[Ej.SPPK]:33,[Ej.P2PK]:33,[Ej.BLPK]:48,[Ej.EDSIG]:64,[Ej.SPSIG]:64,[Ej.P2SIG]:64,[Ej.SIG]:64,[Ej.NET]:4,[Ej.B]:32,[Ej.P]:32,[Ej.O]:32,[Ej.VH]:32,[Ej.SASK]:169,[Ej.ZET1]:43,[Ej.SR1]:20,[Ej.SRC1]:32,[Ej.SH]:48};class Cj extends ID{constructor(e,t){super(),this.value=e,this.desiredType=t,this.name="ValueConversionError",this.message=`Unable to convert ${e} to a ${t}`}}var Nj;function Lj(e,t){const r=new RegExp(`^(${t.join("|")})`).exec(e);if(!r||0===r.length)return Nj.NO_PREFIX_MATCHED;const n=r[0];if(!function(e){return"string"===typeof e&&e in Oj}(n))return Nj.NO_PREFIX_MATCHED;e.includes("%")&&(e=e.split("%")[0]);if(!/^(KT1\w{33})$/.test(e)&&"KT1"===n)return Nj.INVALID_CHECKSUM;let i=Ij().decodeUnsafe(e);return i?(i=i.slice(Oj[n].length),i.length!==Rj[n]?Nj.INVALID_LENGTH:Nj.VALID):Nj.INVALID_CHECKSUM}!function(e){e[e.NO_PREFIX_MATCHED=0]="NO_PREFIX_MATCHED",e[e.INVALID_CHECKSUM=1]="INVALID_CHECKSUM",e[e.INVALID_LENGTH=2]="INVALID_LENGTH",e[e.VALID=3]="VALID"}(Nj||(Nj={}));const Mj=[Ej.TZ1,Ej.TZ2,Ej.TZ3,Ej.TZ4],Bj=[Ej.KT1],Dj=[Ej.EDSIG,Ej.P2SIG,Ej.SPSIG,Ej.SIG],jj=[Ej.EDPK,Ej.SPPK,Ej.P2PK,Ej.BLPK],Uj=[Ej.O],Fj=(Ej.P,[Ej.B]),Hj=[Ej.SR1];function zj(e){return Lj(e,[...Mj,...Bj,...Hj])}function Gj(e){return Lj(e,[Ej.NET])}function qj(e){return Lj(e,Bj)}function Wj(e){return Lj(e,Mj)}function $j(e){return Lj(e,Dj)}function Kj(e){return Lj(e,jj)}function Vj(e){return Lj(e,Uj)}function Qj(e){switch(e){case Nj.NO_PREFIX_MATCHED:return"with unsupported prefix";case Nj.INVALID_CHECKSUM:return"failed checksum";case Nj.INVALID_LENGTH:return"with incorrect length";default:return""}}function Zj(e){switch(e){case"tz":return 6;case"mtz":return 3;default:return 0}}function Yj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mutez",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mutez",r=arguments.length>2?arguments[2]:void 0;const n=new _j(r);return n.isNaN()?r:n.multipliedBy(Math.pow(10,Zj(e))).dividedBy(Math.pow(10,Zj(t)))}function Jj(e,t){const r="string"===typeof e?Uint8Array.from(kj.Buffer.from(e,"hex")):e,n=new Uint8Array(t.length+r.length);return n.set(t),n.set(r,t.length),Ij().encode(kj.Buffer.from(n.buffer))}const Xj=(e,t)=>Ij().decode(e).slice(t.length);function eU(e){if("0x"===e.substring(0,2)&&(e=e.slice(2)),"00"===e.substring(0,2)){const t={"0000":Oj.tz1,"0001":Oj.tz2,"0002":Oj.tz3};return Jj(e.substring(4),t[e.substring(0,4)])}return Jj(e.substring(2,42),Oj.KT)}function tU(e){if("0"===e[0]){const t={"00":new Uint8Array([6,161,159]),"01":new Uint8Array([6,161,161]),"02":new Uint8Array([6,161,164])};return Jj(e.substring(2),t[e.substring(0,2)])}}const rU=e=>{if(e.length%2!==0)throw new BD(e,": Expecting even number of characters");const t=iU(e);if(!t.match(/^([\da-f]{2})*$/gi))throw new BD(e,": Only characters 0-9, a-f and A-F are expected. Optionally, it can be prefixed with '0x'");const r=new Uint8Array(t.length/2);let n=0;for(let i=0;i<t.length;i+=2){const s=parseInt(t.slice(i,i+2),16);if(Number.isNaN(s))throw new Cj(e,"Uint8Array");r[n++]=s}return r},nU=e=>{const t=[];return e.forEach((e=>{const r=`00${e.toString(16)}`.slice(-2);t.push(r)})),t.join("")};function iU(e){return e.startsWith("0x")?e.slice(2):e}function sU(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function oU(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}"function"===typeof SuppressedError&&SuppressedError;const aU={block:"head"};var cU,lU;function uU(e,t){const r=Array.isArray(e);"undefined"===typeof t&&(t=Object.keys(e));const n=r?[]:{};return t.forEach((t=>{const r=e[t];let i;if("undefined"!==typeof r){if(Array.isArray(r))return i=uU(r),void(n[t]=i);i=new _j(r),n[t]=i}})),n}(lU=cU||(cU={})).GET_BAKING_RIGHTS="getBakingRights",lU.GET_BALLOTS="getBallots",lU.GET_BALLOT_LIST="getBallotList",lU.GET_BIG_MAP_KEY="getBigMapKey",lU.GET_BIG_MAP_EXPR="getBigMapExpr",lU.GET_BLOCK_HASH="getBlockHash",lU.GET_BLOCK="getBlock",lU.GET_BLOCK_HEADER="getBlockHeader",lU.GET_BLOCK_METADATA="getBlockMetadata",lU.GET_BALANCE="getBalance",lU.GET_FULL_BALANCE="getFullBalance",lU.GET_STAKED_BALANCE="getStakedBalance",lU.GET_UNSTAKED_FINALIZABLE_BALANCE="getUnstakedFinalizableBalance",lU.GET_UNSTAKED_FROZEN_BALANCE="getUnstakedFrozenBalance",lU.GET_UNSTAKE_REQUESTS="getUnstakeRequests",lU.GET_CHAIN_ID="getChainId",lU.GET_CONSTANTS="getConstants",lU.GET_CONTRACT="getContract",lU.GET_CURRENT_PERIOD="getCurrentPeriod",lU.GET_CURRENT_PROPOSAL="getCurrentProposal",lU.GET_CURRENT_QUORUM="getCurrentQuorum",lU.GET_DELEGATE="getDelegate",lU.GET_ALL_DELEGATES="getAllDelegates",lU.GET_DELEGATES="getDelegates",lU.GET_VOTING_INFO="getVotingInfo",lU.GET_ATTESTATION_RIGHTS="getAttestationRights",lU.GET_ENTRYPOINTS="getEntrypoints",lU.GET_LIVE_BLOCKS="getLiveBlocks",lU.GET_MANAGER_KEY="getManagerKey",lU.GET_NORMALIZED_SCRIPT="getNormalizedScript",lU.GET_PROPOSALS="getProposals",lU.GET_PROTOCOLS="getProtocols",lU.GET_SAPLING_DIFF_BY_CONTRACT="getSaplingDiffByContract",lU.GET_SAPLING_DIFF_BY_ID="getSaplingDiffById",lU.GET_SCRIPT="getScript",lU.GET_STORAGE="getStorage",lU.GET_SUCCESSOR_PERIOD="getSuccessorPeriod",lU.GET_VOTES_LISTINGS="getVotesListings",lU.PACK_DATA="packData",lU.GET_STORAGE_USED_SPACE="getStorageUsedSpace",lU.GET_STORAGE_PAID_SPACE="getStoragePaidSpace",lU.GET_TICKET_BALANCE="getTicketBalance",lU.GET_ALL_TICKET_BALANCES="getAllTicketBalances",lU.GET_ADAPTIVE_ISSUANCE_LAUNCH_CYCLE="getAdaptiveIssuanceLaunchCycle",lU.GET_PENDING_OPERATIONS="getPendingOperations";var dU,hU,fU,pU,mU,gU,yU,bU,vU,wU,AU,_U,EU,xU,kU,SU,PU,TU,IU;(dU||(dU={})).TOO_LARGE="too large",(fU=hU||(hU={})).BAKING_BONUSES="baking bonuses",fU.BAKING_REWARDS="baking rewards",fU.BLOCK_FEES="block fees",fU.BONDS="bonds",fU.BOOTSTRAP="bootstrap",fU.BURNED="burned",fU.COMMITMENT="commitment",fU.DELEGATE_DENOMINATOR="delegate_denominator",fU.DELEGATOR_NUMERATOR="delegator_numerator",fU.DEPOSITS="deposits",fU.ENDORSING_REWARDS="endorsing rewards",fU.INVOICE="invoice",fU.LOST_ENDORSING_REWARDS="lost endorsing rewards",fU.LOST_ATTESTING_REWARDS="lost attesting rewards",fU.MINTED="minted",fU.NONCE_REVELATION_REWARDS="nonce revelation rewards",fU.PUNISHMENTS="punishments",fU.SMART_ROLLUP_REFUTATION_PUNISHMENTS="smart_rollup_refutation_punishments",fU.SMART_ROLLUP_REFUTATION_REWARDS="smart_rollup_refutation_rewards",fU.STORAGE_FEES="storage fees",fU.SUBSIDY="subsidy",fU.UNSTAKED_DEPOSITS="unstaked_deposits",fU.DOUBLE_SIGNING_EVIDENCE_REWARDS="double signing evidence rewards",fU.FEES="fees",fU.LEGACY_DEPOSITS="legacy_deposits",fU.LEGACY_FEES="legacy_fees",fU.LEGACY_REWARDS="legacy_rewards",fU.REWARDS="rewards",(mU=pU||(pU={})).WASM2="wasm_2_0_0",mU.ARITH="arith",mU.RISCV="riscv",(yU=gU||(gU={})).START="start",yU.MOVE="move",(vU=bU||(bU={})).INBOX_PROOF="inbox_proof",vU.REVEAL_PROOF="reveal_proof",vU.FIRST_INPUT="first_input",(AU=wU||(wU={})).RAW_DATA_PROOF="raw_data_proof",AU.METADATA_PROOF="metadata_proof",AU.DAL_PAGE_PROOF="dal_page_proof",AU.DAL_PARAMETERS_PROOF="dal_parameters_proof",(EU=_U||(_U={})).ONGOING="ongoing",EU.ENDED="ended",(kU=xU||(xU={})).LOSER="loser",kU.DRAW="draw",(PU=SU||(SU={})).CONFLICT_RESOLVED="conflict_resolved",PU.TIMEOUT="timeout",(IU=TU||(TU={})).ORIGINATION="origination",IU.DELEGATION="delegation",IU.REVEAL="reveal",IU.TRANSACTION="transaction",IU.ACTIVATION="activate_account",IU.ATTESTATION="attestation",IU.ENDORSEMENT="endorsement",IU.PREATTESTATION="preattestation",IU.PREENDORSEMENT="preendorsement",IU.SET_DEPOSITS_LIMIT="set_deposits_limit",IU.DOUBLE_PREATTESTATION_EVIDENCE="double_preattestation_evidence",IU.DOUBLE_PREENDORSEMENT_EVIDENCE="double_preendorsement_evidence",IU.ATTESTATION_WITH_DAL="attestation_with_dal",IU.ENDORSEMENT_WITH_DAL="endorsement_with_dal",IU.SEED_NONCE_REVELATION="seed_nonce_revelation",IU.DOUBLE_ATTESTATION_EVIDENCE="double_attestation_evidence",IU.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",IU.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",IU.PROPOSALS="proposals",IU.BALLOT="ballot",IU.FAILING_NOOP="failing_noop",IU.REGISTER_GLOBAL_CONSTANT="register_global_constant",IU.TRANSFER_TICKET="transfer_ticket",IU.INCREASE_PAID_STORAGE="increase_paid_storage",IU.UPDATE_CONSENSUS_KEY="update_consensus_key",IU.DRAIN_DELEGATE="drain_delegate",IU.VDF_REVELATION="vdf_revelation",IU.EVENT="event",IU.TICKET_UPDATES="ticket_updates",IU.SMART_ROLLUP_ORIGINATE="smart_rollup_originate",IU.SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",IU.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",IU.SMART_ROLLUP_PUBLISH="smart_rollup_publish",IU.SMART_ROLLUP_CEMENT="smart_rollup_cement",IU.SMART_ROLLUP_RECOVER_BOND="smart_rollup_recover_bond",IU.SMART_ROLLUP_REFUTE="smart_rollup_refute",IU.SMART_ROLLUP_TIMEOUT="smart_rollup_timeout",IU.DAL_PUBLISH_COMMITMENT="dal_publish_commitment";class OU{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new rj;this.url=e,this.chain=t,this.httpBackend=r}createURL(e){let t=this.url;for(;t.endsWith("/");)t=t.slice(0,-1);return`${t}${e}`}validateAddress(e){const t=zj(e);if(t!==Nj.VALID)throw new RD(e,Qj(t))}validateContract(e){const t=qj(e);if(t!==Nj.VALID)throw new FD(e,Qj(t))}getBlockHash(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/hash`),method:"GET"})}()}))}getLiveBlocks(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/live_blocks`),method:"GET"})}()}))}getBalance(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){t.validateAddress(e);const n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/balance`),method:"GET"});return new _j(n)}()}))}getFullBalance(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){t.validateAddress(e);const n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/full_balance`),method:"GET"});return new _j(n)}()}))}getStakedBalance(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){t.validateAddress(e);const n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/staked_balance`),method:"GET"});return new _j(n)}()}))}getUnstakedFinalizableBalance(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){t.validateAddress(e);const n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/unstaked_finalizable_balance`),method:"GET"});return new _j(n)}()}))}getUnstakedFrozenBalance(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){t.validateAddress(e);const n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/unstaked_frozen_balance`),method:"GET"});return new _j(n)}()}))}getUnstakeRequests(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){t.validateAddress(e);const n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/unstake_requests`),method:"GET"});return null===n?null:{finalizable:n.finalizable.map((e=>{var{amount:t}=e,r=sU(e,["amount"]);const n=uU({amount:t},["amount"]);return Object.assign(Object.assign({},r),{amount:n.amount})})),unfinalizable:{delegate:n.unfinalizable.delegate,requests:n.unfinalizable.requests.map((e=>{let{amount:t,cycle:r}=e;return{cycle:r,amount:uU({amount:t},["amount"]).amount}}))}}}()}))}getStorage(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.validateContract(e),t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/storage`),method:"GET"})}()}))}getScript(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.validateContract(e),t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/script`),method:"GET"})}()}))}getNormalizedScript(e){return oU(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{unparsing_mode:"Readable"},{block:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aU;return function*(){return t.validateContract(e),t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${n}/context/contracts/${e}/script/normalized`),method:"POST"},r)}()}))}getContract(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){t.validateAddress(e);const n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}`),method:"GET"});return Object.assign(Object.assign({},n),{balance:new _j(n.balance)})}()}))}getManagerKey(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.validateAddress(e),t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/manager_key`),method:"GET"})}()}))}getDelegate(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){let n;t.validateAddress(e);try{n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/delegate`),method:"GET"})}catch(i){if(!(i instanceof JD&&i.status===KD.NOT_FOUND))throw i;n=null}return n}()}))}getBigMapKey(e,t){return oU(this,arguments,void 0,(function(e,t){var r=this;let{block:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aU;return function*(){return r.validateAddress(e),r.httpBackend.createRequest({url:r.createURL(`/chains/${r.chain}/blocks/${n}/context/contracts/${e}/big_map_get`),method:"POST"},t)}()}))}getBigMapExpr(e,t){return oU(this,arguments,void 0,(function(e,t){var r=this;let{block:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aU;return function*(){return r.httpBackend.createRequest({url:r.createURL(`/chains/${r.chain}/blocks/${n}/context/big_maps/${e}/${t}`),method:"GET"})}()}))}getAllDelegates(){return oU(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${r}/context/delegates`),method:"GET",query:t})}()}))}getDelegates(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){t.validateAddress(e);const n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/delegates/${e}`),method:"GET"}),i=uU(n,["balance","full_balance","current_frozen_deposits","frozen_deposits","frozen_balance","frozen_deposits_limit","staking_balance","delegated_balance","voting_power","total_delegated_stake","staking_denominator"]);return Object.assign(Object.assign(Object.assign({},n),i),{frozen_balance_by_cycle:n.frozen_balance_by_cycle?n.frozen_balance_by_cycle.map((e=>{var{deposit:t,deposits:r,fees:n,rewards:i}=e,s=sU(e,["deposit","deposits","fees","rewards"]);const o=uU({deposit:t,deposits:r,fees:n,rewards:i},["deposit","deposits","fees","rewards"]);return Object.assign(Object.assign({},s),{deposit:o.deposit,deposits:o.deposits,fees:o.fees,rewards:o.rewards})})):void 0})}()}))}getVotingInfo(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.validateAddress(e),yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/delegates/${e}/voting_info`),method:"GET"})}()}))}getConstants(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){const r=yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/context/constants`),method:"GET"}),n=uU(r,["time_between_blocks","hard_gas_limit_per_operation","hard_gas_limit_per_block","proof_of_work_threshold","tokens_per_roll","seed_nonce_revelation_tip","block_security_deposit","endorsement_security_deposit","block_reward","endorsement_reward","cost_per_byte","hard_storage_limit_per_operation","test_chain_duration","baking_reward_per_endorsement","delay_per_missing_endorsement","minimal_block_delay","liquidity_baking_subsidy","cache_layout","baking_reward_fixed_portion","baking_reward_bonus_per_slot","endorsing_reward_per_slot","double_baking_punishment","delay_increment_per_round","tx_rollup_commitment_bond","vdf_difficulty","sc_rollup_stake_amount","minimal_stake"]);return Object.assign(Object.assign({},r),n)}()}))}getBlock(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t,version:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){const n={url:e.createURL(`/chains/${e.chain}/blocks/${t}`),method:"GET"};return void 0!==r&&(n.query={version:r}),yield e.httpBackend.createRequest(n)}()}))}getBlockHeader(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/header`),method:"GET"})}()}))}getBlockMetadata(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t,version:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){const n={url:e.createURL(`/chains/${e.chain}/blocks/${t}/metadata`),method:"GET"};return void 0!==r&&(n.query={version:r}),yield e.httpBackend.createRequest(n)}()}))}getBakingRights(){return oU(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${r}/helpers/baking_rights`),method:"GET",query:t})}()}))}getAttestationRights(){return oU(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${r}/helpers/attestation_rights`),method:"GET",query:t})}()}))}getBallotList(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/votes/ballot_list`),method:"GET"})}()}))}getBallots(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return uU(yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/votes/ballots`),method:"GET"}),["yay","nay","pass"])}()}))}getCurrentProposal(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/votes/current_proposal`),method:"GET"})}()}))}getCurrentQuorum(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/votes/current_quorum`),method:"GET"})}()}))}getVotesListings(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){const r=yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/votes/listings`),method:"GET"});return r.map((e=>(e.voting_power&&(e.voting_power=new _j(e.voting_power)),e))),r}()}))}getProposals(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){const r=yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/votes/proposals`),method:"GET"});return r.map((e=>e[1]=new _j(e[1]))),r}()}))}forgeOperations(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/helpers/forge/operations`),method:"POST"},e)}()}))}injectOperation(e){return oU(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL("/injection/operation"),method:"POST"},e)}))}preapplyOperations(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r,version:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){const i={url:t.createURL(`/chains/${t.chain}/blocks/${r}/helpers/preapply/operations`),method:"POST"};return void 0!==n&&(i.query={version:n}),yield t.httpBackend.createRequest(i,e)}()}))}getEntrypoints(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){t.validateContract(e);return yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/entrypoints`),method:"GET"})}()}))}runOperation(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r,version:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){const i={url:t.createURL(`/chains/${t.chain}/blocks/${r}/helpers/scripts/run_operation`),method:"POST"};return void 0!==n&&(i.query={version:n}),yield t.httpBackend.createRequest(i,e)}()}))}simulateOperation(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r,version:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){const i={url:t.createURL(`/chains/${t.chain}/blocks/${r}/helpers/scripts/simulate_operation`),method:"POST"};return void 0!==n&&(i.query={version:n}),yield t.httpBackend.createRequest(i,e)}()}))}runCode(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/helpers/scripts/run_code`),method:"POST"},e)}()}))}runScriptView(e,t){return oU(this,void 0,void 0,(function*(){var{unparsing_mode:r="Readable"}=e,n=sU(e,["unparsing_mode"]),i=(void 0===t?aU:t).block;return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${i}/helpers/scripts/run_script_view`),method:"POST"},Object.assign({unparsing_mode:r},n))}))}runView(e,t){return oU(this,void 0,void 0,(function*(){var{unparsing_mode:r="Readable"}=e,n=sU(e,["unparsing_mode"]),i=(void 0===t?aU:t).block;return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/blocks/${i}/helpers/scripts/run_view`),method:"POST"},Object.assign({unparsing_mode:r},n))}))}getChainId(){return oU(this,void 0,void 0,(function*(){return this.httpBackend.createRequest({url:this.createURL(`/chains/${this.chain}/chain_id`),method:"GET"})}))}packData(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){const n=yield t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/helpers/scripts/pack_data`),method:"POST"},e),{gas:i}=n,s=sU(n,["gas"]);let o=i;const a=new _j(i||"");return a.isNaN()||(o=a),Object.assign({gas:o},s)}()}))}getRpcUrl(){return this.url}getCurrentPeriod(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/votes/current_period`),method:"GET"})}()}))}getSuccessorPeriod(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return yield e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/votes/successor_period`),method:"GET"})}()}))}getSaplingDiffById(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/sapling/${e}/get_diff`),method:"GET"})}()}))}getSaplingDiffByContract(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/single_sapling_get_diff`),method:"GET"})}()}))}getProtocols(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/protocols`),method:"GET"})}()}))}getStorageUsedSpace(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/storage/used_space`),method:"GET"})}()}))}getStoragePaidSpace(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/storage/paid_space`),method:"GET"})}()}))}getTicketBalance(e,t){return oU(this,arguments,void 0,(function(e,t){var r=this;let{block:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aU;return function*(){return r.httpBackend.createRequest({url:r.createURL(`/chains/${r.chain}/blocks/${n}/context/contracts/${e}/ticket_balance`),method:"POST"},t)}()}))}getAllTicketBalances(e){return oU(this,arguments,void 0,(function(e){var t=this;let{block:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:aU;return function*(){return t.httpBackend.createRequest({url:t.createURL(`/chains/${t.chain}/blocks/${r}/context/contracts/${e}/all_ticket_balances`),method:"GET"})}()}))}getAdaptiveIssuanceLaunchCycle(){return oU(this,arguments,void 0,(function(){var e=this;let{block:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU;return function*(){return e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/blocks/${t}/context/adaptive_issuance_launch_cycle`),method:"GET"})}()}))}getPendingOperations(){return oU(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.httpBackend.createRequest({url:e.createURL(`/chains/${e.chain}/mempool/pending_operations`),method:"GET",query:t})}()}))}}var RU=function(e,t){return RU=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},RU(e,t)};function CU(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}RU(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function NU(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}function LU(e,t){var r,n,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(bZ){a=[6,bZ],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;function MU(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function BU(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(gZ){i={error:gZ}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function DU(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function jU(e){return this instanceof jU?(this.v=e,this):new jU(e)}function UU(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){i[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))},t&&(n[e]=t(n[e])))}function a(e,t){try{(r=i[e](t)).value instanceof jU?Promise.resolve(r.value.v).then(c,l):u(s[0][2],r)}catch(bZ){u(s[0][3],bZ)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function FU(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=MU(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;function HU(e){return"function"===typeof e}function zU(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var GU=zU((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function qU(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var WU=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=MU(s),a=o.next();!a.done;a=o.next()){a.value.remove(this)}}catch(f){e={error:f}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else s.remove(this);var c=this.initialTeardown;if(HU(c))try{c()}catch(bZ){i=bZ instanceof GU?bZ.errors:[bZ]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=MU(l),d=u.next();!d.done;d=u.next()){var h=d.value;try{VU(h)}catch(yZ){i=null!==i&&void 0!==i?i:[],yZ instanceof GU?i=DU(DU([],BU(i)),BU(yZ.errors)):i.push(yZ)}}}catch(p){r={error:p}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}if(i)throw new GU(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)VU(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&qU(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&qU(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),$U=WU.EMPTY;function KU(e){return e instanceof WU||e&&"closed"in e&&HU(e.remove)&&HU(e.add)&&HU(e.unsubscribe)}function VU(e){HU(e)?e():e.unsubscribe()}var QU={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ZU={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=ZU.delegate;return(null===i||void 0===i?void 0:i.setTimeout)?i.setTimeout.apply(i,DU([e,t],BU(r))):setTimeout.apply(void 0,DU([e,t],BU(r)))},clearTimeout:function(e){var t=ZU.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function YU(e){ZU.setTimeout((function(){var t=QU.onUnhandledError;if(!t)throw e;t(e)}))}function JU(){}var XU=eF("C",void 0,void 0);function eF(e,t,r){return{kind:e,value:t,error:r}}var tF=null;function rF(e){if(QU.useDeprecatedSynchronousErrorHandling){var t=!tF;if(t&&(tF={errorThrown:!1,error:null}),e(),t){var r=tF,n=r.errorThrown,i=r.error;if(tF=null,n)throw i}}else e()}var nF=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,KU(t)&&t.add(r)):r.destination=uF,r}return CU(t,e),t.create=function(e,t,r){return new aF(e,t,r)},t.prototype.next=function(e){this.isStopped?lF(function(e){return eF("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?lF(eF("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?lF(XU,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(WU),iF=Function.prototype.bind;function sF(e,t){return iF.call(e,t)}var oF=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(gZ){cF(gZ)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(gZ){cF(gZ)}else cF(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(gZ){cF(gZ)}},e}(),aF=function(e){function t(t,r,n){var i,s,o=e.call(this)||this;HU(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==r&&void 0!==r?r:void 0,complete:null!==n&&void 0!==n?n:void 0}:o&&QU.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&sF(t.next,s),error:t.error&&sF(t.error,s),complete:t.complete&&sF(t.complete,s)}):i=t;return o.destination=new oF(i),o}return CU(t,e),t}(nF);function cF(e){QU.useDeprecatedSynchronousErrorHandling?function(e){QU.useDeprecatedSynchronousErrorHandling&&tF&&(tF.errorThrown=!0,tF.error=e)}(e):YU(e)}function lF(e,t){var r=QU.onStoppedNotification;r&&ZU.setTimeout((function(){return r(e,t)}))}var uF={closed:!0,next:JU,error:function(e){throw e},complete:JU},dF="function"===typeof Symbol&&Symbol.observable||"@@observable";function hF(e){return e}function fF(e){return 0===e.length?hF:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var pF=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,s=(n=e)&&n instanceof nF||function(e){return e&&HU(e.next)&&HU(e.error)&&HU(e.complete)}(n)&&KU(n)?e:new aF(e,t,r);return rF((function(){var e=i,t=e.operator,r=e.source;s.add(t?t.call(s,r):r?i._subscribe(s):i._trySubscribe(s))})),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(yZ){e.error(yZ)}},e.prototype.forEach=function(e,t){var r=this;return new(t=mF(t))((function(t,n){var i=new aF({next:function(t){try{e(t)}catch(yZ){n(yZ),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[dF]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fF(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=mF(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function mF(e){var t;return null!==(t=null!==e&&void 0!==e?e:QU.Promise)&&void 0!==t?t:Promise}var gF=zU((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),yF=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return CU(t,e),t.prototype.lift=function(e){var t=new bF(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new gF},t.prototype.next=function(e){var t=this;rF((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=MU(t.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(e)}}catch(o){r={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;rF((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;rF((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,s=r.observers;return n||i?$U:(this.currentObservers=null,s.push(e),new WU((function(){t.currentObservers=null,qU(s,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new pF;return e.source=this,e},t.create=function(e,t){return new bF(e,t)},t}(pF),bF=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return CU(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:$U},t}(yF),vF={now:function(){return(vF.delegate||Date).now()},delegate:void 0},wF=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=vF);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return CU(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,o=r._timestampProvider,a=r._windowTime;n||(i.push(t),!s&&i.push(o.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,i=e._infiniteTimeWindow,s=(i?1:2)*t;if(t<1/0&&s<n.length&&n.splice(0,n.length-s),!i){for(var o=r.now(),a=0,c=1;c<n.length&&n[c]<=o;c+=2)a=c;a&&n.splice(0,a+1)}},t}(yF),AF=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return CU(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(yF);function _F(e,t){var r=HU(e)?e:function(){return e},n=function(e){return e.error(r())};return new pF(t?function(e){return t.schedule(n,0,e)}:n)}var EF=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function xF(e){return HU(null===e||void 0===e?void 0:e.then)}function kF(e){return HU(e[dF])}function SF(e){return Symbol.asyncIterator&&HU(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function PF(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var TF="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function IF(e){return HU(null===e||void 0===e?void 0:e[TF])}function OF(e){return UU(this,arguments,(function(){var t,r,n;return LU(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,jU(t.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,jU(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,jU(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function RF(e){return HU(null===e||void 0===e?void 0:e.getReader)}function CF(e){if(e instanceof pF)return e;if(null!=e){if(kF(e))return i=e,new pF((function(e){var t=i[dF]();if(HU(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(EF(e))return n=e,new pF((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(xF(e))return r=e,new pF((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,YU)}));if(SF(e))return NF(e);if(IF(e))return t=e,new pF((function(e){var r,n;try{for(var i=MU(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()}));if(RF(e))return NF(OF(e))}var t,r,n,i;throw PF(e)}function NF(e){return new pF((function(t){(function(e,t){var r,n,i,s;return NU(this,void 0,void 0,(function(){var o,a;return LU(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=FU(e),c.label=1;case 1:return[4,r.next()];case 2:if((n=c.sent()).done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function LF(e){return new pF((function(t){CF(e()).subscribe(t)}))}var MF=new pF((function(e){return e.complete()}));function BF(e,t,r){if(null==t&&(t=e,e=0),t<=0)return MF;var n=t+e;return new pF(r?function(t){var i=e;return r.schedule((function(){i<n?(t.next(i++),this.schedule()):t.complete()}))}:function(t){for(var r=e;r<n&&!t.closed;)t.next(r++);t.complete()})}function DF(e){return e&&HU(e.schedule)}function jF(e){return e[e.length-1]}function UF(e){return DF(jF(e))?e.pop():void 0}function FF(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var s=t.schedule((function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(s),!i)return s}function HF(e){return HU(null===e||void 0===e?void 0:e.lift)}function zF(e){return function(t){if(HF(t))return t.lift((function(t){try{return e(t,this)}catch(yZ){this.error(yZ)}}));throw new TypeError("Unable to lift unknown Observable type")}}function GF(e,t,r,n,i){return new qF(e,t,r,n,i)}var qF=function(e){function t(t,r,n,i,s,o){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=r?function(e){try{r(e)}catch(yZ){t.error(yZ)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(yZ){t.error(yZ)}finally{this.unsubscribe()}}:e.prototype._complete,a}return CU(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(nF);function WF(e,t){return void 0===t&&(t=0),zF((function(r,n){r.subscribe(GF(n,(function(r){return FF(n,e,(function(){return n.next(r)}),t)}),(function(){return FF(n,e,(function(){return n.complete()}),t)}),(function(r){return FF(n,e,(function(){return n.error(r)}),t)})))}))}function $F(e,t){return void 0===t&&(t=0),zF((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}function KF(e,t){if(!e)throw new Error("Iterable cannot be null");return new pF((function(r){FF(r,t,(function(){var n=e[Symbol.asyncIterator]();FF(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}function VF(e,t){if(null!=e){if(kF(e))return function(e,t){return CF(e).pipe($F(t),WF(t))}(e,t);if(EF(e))return function(e,t){return new pF((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}(e,t);if(xF(e))return function(e,t){return CF(e).pipe($F(t),WF(t))}(e,t);if(SF(e))return KF(e,t);if(IF(e))return function(e,t){return new pF((function(r){var n;return FF(r,t,(function(){n=e[TF](),FF(r,t,(function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(yZ){return void r.error(yZ)}i?r.complete():r.next(t)}),0,!0)})),function(){return HU(null===n||void 0===n?void 0:n.return)&&n.return()}}))}(e,t);if(RF(e))return function(e,t){return KF(OF(e),t)}(e,t)}throw PF(e)}function QF(e,t){return t?VF(e,t):CF(e)}function ZF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return QF(e,UF(e))}var YF=Array.isArray,JF=Object.getPrototypeOf,XF=Object.prototype,eH=Object.keys;function tH(e){if(1===e.length){var t=e[0];if(YF(t))return{args:t,keys:null};if((n=t)&&"object"===typeof n&&JF(n)===XF){var r=eH(t);return{args:r.map((function(e){return t[e]})),keys:r}}}var n;return{args:e,keys:null}}function rH(e,t){return zF((function(r,n){var i=0;r.subscribe(GF(n,(function(r){n.next(e.call(t,r,i++))})))}))}var nH=Array.isArray;function iH(e){return rH((function(t){return function(e,t){return nH(t)?e.apply(void 0,DU([],BU(t))):e(t)}(e,t)}))}function sH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=UF(e),n=function(e){return HU(jF(e))?e.pop():void 0}(e),i=tH(e),s=i.args,o=i.keys;if(0===s.length)return QF([],r);var a=new pF(function(e,t,r){void 0===r&&(r=hF);return function(n){oH(t,(function(){for(var i=e.length,s=new Array(i),o=i,a=i,c=function(i){oH(t,(function(){var c=QF(e[i],t),l=!1;c.subscribe(GF(n,(function(e){s[i]=e,l||(l=!0,a--),a||n.next(r(s.slice()))}),(function(){--o||n.complete()})))}),n)},l=0;l<i;l++)c(l)}),n)}}(s,r,o?function(e){return function(e,t){return e.reduce((function(e,r,n){return e[r]=t[n],e}),{})}(o,e)}:hF));return n?a.pipe(iH(n)):a}function oH(e,t,r){e?FF(r,e,t):t()}function aH(e,t,r){return void 0===r&&(r=1/0),HU(t)?aH((function(r,n){return rH((function(e,i){return t(r,e,n,i)}))(CF(e(r,n)))}),r):("number"===typeof t&&(r=t),zF((function(t,n){return function(e,t,r,n,i,s,o,a){var c=[],l=0,u=0,d=!1,h=function(){!d||c.length||l||t.complete()},f=function(e){return l<n?p(e):c.push(e)},p=function(e){s&&t.next(e),l++;var a=!1;CF(r(e,u++)).subscribe(GF(t,(function(e){null===i||void 0===i||i(e),s?f(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{l--;for(var e=function(){var e=c.shift();o?FF(t,o,(function(){return p(e)})):p(e)};c.length&&l<n;)e();h()}catch(yZ){t.error(yZ)}})))};return e.subscribe(GF(t,f,(function(){d=!0,h()}))),function(){null===a||void 0===a||a()}}(t,n,e,r)})))}function cH(){return void 0===(e=1)&&(e=1/0),aH(hF,e);var e}function lH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cH()(QF(e,UF(e)))}var uH=new pF(JU);var dH=function(e){function t(t,r){return e.call(this)||this}return CU(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(WU),hH={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=hH.delegate;return(null===i||void 0===i?void 0:i.setInterval)?i.setInterval.apply(i,DU([e,t],BU(r))):setInterval.apply(void 0,DU([e,t],BU(r)))},clearInterval:function(e){var t=hH.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},fH=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return CU(t,e),t.prototype.schedule=function(e,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),hH.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&hH.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(bZ){n=!0,r=bZ||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,qU(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(dH),pH=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=vF.now,e}(),mH=new(function(e){function t(t,r){void 0===r&&(r=pH.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return CU(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(pH))(fH),gH=mH;function yH(e){return e instanceof Date&&!isNaN(e)}function bH(e,t,r){void 0===e&&(e=0),void 0===r&&(r=gH);var n=-1;return null!=t&&(DF(t)?r=t:n=t),new pF((function(t){var i=yH(e)?+e-r.now():e;i<0&&(i=0);var s=0;return r.schedule((function(){t.closed||(t.next(s++),0<=n?this.schedule(void 0,n):t.complete())}),i)}))}function vH(e,t){return zF((function(r,n){var i=null,s=0,o=!1,a=function(){return o&&!i&&n.complete()};r.subscribe(GF(n,(function(r){null===i||void 0===i||i.unsubscribe();var o=0,c=s++;CF(e(r,c)).subscribe(i=GF(n,(function(e){return n.next(t?t(r,e,c,o++):e)}),(function(){i=null,a()})))}),(function(){o=!0,a()})))}))}var wH=zU((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function AH(e,t){var r=yH(e)?{first:e}:"number"===typeof e?{each:e}:e,n=r.first,i=r.each,s=r.with,o=void 0===s?_H:s,a=r.scheduler,c=void 0===a?null!==t&&void 0!==t?t:mH:a,l=r.meta,u=void 0===l?null:l;if(null==n&&null==i)throw new TypeError("No timeout provided.");return zF((function(e,t){var r,s,a=null,l=0,d=function(e){s=FF(t,c,(function(){try{r.unsubscribe(),CF(o({meta:u,lastValue:a,seen:l})).subscribe(t)}catch(yZ){t.error(yZ)}}),e)};r=e.subscribe(GF(t,(function(e){null===s||void 0===s||s.unsubscribe(),l++,t.next(a=e),i>0&&d(i)}),void 0,void 0,(function(){(null===s||void 0===s?void 0:s.closed)||null===s||void 0===s||s.unsubscribe(),a=null}))),!l&&d(null!=n?"number"===typeof n?n:+n-c.now():i)}))}function _H(e){throw new wH(e)}function EH(e,t){return HU(t)?aH(e,t,1):aH(e,1)}function xH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return lH(t,ZF.apply(void 0,DU([],BU(e))))}}function kH(e,t,r){var n=HU(e)||t||r?{next:e,error:t,complete:r}:e;return n?zF((function(e,t){var r;null===(r=n.subscribe)||void 0===r||r.call(n);var i=!0;e.subscribe(GF(t,(function(e){var r;null===(r=n.next)||void 0===r||r.call(n,e),t.next(e)}),(function(){var e;i=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(function(e){var r;i=!1,null===(r=n.error)||void 0===r||r.call(n,e),t.error(e)}),(function(){var e,t;i&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):hF}function SH(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new yF}:t,n=e.resetOnError,i=void 0===n||n,s=e.resetOnComplete,o=void 0===s||s,a=e.resetOnRefCountZero,c=void 0===a||a;return function(e){var t,n,s,a=0,l=!1,u=!1,d=function(){null===n||void 0===n||n.unsubscribe(),n=void 0},h=function(){d(),t=s=void 0,l=u=!1},f=function(){var e=t;h(),null===e||void 0===e||e.unsubscribe()};return zF((function(e,p){a++,u||l||d();var m=s=null!==s&&void 0!==s?s:r();p.add((function(){0!==--a||u||l||(n=PH(f,c))})),m.subscribe(p),!t&&a>0&&(t=new aF({next:function(e){return m.next(e)},error:function(e){u=!0,d(),n=PH(h,i,e),m.error(e)},complete:function(){l=!0,d(),n=PH(h,o),m.complete()}}),CF(e).subscribe(t))}))(e)}}function PH(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0!==t){if(!1!==t){var i=new aF({next:function(){i.unsubscribe(),e()}});return CF(t.apply(void 0,DU([],BU(r)))).subscribe(i)}}else e()}function TH(e,t,r){var n,i,s,o,a=!1;return e&&"object"===typeof e?(n=e.bufferSize,o=void 0===n?1/0:n,i=e.windowTime,t=void 0===i?1/0:i,a=void 0!==(s=e.refCount)&&s,r=e.scheduler):o=null!==e&&void 0!==e?e:1/0,SH({connector:function(){return new wF(o,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function IH(e,t){return zF((function(r,n){var i=0;r.subscribe(GF(n,(function(r){return e.call(t,r,i++)&&n.next(r)})))}))}var OH=zU((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function RH(){return new OH}function CH(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?IH((function(t,r){return e(t,r,n)})):hF,(s=1)<=0?function(){return MF}:zF((function(e,t){var r=0;e.subscribe(GF(t,(function(e){++r<=s&&(t.next(e),s<=r&&t.complete())})))})),r?function(e){return zF((function(t,r){var n=!1;t.subscribe(GF(r,(function(e){n=!0,r.next(e)}),(function(){n||r.next(e),r.complete()})))}))}(t):(void 0===(i=function(){return new OH})&&(i=RH),zF((function(e,t){var r=!1;e.subscribe(GF(t,(function(e){r=!0,t.next(e)}),(function(){return r?t.complete():t.error(i())})))}))));var i,s}}function NH(e){return zF((function(t,r){var n,i=null,s=!1;i=t.subscribe(GF(r,void 0,void 0,(function(o){n=CF(e(o,NH(e)(t))),i?(i.unsubscribe(),i=null,n.subscribe(r)):s=!0}))),s&&(i.unsubscribe(),i=null,n.subscribe(r))}))}function LH(e,t){return void 0===t&&(t=hF),e=null!==e&&void 0!==e?e:MH,zF((function(r,n){var i,s=!0;r.subscribe(GF(n,(function(r){var o=t(r);!s&&e(i,o)||(s=!1,i=o,n.next(r))})))}))}function MH(e,t){return e===t}function BH(e){var t;void 0===e&&(e=1/0);var r=(t=e&&"object"===typeof e?e:{count:e}).count,n=void 0===r?1/0:r,i=t.delay,s=t.resetOnSuccess,o=void 0!==s&&s;return n<=0?hF:zF((function(e,t){var r,s=0,a=function(){var c=!1;r=e.subscribe(GF(t,(function(e){o&&(s=0),t.next(e)}),void 0,(function(e){if(s++<n){var o=function(){r?(r.unsubscribe(),r=null,a()):c=!0};if(null!=i){var l="number"===typeof i?bH(i):CF(i(e,s)),u=GF(t,(function(){u.unsubscribe(),o()}),(function(){t.complete()}));l.subscribe(u)}else o()}else t.error(e)}))),c&&(r.unsubscribe(),r=null,a())};a()}))}function DH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return rH((function(t){for(var n=t,i=0;i<r;i++){var s=null===n||void 0===n?void 0:n[e[i]];if("undefined"===typeof s)return;n=s}return n}))}function jH(){return zF((function(e,t){var r=null;e._refCount++;var n=GF(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)r=null;else{var n=e._connection,i=r;r=null,!n||i&&n!==i||n.unsubscribe(),t.unsubscribe()}}));e.subscribe(n),n.closed||(r=e.connect())}))}var UH=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,HF(t)&&(n.lift=t.lift),n}return CU(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null===e||void 0===e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new WU;var r=this.getSubject();t.add(this.source.subscribe(GF(r,void 0,(function(){e._teardown(),r.complete()}),(function(t){e._teardown(),r.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=WU.EMPTY)}return t},t.prototype.refCount=function(){return jH()(this)},t}(pF);var FH={connector:function(){return new yF}};function HH(e,t){void 0===t&&(t=FH);var r=t.connector;return zF((function(t,n){var i,s=r();CF(e((i=s,new pF((function(e){return i.subscribe(e)}))))).subscribe(n),n.add(t.subscribe(s))}))}function zH(e){return e?function(t){return HH(e)(t)}:function(e){return function(e,t){var r=HU(e)?e:function(){return e};return HU(t)?HH(t,{connector:r}):function(e){return new UH(e,r)}}(new yF)(e)}}var GH,qH=r(744),WH=r.n(qH),$H=r(4507).Buffer;class KH extends kD{constructor(e,t){super(),this.mapType=e,this.reason=t,this.message=`The map type '${JSON.stringify(e)}' is invalid. Reason: ${t}.`,this.name="InvalidMapTypeError"}}const VH=Symbol.for("taquito-michelson-map-type-symbol");class QH extends kD{constructor(e,t,r,n){super(),this.value=e,this.type=t,this.reason=n,this.name="MapTypecheckError",this.message=`The ${r} provided: ${JSON.stringify(e)} is not compatible with the expected michelson type: ${JSON.stringify(t)}. Reason: ${JSON.stringify(n)}.`,this.name="MapTypecheckError"}}class ZH{static isMichelsonMap(e){return e&&!0===e[VH]}constructor(e){this.valueMap=new Map,this.keyMap=new Map,this[GH]=!0,e&&this.setType(e)}setType(e){!function(e){if(!("prim"in e))throw new KH(e,"Missing 'prim' field");if(!["map","big_map"].includes(e.prim))throw new KH(e,"The prim field should be 'map' or 'big_map'");if(!("args"in e))throw new KH(e,"Missing 'args' field");if(!Array.isArray(e.args))throw new KH(e,"The 'args' field should be an array");if(2!==e.args.length)throw new KH(e,"The 'args' field should have 2 elements")}(e),this.keySchema=new RG(e.args[0]),this.valueSchema=new RG(e.args[1])}removeType(){this.keySchema=void 0,this.valueSchema=void 0}static fromLiteral(e,t){const r=new ZH(t);return Object.keys(e).forEach((t=>{r.set(t,e[t])})),r}typecheckKey(e){this.keySchema&&this.keySchema.Typecheck(e)}typecheckValue(e){this.valueSchema&&this.valueSchema.Typecheck(e)}assertTypecheckValue(e){try{this.typecheckValue(e)}catch(bZ){throw new QH(e,this.valueSchema,"value",bZ)}}assertTypecheckKey(e){try{this.typecheckKey(e)}catch(bZ){throw new QH(e,this.keySchema,"key",bZ)}}serializeDeterministically(e){return WH()(e)}*keys(){for(const[e]of this.entries())yield e}*values(){for(const[,e]of this.entries())yield e}*entries(){for(const e of this.valueMap.keys())yield[this.keyMap.get(e),this.valueMap.get(e)]}get(e){this.assertTypecheckKey(e);const t=this.serializeDeterministically(e);return this.valueMap.get(t)}set(e,t){this.assertTypecheckKey(e),this.assertTypecheckValue(t);const r=this.serializeDeterministically(e);this.keyMap.set(r,e),this.valueMap.set(r,t)}delete(e){this.assertTypecheckKey(e),this.keyMap.delete(this.serializeDeterministically(e)),this.valueMap.delete(this.serializeDeterministically(e))}has(e){this.assertTypecheckKey(e);const t=this.serializeDeterministically(e);return this.keyMap.has(t)&&this.valueMap.has(t)}clear(){this.keyMap.clear(),this.valueMap.clear()}get size(){return this.keyMap.size}forEach(e){for(const[t,r]of this.entries())e(r,t,this)}}GH=VH;class YH extends kD{constructor(e,t,r){super(),this.value=e,this.token=t,this.name="TokenValidationError";const n=this.token.annot(),i=n?`[${n}] `:"";this.message=`${i}${r}`}}class JH{static get fieldNumberingStrategy(){return JH._fieldNumberingStrategy}static set fieldNumberingStrategy(e){JH._fieldNumberingStrategy=e}constructor(e,t,r,n){this.val=e,this.idx=t,this.fac=r,this.parentTokenType=n,this.createToken=this.fac}typeWithoutAnnotations(){const e=t=>{if("object"===typeof t){if(Array.isArray(t)){return t.map((t=>e(t)))}const r=t;return r.args?{prim:r.prim,args:r.args.map((t=>e(t)))}:{prim:r.prim}}return t};return(t=this.val).args?{prim:t.prim,args:t.args.map((t=>e(t)))}:{prim:t.prim};var t}annot(){return(Array.isArray(this.val.annots)&&this.val.annots.length>0?this.val.annots[0]:String(this.idx)).replace(/(%|:)(_Liq_entry_)?/,"")}hasAnnotations(){return Array.isArray(this.val.annots)&&this.val.annots.length}get tokenVal(){return this.val}ExtractSignature(){return[[this.ExtractSchema()]]}}JH._fieldNumberingStrategy="Latest";class XH extends JH{compare(e,t){return e===t?0:e<t?-1:1}}class ez extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="BigMapValidationError"}}class tz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}ExtractSchema(){return{big_map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:tz.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}validate(e){if(!ZH.isMichelsonMap(e))throw new ez(e,this,`Value ${JSON.stringify(e)} is not a MichelsonMap`)}objLitToMichelsonMap(e){return e instanceof ZH?e:"object"===typeof e?0===Object.keys(e).length?new ZH:ZH.fromLiteral(e):e}Encode(e){const t=this.objLitToMichelsonMap(e.pop());return this.validate(t),Array.from(t.keys()).sort(((e,t)=>this.KeySchema.compare(e,t))).map((e=>({prim:"Elt",args:[this.KeySchema.EncodeObject(e),this.ValueSchema.EncodeObject(t.get(e))]})))}EncodeObject(e,t){const r=this.objLitToMichelsonMap(e);return this.validate(r),t&&t[tz.prim]?t[tz.prim](r,this.val):Array.from(r.keys()).sort(((e,t)=>this.KeySchema.compare(e,t))).map((e=>({prim:"Elt",args:[this.KeySchema.EncodeObject(e),this.ValueSchema.EncodeObject(r.get(e))]})))}Execute(e,t){if(t&&t[tz.prim])return t[tz.prim](e,this.val);if(Array.isArray(e)){const t=new ZH(this.val);return e.forEach((e=>{t.set(this.KeySchema.ToKey(e.args[0]),this.ValueSchema.Execute(e.args[1]))})),t}if("int"in e)return e.int;throw new ez(e,this,`Big map is expecting either an array (Athens) or an object with an int property (Babylon). Got ${JSON.stringify(e)}`)}findAndReturnTokens(e,t){return tz.prim===e&&t.push(this),this.KeySchema.findAndReturnTokens(e,t),this.ValueSchema.findAndReturnTokens(e,t),t}}tz.prim="big_map";class rz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="OrValidationError"}}class nz extends XH{constructor(e,t,r,n){super(e,t,r,n),this.val=e,this.idx=t,this.fac=r,this.parentTokenType=n}Encode(e){const t=e[e.length-1],r=this.createToken(this.val.args[0],this.getIdxForChildren(),"Or");let n=1;r instanceof nz&&(n=Object.keys(r.ExtractSchema()).length);const i=this.createToken(this.val.args[1],this.getIdxForChildren()+n,"Or");if(String(r.annot())!==String(t)||r instanceof nz){if(String(i.annot())!==String(t)||i instanceof nz){if(r instanceof nz){const t=r.Encode(e);if(t)return{prim:"Left",args:[t]}}if(i instanceof nz){const t=i.Encode(e);if(t)return{prim:"Right",args:[t]}}return null}return e.pop(),{prim:"Right",args:[i.Encode(e)]}}return e.pop(),{prim:"Left",args:[r.Encode(e)]}}ExtractSignature(){const e=this.createToken(this.val.args[0],this.getIdxForChildren(),"Or");let t=1;e instanceof nz&&(t=Object.keys(e.ExtractSchema()).length);const r=this.createToken(this.val.args[1],this.getIdxForChildren()+t,"Or"),n=[];if(e instanceof nz)n.push(...e.ExtractSignature());else for(const i of e.ExtractSignature())n.push([e.annot(),...i]);if(r instanceof nz)n.push(...r.ExtractSignature());else for(const i of r.ExtractSignature())n.push([r.annot(),...i]);return n}EncodeObject(e,t){this.validateJavascriptObject(e);const r=Object.keys(e)[0],n=this.createToken(this.val.args[0],this.getIdxForChildren(),"Or");let i=1;n instanceof nz&&(i=Object.keys(n.ExtractSchema()).length);const s=this.createToken(this.val.args[1],this.getIdxForChildren()+i,"Or");if(String(n.annot())!==String(r)||n instanceof nz){if(String(s.annot())!==String(r)||s instanceof nz){if(n instanceof nz){const r=n.EncodeObject(e,t);if(r)return{prim:"Left",args:[r]}}if(s instanceof nz){const r=s.EncodeObject(e,t);if(r)return{prim:"Right",args:[r]}}return null}return{prim:"Right",args:[s.EncodeObject(e[r],t)]}}return{prim:"Left",args:[n.EncodeObject(e[r],t)]}}validateJavascriptObject(e){if("object"!==typeof e||Array.isArray(e)||null===e||1!==Object.keys(e).length)throw new rz(e,this,`EncodeObject expects an object with a single key but got: ${JSON.stringify(e)}`)}Execute(e,t){const r=this.createToken(this.val.args[0],this.getIdxForChildren(),"Or");let n=1;r instanceof nz&&(n=Object.keys(r.ExtractSchema()).length);const i=this.createToken(this.val.args[1],this.getIdxForChildren()+n,"Or");if("Right"===e.prim)return i instanceof nz?i.Execute(e.args[0],t):{[i.annot()]:i.Execute(e.args[0],t)};if("Left"===e.prim)return r instanceof nz?r.Execute(e.args[0],t):{[r.annot()]:r.Execute(e.args[0],t)};throw new rz(e,this,`Was expecting Left or Right prim but got: ${JSON.stringify(e.prim)}`)}traversal(e,t,r){const n=this.createToken(this.val.args[0],this.getIdxForChildren(),"Or");let i,s=1;n instanceof nz?(i=e(n),s=Object.keys(n.ExtractSchema()).length):i={[n.annot()]:e(n)};const o=this.createToken(this.val.args[1],this.getIdxForChildren()+s,"Or");let a;a=o instanceof nz?t(o):{[o.annot()]:t(o)};return r(i,a)}ExtractSchema(){return this.traversal((e=>e.ExtractSchema()),(e=>e.ExtractSchema()),((e,t)=>Object.assign(Object.assign({},e),t)))}generateSchema(){return{__michelsonType:nz.prim,schema:this.traversal((e=>e instanceof nz?e.generateSchema().schema:e.generateSchema()),(e=>e instanceof nz?e.generateSchema().schema:e.generateSchema()),((e,t)=>Object.assign(Object.assign({},e),t)))}}findToken(e){const t=this.createToken(this.val.args[0],this.getIdxForChildren(),"Or");let r=1;t instanceof nz&&(r=Object.keys(t.ExtractSchema()).length);const n=this.createToken(this.val.args[1],this.getIdxForChildren()+r,"Or");if(String(t.annot())===String(e)&&!(t instanceof nz)&&t instanceof XH)return t;if(String(n.annot())===String(e)&&!(n instanceof nz)&&n instanceof XH)return n;if(t instanceof nz){const r=t.findToken(e);if(r)return r}if(n instanceof nz){const t=n.findToken(e);if(t)return t}return null}compare(e,t){const r=Object.keys(e)[0];if(r!==Object.keys(t)[0]){return JSON.stringify(this.EncodeObject(e))<JSON.stringify(this.EncodeObject(t))?-1:1}{const n=this.findToken(r);if(n instanceof XH)return n.compare(e[r],t[r])}}ToKey(e){return this.Execute(e)}ToBigMapKey(e){return{key:this.EncodeObject(e),type:this.typeWithoutAnnotations()}}findAndReturnTokens(e,t){return nz.prim===e&&t.push(this),this.traversal((r=>r.findAndReturnTokens(e,t)),(r=>r.findAndReturnTokens(e,t)),((e,t)=>Object.assign(Object.assign({},e),t))),t}getIdxForChildren(){return"Legacy"===JH.fieldNumberingStrategy||"Or"===this.parentTokenType?this.idx:0}}nz.prim="or";class iz extends kD{constructor(e){super(e),this.message=e,this.name="TokenArgumentValidationError"}}class sz extends kD{constructor(e,t){super(),this.val1=e,this.val2=t,this.name="TokenComparisonError",this.message=`Tokens ${JSON.stringify(e)} and ${JSON.stringify(t)} are not comparable`}}function oz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:az.prim;if(Array.isArray(e))return oz({prim:t,args:e},t);if(void 0===e.args)throw new iz(`The value ${JSON.stringify(e)} is an invalid PairToken with no arguments, a pair must have two or more arguments.`);return e.args.length>2?[e.args[0],{prim:t,args:e.args.slice(1)}]:[e.args[0],e.args[1]]}class az extends XH{constructor(e,t,r,n){super(Array.isArray(e)?{prim:az.prim,args:e}:e.prim?e:{prim:az.prim,args:e},t,r,n)}args(){return oz(this.val)}tokens(){let e=0;return this.args().map((t=>{const r=this.createToken(t,this.getIdxForChildren()+e,"Pair");return r instanceof az?e+=Object.keys(r.ExtractSchema()).length:e++,r}))}Encode(e){return{prim:"Pair",args:this.tokens().map((t=>t.Encode(e)))}}ExtractSignature(){const e=this.args(),t=this.createToken(e[0],this.getIdxForChildren(),"Pair");let r=1;t instanceof nz&&(r=Object.keys(t.ExtractSchema()).length);const n=this.createToken(e[1],this.getIdxForChildren()+r,"Pair"),i=[];for(const s of t.ExtractSignature())for(const e of n.ExtractSignature())i.push([...s,...e]);return i}ToBigMapKey(e){return{key:this.EncodeObject(e),type:this.typeWithoutAnnotations()}}ToKey(e){return this.Execute(e)}EncodeObject(e,t){const[r,n]=this.tokens();let i,s;return i=r instanceof az&&!r.hasAnnotations()?e:e[r.annot()],s=n instanceof az&&!n.hasAnnotations()?e:e[n.annot()],{prim:"Pair",args:[r.EncodeObject(i,t),n.EncodeObject(s,t)]}}traversal(e,t){const r=this.args(),n=this.createToken(r[0],this.getIdxForChildren(),"Pair");let i,s=1;n instanceof az&&!n.hasAnnotations()?(i=e(n),n instanceof az&&(s=Object.keys(n.ExtractSchema()).length)):i={[n.annot()]:e(n)};const o=this.createToken(r[1],this.getIdxForChildren()+s,"Pair");let a;a=o instanceof az&&!o.hasAnnotations()?t(o):{[o.annot()]:t(o)};return Object.assign(Object.assign({},i),a)}Execute(e,t){const r=oz(e,"Pair");return this.traversal((e=>e.Execute(r[0],t)),(e=>e.Execute(r[1],t)))}ExtractSchema(){return this.traversal((e=>e.ExtractSchema()),(e=>e.ExtractSchema()))}generateSchema(){return{__michelsonType:az.prim,schema:this.traversal((e=>e instanceof az&&!e.hasAnnotations()?e.generateSchema().schema:e.generateSchema()),(e=>e instanceof az&&!e.hasAnnotations()?e.generateSchema().schema:e.generateSchema()))}}compare(e,t){const[r,n]=this.tokens(),i=(e,t)=>e instanceof az&&!e.hasAnnotations()?t:t[e.annot()];if(r instanceof XH&&n instanceof XH){const s=r.compare(i(r,e),i(r,t));return 0===s?n.compare(i(n,e),i(n,t)):s}throw new sz(e,t)}findAndReturnTokens(e,t){return az.prim===e&&t.push(this),this.tokens().map((r=>r.findAndReturnTokens(e,t))),t}getIdxForChildren(){return"Legacy"===JH.fieldNumberingStrategy||"Pair"===this.parentTokenType?this.idx:0}}az.prim="pair";class cz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="NatValidationError"}}class lz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return new _j(e[Object.keys(e)[0]])}Encode(e){const t=e.pop();return this.validate(t),{int:new _j(t).toFixed()}}validate(e){const t=new _j(e);if(t.isNaN())throw new cz(e,this,`Value is not a number: ${JSON.stringify(e)}`);if(t.isNegative())throw new cz(e,this,`Value cannot be negative: ${JSON.stringify(e)}`)}EncodeObject(e,t){return this.validate(e),t&&t[lz.prim]?t[lz.prim](e):{int:new _j(e).toFixed()}}ExtractSchema(){return lz.prim}generateSchema(){return{__michelsonType:lz.prim,schema:lz.prim}}ToBigMapKey(e){return{key:{int:String(e)},type:{prim:lz.prim}}}ToKey(e){let{int:t}=e;return new _j(t)}compare(e,t){const r=Number(e),n=Number(t);return r===n?0:r<n?-1:1}findAndReturnTokens(e,t){return lz.prim===e&&t.push(this),t}}lz.prim="nat";class uz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return e[Object.keys(e)[0]]}ExtractSchema(){return uz.prim}generateSchema(){return{__michelsonType:uz.prim,schema:uz.prim}}Encode(e){return{string:e.pop()}}EncodeObject(e,t){return t&&t[uz.prim]?t[uz.prim](e):{string:e}}ToKey(e){let{string:t}=e;return t}ToBigMapKey(e){return{key:{string:e},type:{prim:uz.prim}}}findAndReturnTokens(e,t){return uz.prim===e&&t.push(this),t}}uz.prim="string";class dz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="AddressValidationError"}}class hz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}ToBigMapKey(e){return{key:{bytes:function(e){const t=Ij().decode(e),r={[Oj.tz1.toString()]:"0000",[Oj.tz2.toString()]:"0001",[Oj.tz3.toString()]:"0002"}[new Uint8Array(t.slice(0,3)).toString()];if(r)return r+nU(t.slice(3));return"01"+nU(t.slice(3,42))+"00"}(e)},type:{prim:"bytes"}}}validate(e){if(zj(e)!==Nj.VALID)throw new dz(e,this,`Address is not valid: ${JSON.stringify(e)}`)}Encode(e){const t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return this.validate(e),t&&t[hz.prim]?t[hz.prim](e):{string:e}}Execute(e){if(e.string)return e.string;if(!e.bytes)throw new dz(e,this,`cannot be missing both string and bytes: ${JSON.stringify(e)}`);return eU(e.bytes)}ExtractSchema(){return hz.prim}generateSchema(){return{__michelsonType:hz.prim,schema:hz.prim}}ToKey(e){let{bytes:t,string:r}=e;if(r)return r;if(!t)throw new dz({bytes:t,string:r},this,`cannot be missing both string and bytes ${JSON.stringify({string:r,bytes:t})}`);return eU(t)}compare(e,t){const r=e=>e.startsWith("tz"),n=r(e),i=r(t);return n&&!i?-1:i&&!n?1:super.compare(e,t)}findAndReturnTokens(e,t){return hz.prim===e&&t.push(this),t}}hz.prim="address";class fz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="MapValidationError"}}class pz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}validate(e){if(!ZH.isMichelsonMap(e))throw new fz(e,this,`Value ${JSON.stringify(e)} is not a valid MichelsonMap`)}Execute(e,t){const r=new ZH(this.val);return e.forEach((e=>{r.set(this.KeySchema.ToKey(e.args[0]),this.ValueSchema.Execute(e.args[1],t))})),r}objLitToMichelsonMap(e){return e instanceof ZH?e:"object"===typeof e?0===Object.keys(e).length?new ZH:ZH.fromLiteral(e):e}Encode(e){const t=this.objLitToMichelsonMap(e.pop());return this.validate(t),Array.from(t.keys()).sort(((e,t)=>this.KeySchema.compare(e,t))).map((e=>({prim:"Elt",args:[this.KeySchema.EncodeObject(e),this.ValueSchema.EncodeObject(t.get(e))]})))}EncodeObject(e,t){const r=this.objLitToMichelsonMap(e);return this.validate(r),t&&t[pz.prim]?t[pz.prim](r):Array.from(r.keys()).sort(((e,t)=>this.KeySchema.compare(e,t))).map((e=>({prim:"Elt",args:[this.KeySchema.EncodeObject(e),this.ValueSchema.EncodeObject(r.get(e))]})))}ExtractSchema(){return{map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:pz.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}findAndReturnTokens(e,t){return pz.prim===e&&t.push(this),this.KeySchema.findAndReturnTokens(e,t),this.ValueSchema.findAndReturnTokens(e,t),t}}pz.prim="map";class mz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return"true"===String(e.prim).toLowerCase()}Encode(e){return{prim:e.pop()?"True":"False"}}EncodeObject(e,t){return t&&t[mz.prim]?t[mz.prim](e):{prim:e?"True":"False"}}ExtractSchema(){return mz.prim}generateSchema(){return{__michelsonType:mz.prim,schema:mz.prim}}ToBigMapKey(e){return{key:this.EncodeObject(e),type:{prim:mz.prim}}}ToKey(e){return this.EncodeObject(e)}compare(e,t){return e&&t||!e&&!t?0:e?1:-1}findAndReturnTokens(e,t){return mz.prim===e&&t.push(this),t}}mz.prim="bool";class gz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ContractValidationError"}}class yz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}validate(e){if(zj(e)!==Nj.VALID)throw new gz(e,this,`Value ${JSON.stringify(e)} is not a valid contract address.`);return null}Execute(e){if(e.string)return e.string;if(!e.bytes)throw new gz(e,this,`Value ${JSON.stringify(e)} is not a valid contract address. must contain bytes or string.`);return eU(e.bytes)}Encode(e){const t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return this.validate(e),t&&t[yz.prim]?t[yz.prim](e):{string:e}}ExtractSchema(){return yz.prim}generateSchema(){const e=this.createToken(this.val.args[0],0);return{__michelsonType:yz.prim,schema:{parameter:this.val.args[0]?e.generateSchema():{}}}}findAndReturnTokens(e,t){return yz.prim===e&&t.push(this),t}}yz.prim="contract";class bz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ListValidationError"}}class vz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}get valueSchema(){return this.createToken(this.val.args[0],this.idx)}validate(e){if(!Array.isArray(e))throw new bz(e,this,`Value ${JSON.stringify(e)} is not a valid array`)}Encode(e){const t=e.pop();this.validate(t);const r=this.createToken(this.val.args[0],0);return t.reduce(((e,t)=>[...e,r.EncodeObject(t)]),[])}Execute(e,t){const r=this.createToken(this.val.args[0],0);return this.validate(e),e.reduce(((e,n)=>[...e,r.Execute(n,t)]),[])}EncodeObject(e,t){const r=this.createToken(this.val.args[0],0);return this.validate(e),t&&t[vz.prim]?t[vz.prim](e):e.reduce(((e,t)=>[...e,r.EncodeObject(t)]),[])}ExtractSchema(){return{[vz.prim]:this.valueSchema.ExtractSchema()}}generateSchema(){return{__michelsonType:vz.prim,schema:this.valueSchema.generateSchema()}}findAndReturnTokens(e,t){return vz.prim===e&&t.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(e,t),t}}vz.prim="list";class wz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="MutezValidationError"}}class Az extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return new _j(e[Object.keys(e)[0]])}ExtractSchema(){return Az.prim}generateSchema(){return{__michelsonType:Az.prim,schema:Az.prim}}validate(e){if(new _j(e).isNaN())throw new wz(e,this,`Value is not a number: ${e}`)}Encode(e){const t=e.pop();return this.validate(t),{int:String(t).toString()}}EncodeObject(e,t){return this.validate(e),t&&t[Az.prim]?t[Az.prim](e):{int:String(e).toString()}}ToBigMapKey(e){return{key:{int:String(e)},type:{prim:Az.prim}}}ToKey(e){let{int:t}=e;return t}compare(e,t){const r=Number(e),n=Number(t);return r===n?0:r<n?-1:1}findAndReturnTokens(e,t){return Az.prim===e&&t.push(this),t}}Az.prim="mutez";class _z extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="BytesValidationError"}}class Ez extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}ToBigMapKey(e){return{key:{bytes:e},type:{prim:Ez.prim}}}validate(e){if("string"!==typeof e||!/^[0-9a-fA-F]*$/.test(e)||e.length%2!==0)throw new _z(e,this,`Invalid bytes: ${e}`)}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?$H.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=iU(this.convertUint8ArrayToHexString(t)),this.validate(t),{bytes:String(t).toString()}}EncodeObject(e,t){return"string"===typeof(e=this.convertUint8ArrayToHexString(e))&&(e=iU(e)),this.validate(e),t&&t[Ez.prim]?t[Ez.prim](e):{bytes:String(e).toString()}}Execute(e){return e.bytes}ExtractSchema(){return Ez.prim}generateSchema(){return{__michelsonType:Ez.prim,schema:Ez.prim}}ToKey(e){let{bytes:t,string:r}=e;return r||t}findAndReturnTokens(e,t){return Ez.prim===e&&t.push(this),t}}Ez.prim="bytes";class xz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}subToken(){return this.createToken(this.val.args[0],this.idx)}schema(){return this.createToken(this.val.args[0],0)}annot(){return Array.isArray(this.val.annots)?super.annot():this.createToken(this.val.args[0],this.idx).annot()}Encode(e){const t=e;return void 0===t||null===t?{prim:"None"}:!Array.isArray(t)||void 0!==t[t.length-1]&&null!==t[t.length-1]?{prim:"Some",args:[this.schema().Encode(e)]}:(t.pop(),{prim:"None"})}EncodeObject(e,t){let r=e;return void 0===r||null===r?{prim:"None"}:(r="object"===typeof r&&"Some"in r?r.Some:r,{prim:"Some",args:[this.schema().EncodeObject(r,t)]})}Execute(e,t){return"None"===e.prim?null:{Some:this.schema().Execute(e.args[0],t)}}ExtractSchema(){return{Some:this.schema().ExtractSchema()}}generateSchema(){return{__michelsonType:xz.prim,schema:this.schema().generateSchema()}}ExtractSignature(){return[...this.schema().ExtractSignature()]}get KeySchema(){return this.schema()}compare(e,t){return e?t?this.KeySchema.compare(e,t):1:-1}ToKey(e){return this.Execute(e)}ToBigMapKey(e){return{key:this.EncodeObject(e),type:this.typeWithoutAnnotations()}}findAndReturnTokens(e,t){return xz.prim===e&&t.push(this),this.subToken().findAndReturnTokens(e,t),t}}xz.prim="option";class kz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return e.string&&/^\d+$/.test(e.string)?new Date(1e3*Number(e.string)).toISOString():e.string?new Date(e.string).toISOString():e.int?new Date(1e3*Number(e.int)).toISOString():void 0}Encode(e){const t=e.pop();return"number"===typeof t?{int:String(t)}:{string:t}}EncodeObject(e,t){return t&&t[kz.prim]?t[kz.prim](e):"number"===typeof e?{int:String(e)}:{string:e}}ExtractSchema(){return kz.prim}generateSchema(){return{__michelsonType:kz.prim,schema:kz.prim}}ToKey(e){let{string:t}=e;return t}ToBigMapKey(e){return{key:{string:e},type:{prim:kz.prim}}}findAndReturnTokens(e,t){return kz.prim===e&&t.push(this),t}}kz.prim="timestamp";class Sz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="IntValidationError"}}class Pz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return new _j(e[Object.keys(e)[0]])}ExtractSchema(){return Pz.prim}generateSchema(){return{__michelsonType:Pz.prim,schema:Pz.prim}}validate(e){if(new _j(e).isNaN())throw new Sz(e,this,`Value is not a number: ${JSON.stringify(e)}`)}Encode(e){const t=e.pop();return this.validate(t),{int:new _j(t).toFixed()}}EncodeObject(e,t){return this.validate(e),t&&t[Pz.prim]?t[Pz.prim](e):{int:new _j(e).toFixed()}}ToBigMapKey(e){return{key:{int:String(e)},type:{prim:Pz.prim}}}ToKey(e){let{int:t}=e;return t}compare(e,t){const r=Number(e),n=Number(t);return r===n?0:r<n?-1:1}findAndReturnTokens(e,t){return Pz.prim===e&&t.push(this),t}}Pz.prim="int";class Tz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Encode(e){return e.pop(),{prim:"Unit"}}EncodeObject(e,t){return t&&t[Tz.prim]?t[Tz.prim](e):{prim:"Unit"}}Execute(e){return MG}ExtractSchema(){return Tz.prim}generateSchema(){return{__michelsonType:Tz.prim,schema:Tz.prim}}compare(e,t){return 0}ToKey(e){return MG}ToBigMapKey(e){return{key:{prim:"Unit"},type:{prim:Tz.prim}}}findAndReturnTokens(e,t){return Tz.prim===e&&t.push(this),t}}Tz.prim="unit";class Iz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="KeyValidationError"}}class Oz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return e.string?e.string:function(e){if("0"===e[0]){const t={"00":new Uint8Array([13,15,37,217]),"01":new Uint8Array([3,254,226,86]),"02":new Uint8Array([3,178,139,127])};return Jj(e.substring(2),t[e.substring(0,2)])}}(e.bytes)}validate(e){if(Kj(e)!==Nj.VALID)throw new Iz(e,this,"Key is not valid")}Encode(e){const t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return this.validate(e),t&&t[Oz.prim]?t[Oz.prim](e):{string:e}}ExtractSchema(){return Oz.prim}generateSchema(){return{__michelsonType:Oz.prim,schema:Oz.prim}}ToKey(e){return this.Execute(e)}ToBigMapKey(e){return{key:{string:e},type:{prim:Oz.prim}}}compare(e,t){const r=this.getPrefix(e),n=this.getPrefix(t);if(r===Ej.EDPK&&n!==Ej.EDPK)return-1;if(r===Ej.SPPK&&n!==Ej.SPPK)return n===Ej.EDPK?1:-1;if(r===Ej.P2PK){if(n!==Ej.P2PK)return 1;const r=this.getP256PublicKeyComparableBytes(e),i=this.getP256PublicKeyComparableBytes(t);return $H.compare(r,i)}return super.compare(e,t)}getPrefix(e){return e.substring(0,4)}getP256PublicKeyComparableBytes(e){return Xj(e,Oj[Ej.P2PK]).slice(1)}findAndReturnTokens(e,t){return Oz.prim===e&&t.push(this),t}}Oz.prim="key";class Rz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="KeyHashValidationError"}}class Cz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return e.string?e.string:tU(e.bytes)}validate(e){if(Wj(e)!==Nj.VALID)throw new Rz(e,this,`KeyHash is not valid: ${JSON.stringify(e)}`)}Encode(e){const t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return this.validate(e),t&&t[Cz.prim]?t[Cz.prim](e):{string:e}}ExtractSchema(){return Cz.prim}generateSchema(){return{__michelsonType:Cz.prim,schema:Cz.prim}}ToKey(e){let{string:t,bytes:r}=e;return t||tU(r)}ToBigMapKey(e){return{key:{string:e},type:{prim:Cz.prim}}}findAndReturnTokens(e,t){return Cz.prim===e&&t.push(this),t}}Cz.prim="key_hash";class Nz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SignatureValidationError"}}class Lz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return e.string?e.string:e.bytes}validate(e){if($j(e)!==Nj.VALID)throw new Nz(e,this,"Signature is not valid")}Encode(e){const t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return this.validate(e),t&&t[Lz.prim]?t[Lz.prim](e):{string:e}}ExtractSchema(){return Lz.prim}generateSchema(){return{__michelsonType:Lz.prim,schema:Lz.prim}}ToKey(e){return this.Execute(e)}ToBigMapKey(e){return{key:{string:e},type:{prim:Lz.prim}}}findAndReturnTokens(e,t){return Lz.prim===e&&t.push(this),t}}Lz.prim="signature";class Mz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}get paramSchema(){return this.createToken(this.val.args[0],this.idx)}get returnSchema(){return this.createToken(this.val.args[1],this.idx+1)}Execute(e){return e.string?e.string:e}Encode(e){return e.pop()}EncodeObject(e,t){return t&&t[Mz.prim]?t[Mz.prim](e):e}ExtractSchema(){return{[Mz.prim]:{parameters:this.paramSchema.ExtractSchema(),returns:this.returnSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:Mz.prim,schema:{parameters:this.paramSchema.generateSchema(),returns:this.returnSchema.generateSchema()}}}findAndReturnTokens(e,t){return Mz.prim===e&&t.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(e,t),this.createToken(this.val.args[1],this.idx).findAndReturnTokens(e,t),t}}Mz.prim="lambda";class Bz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){return e.string}Encode(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{string:t.pop()}}EncodeObject(e,t){return t&&t[Bz.prim]?t[Bz.prim](e):{string:e}}ExtractSchema(){return Bz.prim}generateSchema(){return{__michelsonType:Bz.prim,schema:Bz.prim}}findAndReturnTokens(e,t){return Bz.prim===e&&t.push(this),t}}Bz.prim="operation";class Dz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SetValidationError"}}class jz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}get KeySchema(){return this.createToken(this.val.args[0],0)}validate(e){if(!Array.isArray(e))throw new Dz(e,this,`Value ${JSON.stringify(e)} is not an array`)}Encode(e){const t=e.pop();return this.validate(t),t.sort(((e,t)=>this.KeySchema.compare(e,t))).reduce(((e,t)=>[...e,this.KeySchema.EncodeObject(t)]),[])}Execute(e,t){return e.reduce(((e,r)=>[...e,this.KeySchema.Execute(r,t)]),[])}EncodeObject(e,t){return this.validate(e),t&&t[jz.prim]?t[jz.prim](e):e.sort(((e,t)=>this.KeySchema.compare(e,t))).reduce(((e,t)=>[...e,this.KeySchema.EncodeObject(t)]),[])}ExtractSchema(){return jz.prim}generateSchema(){return{__michelsonType:jz.prim,schema:this.KeySchema.generateSchema()}}findAndReturnTokens(e,t){return jz.prim===e&&t.push(this),this.KeySchema.findAndReturnTokens(e,t),t}}jz.prim="set";class Uz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ChainIDValidationError"}}class Fz extends XH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}validate(e){if(Gj(e)!==Nj.VALID)throw new Uz(e,this,`Value ${JSON.stringify(e)} is not a valid ChainID`)}Execute(e){return e[Object.keys(e)[0]]}ExtractSchema(){return Fz.prim}generateSchema(){return{__michelsonType:Fz.prim,schema:Fz.prim}}Encode(e){const t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return this.validate(e),t&&t[Fz.prim]?t[Fz.prim](e):{string:e}}ToKey(e){let{string:t}=e;return t}ToBigMapKey(e){return{key:{string:e},type:{prim:Fz.prim}}}findAndReturnTokens(e,t){return Fz.prim===e&&t.push(this),t}}Fz.prim="chain_id";class Hz extends kD{constructor(){super(),this.name="TicketEncodeError",this.message="Tickets cannot be sent to the blockchain; they are created on-chain"}}const zz={prim:"contract"},Gz={prim:"int"};class qz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(e){throw new Hz}EncodeObject(e,t){if(t&&t[qz.prim])return t[qz.prim](e,this.val);throw new Hz}Execute(e,t){if(t&&t[qz.prim])return t[qz.prim](e,this.val);const r=this.createToken(zz,this.idx),n=this.valueToken,i=this.createToken(Gz,this.idx);return void 0===e.args[2]&&void 0!==e.args[1].args?{ticketer:r.Execute(e.args[0],t),value:n.Execute(e.args[1].args[0],t),amount:i.Execute(e.args[1].args[1],t)}:{ticketer:r.Execute(e.args[0],t),value:n.Execute(e.args[1],t),amount:i.Execute(e.args[2],t)}}ExtractSchema(){return{ticketer:yz.prim,value:this.valueToken.ExtractSchema(),amount:Pz.prim}}generateSchema(){return{__michelsonType:qz.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:yz.prim,schema:yz.prim},amount:{__michelsonType:Pz.prim,schema:Pz.prim}}}}findAndReturnTokens(e,t){return qz.prim===e&&t.push(this),this.valueToken.findAndReturnTokens(e,t),t}}qz.prim="ticket";class Wz extends kD{constructor(){super(),this.name="TicketDeprecatedEncodeError",this.message="Ticket_deprecated cannot be sent to the blockchain; they are created on-chain"}}const $z={prim:"contract"},Kz={prim:"int"};class Vz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(e){throw new Wz}EncodeObject(e,t){if(t&&t[Vz.prim])return t[Vz.prim](e,this.val);throw new Wz}Execute(e,t){if(t&&t[Vz.prim])return t[Vz.prim](e,this.val);const r=this.createToken($z,this.idx),n=this.valueToken,i=this.createToken(Kz,this.idx);return void 0===e.args[2]&&void 0!==e.args[1].args?{ticketer:r.Execute(e.args[0],t),value:n.Execute(e.args[1].args[0],t),amount:i.Execute(e.args[1].args[1],t)}:{ticketer:r.Execute(e.args[0],t),value:n.Execute(e.args[1],t),amount:i.Execute(e.args[2],t)}}ExtractSchema(){return{ticketer:yz.prim,value:this.valueToken.ExtractSchema(),amount:Pz.prim}}generateSchema(){return{__michelsonType:Vz.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:yz.prim,schema:yz.prim},amount:{__michelsonType:Pz.prim,schema:Pz.prim}}}}findAndReturnTokens(e,t){return Vz.prim===e&&t.push(this),this.valueToken.findAndReturnTokens(e,t),t}}Vz.prim="ticket_deprecated";class Qz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="NeverTokenError"}}class Zz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Encode(e){const t=e.pop();throw new Qz(t,this,`Assigning a value to the type never is forbidden. Trying to assign ${JSON.stringify(t)}.`)}EncodeObject(e,t){if(t&&t[Zz.prim])return t[Zz.prim](e);throw new Qz(e,this,`Assigning a value to the type never is forbidden. Trying to assign ${JSON.stringify(e)}.`)}Execute(e){throw new Qz(e,this,`There is no literal value for the type never. Trying to execute ${JSON.stringify(e)}.`)}ExtractSchema(){return Zz.prim}generateSchema(){return{__michelsonType:Zz.prim,schema:Zz.prim}}findAndReturnTokens(e,t){return Zz.prim===e&&t.push(this),t}}Zz.prim="never";class Yz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SaplingStateValidationError"}}class Jz extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}isValid(e){return"object"===typeof e&&0===Object.keys(e).length}Execute(e,t){if(t&&t[Jz.prim])return t[Jz.prim](e,this.val);if("int"in e)return e.int;throw new Yz(e,this,`Sapling state is expecting an object with an int property. Got ${JSON.stringify(e)}`)}Encode(e){const t=e.pop();if(this.isValid(t))return[];throw new Yz(t,this,`Invalid sapling_state. Received: ${JSON.stringify(t)} while expecting: {}`)}EncodeObject(e,t){if(t&&t[Jz.prim])return t[Jz.prim](e);if(this.isValid(e))return[];throw new Yz(e,this,`Invalid sapling_state. Received: ${JSON.stringify(e)} while expecting: {}`)}ExtractSchema(){return{[Jz.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:Jz.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(e,t){return Jz.prim===e&&t.push(this),t}}Jz.prim="sapling_state";class Xz extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SaplingTransactionValidationError"}}class eG extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){throw new Xz(e,this,`There is no literal value for the sapling_transaction type. Got: ${JSON.stringify(e)}.`)}validateBytes(e){const t=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(e);if(t&&t[2].length%2===0)return t[2];throw new Xz(e,this,`Invalid bytes: ${JSON.stringify(e)}`)}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?$H.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.validateBytes(this.convertUint8ArrayToHexString(t)),{bytes:String(t).toString()}}EncodeObject(e,t){return e=this.validateBytes(this.convertUint8ArrayToHexString(e)),t&&t[eG.prim]?t[eG.prim](e):{bytes:String(e).toString()}}ExtractSchema(){return{[eG.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:eG.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(e,t){return eG.prim===e&&t.push(this),t}}eG.prim="sapling_transaction";class tG extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SaplingTransactionDeprecatedValidationError"}}class rG extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e){throw new tG(e,this,`There is no literal value for the sapling_transaction_deprecated type. Got: ${JSON.stringify(e)}.`)}validateBytes(e){const t=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(e);if(t&&t[2].length%2===0)return t[2];throw new tG(e,this,`Invalid bytes: ${JSON.stringify(e)}`)}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?$H.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.validateBytes(this.convertUint8ArrayToHexString(t)),{bytes:String(t).toString()}}EncodeObject(e,t){return e=this.validateBytes(this.convertUint8ArrayToHexString(e)),t&&t[rG.prim]?t[rG.prim](e):{bytes:String(e).toString()}}ExtractSchema(){return{[rG.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:rG.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(e,t){return rG.prim===e&&t.push(this),t}}rG.prim="sapling_transaction_deprecated";class nG extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="Bls12381frValidationError"}}class iG extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!==0)throw new nG(e,this,`Invalid bytes: ${JSON.stringify(e)}`)}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?$H.from(e).toString("hex"):e}Encode(e){let t=e.pop();return"number"===typeof t?{int:t.toString()}:(t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t})}EncodeObject(e,t){return t&&t[iG.prim]?t[iG.prim](e):"number"===typeof e?{int:e.toString()}:(e=this.convertUint8ArrayToHexString(e),this.validate(e),{bytes:e})}Execute(e){return e.bytes}ExtractSchema(){return iG.prim}generateSchema(){return{__michelsonType:iG.prim,schema:iG.prim}}findAndReturnTokens(e,t){return iG.prim===e&&t.push(this),t}}iG.prim="bls12_381_fr";class sG extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="Bls12381g1ValidationError"}}class oG extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!==0)throw new sG(e,this,`Invalid bytes: ${JSON.stringify(e)}`)}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?$H.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t}}EncodeObject(e,t){return e=this.convertUint8ArrayToHexString(e),this.validate(e),t&&t[oG.prim]?t[oG.prim](e):{bytes:e}}Execute(e){return e.bytes}ExtractSchema(){return oG.prim}generateSchema(){return{__michelsonType:oG.prim,schema:oG.prim}}findAndReturnTokens(e,t){return oG.prim===e&&t.push(this),t}}oG.prim="bls12_381_g1";class aG extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="Bls12381g2ValidationError"}}class cG extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!==0)throw new aG(e,this,`Invalid bytes: ${JSON.stringify(e)}`)}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?$H.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t}}EncodeObject(e,t){return e=this.convertUint8ArrayToHexString(e),this.validate(e),t&&t[cG.prim]?t[cG.prim](e):{bytes:e}}Execute(e){return e.bytes}ExtractSchema(){return cG.prim}generateSchema(){return{__michelsonType:cG.prim,schema:cG.prim}}findAndReturnTokens(e,t){return cG.prim===e&&t.push(this),t}}cG.prim="bls12_381_g2";class lG extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ChestValidationError"}}class uG extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!=0)throw new lG(e,this,`Invalid bytes: ${JSON.stringify(e)}`)}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?$H.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t}}EncodeObject(e,t){return e=this.convertUint8ArrayToHexString(e),this.validate(e),t&&t[uG.prim]?t[uG.prim](e):{bytes:e}}Execute(e){return e.bytes}ExtractSchema(){return uG.prim}generateSchema(){return{__michelsonType:uG.prim,schema:uG.prim}}findAndReturnTokens(e,t){return uG.prim===e&&t.push(this),t}}uG.prim="chest";class dG extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ChestKeyValidationError"}}class hG extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!==0)throw new dG(e,this,`Invalid bytes: ${JSON.stringify(e)}`)}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?$H.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t}}EncodeObject(e,t){return e=this.convertUint8ArrayToHexString(e),this.validate(e),t&&t[hG.prim]?t[hG.prim](e):{bytes:e}}Execute(e){return e.bytes}ExtractSchema(){return hG.prim}generateSchema(){return{__michelsonType:hG.prim,schema:hG.prim}}findAndReturnTokens(e,t){return hG.prim===e&&t.push(this),t}}hG.prim="chest_key";class fG extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="GlobalConstantEncodingError"}}class pG extends YH{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="GlobalConstantDecodingError"}}class mG extends JH{constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}Execute(e,t){if(t&&t[mG.prim])return t[mG.prim](e,this.val);throw new pG(e,this,`Unable to decode a value represented by a global constants. Please provide an expanded script to the Michelson-Encoder or semantics for the decoding. The following global constant hash was encountered: ${this.val.args[0].string}.`)}Encode(e){throw new fG(e,this,`Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ${this.val.args[0].string}.`)}EncodeObject(e,t){if(t&&t[mG.prim])return t[mG.prim](e);throw new fG(e,this,`Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ${this.val.args[0].string}.`)}ExtractSchema(){return mG.prim}generateSchema(){return{__michelsonType:mG.prim,schema:{hash:this.val.args[0].string}}}findAndReturnTokens(e,t){return mG.prim===e&&t.push(this),t}}mG.prim="constant";const gG=[az,lz,uz,tz,hz,pz,mz,nz,yz,vz,Az,Ez,xz,kz,Pz,Tz,Oz,Cz,Lz,Mz,Bz,jz,Fz,qz,Vz,Zz,Jz,eG,rG,iG,oG,cG,uG,hG,mG];class yG extends kD{constructor(e,t){super(e),this.message=e,this.data=t,this.name="Invalid token error"}}function bG(e,t,r){if(Array.isArray(e))return new az(e,t,bG,r);const n=gG.find((t=>t.prim===e.prim));if(!n)throw new yG(`Malformed data: ${JSON.stringify(e)}. Expected a value with a valid prim property`,e);return new n(e,t,bG,r)}class vG extends jD{constructor(e,t,r,n){super(e,t,r,n),this.viewName=e,this.sigs=t,this.args=r,this.cause=n,this.name="ParameterEncodingError",this.message=`Could not encode parameter ${JSON.stringify(r)} received for name "${e}" expecting one of the following signatures ${JSON.stringify(t)}`}}class wG extends kD{constructor(e,t){super(),this.script=e,this.reason=t,this.name="InvalidScriptError";let r="Invalid on-chain view found in the following script.";t&&(r+=` Reason: ${t}.`),r+=`Script: ${JSON.stringify(e)}`,this.message=r}}class AG extends kD{constructor(e,t){super(),this.script=e,this.reason=t,this.name="InvalidRpcResponseError";let r="Invalid RPC response passed as argument(s).";t&&(r+=` Reason: ${t}.`),r+=` Received: ${JSON.stringify(e)}`,this.message=r}}class _G extends kD{constructor(e){super(e),this.message=e,this.name="InvalidBigMapSchemaError"}}class EG extends kD{constructor(e,t){super(e),this.message=e,this.value=t,this.name="InvalidBigMapDiffError"}}class xG extends kD{constructor(e,t,r,n){super(),this.details=t,this.schema=r,this.value=n,this.name="BigMapEncodingError",this.message=`Unable to encode the big map ${e}. Schema is: ${JSON.stringify(r)}. The ${e} is: ${JSON.stringify(n)}. Error details: ${t}`}}class kG extends kD{constructor(e,t,r,n,i){super(),this.details=t,this.schema=r,this.value=n,this.semantics=i,this.name="StorageEncodingError",this.message=`Unable to encode ${e}. The schema is: ${JSON.stringify(r)}, the value is: ${JSON.stringify(n)}.${i?`And the semantic is: ${JSON.stringify(i)}`:""}. Error details: ${t}`}}class SG extends kD{constructor(e){super(e),this.message=e,this.name="MissingArgumentError"}}var PG;const TG=Symbol.for("taquito-schema-type-symbol");function IG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:az.prim;var r,n;if(Array.isArray(e))return IG({prim:t,args:e},t);const i=e;return i.prim===t&&i.args&&i.args.length>2?Object.assign(Object.assign({},i),{args:[null===(r=i.args)||void 0===r?void 0:r[0],{prim:t,args:null===(n=i.args)||void 0===n?void 0:n.slice(1)}]}):i}function OG(e,t){if(void 0===e||void 0===t)return e===t;const r=IG(e),n=IG(t);return r.prim===n.prim&&(void 0===r.args&&void 0===n.args||void 0!==r.args&&void 0!==n.args&&r.args.length===n.args.length&&r.args.every(((e,t)=>{var r,i;return OG(e,null!==(i=null===(r=n.args)||void 0===r?void 0:r[t])&&void 0!==i?i:{})})))&&(void 0===r.annots&&void 0===n.annots||void 0!==r.annots&&void 0!==n.annots&&r.annots.length===n.annots.length&&r.annots.every(((e,t)=>{var r;return e===(null===(r=n.annots)||void 0===r?void 0:r[t])})))}class RG{static isSchema(e){return e&&!0===e[TG]}static fromRPCResponse(e){if(!e)throw new AG(e,"the RPC response is empty");if(!e.script)throw new AG(e,"the RPC response has no script");if(!Array.isArray(e.script.code))throw new AG(e,"The response.script.code should be an array");let t=e.script.code;for(;1===t.length&&Array.isArray(t[0]);)t=t[0];const r=t.find((e=>"prim"in e&&"storage"===e.prim));if(!r||!Array.isArray(r.args))throw new AG(e,'The response.script.code has an element of type {prim: "storage"}, but its args is not an array');return new RG(r.args[0])}isExpressionExtended(e){return"prim"in e&&Array.isArray(e.args)}constructor(e){if(this.val=e,this[PG]=!0,this.root=bG(e,0),this.root instanceof tz)this.bigMap=this.root;else if(this.isExpressionExtended(e)&&"pair"===e.prim){const t=e.args[0];this.isExpressionExtended(t)&&"big_map"===t.prim&&(this.bigMap=new tz(t,0,bG))}}removeTopLevelAnnotation(e){return(this.root instanceof az||this.root instanceof nz)&&this.root.hasAnnotations()&&"object"===typeof e&&1===Object.keys(e).length?e[Object.keys(e)[0]]:e}Execute(e,t){const r=this.root.Execute(e,t);return this.removeTopLevelAnnotation(r)}Typecheck(e){this.root instanceof tz&&Number.isInteger(Number(e))||this.root instanceof qz&&e.ticketer&&e.value&&e.amount||this.root instanceof Vz&&e.ticketer&&e.value&&e.amount||this.root instanceof pz&&this.root.ValueSchema instanceof tz||this.root.EncodeObject(e)}ExecuteOnBigMapDiff(e,t){if(!this.bigMap)throw new _G("Big map schema is undefined");if(!Array.isArray(e))throw new EG(`Big map diff must be an array, got: ${JSON.stringify(e)}`,e);const r=e.map((e=>{let{key:t,value:r}=e;return{args:[t,r]}}));return this.bigMap.Execute(r,t)}ExecuteOnBigMapValue(e,t){if(!this.bigMap)throw new _G("Big map schema is undefined");return this.bigMap.ValueSchema.Execute(e,t)}EncodeBigMapKey(e){if(!this.bigMap)throw new _G("Big map schema is undefined");try{return this.bigMap.KeySchema.ToBigMapKey(e)}catch(t){throw new xG("key",t,this.bigMap.KeySchema,e)}}Encode(e,t){try{return this.root.EncodeObject(e,t)}catch(r){if(r instanceof YH)throw r;throw new kG("storage object",r,this.root,e,t)}}ExtractSchema(){return this.removeTopLevelAnnotation(this.root.ExtractSchema())}generateSchema(){return this.removeTopLevelAnnotation(this.root.generateSchema())}ComputeState(e,t){if(!this.bigMap)throw new _G("Big map schema is undefined");const r=e.reduce(((e,t)=>Object.assign(Object.assign({},e),this.ExecuteOnBigMapDiff(t.contents[0].metadata.operation_result.big_map_diff))),{});return Object.assign(Object.assign({},this.Execute(t)),{[this.bigMap.annot()]:r})}FindFirstInTopLevelPair(e,t){return this.findValue(this.root.val,e,t)}findValue(e,t,r){if(OG(r,e))return t;if(Array.isArray(e)||"pair"===e.prim){const n=IG(e),i=IG(t,"Pair");if(void 0===n.args||void 0===i.args)throw new SG("Tokens have no arguments");if(n.args[0])return this.findValue(n.args[0],i.args[0],r)||this.findValue(n.args[1],i.args[1],r)}}findToken(e){return this.root.findAndReturnTokens(e,[])}}PG=TG;class CG{static fromRPCResponse(e){if(!e)throw new AG(e,"the RPC response is empty");if(!e.script)throw new AG(e,"the RPC response has no script");if(!Array.isArray(e.script.code))throw new AG(e,"The response.script.code should be an array");const t=e.script.code.find((e=>"prim"in e&&"parameter"===e.prim));if(!t)throw new AG(e,'The response.script.code should have an element of type {prim: "parameter"}');if(!Array.isArray(t.args))throw new AG(e,'The response.script.code has an element of type {prim: "parameter"}, but its args is not an array');return new CG(t.args[0])}get isMultipleEntryPoint(){return this.root instanceof nz||this.root instanceof xz&&this.root.subToken()instanceof nz}get hasAnnotation(){return!this.isMultipleEntryPoint||"0"!==Object.keys(this.ExtractSchema())[0]}constructor(e){this.root=bG(e,0)}Execute(e,t){return this.root.Execute(e,t)}Encode(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];try{return this.root.Encode(t.reverse())}catch(n){if(n instanceof YH)throw n;throw new vG("Unable to encode parameter",this.root,t,n)}}EncodeObject(e,t){try{return this.root.EncodeObject(e,t)}catch(r){if(r instanceof YH)throw r;throw new vG("Unable to encode parameter object",this.root,e,r)}}ExtractSchema(){return this.root.ExtractSchema()}generateSchema(){return this.root.generateSchema()}ExtractSignatures(){return this.root.ExtractSignature()}}class NG{static fromRPCResponse(e){const t=[],r=e&&e.script&&Array.isArray(e.script.code)&&e.script.code.filter((e=>"view"===e.prim));return r&&r.forEach((e=>{t.push(new NG(e.args))})),t}constructor(e){if(!e)throw new wG(e,"the args are not defined");if(4!==e.length)throw new wG(e,"there should be exactly 4 arguments");if(!("string"in e[0])||!e[0].string)throw new wG(e,"The first argument should be a string, representing the view name. It should be in the form: { string: 'viewName' }");this.viewName=e[0].string,this.viewArgsType=e[1],this.viewReturnType=e[2],this.instructions=e[3],this.rootArgsType=bG(this.viewArgsType,0),this.rootReturnType=bG(this.viewReturnType,0)}encodeViewArgs(e){try{return this.rootArgsType.EncodeObject(e)}catch(t){throw new vG(this.viewName,void 0,e,t)}}decodeViewResult(e,t){return this.rootReturnType.Execute(e,t)}extractArgsSchema(){return this.rootArgsType.ExtractSchema()}extractResultSchema(){return this.rootReturnType.ExtractSchema()}}class LG{constructor(e,t){this.tag=e,this.type=t}static fromMichelineValue(e){var t,r;return new LG(null===(t=e.annots)||void 0===t?void 0:t[0],null===(r=e.args)||void 0===r?void 0:r[0])}static fromRPCResponse(e){const t=[];return e.script.code.forEach((e=>{"prim"in e&&"code"===e.prim&&"args"in e&&e.args&&t.push(...LG.extractEventsRecursively(e.args))})),LG.removeDuplicates(t)}static removeDuplicates(e){const t=[];return e.forEach((e=>{-1===t.findIndex((t=>t.tag===e.tag&&OG(t.type,e.type)))&&t.push(e)})),t}static extractEventsRecursively(e){return Array.isArray(e)?e.flatMap((e=>LG.extractEventsRecursively(e))):"prim"in e?"EMIT"===e.prim?[LG.fromMichelineValue(e)]:"args"in e&&e.args?e.args.flatMap((e=>LG.extractEventsRecursively(e))):[]:[]}}const MG=Symbol(),BG=Symbol("source_reference");class DG extends kD{constructor(e,t,r){super(),this.src=e,this.idx=t,this.message=r,this.name="ScanError"}}var jG,UG;(UG=jG||(jG={}))[UG.Comment=0]="Comment",UG[UG.Number=1]="Number",UG[UG.String=2]="String",UG[UG.Bytes=3]="Bytes",UG[UG.Ident=4]="Ident";const FG=new RegExp("\\s"),HG=new RegExp("[:@%_A-Za-z]"),zG=new RegExp("[@%_\\.A-Za-z0-9]"),GG=new RegExp("[0-9]"),qG=new RegExp("[0-9a-fA-F]");function WG(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){let r=0;for(;r<e.length;){for(;r<e.length&&FG.test(e[r]);)r++;if(r===e.length)return;const n=e[r],i=r;if(HG.test(n)){for(r++;r<e.length&&zG.test(e[r]);)r++;yield{t:jG.Ident,v:e.slice(i,r),first:i,last:r}}else if(e.length-r>1&&"0x"===e.substring(r,r+2)){for(r+=2;r<e.length&&qG.test(e[r]);)r++;if(0!==(r-i&1))throw new DG(e,r,"Bytes literal length is expected to be power of two");yield{t:jG.Bytes,v:e.slice(i,r),first:i,last:r}}else if(GG.test(n)||"-"===n){"-"===n&&r++;const t=r;for(;r<e.length&&GG.test(e[r]);)r++;if(t===r)throw new DG(e,r,"Number literal is too short");yield{t:jG.Number,v:e.slice(i,r),first:i,last:r}}else if('"'===n){r++;let t=!1;for(;r<e.length&&(t||'"'!==e[r]);r++)t=!t&&"\\"===e[r];if(r===e.length)throw new DG(e,r,"Unterminated string literal");r++,yield{t:jG.String,v:e.slice(i,r),first:i,last:r}}else if("#"===n){for(r++;r<e.length&&"\n"!==e[r];)r++;t&&(yield{t:jG.Comment,v:e.slice(i,r),first:i,last:r})}else if(e.length-r>1&&"/*"===e.substring(r,r+2)){for(r+=2;r<e.length&&!(e.length-r>1&&"*/"===e.substring(r,r+2));)r++;if(r===e.length)throw new DG(e,r,"Unterminated C style comment");r+=2,t&&(yield{t:jG.Comment,v:e.slice(i,r),first:i,last:r})}else{if("("!==n&&")"!==n&&"{"!==n&&"}"!==n&&";"!==n)throw new DG(e,r,`Invalid character at offset ${r}: \`${n}'`);r++,yield{t:n,v:n,first:i,last:r}}}}()}const $G=Symbol("ref_contract");var KG,VG;(VG=KG||(KG={})).Ps9mPmXa="Ps9mPmXaRzmzk35gbAYNCAw6UXdE2qoABTHbN2oEEc1qM7CwT9P",VG.PtCJ7pwo="PtCJ7pwoxe8JasnHY8YonnLYjcVHmhiARPJvqcC6VfHT5s8k8sY",VG.PsYLVpVv="PsYLVpVvgbLhAhoqAkMFUo6gudkJ9weNXhUYCiLDzcUpFpkk8Wt",VG.PsddFKi3="PsddFKi32cMJ2qPjf43Qv5GDWLDPZb3T3bF6fLKiF5HtvHNU7aP",VG.Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",VG.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",VG.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",VG.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",VG.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",VG.PtEdoTez="PtEdoTezd3RHSC31mpxxo1npxFjoWWcFgQtxapi51Z8TLu6v6Uq",VG.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",VG.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",VG.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",VG.PtHangzH="PtHangzHogokSuiMHemCuowEavgYTP8J5qQ9fQS793MHYFpCY3r",VG.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",VG.PsiThaCa="PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP",VG.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",VG.PtJakarta="PtJakartaiDz69SfDDLXJSiuZqTSeSKRDbKVZC8MNzJnvRjvnGw",VG.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",VG.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",VG.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",VG.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",VG.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",VG.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",VG.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",VG.PtParisBx="PtParisBxoLz5gzMmn3d9WBQNoPSZakgnkMC2VNuQ3KXfUtUQeZ",VG.PsParisCZ="PsParisCZo7KAh1Z1smVd9ZMZ1HHn5gkzbM94V3PLCpknFWhUAi",VG.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK";const QG=KG.PsParisCZ,ZG={Ps9mPmXaRzmzk35gbAYNCAw6UXdE2qoABTHbN2oEEc1qM7CwT9P:0,PtCJ7pwoxe8JasnHY8YonnLYjcVHmhiARPJvqcC6VfHT5s8k8sY:1,PsYLVpVvgbLhAhoqAkMFUo6gudkJ9weNXhUYCiLDzcUpFpkk8Wt:2,PsddFKi32cMJ2qPjf43Qv5GDWLDPZb3T3bF6fLKiF5HtvHNU7aP:3,Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd:4,PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU:5,PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS:5,PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb:6,PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo:7,PtEdoTezd3RHSC31mpxxo1npxFjoWWcFgQtxapi51Z8TLu6v6Uq:8,PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA:8,PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i:9,PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV:10,PtHangzHogokSuiMHemCuowEavgYTP8J5qQ9fQS793MHYFpCY3r:11,PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx:11,PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP:12,Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A:12,PtJakartaiDz69SfDDLXJSiuZqTSeSKRDbKVZC8MNzJnvRjvnGw:13,PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY:13,PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg:14,PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW:15,PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc:16,PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1:16,PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf:17,ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH:19,PtParisBxoLz5gzMmn3d9WBQNoPSZakgnkMC2VNuQ3KXfUtUQeZ:20,PsParisCZo7KAh1Z1smVd9ZMZ1HHn5gkzbM94V3PLCpknFWhUAi:20,ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK:21};function YG(e,t){return ZG[e]<ZG[t]}class JG extends kD{constructor(e,t){super(),this.prim=e,this.message=t,this.name="MacroError"}}function XG(e,t){var r,n;if(0===t&&void 0===e.args||(null===(r=e.args)||void 0===r?void 0:r.length)===t)return!0;throw new JG(e,`macro ${e.prim} expects ${t} arguments, was given ${null===(n=e.args)||void 0===n?void 0:n.length}`)}function eq(e){if(void 0===e.annots)return!0;throw new JG(e,`unexpected annotation on macro ${e.prim}: ${e.annots}`)}function tq(e,t){if("int"in t)return!0;throw new JG(e,`macro ${e.prim} expects int argument`)}function rq(e,t,r,n){let i=0,s=0;const o=[null,null];let a;if(i===t.length)throw new JG(e,`unexpected end: ${e.prim}`);let c,l=t[i++];switch(l){case"P":{const{r:o,n:c,an:l}=rq(e,t.slice(i),r.slice(s),n);a=o,i+=c,s+=l;break}case"A":s!==r.length&&(o[0]=r[s++]);break;default:throw new JG(e,`${e.prim}: unexpected character: ${l}`)}if(i===t.length)throw new JG(e,`unexpected end: ${e.prim}`);switch(l=t[i++],l){case"P":{const{r:o,n:a,an:l}=rq(e,t.slice(i),r.slice(s),n);c=o.map((e=>{let[t,r]=e;return[t+1,r]})),i+=a,s+=l;break}case"I":s!==r.length&&(o[1]=r[s++]);break;default:throw new JG(e,`${e.prim}: unexpected character: ${l}`)}return{r:n(a,c,[0,o]),n:i,an:s}}function nq(e,t,r,n){const i=t[0];switch(i){case"A":return t.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CAR",annots:["@%%"]},nq(e,t.slice(1),[],n)]]},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%@","%@",...r]}]:n.a;case"D":return t.length>1?[{prim:"DUP"},{prim:"DIP",args:[[{prim:"CDR",annots:["@%%"]},nq(e,t.slice(1),[],n)]]},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%@",...r]}]:n.d;default:throw new JG(e,`${e.prim}: unexpected character: ${i}`)}}function iq(e,t){let r=e.length;for(;r>0&&e[r-1]===t;)r--;return e.slice(0,r)}function sq(e){const t=[],r=[];if(void 0!==e)for(const n of e)(0!==n.length&&"%"===n[0]?t:r).push(n);return{fields:t,rest:r}}function oq(e){let{prim:t,annots:r,args:n}=e;return Object.assign(Object.assign({prim:t},r&&{annots:r}),n&&{args:n})}const aq=/^P[PAI]{3,}R$/,cq=/^UNP[PAI]{2,}R$/,lq=/^C[AD]{2,}R$/,uq=/^SET_C[AD]+R$/,dq=/^MAP_C[AD]+R$/,hq=/^DI{2,}P$/,fq=/^DU+P$/;class pq extends kD{constructor(e,t){super(),this.token=e,this.message=t,this.name="MichelineParseError"}}class mq extends kD{constructor(e,t){super(),this.node=e,this.message=t,this.name="JSONParseError"}}const gq=new pq(null,"Unexpected EOF");function yq(e){return e.t===jG.Ident&&("@"===e.v[0]||"%"===e.v[0]||":"===e.v[0])}const bq=new RegExp("^-?[0-9]+$"),vq=new RegExp("^([0-9a-fA-F]{2})*$");class wq{constructor(e){this.opt=e}expand(e){var t,r,n;if(void 0!==(null===(t=this.opt)||void 0===t?void 0:t.expandGlobalConstant)&&"constant"===e.prim){const t=function(e,t){return void 0!==e.args&&1===e.args.length&&"string"in e.args[0]&&e.args[0].string in t?t[e.args[0].string]:e}(e,this.opt.expandGlobalConstant);return t!==e&&(t[BG]=Object.assign(Object.assign({},e[BG]||{first:0,last:0}),{globalConstant:e})),t}if(void 0===(null===(r=this.opt)||void 0===r?void 0:r.expandMacros)||(null===(n=this.opt)||void 0===n?void 0:n.expandMacros)){const t=function(e,t){const r=(null===t||void 0===t?void 0:t.protocol)||QG;function n(e){return void 0!==e?[{prim:"RENAME",annots:e}]:[]}switch(e.prim){case"CMPEQ":case"CMPNEQ":case"CMPLT":case"CMPGT":case"CMPLE":case"CMPGE":if(XG(e,0))return[{prim:"COMPARE"},oq({prim:e.prim.slice(3),annots:e.annots})];break;case"IFEQ":case"IFNEQ":case"IFLT":case"IFGT":case"IFLE":case"IFGE":if(XG(e,2))return[{prim:e.prim.slice(2)},oq({prim:"IF",annots:e.annots,args:e.args})];break;case"IFCMPEQ":case"IFCMPNEQ":case"IFCMPLT":case"IFCMPGT":case"IFCMPLE":case"IFCMPGE":if(XG(e,2))return[{prim:"COMPARE"},{prim:e.prim.slice(5)},oq({prim:"IF",annots:e.annots,args:e.args})];break;case"FAIL":if(XG(e,0)&&eq(e))return[{prim:"UNIT"},{prim:"FAILWITH"}];break;case"ASSERT":if(XG(e,0)&&eq(e))return[{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_EQ":case"ASSERT_NEQ":case"ASSERT_LT":case"ASSERT_GT":case"ASSERT_LE":case"ASSERT_GE":if(XG(e,0)&&eq(e))return[{prim:e.prim.slice(7)},{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_CMPEQ":case"ASSERT_CMPNEQ":case"ASSERT_CMPLT":case"ASSERT_CMPGT":case"ASSERT_CMPLE":case"ASSERT_CMPGE":if(XG(e,0)&&eq(e))return[[{prim:"COMPARE"},{prim:e.prim.slice(10)}],{prim:"IF",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_NONE":if(XG(e,0)&&eq(e))return[{prim:"IF_NONE",args:[[],[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_SOME":if(XG(e,0))return[{prim:"IF_NONE",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],n(e.annots)]}];break;case"ASSERT_LEFT":if(XG(e,0))return[{prim:"IF_LEFT",args:[n(e.annots),[[{prim:"UNIT"},{prim:"FAILWITH"}]]]}];break;case"ASSERT_RIGHT":if(XG(e,0))return[{prim:"IF_LEFT",args:[[[{prim:"UNIT"},{prim:"FAILWITH"}]],n(e.annots)]}];break;case"IF_SOME":if(XG(e,2))return[oq({prim:"IF_NONE",annots:e.annots,args:[e.args[1],e.args[0]]})];break;case"IF_RIGHT":if(XG(e,2))return[oq({prim:"IF_LEFT",annots:e.annots,args:[e.args[1],e.args[0]]})];break;case"CAR":case"CDR":if(void 0===e.args)return e;if(XG(e,1)&&tq(e,e.args[0])){const t=parseInt(e.args[0].int,10);return oq({prim:"GET",args:[{int:"CAR"===e.prim?String(2*t+1):String(2*t)}],annots:e.annots})}}if(aq.test(e.prim)&&XG(e,0)){const{fields:t,rest:r}=sq(e.annots),{r:n}=rq(e,e.prim.slice(1),t,((e,t,r)=>[...e||[],...t||[],r]));return n.map(((e,t)=>{let[i,s]=e;const o=[...iq(s,null).map((e=>null===e?"%":e)),...0===i&&t===n.length-1?r:[]],a=oq({prim:"PAIR",annots:0!==o.length?o:void 0});return 0===i?a:{prim:"DIP",args:1===i?[[a]]:[{int:String(i)},[a]]}}))}if(cq.test(e.prim)){if(YG(r,KG.PtEdo2Zk)&&XG(e,0)){const{r:t}=rq(e,e.prim.slice(3),e.annots||[],((e,t,r)=>[r,...t||[],...e||[]]));return t.map((e=>{let[t,r]=e;const n=[{prim:"DUP"},oq({prim:"CAR",annots:null!==r[0]?[r[0]]:void 0}),{prim:"DIP",args:[[oq({prim:"CDR",annots:null!==r[1]?[r[1]]:void 0})]]}];return 0===t?n:{prim:"DIP",args:1===t?[[n]]:[{int:String(t)},[n]]}}))}if("UNPAIR"===e.prim)return e;if(XG(e,0)){const{r:t}=rq(e,e.prim.slice(3),[],((e,t,r)=>[r,...t||[],...e||[]]));return t.map((e=>{let[t]=e;const r=oq({prim:"UNPAIR"});return 0===t?r:{prim:"DIP",args:1===t?[[r]]:[{int:String(t)},[r]]}}))}}if(lq.test(e.prim)&&XG(e,0)){const t=[...e.prim.slice(1,e.prim.length-1)];return t.map(((r,n)=>{const i=n===t.length-1?e.annots:void 0;switch(r){case"A":return oq({prim:"CAR",annots:i});case"D":return oq({prim:"CDR",annots:i});default:throw new JG(e,`unexpected character: ${r}`)}}))}if(uq.test(e.prim)&&XG(e,0)){const{fields:t,rest:r}=sq(e.annots);if(t.length>1)throw new JG(e,`unexpected annotation on macro ${e.prim}: ${t}`);const n=0!==t.length?{a:[{prim:"DUP"},{prim:"CAR",annots:t},{prim:"DROP"},{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:[t[0],"%@"]}],d:[{prim:"DUP"},{prim:"CDR",annots:t},{prim:"DROP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",t[0]]}]}:{a:[{prim:"CDR",annots:["@%%"]},{prim:"SWAP"},{prim:"PAIR",annots:["%","%@"]}],d:[{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@","%"]}]};return nq(e,e.prim.slice(5,e.prim.length-1),r,n)}if(dq.test(e.prim)&&XG(e,1)){const{fields:t}=sq(e.annots);if(t.length>1)throw new JG(e,`unexpected annotation on macro ${e.prim}: ${t}`);const r={a:[{prim:"DUP"},{prim:"CDR",annots:["@%%"]},{prim:"DIP",args:[[oq({prim:"CAR",annots:0!==t.length?["@"+t[0].slice(1)]:void 0}),e.args[0]]]},{prim:"SWAP"},{prim:"PAIR",annots:[0!==t.length?t[0]:"%","%@"]}],d:[{prim:"DUP"},oq({prim:"CDR",annots:0!==t.length?["@"+t[0].slice(1)]:void 0}),e.args[0],{prim:"SWAP"},{prim:"CAR",annots:["@%%"]},{prim:"PAIR",annots:["%@",0!==t.length?t[0]:"%"]}]};return nq(e,e.prim.slice(5,e.prim.length-1),[],r)}if(hq.test(e.prim)&&XG(e,1)){let t=0;for(;"I"===e.prim[1+t];)t++;return oq({prim:"DIP",args:[{int:String(t)},e.args[0]]})}if(fq.test(e.prim)){let t=0;for(;"U"===e.prim[1+t];)t++;if(YG(r,KG.PtEdo2Zk)){if(1===t){if(void 0===e.args)return e;XG(e,1)&&tq(e,e.args[0])&&(t=parseInt(e.args[0].int,10))}else XG(e,0);return 1===t?[oq({prim:"DUP",annots:e.annots})]:2===t?[{prim:"DIP",args:[[oq({prim:"DUP",annots:e.annots})]]},{prim:"SWAP"}]:[{prim:"DIP",args:[{int:String(t-1)},[oq({prim:"DUP",annots:e.annots})]]},{prim:"DIG",args:[{int:String(t)}]}]}if(1===t)return e;if(XG(e,0))return oq({prim:"DUP",args:[{int:String(t)}],annots:e.annots})}return e}(e,this.opt);return t!==e&&(t[BG]=Object.assign(Object.assign({},e[BG]||{first:0,last:0}),{macro:e})),t}return e}parseListExpr(e,t){var r;const n={first:t.first,last:t.last},i="("===t.t;let s;if(i){if(s=e.next(),s.done)throw gq;n.last=s.value.last}else s={value:t};if(s.value.t!==jG.Ident)throw new pq(s.value,`not an identifier: ${s.value.v}`);const o={prim:s.value.v,[BG]:n};for(;;){const t=e.next();if(t.done){if(i)throw gq;break}if(")"===t.value.t){if(!i)throw new pq(t.value,"unexpected closing bracket");n.last=t.value.last;break}if(yq(t.value))o.annots=o.annots||[],o.annots.push(t.value.v),n.last=t.value.last;else{o.args=o.args||[];const i=this.parseExpr(e,t.value);n.last=(null===(r=i[BG])||void 0===r?void 0:r.last)||n.last,o.args.push(i)}}return this.expand(o)}parseArgs(e,t){var r;const n={first:t.first,last:t.last},i={prim:t.v,[BG]:n};for(;;){const t=e.next();if(t.done||"}"===t.value.t||";"===t.value.t)return[i,t];if(yq(t.value))n.last=t.value.last,i.annots=i.annots||[],i.annots.push(t.value.v);else{const s=this.parseExpr(e,t.value);n.last=(null===(r=s[BG])||void 0===r?void 0:r.last)||n.last,i.args=i.args||[],i.args.push(s)}}}parseSequenceExpr(e,t){var r,n;const i={first:t.first,last:t.last},s=[];s[BG]=i;const o="{"===t.t;let a="{"===t.t?null:{value:t};for(;;){if(null===a&&(a=e.next(),a.done||(i.last=a.value.last)),a.done){if(o)throw gq;return s}if("}"===a.value.t){if(o)return s;throw new pq(a.value,"unexpected closing bracket")}if(a.value.t===jG.Ident){const[t,n]=this.parseArgs(e,a.value);i.last=(null===(r=t[BG])||void 0===r?void 0:r.last)||i.last,s.push(this.expand(t)),a=n}else{const t=this.parseExpr(e,a.value);i.last=(null===(n=t[BG])||void 0===n?void 0:n.last)||i.last,s.push(t),a=null}null===a&&(a=e.next(),a.done||(i.last=a.value.last)),a.done||";"!==a.value.t||(a=null)}}parseExpr(e,t){switch(t.t){case jG.Ident:return this.expand({prim:t.v,[BG]:{first:t.first,last:t.last}});case jG.Number:return{int:t.v,[BG]:{first:t.first,last:t.last}};case jG.String:return{string:JSON.parse(t.v),[BG]:{first:t.first,last:t.last}};case jG.Bytes:return{bytes:t.v.slice(2),[BG]:{first:t.first,last:t.last}};case"{":return this.parseSequenceExpr(e,t);default:return this.parseListExpr(e,t)}}parseSequence(e){if("string"!==typeof e)throw new TypeError(`string type was expected, got ${typeof e} instead`);const t=WG(e),r=t.next();return r.done?null:this.parseSequenceExpr(t,r.value)}parseList(e){if("string"!==typeof e)throw new TypeError(`string type was expected, got ${typeof e} instead`);const t=WG(e),r=t.next();return r.done?null:this.parseListExpr(t,r.value)}parseMichelineExpression(e){if("string"!==typeof e)throw new TypeError(`string type was expected, got ${typeof e} instead`);const t=WG(e),r=t.next();return r.done?null:this.parseExpr(t,r.value)}parseScript(e){return this.parseSequence(e)}parseData(e){return this.parseList(e)}parseJSON(e){if("object"!==typeof e)throw new TypeError(`object type was expected, got ${typeof e} instead`);if(Array.isArray(e)){const t=[];for(const r of e){if(null===r||"object"!==typeof r)throw new mq(r,`unexpected sequence element: ${r}`);t.push(this.parseJSON(r))}return t}if("prim"in e){const t=e;if("string"===typeof t.prim&&(void 0===t.annots||Array.isArray(t.annots))&&(void 0===t.args||Array.isArray(t.args))){const e={prim:t.prim};if(void 0!==t.annots){for(const e of t.annots)if("string"!==typeof e)throw new mq(e,`string expected: ${e}`);e.annots=t.annots}if(void 0!==t.args){e.args=[];for(const r of t.args){if(null===r||"object"!==typeof r)throw new mq(r,`unexpected argument: ${r}`);e.args.push(this.parseJSON(r))}}return this.expand(e)}throw new mq(e,`malformed prim expression: ${e}`)}if("string"in e){if("string"===typeof e.string)return{string:e.string};throw new mq(e,`malformed string literal: ${e}`)}if("int"in e){if("string"===typeof e.int&&bq.test(e.int))return{int:e.int};throw new mq(e,`malformed int literal: ${e}`)}if("bytes"in e){if("string"===typeof e.bytes&&vq.test(e.bytes))return{bytes:e.bytes};throw new mq(e,`malformed bytes literal: ${e}`)}throw new mq(e,`unexpected object: ${e}`)}}const Aq=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],_q=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];class Eq extends kD{constructor(e){super(),this.message=e,this.name="Base58DecodingError"}}function xq(e){const t=(e.length+9)%64,r=0===t?0:64-t;if(e.length>268435455)throw new DD("",`: Invalid length ${e.length} is too big -- SHA-256.`);const n=e.length<<3,i=[...e,128,...new Array(r).fill(0),0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n];function s(e,t){return e>>>t|e<<32-t}const o=[...Aq],a=new Array(64),c=new Array(8);for(let u=0;u<i.length;u+=64){let e=u,t=0;for(;t<16;)a[t]=i[e]<<24|i[e+1]<<16|i[e+2]<<8|i[e+3],e+=4,t++;for(;t<64;){const e=s(a[t-15],7)^s(a[t-15],18)^a[t-15]>>>3,r=s(a[t-2],17)^s(a[t-2],19)^a[t-2]>>>10;a[t]=(0|r)+a[t-7]+e+a[t-16]|0,t++}for(let r=0;r<8;r++)c[r]=o[r];for(let r=0;r<64;r++){const e=s(c[0],2)^s(c[0],13)^s(c[0],22),t=s(c[4],6)^s(c[4],11)^s(c[4],25),n=c[7]+t+(c[4]&c[5]^~c[4]&c[6])+_q[r]+a[r]|0,i=e+(c[0]&c[1]^c[0]&c[2]^c[1]&c[2])|0;c[7]=c[6],c[6]=c[5],c[5]=c[4],c[4]=c[3]+n|0,c[3]=c[2],c[2]=c[1],c[1]=c[0],c[0]=n+i|0}for(let r=0;r<8;r++)o[r]=o[r]+c[r]|0}const l=[];for(const u of o)l.push(u>>24&255),l.push(u>>16&255),l.push(u>>8&255),l.push(255&u);return l}const kq=[0,1,2,3,4,5,6,7,8,-1,-1,-1,-1,-1,-1,-1,9,10,11,12,13,14,15,16,-1,17,18,19,20,21,-1,22,23,24,25,26,27,28,29,30,31,32,-1,-1,-1,-1,-1,-1,33,34,35,36,37,38,39,40,41,42,43,-1,44,45,46,47,48,49,50,51,52,53,54,55,56,57];function Sq(e,t){const r=e.charCodeAt(t)-49;if(r>=kq.length||-1===kq[r])throw new Eq(`Unexpected character at position ${t}: ${e[t]}`);return kq[r]}function Pq(e){const t=function(e){const t=[];let r=0;for(;r<e.length&&0===Sq(e,r);)r++;let n=r;for(;r<e.length;){let n=Sq(e,r++),i=0;for(;0!==n||i<t.length;){const e=58*(t[i]||0)+n;t[i++]=e%256,n=Math.floor(e/256)}}for(;n-- >0;)t.push(0);return t.reverse()}(e);if(t.length<4)throw new Eq(`Data is too short ${t.length}`);const r=t.slice(0,t.length-4),n=t.slice(t.length-4),i=xq(xq(r));if(n[0]!==i[0]||n[1]!==i[1]||n[2]!==i[2]||n[3]!==i[3])throw new Eq("Invalid checksum");return r}class Tq extends SD{constructor(e){super(),this.message=e,this.name="InvalidMichelsonError"}}class Iq extends SD{constructor(e){super(),this.message=e,this.name="InvalidTypeExpressionError"}}class Oq extends SD{constructor(e){super(),this.message=e,this.name="InvalidDataExpressionError"}}class Rq extends SD{constructor(e){super(),this.entrypoint=e,this.name="InvalidEntrypointError",this.message=`Contract has no entrypoint named: "${e}"`}}class Cq extends kD{constructor(e){super(),this.message=e,this.name="LongIntegerError"}}class Nq extends kD{constructor(e,t){super(),this.val=e,this.message=t,this.name="MichelsonError"}}class Lq extends Nq{constructor(e,t,r){super(e,t),this.val=e,this.message=t,this.name="MichelsonTypeError",void 0!==r&&(this.data=r)}}class Mq{append(e){let t=0;for(;0!==e||t<this.buf.length;){const r=10*(this.buf[t]||0)+e;this.buf[t++]=r%256,e=Math.floor(r/256)}}constructor(e){if(this.neg=!1,this.buf=[],void 0!==e)if("string"===typeof e)for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(0===t&&45===r)this.neg=!0;else{if(r<48||r>57)throw new Cq(`unexpected character in integer constant "${e[t]}"`);this.append(r-48)}}else e<0?(this.neg=!0,this.append(-e)):this.append(e)}cmp(e){if(this.neg!==e.neg)return(e.neg?1:0)-(this.neg?1:0);{let t=0;if(this.buf.length!==e.buf.length)t=this.buf.length<e.buf.length?-1:1;else if(0!==this.buf.length){let r=e.buf.length-1;for(;r>=0&&this.buf[r]===e.buf[r];)r--;t=r<0?0:this.buf[r]<e.buf[r]?-1:1}return this.neg?0===t?0:-t:t}}get sign(){return 0===this.buf.length?0:this.neg?-1:1}}function Bq(e){const t=[];for(let r=0;r<e.length;r+=2){const n=parseInt(e.slice(r,r+2),16);if(Number.isNaN(n))return null;t.push(n)}return t}function Dq(e){try{return new Mq(e),!0}catch(t){return!1}}function jq(e){try{return new Mq(e).sign>=0}catch(t){return!1}}const Uq=/^(@%|@%%|%@|[@:%]([_0-9a-zA-Z][_0-9a-zA-Z.%@]*)?)$/;function Fq(e,t){if(Array.isArray(e))return{};let r,n,i;if(void 0!==e.annots)for(const s of e.annots)if(0!==s.length){if(!Uq.test(s)||!(null===t||void 0===t?void 0:t.specialVar)&&("@%"===s||"@%%"===s)||!(null===t||void 0===t?void 0:t.specialFields)&&"%@"===s)throw new Nq(e,`${e.prim}: unexpected annotation: ${s}`);switch(s[0]){case"%":((null===t||void 0===t?void 0:t.emptyFields)||s.length>1)&&(r=r||[],r.push(s));break;case":":s.length>1&&(n=n||[],n.push(s));break;case"@":((null===t||void 0===t?void 0:t.emptyVar)||s.length>1)&&(i=i||[],i.push(s))}}return{f:r,t:n,v:i}}const Hq={BlockHash:[32,[1,52]],OperationHash:[32,[5,116]],OperationListHash:[32,[133,233]],OperationListListHash:[32,[29,159,109]],ProtocolHash:[32,[2,170]],ContextHash:[32,[79,199]],ED25519PublicKeyHash:[20,[6,161,159]],SECP256K1PublicKeyHash:[20,[6,161,161]],P256PublicKeyHash:[20,[6,161,164]],ContractHash:[20,[2,90,121]],CryptoboxPublicKeyHash:[16,[153,103]],ED25519Seed:[32,[13,15,58,7]],ED25519PublicKey:[32,[13,15,37,217]],SECP256K1SecretKey:[32,[17,162,224,201]],P256SecretKey:[32,[16,81,238,189]],ED25519EncryptedSeed:[56,[7,90,60,179,41]],SECP256K1EncryptedSecretKey:[56,[9,237,241,174,150]],P256EncryptedSecretKey:[56,[9,48,57,115,171]],SECP256K1PublicKey:[33,[3,254,226,86]],P256PublicKey:[33,[3,178,139,127]],SECP256K1Scalar:[33,[38,248,136]],SECP256K1Element:[33,[5,92,0]],ED25519SecretKey:[64,[43,246,78,7]],ED25519Signature:[64,[9,245,205,134,18]],SECP256K1Signature:[64,[13,115,101,19,63]],P256Signature:[64,[54,240,44,52]],GenericSignature:[64,[4,130,43]],ChainID:[4,[87,82,0]],RollupAddress:[20,[1,128,120,31]]};function zq(e){const t=Pq(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(const s of n){const[e,r]=Hq[s];if(t.length===e+r.length){let e=0;for(;e<r.length&&t[e]===r[e];)e++;if(e===r.length)return[s,t.slice(r.length)]}}return null}function Gq(e,t){const r=t,n=Array.isArray(r)?r:r.args;if(2===n.length){return"pair"===e?{prim:"pair",args:n}:{prim:"Pair",args:n}}return Object.assign(Object.assign({},Array.isArray(r)?{prim:e}:r),{args:[n[0],{prim:e,args:n.slice(1)}]})}function qq(e){return Array.isArray(e)||"pair"===e.prim}function Wq(e){return Array.isArray(e)||"prim"in e&&"Pair"===e.prim}const $q=/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])[T ]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|[+-]([01][0-9]|2[0-3]):([0-5][0-9]))$/;function Kq(e){if("string"in e){if(jq(e.string))return new Date(parseInt(e.string,10));if($q.test(e.string)){const t=new Date(e.string);if(!Number.isNaN(t.valueOf))return t}}else if(Dq(e.int))return new Date(parseInt(e.int,10));return null}const Vq={ABS:!0,ADD:!0,ADDRESS:!0,AMOUNT:!0,AND:!0,APPLY:!0,BALANCE:!0,BLAKE2B:!0,CAR:!0,CDR:!0,CHAIN_ID:!0,CHECK_SIGNATURE:!0,COMPARE:!0,CONCAT:!0,CONS:!0,EDIV:!0,EQ:!0,EXEC:!0,FAILWITH:!0,GE:!0,GET_AND_UPDATE:!0,GT:!0,HASH_KEY:!0,IMPLICIT_ACCOUNT:!0,INT:!0,ISNAT:!0,JOIN_TICKETS:!0,KECCAK:!0,LE:!0,LEVEL:!0,LSL:!0,LSR:!0,LT:!0,MEM:!0,MUL:!0,NEG:!0,NEQ:!0,NEVER:!0,NOT:!0,NOW:!0,OR:!0,PACK:!0,PAIRING_CHECK:!0,READ_TICKET:!0,SAPLING_VERIFY_UPDATE:!0,SELF:!0,SELF_ADDRESS:!0,SENDER:!0,SET_DELEGATE:!0,SHA256:!0,SHA3:!0,SHA512:!0,SIZE:!0,SLICE:!0,SOME:!0,SOURCE:!0,SPLIT_TICKET:!0,SUB:!0,SWAP:!0,TICKET:!0,TICKET_DEPRECATED:!0,TOTAL_VOTING_POWER:!0,TRANSFER_TOKENS:!0,UNIT:!0,VOTING_POWER:!0,XOR:!0,RENAME:!0,OPEN_CHEST:!0,SUB_MUTEZ:!0,MIN_BLOCK_TIME:!0,BYTES:!0,NAT:!0},Qq=Object.assign({},Vq,{CONTRACT:!0,CREATE_CONTRACT:!0,DIG:!0,DIP:!0,DROP:!0,DUG:!0,DUP:!0,EMIT:!0,EMPTY_BIG_MAP:!0,EMPTY_MAP:!0,EMPTY_SET:!0,GET:!0,IF:!0,IF_CONS:!0,IF_LEFT:!0,IF_NONE:!0,ITER:!0,LAMBDA:!0,LAMBDA_REC:!0,LEFT:!0,LOOP:!0,LOOP_LEFT:!0,MAP:!0,NIL:!0,NONE:!0,PAIR:!0,PUSH:!0,RIGHT:!0,SAPLING_EMPTY_STATE:!0,UNPACK:!0,UNPAIR:!0,UPDATE:!0,CAST:!0,VIEW:!0}),Zq={unit:!0,never:!0,bool:!0,int:!0,nat:!0,string:!0,chain_id:!0,bytes:!0,mutez:!0,key_hash:!0,key:!0,signature:!0,timestamp:!0,address:!0,tx_rollup_l2_address:!0},Yq=Object.assign({},Zq,{or:!0,pair:!0,set:!0,big_map:!0,contract:!0,lambda:!0,list:!0,map:!0,operation:!0,option:!0,bls12_381_g1:!0,bls12_381_g2:!0,bls12_381_fr:!0,sapling_transaction:!0,sapling_transaction_deprecated:!0,sapling_state:!0,ticket:!0,chest_key:!0,chest:!0});class Jq extends Nq{constructor(e,t){super(e,t),this.val=e,this.message=t,this.name="MichelsonValidationError"}}function Xq(e){return"prim"in e}function eW(e){if(Xq(e))return!0;throw new Jq(e,"prim expression expected")}function tW(e){if(Array.isArray(e))return!0;throw new Jq(e,"sequence expression expected")}function rW(e){if(function(e){return Array.isArray(e)||"prim"in e}(e))return!0;throw new Jq(e,"prim or sequence expression expected")}function nW(e){if("-"===e.int[0])throw new Jq(e,"natural number expected")}function iW(e){if("int"in e)return!0;throw new Jq(e,"int literal expected")}function sW(e){if("string"in e)return!0;throw new Jq(e,"string literal expected")}function oW(e,t){var r;if(0===t&&void 0===e.args||(null===(r=e.args)||void 0===r?void 0:r.length)===t)return!0;throw new Jq(e,`${t} arguments expected`)}function aW(e){var t,r;if(Array.isArray(e)){for(const t of e){if(!Array.isArray(t)&&!Xq(t))throw new Jq(e,"sequence or prim expected");aW(t)}return!0}if(eW(e)){if(Object.prototype.hasOwnProperty.call(Vq,e.prim))return oW(e,0),!0;switch(e.prim){case"DROP":case"PAIR":case"UNPAIR":case"DUP":case"UPDATE":case"GET":void 0!==e.args&&oW(e,1)&&iW(e.args[0])&&nW(e.args[0]);break;case"DIG":case"DUG":case"SAPLING_EMPTY_STATE":oW(e,1)&&iW(e.args[0])&&nW(e.args[0]);break;case"NONE":case"LEFT":case"RIGHT":case"NIL":case"CAST":oW(e,1)&&gW(e.args[0]);break;case"UNPACK":oW(e,1)&&lW(e.args[0]);break;case"CONTRACT":oW(e,1)&&hW(e.args[0]);break;case"IF_NONE":case"IF_LEFT":case"IF_CONS":case"IF":oW(e,2)&&(tW(e.args[0])&&aW(e.args[0]),tW(e.args[1])&&aW(e.args[1]));break;case"MAP":case"ITER":case"LOOP":case"LOOP_LEFT":oW(e,1)&&aW(e.args[0]);break;case"CREATE_CONTRACT":oW(e,1)&&vW(e.args[0]);break;case"DIP":if(2===(null===(t=e.args)||void 0===t?void 0:t.length))iW(e.args[0])&&nW(e.args[0]),tW(e.args[1])&&aW(e.args[1]);else{if(1!==(null===(r=e.args)||void 0===r?void 0:r.length))throw new Jq(e,"1 or 2 arguments expected");tW(e.args[0])&&aW(e.args[0])}break;case"PUSH":oW(e,2)&&(uW(e.args[0]),bW(e.args[1]));break;case"EMPTY_SET":oW(e,1)&&cW(e.args[0]);break;case"EMPTY_MAP":oW(e,2)&&(cW(e.args[0]),gW(e.args[1]));break;case"EMPTY_BIG_MAP":oW(e,2)&&(cW(e.args[0]),fW(e.args[1]));break;case"LAMBDA_REC":case"LAMBDA":oW(e,3)&&(gW(e.args[0]),gW(e.args[1]),tW(e.args[2])&&aW(e.args[2]));break;case"VIEW":oW(e,2)&&(sW(e.args[0])&&mW(e.args[0]),gW(e.args[1])&&uW(e.args[1]));break;case"EMIT":e.args&&e.args.length>0?oW(e,1):oW(e,0);break;default:throw new Jq(e,"instruction expected")}}return!0}function cW(e){if(rW(e))if(Array.isArray(e)||"pair"===e.prim||"or"===e.prim||"option"===e.prim)yW(e,(e=>cW(e)));else if(!Object.prototype.hasOwnProperty.call(Zq,e.prim))throw new Jq(e,`${e.prim}: type is not comparable`);return!0}function lW(e){if(rW(e)&&Xq(e)){if(!Object.prototype.hasOwnProperty.call(Yq,e.prim)||"big_map"===e.prim||"operation"===e.prim||"sapling_state"===e.prim||"ticket"===e.prim)throw new Jq(e,`${e.prim}: type can't be used inside PACK/UNPACK instructions`);yW(e,(e=>lW(e)))}return!0}function uW(e){if(rW(e)&&Xq(e)){if(!Object.prototype.hasOwnProperty.call(Yq,e.prim)||"big_map"===e.prim||"operation"===e.prim||"sapling_state"===e.prim||"ticket"===e.prim||"contract"===e.prim)throw new Jq(e,`${e.prim}: type can't be pushed`);yW(e,(e=>uW(e)))}return!0}function dW(e){if(rW(e)&&Xq(e)){if(!Object.prototype.hasOwnProperty.call(Yq,e.prim)||"operation"===e.prim||"contract"===e.prim)throw new Jq(e,`${e.prim}: type can't be used as part of a storage`);yW(e,(e=>dW(e)))}return!0}function hW(e){if(rW(e)&&Xq(e)){if(!Object.prototype.hasOwnProperty.call(Yq,e.prim)||"operation"===e.prim)throw new Jq(e,`${e.prim}: type can't be used as part of a parameter`);yW(e,(e=>hW(e)))}return!0}function fW(e){if(rW(e)&&Xq(e)){if(!Object.prototype.hasOwnProperty.call(Yq,e.prim)||"big_map"===e.prim||"operation"===e.prim||"sapling_state"===e.prim)throw new Jq(e,`${e.prim}: type can't be used inside a big_map`);yW(e,(e=>fW(e)))}return!0}const pW=new RegExp("^[a-zA-Z0-9_.%@]*$");function mW(e){if(e.string.length>31)throw new Jq(e,`view name too long: ${e.string}`);if(!pW.test(e.string))throw new Jq(e,`invalid character(s) in view name: ${e.string}`)}function gW(e){if(rW(e)&&Xq(e)){if(!Object.prototype.hasOwnProperty.call(Yq,e.prim))throw new Jq(e,"type expected");yW(e,(e=>gW(e)))}return!0}function yW(e,t){if(Array.isArray(e)||"pair"===e.prim){const r=Array.isArray(e)?e:e.args;if(void 0===r||r.length<2)throw new Jq(e,"at least 2 arguments expected");return r.forEach((e=>{rW(e)&&t(e)})),!0}switch(e.prim){case"option":case"list":oW(e,1)&&rW(e.args[0])&&t(e.args[0]);break;case"contract":oW(e,1)&&hW(e.args[0]);break;case"or":oW(e,2)&&rW(e.args[0])&&rW(e.args[1])&&(t(e.args[0]),t(e.args[1]));break;case"lambda":oW(e,2)&&(gW(e.args[0]),gW(e.args[1]));break;case"set":oW(e,1)&&cW(e.args[0]);break;case"map":oW(e,2)&&rW(e.args[0])&&rW(e.args[1])&&(cW(e.args[0]),t(e.args[1]));break;case"big_map":oW(e,2)&&rW(e.args[0])&&rW(e.args[1])&&(cW(e.args[0]),fW(e.args[1]),t(e.args[1]));break;case"ticket":oW(e,1)&&rW(e.args[0])&&cW(e.args[0]);break;case"sapling_state":case"sapling_transaction":oW(e,1)&&iW(e.args[0]);break;default:oW(e,0)}return!0}function bW(e){if("int"in e||"string"in e||"bytes"in e)return!0;if(Array.isArray(e)){let t=0;for(const r of e)Xq(r)&&"Elt"===r.prim?(oW(r,2)&&(bW(r.args[0]),bW(r.args[1])),t++):bW(r);if(0!==t&&t!==e.length)throw new Jq(e,"data entries and map elements can't be intermixed");return!0}if(!Xq(e))throw new Jq(e,"data entry expected");switch(e.prim){case"Unit":case"True":case"False":case"None":oW(e,0);break;case"Pair":if(void 0===e.args||e.args.length<2)throw new Jq(e,"at least 2 arguments expected");for(const t of e.args)bW(t);break;case"Left":case"Right":case"Some":oW(e,1)&&bW(e.args[0]);break;case"Lambda_rec":e.args&&aW(e.args);break;case"Ticket":oW(e,4)&&(!function(e){if("string"in e||"bytes"in e)return!0;throw new Jq(e,"string or bytes literal expected")}(e.args[0]),gW(e.args[1]),bW(e.args[2]),iW(e.args[3]));break;default:if(!Object.prototype.hasOwnProperty.call(Qq,e.prim))throw new Jq(e,"data entry or instruction expected");aW(e)}return!0}function vW(e){if(tW(e)){const t={},r={};for(const n of e)if(eW(n)){if("view"!==n.prim){if(n.prim in t)throw new Jq(e,`duplicate contract section: ${n.prim}`);t[n.prim]=!0}switch(n.prim){case"code":oW(n,1)&&tW(n.args[0])&&aW(n.args[0]);break;case"parameter":if(oW(n,1)&&hW(n.args[0]),n.annots)throw new Jq(n,"Annotation must be part of the parameter type");break;case"storage":oW(n,1)&&dW(n.args[0]);break;case"view":if(oW(n,4)){if(sW(n.args[0])){const t=n.args[0];if(t.string in r)throw new Jq(e,`duplicate view name: ${t.string}`);r[t.string]=!0,mW(t)}uW(n.args[1]),uW(n.args[2]),tW(n.args[3])&&aW(n.args[3])}break;default:throw new Jq(e,`unexpected contract section: ${n.prim}`)}}}return!0}function wW(e){return Object.prototype.hasOwnProperty.call(Qq,e.prim)}function AW(e){if(!Array.isArray(e))return!1;for(const t of e)if("prim"in t){if(wW(t))throw new Nq(e,`Instruction outside of a lambda: ${JSON.stringify(e)}`);if("Elt"===t.prim)throw new Nq(e,`Elt item outside of a map literal: ${JSON.stringify(e)}`)}return!0}"function"===typeof SuppressedError&&SuppressedError;const _W=["parameter","storage","code","False","Elt","Left","None","Pair","Right","Some","True","Unit","PACK","UNPACK","BLAKE2B","SHA256","SHA512","ABS","ADD","AMOUNT","AND","BALANCE","CAR","CDR","CHECK_SIGNATURE","COMPARE","CONCAT","CONS","CREATE_ACCOUNT","CREATE_CONTRACT","IMPLICIT_ACCOUNT","DIP","DROP","DUP","EDIV","EMPTY_MAP","EMPTY_SET","EQ","EXEC","FAILWITH","GE","GET","GT","HASH_KEY","IF","IF_CONS","IF_LEFT","IF_NONE","INT","LAMBDA","LE","LEFT","LOOP","LSL","LSR","LT","MAP","MEM","MUL","NEG","NEQ","NIL","NONE","NOT","NOW","OR","PAIR","PUSH","RIGHT","SIZE","SOME","SOURCE","SENDER","SELF","STEPS_TO_QUOTA","SUB","SWAP","TRANSFER_TOKENS","SET_DELEGATE","UNIT","UPDATE","XOR","ITER","LOOP_LEFT","ADDRESS","CONTRACT","ISNAT","CAST","RENAME","bool","contract","int","key","key_hash","lambda","list","map","big_map","nat","option","or","pair","set","signature","string","bytes","mutez","timestamp","unit","operation","address","SLICE","DIG","DUG","EMPTY_BIG_MAP","APPLY","chain_id","CHAIN_ID","LEVEL","SELF_ADDRESS","never","NEVER","UNPAIR","VOTING_POWER","TOTAL_VOTING_POWER","KECCAK","SHA3","PAIRING_CHECK","bls12_381_g1","bls12_381_g2","bls12_381_fr","sapling_state","sapling_transaction_deprecated","SAPLING_EMPTY_STATE","SAPLING_VERIFY_UPDATE","ticket","TICKET_DEPRECATED","READ_TICKET","SPLIT_TICKET","JOIN_TICKETS","GET_AND_UPDATE","chest","chest_key","OPEN_CHEST","VIEW","view","constant","SUB_MUTEZ","tx_rollup_l2_address","MIN_BLOCK_TIME","sapling_transaction","EMIT","Lambda_rec","LAMBDA_REC","TICKET","BYTES","NAT","Ticket"];Object.assign({},..._W.map(((e,t)=>({[e]:t}))));var EW,xW;(xW=EW||(EW={}))[xW.Int=0]="Int",xW[xW.String=1]="String",xW[xW.Sequence=2]="Sequence",xW[xW.Prim0=3]="Prim0",xW[xW.Prim0Annot=4]="Prim0Annot",xW[xW.Prim1=5]="Prim1",xW[xW.Prim1Annot=6]="Prim1Annot",xW[xW.Prim2=7]="Prim2",xW[xW.Prim2Annot=8]="Prim2Annot",xW[xW.Prim=9]="Prim",xW[xW.Bytes=10]="Bytes";const kW=new Error("bounds out of range");class SW{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;this.buffer=e,this.idx=t,this.cap=r}get length(){return this.cap-this.idx}readBytes(e){if(this.cap-this.idx<e)throw kW;const t=this.buffer.slice(this.idx,this.idx+e);return this.idx+=e,t}reader(e){if(this.cap-this.idx<e)throw kW;const t=new SW(this.buffer,this.idx,this.idx+e);return this.idx+=e,t}copy(){return new SW(this.buffer,this.idx,this.cap)}readUint8(){if(this.cap-this.idx<1)throw kW;return this.buffer[this.idx++]>>>0}readUint16(){if(this.cap-this.idx<2)throw kW;return(this.buffer[this.idx++]<<8|this.buffer[this.idx++])>>>0}readUint32(){if(this.cap-this.idx<4)throw kW;return(this.buffer[this.idx++]<<24|this.buffer[this.idx++]<<16|this.buffer[this.idx++]<<8|this.buffer[this.idx++])>>>0}readInt8(){if(this.cap-this.idx<1)throw kW;return this.buffer[this.idx++]<<24>>24}readInt16(){if(this.cap-this.idx<2)throw kW;return(this.buffer[this.idx++]<<8|this.buffer[this.idx++])<<16>>16}readInt32(){if(this.cap-this.idx<4)throw kW;return this.buffer[this.idx++]<<24|this.buffer[this.idx++]<<16|this.buffer[this.idx++]<<8|this.buffer[this.idx++]}}var PW,TW,IW,OW,RW,CW;function NW(e){let t;const r=e.readUint8();switch(r){case IW.ED25519:t="ED25519PublicKeyHash";break;case IW.SECP256K1:t="SECP256K1PublicKeyHash";break;case IW.P256:t="P256PublicKeyHash";break;default:throw new Error(`unknown public key hash tag: ${r}`)}return{type:t,hash:e.readBytes(20)}}function LW(e){let t;const r=e.readUint8();switch(r){case PW.Implicit:t=NW(e);break;case PW.Originated:t={type:"ContractHash",hash:e.readBytes(20)},e.readBytes(1);break;default:throw new Error(`unknown address tag: ${r}`)}if(0!==e.length){const r=new TextDecoder;t.entryPoint=r.decode(new Uint8Array(e.readBytes(e.length)))}return t}function MW(e){let t,r;const n=e.readUint8();switch(n){case RW.ED25519:r="ED25519PublicKey",t=32;break;case RW.SECP256K1:r="SECP256K1PublicKey",t=33;break;case RW.P256:r="P256PublicKey",t=33;break;default:throw new Error(`unknown public key tag: ${n}`)}return{type:r,publicKey:e.readBytes(t)}}(TW=PW||(PW={}))[TW.Implicit=0]="Implicit",TW[TW.Originated=1]="Originated",(OW=IW||(IW={}))[OW.ED25519=0]="ED25519",OW[OW.SECP256K1=1]="SECP256K1",OW[OW.P256=2]="P256",(CW=RW||(RW={}))[CW.ED25519=0]="ED25519",CW[CW.SECP256K1=1]="SECP256K1",CW[CW.P256=2]="P256";class BW extends Nq{constructor(e,t,r){super(e,r),this.val=e,this.stackState=t,this.message=r,this.name="MichelsonInstructionError"}}function DW(e){return Array.isArray(e)?"pair":e.prim}function jW(e){return"prim"in e?e.args:e}function UW(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(DW(e)!==DW(t))throw new Lq(e,`types mismatch: ${DW(e)} != ${DW(t)}`,void 0);const n=[Fq(e),Fq(t)];if(n[0].t&&n[1].t&&n[0].t[0]!==n[1].t[0])throw new Lq(e,`${DW(e)}: type names mismatch: ${n[0].t[0]} != ${n[1].t[0]}`,void 0);if(r&&n[0].f&&n[1].f&&n[0].f[0]!==n[1].f[0])throw new Lq(e,`${DW(e)}: field names mismatch: ${n[0].f[0]} != ${n[1].f}`,void 0);if(qq(e)){const r=Gq("pair",e),n=Gq("pair",t);return UW(r.args[0],n.args[0],!0),void UW(r.args[1],n.args[1],!0)}switch(e.prim){case"option":case"list":case"contract":case"set":case"ticket":UW(e.args[0],t.args[0]);break;case"or":UW(e.args[0],t.args[0],!0),UW(e.args[1],t.args[1],!0);break;case"lambda":case"map":case"big_map":UW(e.args[0],t.args[0]),UW(e.args[1],t.args[1]);break;case"sapling_state":case"sapling_transaction":if(parseInt(e.args[0].int,10)!==parseInt(t.args[0].int,10))throw new Lq(e,`${DW(e)}: type argument mismatch: ${e.args[0].int} != ${t.args[0].int}`,void 0)}}function FW(e,t){if(e.length!==t.length)throw new Lq(e,`stack length mismatch: ${e.length} != ${t.length}`,void 0);for(let r=0;r<e.length;r++)UW(e[r],t[r])}function HW(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,n,i;if(!Array.isArray(e)){const s=Fq(e);if(((null===(r=s.t)||void 0===r?void 0:r.length)||0)>1)throw new Lq(e,`${e.prim}: at most one type annotation allowed: ${e.annots}`,void 0);if(t){if(((null===(n=s.f)||void 0===n?void 0:n.length)||0)>1)throw new Lq(e,`${e.prim}: at most one field annotation allowed: ${e.annots}`,void 0)}else if(((null===(i=s.f)||void 0===i?void 0:i.length)||0)>0)throw new Lq(e,`${e.prim}: field annotations aren't allowed: ${e.annots}`,void 0)}if(qq(e)){const t=jW(e);for(const e of t)HW(e,!0)}else switch(e.prim){case"option":case"list":case"contract":case"set":HW(e.args[0]);break;case"or":for(const t of e.args)HW(t,!0);break;case"lambda":case"map":case"big_map":HW(e.args[0]),HW(e.args[1])}}function zW(e){if(!Array.isArray(e))return!1;for(const t of e)if(!(Array.isArray(t)&&zW(t)||"prim"in t&&wW(t)))return!1;return!0}function GW(e,t,r){if(qq(t)){if(Wq(e)){AW(e);const n=Gq("Pair",e),i=Gq("pair",t);return GW(n.args[0],i.args[0],r),void GW(n.args[1],i.args[1],r)}throw new Lq(t,`pair expected: ${JSON.stringify(e)}`,e)}switch(t.prim){case"int":if("int"in e&&Dq(e.int))return;throw new Lq(t,`integer value expected: ${JSON.stringify(e)}`,e);case"nat":case"mutez":if("int"in e&&jq(e.int))return;throw new Lq(t,`natural value expected: ${JSON.stringify(e)}`,e);case"string":if("string"in e)return;throw new Lq(t,`string value expected: ${JSON.stringify(e)}`,e);case"bytes":case"bls12_381_g1":case"bls12_381_g2":if("bytes"in e&&null!==Bq(e.bytes))return;throw new Lq(t,`bytes value expected: ${JSON.stringify(e)}`,e);case"bool":if("prim"in e&&("True"===e.prim||"False"===e.prim))return;throw new Lq(t,`boolean value expected: ${JSON.stringify(e)}`,e);case"key_hash":if("string"in e&&null!==zq(e.string,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash"))return;if("bytes"in e)try{return void function(e){const t=Bq(e.bytes);if(null===t)throw new Error(`can't parse bytes: "${e.bytes}"`);NW(new SW(new Uint8Array(t)))}(e)}catch(yZ){}throw new Lq(t,`key hash expected: ${JSON.stringify(e)}`,e);case"timestamp":if(("string"in e||"int"in e)&&null!==Kq(e))return;throw new Lq(t,`timestamp expected: ${JSON.stringify(e)}`,e);case"address":if("string"in e){let t=e.string;const r=e.string.indexOf("%");if(r>=0&&(t=e.string.slice(0,r)),null!==zq(t,"ED25519PublicKeyHash","SECP256K1PublicKeyHash","P256PublicKeyHash","ContractHash","RollupAddress"))return}else if("bytes"in e)try{return void function(e){const t=Bq(e.bytes);if(null===t)throw new Error(`can't parse bytes: "${e.bytes}"`);LW(new SW(new Uint8Array(t)))}(e)}catch(yZ){}throw new Lq(t,`address expected: ${JSON.stringify(e)}`,e);case"key":if("string"in e&&null!==zq(e.string,"ED25519PublicKey","SECP256K1PublicKey","P256PublicKey"))return;if("bytes"in e)try{return void function(e){const t=Bq(e.bytes);if(null===t)throw new Error(`can't parse bytes: "${e.bytes}"`);MW(new SW(new Uint8Array(t)))}(e)}catch(yZ){}throw new Lq(t,`public key expected: ${JSON.stringify(e)}`,e);case"unit":if("prim"in e&&"Unit"===e.prim)return;throw new Lq(t,`unit value expected: ${JSON.stringify(e)}`,e);case"signature":if("bytes"in e||"string"in e&&null!==zq(e.string,"ED25519Signature","SECP256K1Signature","P256Signature","GenericSignature"))return;throw new Lq(t,`signature expected: ${JSON.stringify(e)}`,e);case"chain_id":if("bytes"in e||"string"in e){if(null!==("string"in e?Pq(e.string):Bq(e.bytes)))return}throw new Lq(t,`chain id expected: ${JSON.stringify(e)}`,e);case"option":if("prim"in e){if("None"===e.prim)return;if("Some"===e.prim)return void GW(e.args[0],t.args[0],r)}throw new Lq(t,`option expected: ${JSON.stringify(e)}`,e);case"list":case"set":if(AW(e)){for(const n of e)GW(n,t.args[0],r);return}throw new Lq(t,`${t.prim} expected: ${JSON.stringify(e)}`,e);case"or":if("prim"in e){if("Left"===e.prim)return void GW(e.args[0],t.args[0],r);if("Right"===e.prim)return void GW(e.args[0],t.args[1],r)}throw new Lq(t,`union (or) expected: ${JSON.stringify(e)}`,e);case"lambda":if(zW(e)){const n=qW(e,[t.args[0]],r);if("failed"in n)throw new Lq(t,`function is failed with error type: ${n.failed}`,e);if(1!==n.length)throw new Lq(t,"function must return a value",e);return void UW(t.args[1],n[0])}throw new Lq(t,`function expected: ${JSON.stringify(e)}`,e);case"map":case"big_map":if(Array.isArray(e)){for(const n of e){if(!("prim"in n)||"Elt"!==n.prim)throw new Lq(t,`map elements expected: ${JSON.stringify(e)}`,e);GW(n.args[0],t.args[0],r),GW(n.args[1],t.args[1],r)}return}throw new Lq(t,`${t.prim} expected: ${JSON.stringify(e)}`,e);case"bls12_381_fr":if("int"in e&&Dq(e.int)||"bytes"in e&&null!==Bq(e.bytes))return;throw new Lq(t,`BLS12-381 element expected: ${JSON.stringify(e)}`,e);case"sapling_state":if(Array.isArray(e))return;throw new Lq(t,`sapling state expected: ${JSON.stringify(e)}`,e);case"ticket":if("prim"in e&&"Ticket"===e.prim)return GW(e.args[0],{prim:"address"},r),YW(e.args[1],t.args[0]),GW(e.args[2],t.args[0],r),void GW(e.args[3],{prim:"nat"},r);if(Wq(e))return void GW(e,{prim:"pair",args:[{prim:"address"},t.args[0],{prim:"nat"}]},r);throw new Lq(t,`ticket expected: ${JSON.stringify(e)}`,e);default:throw new Lq(t,`type ${DW(t)} don't have Michelson literal representation`,e)}}function qW(e,t,r){const n=(null===r||void 0===r?void 0:r.protocol)||QG;if(Array.isArray(e))return function(e,t,r){let n=t,i=t,s=0;for(const o of e){const e=qW(o,i,r);if(n=e,"failed"in e)break;i=e,s++}if("failed"in n&&0==n.level&&(!("prim"in n.failed)||"never"!==n.failed.prim)&&s!==e.length-1)throw new BW(e,n,"FAIL must appear in a tail position");if(void 0!==(null===r||void 0===r?void 0:r.traceCallback)){const i={op:e,in:t,out:n};r.traceCallback(i)}return"failed"in n?{failed:n.failed,level:n.level+1}:n}(e,t,r);const i=e;function s(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];if(t.length<n.length+e)throw new BW(i,t,`${i.prim}: stack must have at least ${n.length} element(s)`);let o=e;for(const a of n){if(null!==a&&0!==a.length){let e=0;for(;e<a.length&&a[e]!==DW(t[o]);)e++;if(e===a.length)throw new BW(i,t,`${i.prim}: stack type mismatch: [${o}] expected to be ${a}, got ${DW(t[o])} instead`)}o++}return t.slice(e,n.length+e)}function o(e){return function(){try{return e(...arguments)}catch(yZ){throw yZ instanceof Nq?new BW(i,t,yZ.message):yZ}}}function a(e){return r=>{try{return e(r)}catch(yZ){throw yZ instanceof Nq?new BW(i,t,yZ.message):yZ}}}const c=o(Fq),l=o(FW),u=o(UW),d=a(cW),h=a(lW),f=a(dW),p=a(uW),m=a(fW);function g(e,r){const n=c(i,Object.assign(Object.assign({},r),{emptyFields:void 0!==e.f&&e.f>1,emptyVar:void 0!==e.v&&e.v>1})),s=(e,r,n)=>{if(e&&e.length>(r||0))throw new BW(i,t,`${i.prim}: at most ${r||0} ${n} annotations allowed`)};return s(n.f,e.f,"field"),s(n.t,e.t,"type"),s(n.v,e.v,"variable"),n}function y(e,t){const r=e,n=Array.isArray(r)?{prim:"pair",args:r}:r,i=c(n),s=void 0!==t.v||void 0!==t.t||void 0!==t.f?[...(null===t.v?i.v:t.v)||[],...(null===t.t?i.t:t.t)||[],...(null===t.f?i.f:t.f)||[]]:void 0,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(n,["annots"]);return Object.assign(Object.assign({},o),s&&0!==s.length&&{annots:s})}function b(e,t){const r=g({v:1});return y(e,{v:void 0!==r.v?r.v:void 0!==t?[t]:null,t:null})}function v(e,r,n,s,o){var a,l,u,d;const h=null===(a=c(r).f)||void 0===a?void 0:a[0],f=null===(l=n.f)||void 0===l?void 0:l[s];if(void 0!==f&&"%"!==f&&void 0!==h&&f!==h)throw new BW(i,t,`${i.prim}: field names doesn't match: ${f} !== ${h}`);const p=null===(u=n.v)||void 0===u?void 0:u[s],m=null===(d=c(e).v)||void 0===d?void 0:d[0];return y(r,{t:null,v:p?"@%"===p?h?["@"+h.slice(1)]:void 0:"@%%"===p?m?["@"+m.slice(1)+"."+(h?h.slice(1):o)]:h?["@"+h.slice(1)]:void 0:[p]:null})}function w(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;const s=Gq("pair",e);if(1===n)return[s.args[0]];if(2===n)return s.args;const o=s.args[1];if(qq(o))return[s.args[0],...w(o,r,n-1)];throw new BW(i,t,`${i.prim}: at least ${r} fields are expected`)}function A(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(0===n)return e;const s=Gq("pair",e);if(1===n)return s.args[0];const o=s.args[1];if(qq(o))return A(o,r,n-2);if(2===n)return o;throw new BW(i,t,`${i.prim}: at least ${r+1} fields are expected`)}function _(e,r,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(0===s)return r;const o=Gq("pair",e);if(1===s)return Object.assign(Object.assign({},o),{args:[r,o.args[1]]});const a=o.args[1];if(qq(a))return Object.assign(Object.assign({},o),{args:[o.args[0],_(a,r,n,s-2)]});if(2===s)return Object.assign(Object.assign({},o),{args:[o.args[0],r]});throw new BW(i,t,`${i.prim}: at least ${n+1} fields are expected`)}const E=(e,t)=>["@"+(e.v?e.v[0].slice(1)+".":"")+t];function x(e,t){return"failed"in e||"failed"in t?"failed"in e?t:e:(l(e,t),e)}const k=(e=>{var i,o,a,k,S;switch(e.prim){case"DUP":{const r=e.args?parseInt(e.args[0].int,10):1;if(0===r)throw new BW(e,t,"DUP 0 is forbidden");const n=s(r-1,null)[0];if("ticket"===DW(n))throw new BW(e,t,"ticket can't be DUPed");return[n,...t]}case"SWAP":{const e=s(0,null,null);return g({}),[e[1],e[0],...t.slice(2)]}case"SOME":return[y({prim:"option",args:[s(0,null)[0]]},g({t:1,v:1})),...t.slice(1)];case"UNIT":return[y({prim:"unit"},g({v:1,t:1})),...t];case"PAIR":{const r=e.args?parseInt(e.args[0].int,10):2;if(r<2)throw new BW(e,t,`PAIR ${r} is forbidden`);const n=s(0,...new Array(r).fill(null)),i=g({f:r,t:1,v:1},{specialFields:!0}),o=e=>{const t=e.lastIndexOf(".");return e.slice(t>0?t+1:1)},a=n.map(((e,t)=>{var r;const n=c(e);return y(e,{v:null,t:null,f:i.f&&i.f.length>t&&"%"!==i.f[t]?"%@"===i.f[t]?n.v?["%"+o((null===(r=n.v)||void 0===r?void 0:r[0])||"")]:void 0:[i.f[t]]:void 0})}));return[y({prim:"pair",args:a},{t:i.t,v:i.v}),...t.slice(r)]}case"UNPAIR":{const r=e.args?parseInt(e.args[0].int,10):2;if(r<2)throw new BW(e,t,`UNPAIR ${r} is forbidden`);const n=s(0,["pair"])[0],i=g({f:2,v:2},{specialVar:!0});return[...w(n,r).map(((e,t)=>v(n,e,i,t,0===t?"car":"cdr"))),...t.slice(1)]}case"CAR":case"CDR":{const r=Gq("pair",s(0,["pair"])[0]);return[v(r,r.args["CAR"===e.prim?0:1],g({f:1,v:1},{specialVar:!0}),0,e.prim.toLocaleLowerCase()),...t.slice(1)]}case"CONS":{const e=s(0,null,["list"]);return u(e[0],e[1].args[0]),[b({prim:"list",args:[e[1].args[0]]}),...t.slice(2)]}case"SIZE":return s(0,["string","list","set","map","bytes"]),[b({prim:"nat"}),...t.slice(1)];case"MEM":{const e=s(0,null,["set","map","big_map"]);return d(e[0]),u(e[0],e[1].args[0]),[b({prim:"bool"}),...t.slice(2)]}case"GET":if(e.args){const r=parseInt(e.args[0].int,10);return[b(A(s(0,["pair"])[0],r)),...t.slice(1)]}{const e=s(0,null,["map","big_map"]);return d(e[0]),u(e[0],e[1].args[0]),[b({prim:"option",args:[e[1].args[1]]}),...t.slice(2)]}case"UPDATE":if(e.args){const r=parseInt(e.args[0].int,10),n=s(0,null,["pair"]);return[b(_(n[1],n[0],r)),...t.slice(2)]}{const e=s(0,null,["bool","option"]);if(d(e[0]),"bool"===e[1].prim){const r=s(2,["set"]);return u(e[0],r[0].args[0]),[b({prim:"set",args:[y(e[0],{t:null})]}),...t.slice(3)]}const r=s(2,["map","big_map"]);return u(e[0],r[0].args[0]),"map"===r[0].prim?[b({prim:"map",args:[y(e[0],{t:null}),y(e[1].args[0],{t:null})]}),...t.slice(3)]:(m(e[1].args[0]),[b({prim:"big_map",args:[y(e[0],{t:null}),y(e[1].args[0],{t:null})]}),...t.slice(3)])}case"GET_AND_UPDATE":{const e=g({v:2}),r=s(0,null,["option"],["map","big_map"]);d(r[0]),u(r[0],r[2].args[0]),u(r[1].args[0],r[2].args[1]);const n=null===(i=e.v)||void 0===i?void 0:i.map((e=>"@"!==e?[e]:void 0));return"map"===r[2].prim?[y({prim:"option",args:[r[2].args[1]]},{v:null===n||void 0===n?void 0:n[0]}),y({prim:"map",args:[y(r[0],{t:null}),y(r[1].args[0],{t:null})]},{v:null===n||void 0===n?void 0:n[1]}),...t.slice(3)]:(m(r[1].args[0]),[y({prim:"option",args:[r[2].args[1]]},{v:null===n||void 0===n?void 0:n[0]}),y({prim:"big_map",args:[y(r[0],{t:null}),y(r[1].args[0],{t:null})]},{v:null===n||void 0===n?void 0:n[1]}),...t.slice(3)])}case"EXEC":{const e=s(0,null,["lambda"]);return u(e[0],e[1].args[0]),[b(e[1].args[1]),...t.slice(2)]}case"APPLY":{const r=s(0,null,["lambda"]);if(f(r[0]),p(r[0]),!qq(r[1].args[0]))throw new BW(e,t,`${e.prim}: function's argument must be a pair: ${DW(r[1].args[0])}`);const n=r[1].args[0];return u(r[0],jW(n)[0]),[b({prim:"lambda",args:[jW(n)[1],r[1].args[1]]}),...t.slice(2)]}case"FAILWITH":{const e=s(0,null)[0];return YG(n,KG.PtEdo2Zk)||h(e),{failed:e,level:0}}case"NEVER":return s(0,["never"]),{failed:{prim:"never"},level:0};case"RENAME":return[b(s(0,null)[0]),...t.slice(1)];case"CONCAT":{const r=s(0,["string","list","bytes"]);if("list"===r[0].prim){if("string"!==DW(r[0].args[0])&&"bytes"!==DW(r[0].args[0]))throw new BW(e,t,`${e.prim}: can't concatenate list of ${DW(r[0].args[0])}'s`);return[b(r[0].args[0]),...t.slice(1)]}const n=s(1,["string","bytes"]);if(r[0].prim!==n[0].prim)throw new BW(e,t,`${e.prim}: can't concatenate ${r[0].prim} with ${n[0].prim}`);return[b(n[0]),...t.slice(2)]}case"SLICE":return[b({prim:"option",args:[s(0,["nat"],["nat"],["string","bytes"])[2]]},"@slice"),...t.slice(3)];case"PACK":{const e=s(0,null)[0];return h(e),[b({prim:"bytes"},"@packed"),...t.slice(1)]}case"ADD":{const r=s(0,["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","timestamp","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if("nat"===r[0].prim&&"int"===r[1].prim||"int"===r[0].prim&&"nat"===r[1].prim)return[b({prim:"int"}),...t.slice(2)];if("int"===r[0].prim&&"timestamp"===r[1].prim||"timestamp"===r[0].prim&&"int"===r[1].prim)return[b({prim:"timestamp"}),...t.slice(2)];if(("int"===r[0].prim||"nat"===r[0].prim||"mutez"===r[0].prim||"bls12_381_g1"===r[0].prim||"bls12_381_g2"===r[0].prim||"bls12_381_fr"===r[0].prim)&&r[0].prim===r[1].prim)return[b(r[0]),...t.slice(2)];throw new BW(e,t,`${e.prim}: can't add ${r[0].prim} to ${r[1].prim}`)}case"SUB":{const r=YG(n,KG.PsiThaCa)?s(0,["nat","int","timestamp","mutez"],["nat","int","timestamp","mutez"]):s(0,["nat","int","timestamp"],["nat","int","timestamp"]);if(("nat"===r[0].prim||"int"===r[0].prim)&&("nat"===r[1].prim||"int"===r[1].prim)||"timestamp"===r[0].prim&&"timestamp"===r[1].prim)return[b({prim:"int"}),...t.slice(2)];if("timestamp"===r[0].prim&&"int"===r[1].prim)return[b({prim:"timestamp"}),...t.slice(2)];if("mutez"===r[0].prim&&"mutez"===r[1].prim)return[b({prim:"mutez"}),...t.slice(2)];throw new BW(e,t,`${e.prim}: can't subtract ${r[0].prim} from ${r[1].prim}`)}case"SUB_MUTEZ":return s(0,["mutez"],["mutez"]),[b({prim:"option",args:[{prim:"mutez"}]}),...t.slice(2)];case"MUL":{const r=s(0,["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"],["nat","int","mutez","bls12_381_g1","bls12_381_g2","bls12_381_fr"]);if("nat"===r[0].prim&&"int"===r[1].prim||"int"===r[0].prim&&"nat"===r[1].prim)return[b({prim:"int"}),...t.slice(2)];if("nat"===r[0].prim&&"mutez"===r[1].prim||"mutez"===r[0].prim&&"nat"===r[1].prim)return[b({prim:"mutez"}),...t.slice(2)];if(("bls12_381_g1"===r[0].prim||"bls12_381_g2"===r[0].prim||"bls12_381_fr"===r[0].prim)&&"bls12_381_fr"===r[1].prim||("nat"===r[0].prim||"int"===r[0].prim)&&r[0].prim===r[1].prim)return[b(r[0]),...t.slice(2)];if(("nat"===r[0].prim||"int"===r[0].prim)&&"bls12_381_fr"===r[1].prim||("nat"===r[1].prim||"int"===r[1].prim)&&"bls12_381_fr"===r[0].prim)return[b({prim:"bls12_381_fr"}),...t.slice(2)];throw new BW(e,t,`${e.prim}: can't multiply ${r[0].prim} by ${r[1].prim}`)}case"EDIV":{const r=(e,t)=>({prim:"option",args:[{prim:"pair",args:[{prim:e},{prim:t}]}]}),n=s(0,["nat","int","mutez"],["nat","int","mutez"]);if("nat"===n[0].prim&&"nat"===n[1].prim)return[b(r("nat","nat")),...t.slice(2)];if(!("nat"!==n[0].prim&&"int"!==n[0].prim||"nat"!==n[1].prim&&"int"!==n[1].prim))return[b(r("int","nat")),...t.slice(2)];if("mutez"===n[0].prim&&"nat"===n[1].prim)return[b(r("mutez","mutez")),...t.slice(2)];if("mutez"===n[0].prim&&"mutez"===n[1].prim)return[b(r("nat","mutez")),...t.slice(2)];throw new BW(e,t,`${e.prim}: can't euclideally divide ${n[0].prim} by ${n[1].prim}`)}case"ABS":return s(0,["int"]),[b({prim:"nat"}),...t.slice(1)];case"ISNAT":return s(0,["int"]),[b({prim:"option",args:[{prim:"nat"}]}),...t.slice(1)];case"INT":return s(0,["nat","bls12_381_fr","bytes"]),[b({prim:"int"}),...t.slice(1)];case"BYTES":return s(0,["nat","int"]),[b({prim:"bytes"}),...t.slice(1)];case"NAT":return s(0,["bytes"]),[b({prim:"nat"}),...t.slice(1)];case"NEG":{const e=s(0,["nat","int","bls12_381_g1","bls12_381_g2","bls12_381_fr"])[0];return"nat"===e.prim||"int"===e.prim?[b({prim:"int"}),...t.slice(1)]:[b(e),...t.slice(1)]}case"LSL":case"LSR":return s(0,["nat","bytes"],["nat","bytes"]),[b({prim:"nat"}),...t.slice(2)];case"OR":case"XOR":{const r=s(0,["nat","bytes","bool"],["nat","bytes","bool"]);if(r[0].prim!==r[1].prim)throw new BW(e,t,`${e.prim}: both arguments must be of the same type: ${r[0].prim}, ${r[1].prim}`);return[b(r[1]),...t.slice(2)]}case"AND":{const r=s(0,["nat","bytes","bool","int"],["nat","bytes","bool"]);if(("int"!==r[0].prim||"nat"!==r[1].prim)&&r[0].prim!==r[1].prim)throw new BW(e,t,`${e.prim}: both arguments must be of the same type: ${r[0].prim}, ${r[1].prim}`);return[b(r[1]),...t.slice(2)]}case"NOT":return"bool"===s(0,["nat","bytes","bool","int"])[0].prim?[b({prim:"bool"}),...t.slice(1)]:[b({prim:"int"}),...t.slice(1)];case"COMPARE":{const e=s(0,null,null);return d(e[0]),d(e[1]),[b({prim:"int"}),...t.slice(2)]}case"EQ":case"NEQ":case"LT":case"GT":case"LE":case"GE":return s(0,["int"]),[b({prim:"bool"}),...t.slice(1)];case"SELF":{if(void 0===(null===r||void 0===r?void 0:r.contract))throw new BW(e,t,`${e.prim}: contract required`);const n=g({f:1,v:1}),i=KW(r.contract,null===(o=n.f)||void 0===o?void 0:o[0]);if(null===i)throw new BW(e,t,`${e.prim}: contract has no entrypoint ${i}`);return[y({prim:"contract",args:[i]},{v:n.v?n.v:["@self"]}),...t]}case"TRANSFER_TOKENS":{const e=s(0,null,["mutez"],["contract"]);return u(e[0],e[2].args[0]),[b({prim:"operation"}),...t.slice(3)]}case"SET_DELEGATE":{const r=s(0,["option"])[0];if("key_hash"!==DW(r.args[0]))throw new BW(e,t,`${e.prim}: key hash expected: ${DW(r.args[0])}`);return[b({prim:"operation"}),...t.slice(1)]}case"IMPLICIT_ACCOUNT":return s(0,["key_hash"]),[b({prim:"contract",args:[{prim:"unit"}]}),...t.slice(1)];case"NOW":return[b({prim:"timestamp"},"@now"),...t];case"AMOUNT":return[b({prim:"mutez"},"@amount"),...t];case"BALANCE":return[b({prim:"mutez"},"@balance"),...t];case"CHECK_SIGNATURE":return s(0,["key"],["signature"],["bytes"]),[b({prim:"bool"}),...t.slice(3)];case"BLAKE2B":case"SHA256":case"SHA512":case"KECCAK":case"SHA3":return s(0,["bytes"]),[b({prim:"bytes"}),...t.slice(1)];case"HASH_KEY":return s(0,["key"]),[b({prim:"key_hash"}),...t.slice(1)];case"SOURCE":return[b({prim:"address"},"@source"),...t];case"SENDER":return[b({prim:"address"},"@sender"),...t];case"ADDRESS":{const e=s(0,["contract"])[0],r=g({v:1});return[y({prim:"address",[$G]:e},{v:r.v?r.v:E(c(e),"address")}),...t.slice(1)]}case"SELF_ADDRESS":{const e={prim:"address"};return void 0!==(null===r||void 0===r?void 0:r.contract)&&(e[$G]={prim:"contract",args:[WW(r.contract,"parameter").args[0]]}),[b(e,"@address"),...t]}case"CHAIN_ID":return[b({prim:"chain_id"}),...t];case"DROP":{g({});const r=void 0!==e.args?parseInt(e.args[0].int,10):1;return s(r-1,null),t.slice(r)}case"DIG":{g({});const r=parseInt(e.args[0].int,10);return[s(r,null)[0],...t.slice(0,r),...t.slice(r+1)]}case"DUG":{g({});const r=parseInt(e.args[0].int,10);return[...t.slice(1,r+1),s(0,null)[0],...t.slice(r+1)]}case"NONE":return HW(e.args[0]),[y({prim:"option",args:[e.args[0]]},g({t:1,v:1})),...t];case"LEFT":case"RIGHT":{const r=s(0,null)[0],n=g({f:2,t:1,v:1},{specialFields:!0}),i=c(r),o=[y(r,{t:null,v:null,f:n.f&&n.f.length>0&&"%"!==n.f[0]?"%@"===n.f[0]?i.v?["%"+i.v[0].slice(1)]:void 0:n.f:void 0}),y(e.args[0],{t:null,f:n.f&&n.f.length>1&&"%"!==n.f[1]?n.f:void 0})];return[y({prim:"or",args:"LEFT"===e.prim?o:[o[1],o[0]]},{t:n.t,v:n.v}),...t.slice(1)]}case"NIL":return HW(e.args[0]),[y({prim:"list",args:[e.args[0]]},g({t:1,v:1})),...t];case"UNPACK":return s(0,["bytes"]),HW(e.args[0]),[b({prim:"option",args:[e.args[0]]},"@unpacked"),...t.slice(1)];case"CONTRACT":{const r=s(0,["address"])[0];HW(e.args[0]);const n=g({v:1,f:1}),i=r[$G];if(void 0!==i){const r=KW(i,null===(a=n.f)||void 0===a?void 0:a[0]);if(null===r)throw new BW(e,t,`${e.prim}: contract has no entrypoint ${r}`);u(r,e.args[0])}return[y({prim:"option",args:[{prim:"contract",args:[e.args[0]]}]},{v:n.v?n.v:E(c(r),"contract")}),...t.slice(1)]}case"CAST":{g({});const r=s(0,null)[0];return HW(e.args[0]),u(e.args[0],r),[e.args[0],...t.slice(1)]}case"IF_NONE":{g({});const n=s(0,["option"])[0],i=t.slice(1);return x(qW(e.args[0],i,r),qW(e.args[1],[y(n.args[0],{t:null,v:E(c(n),"some")}),...i],r))}case"IF_LEFT":{g({});const n=s(0,["or"])[0],i=c(n),o=c(n.args[0]),a=c(n.args[1]),l=t.slice(1);return x(qW(e.args[0],[y(n.args[0],{t:null,v:E(i,o.f?o.f[0].slice(1):"left")}),...l],r),qW(e.args[1],[y(n.args[1],{t:null,v:E(i,a.f?a.f[0].slice(1):"right")}),...l],r))}case"IF_CONS":{g({});const n=s(0,["list"])[0],i=c(n),o=t.slice(1);return x(qW(e.args[0],[y(n.args[0],{t:null,v:E(i,"hd")}),y(n,{t:null,v:E(i,"tl")}),...o],r),qW(e.args[1],o,r))}case"IF":{g({}),s(0,["bool"]);const n=t.slice(1);return x(qW(e.args[0],n,r),qW(e.args[1],n,r))}case"MAP":{const n=s(0,["list","map","option"])[0],i=t.slice(1),o="map"===n.prim?{prim:"pair",args:n.args}:n.args[0],a=qW(e.args[0],[y(o,{t:null,v:E(c(n),"elt")}),...i],r);if("failed"in a){if(!("prim"in a.failed)||"never"!==a.failed.prim)throw new BW(e,t,`${e.prim}: FAIL is not allowed in MAP`);return{failed:a.failed,level:a.level+1}}if(a.length<1)throw new BW(e,t,`${e.prim}: function must return a value`);return l(a.slice(1),i),"list"===n.prim?[b({prim:"list",args:[a[0]]}),...i]:"map"===n.prim?[b({prim:"map",args:[n.args[0],a[0]]}),...i]:[b({prim:"option",args:[a[0]]}),...i]}case"ITER":{g({});const n=s(0,["set","list","map"])[0],i=t.slice(1),o="map"===n.prim?{prim:"pair",args:n.args}:n.args[0],a=qW(e.args[0],[y(o,{t:null,v:E(c(n),"elt")}),...i],r);return"failed"in a?{failed:a.failed,level:a.level+1}:(l(a,i),i)}case"LOOP":{g({}),s(0,["bool"]);const n=t.slice(1),i=qW(e.args[0],n,r);return"failed"in i?{failed:i.failed,level:i.level+1}:(l(i,[{prim:"bool"},...n]),n)}case"LOOP_LEFT":{g({});const n=s(0,["or"])[0],i=t.slice(1),o=qW(e.args[0],[y(n.args[0],{t:null,v:E(c(n),"left")}),...i],r);return"failed"in o?{failed:o.failed,level:o.level+1}:(l(o,[n,...i]),[y(n.args[1],{t:null,v:g({v:1}).v}),...i])}case"DIP":{g({});const n=2===e.args.length?parseInt(e.args[0].int,10):1;s(n-1,null);const i=t.slice(0,n),o=t.slice(n),a=2===e.args.length?qW(e.args[1],o,r):qW(e.args[0],o,r);return"failed"in a?{failed:a.failed,level:a.level+1}:[...i,...a]}case"CREATE_CONTRACT":{const r=g({v:2}),n=s(0,["option"],["mutez"],null);if("key_hash"!==DW(n[0].args[0]))throw new BW(e,t,`${e.prim}: key hash expected: ${DW(n[0].args[0])}`);f(n[2])&&(QW(e.args[0]),UW(WW(e.args[0],"storage").args[0],n[2]));const i=null===(k=r.v)||void 0===k?void 0:k.map((e=>"@"!==e?[e]:void 0));return[y({prim:"operation"},{v:null===i||void 0===i?void 0:i[0]}),y({prim:"address",[$G]:{prim:"contract",args:[WW(e.args[0],"parameter").args[0]]}},{v:null===i||void 0===i?void 0:i[1]}),...t.slice(3)]}case"PUSH":return HW(e.args[0]),GW(e.args[1],e.args[0],Object.assign(Object.assign({},r),{contract:void 0})),[b(e.args[0]),...t];case"EMPTY_SET":return HW(e.args[0]),d(e.args[0]),[y({prim:"set",args:e.args},g({t:1,v:1})),...t];case"EMPTY_MAP":return HW(e.args[0]),d(e.args[0]),HW(e.args[1]),[y({prim:"map",args:e.args},g({t:1,v:1})),...t];case"EMPTY_BIG_MAP":return HW(e.args[0]),d(e.args[0]),HW(e.args[1]),m(e.args[0]),[y({prim:"big_map",args:e.args},g({t:1,v:1})),...t];case"LAMBDA_REC":case"LAMBDA":{HW(e.args[0]),HW(e.args[1]);const n=[e.args[0]];"LAMBDA_REC"===e.prim&&n.push({prim:"lambda",args:[e.args[0],e.args[1]]});const i=qW(e.args[2],n,Object.assign(Object.assign({},r),{contract:void 0}));if("failed"in i)return{failed:i.failed,level:i.level+1};if(1!==i.length)throw new BW(e,t,`${e.prim}: function must return a value`);return u(e.args[1],i[0]),[b({prim:"lambda",args:[e.args[0],e.args[1]]}),...t]}case"LEVEL":return[b({prim:"nat"},"@level"),...t];case"TOTAL_VOTING_POWER":case"MIN_BLOCK_TIME":return[b({prim:"nat"}),...t];case"VOTING_POWER":return s(0,["key_hash"]),[b({prim:"nat"}),...t.slice(1)];case"TICKET":{const e=s(0,null,["nat"])[0];return d(e),YG(n,KG.PtLimaPtL)?[y({prim:"ticket",args:[e]},g({t:1,v:1})),...t.slice(2)]:[b({prim:"option",args:[y({prim:"ticket",args:[e]},g({t:1,v:1}))]}),...t.slice(2)]}case"JOIN_TICKETS":{const r=Gq("pair",s(0,["pair"])[0]);if("ticket"!==DW(r.args[0]))throw new BW(e,t,`${e.prim}: ticket expected: ${DW(r.args[0])}`);return u(r.args[0],r.args[1]),[b({prim:"option",args:[y(r.args[0],{t:null})]}),...t.slice(1)]}case"SPLIT_TICKET":{const r=s(0,["ticket"],["pair"]),n=Gq("pair",r[1]);if("nat"!==DW(n.args[0]))throw new BW(e,t,`${e.prim}: nat expected: ${DW(n.args[0])}`);return u(n.args[0],n.args[1]),[b({prim:"option",args:[{prim:"pair",args:[y(r[0],{t:null}),y(r[0],{t:null})]}]}),...t.slice(2)]}case"READ_TICKET":{const e=g({v:2}),r=s(0,["ticket"])[0],n=null===(S=e.v)||void 0===S?void 0:S.map((e=>"@"!==e?[e]:void 0));return[y({prim:"pair",args:[{prim:"address"},y(r.args[0],{t:null}),{prim:"nat"}]},{v:null===n||void 0===n?void 0:n[0]}),y(r,{v:null===n||void 0===n?void 0:n[1],t:null}),...t.slice(1)]}case"PAIRING_CHECK":{const r=s(0,["list"])[0].args[0];if(!qq(r))throw new BW(e,t,`${e.prim}: pair expected: ${DW(r)}`);const n=Gq("pair",r);if("bls12_381_g1"!==DW(n.args[0]))throw new BW(e,t,`${e.prim}: bls12_381_g1 expected: ${DW(n.args[0])}`);if("bls12_381_g2"!==DW(n.args[1]))throw new BW(e,t,`${e.prim}: bls12_381_g2 expected: ${DW(n.args[1])}`);return[b({prim:"bool"}),...t.slice(1)]}case"SAPLING_EMPTY_STATE":return[y({prim:"sapling_state",args:[e.args[0]]},g({v:1,t:1})),...t];case"SAPLING_VERIFY_UPDATE":{const r=s(0,["sapling_transaction"],["sapling_state"]);if(parseInt(r[0].args[0].int,10)!==parseInt(r[1].args[0].int,10))throw new BW(e,t,`${e.prim}: sapling memo size mismatch: ${r[0].args[0].int} != ${r[1].args[0].int}`);return YG(n,KG.PtJakarta)?[b({prim:"option",args:[{prim:"pair",args:[{prim:"int"},y(r[1],{t:null})]}]}),...t.slice(2)]:[b({prim:"option",args:[{prim:"pair",args:[{prim:"bytes"},{prim:"pair",args:[{prim:"int"},y(r[1],{t:null})]}]}]}),...t.slice(2)]}case"OPEN_CHEST":return s(0,["chest_key"],["chest"],["nat"]),[b({prim:"or",args:[{prim:"bytes"},{prim:"bool"}]}),...t.slice(3)];case"VIEW":{const r=s(0,null,["address"]);return p(r[0]),[b({prim:"option",args:[e.args[1]]}),...t.slice(2)]}case"EMIT":{const r=g({f:1,t:1});if(e.args){const n=s(0,null);return u(n[0],e.args[0]),[y({prim:"operation"},r),...t.slice(1)]}return[y({prim:"operation"},r),...t.slice(1)]}default:throw new Nq(e,`unexpected instruction: ${e.prim}`)}})(i);if(void 0!==(null===r||void 0===r?void 0:r.traceCallback)){const e={op:i,in:t,out:k};r.traceCallback(e)}return k}function WW(e,t){for(const r of e)if(r.prim===t)return r;throw new Nq(e,`missing contract section: ${t}`)}function $W(e){if(Array.isArray(e))for(const t of e)if("prim"in t&&("parameter"===t.prim||"storage"===t.prim||"code"===t.prim))return!0;return!1}function KW(e,t){t=t||"%default";const r=VW(e).find((e=>e[0]===t));return void 0!==r?r[1]:"%default"===t?$W(e)?WW(e,"parameter").args[0]:e:null}function VW(e){if($W(e)){const t=WW(e,"parameter"),r=VW(t.args[0]),n=Fq(t);return n.f?[[n.f[0],t.args[0]],...r]:r}if(t=e,Array.isArray(t)||"or"===t.prim){const t=jW(e),r=e=>{const r=Fq(t[e]);if("or"===DW(t[e])){const n=VW(t[e]);return r.f?[[r.f[0],t[e]],...n]:n}return r.f?[[r.f[0],t[e]]]:[]};return[...r(0),...r(1)]}var t;return[]}function QW(e,t){const r=(r,n,i,s)=>{HW(r,!0),HW(n);const o=qW(s,[{prim:"pair",args:[Object.assign(Object.assign({},r),{annots:["@parameter"]}),Object.assign(Object.assign({},n),{annots:["@storage"]})]}],Object.assign(Object.assign({},t),{contract:e}));if("failed"in o)return o;try{FW(o,[i])}catch(yZ){throw yZ instanceof Nq?new BW(s,o,yZ.message):yZ}return o},n=WW(e,"parameter").args[0],i=WW(e,"storage").args[0],s=r(n,i,{prim:"pair",args:[{prim:"list",args:[{prim:"operation"}]},i]},WW(e,"code").args[0]);for(const o of Object.values(function(e){const t={};for(const r of e)"view"===r.prim&&(t[r.args[0].string]=r);return t}(e)))r(o.args[1],i,o.args[2],o.args[3]);return s}function ZW(e,t,r){HW(t),GW(e,t,r||null)}function YW(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e)){for(const t of e)HW(t);for(const e of t)HW(e)}else HW(e),HW(t);UW(e,t,r)}class JW{constructor(e,t){this.contract=e,this.ctx=Object.assign({contract:e},t),this.output=QW(e,this.ctx)}static parse(e,t){const r=new wq(t),n="string"===typeof e?r.parseScript(e):r.parseJSON(e);if(null===n)throw new Tq("empty Michelson");if(vW(n))return new JW(n,t)}static parseTypeExpression(e,t){const r=new wq(t),n="string"===typeof e?r.parseScript(e):r.parseJSON(e);if(null===n)throw new Iq("empty type expression");if(gW(n))return HW(n),n}static parseDataExpression(e,t){const r=new wq(t),n="string"===typeof e?r.parseScript(e):r.parseJSON(e);if(null===n)throw new Oq("empty data expression");if(bW(n))return n;throw void 0}section(e){return WW(this.contract,e)}entryPoints(){return VW(this.contract)}entryPoint(e){return KW(this.contract,e)}assertDataValid(e,t){ZW(e,t,this.ctx)}isDataValid(e,t){return function(e,t,r){try{return ZW(e,t,r),!0}catch(n){return!1}}(e,t,this.ctx)}assertParameterValid(e,t){const r=this.entryPoint(e||void 0);if(null===r)throw new Rq(null===e||void 0===e?void 0:e.toString());this.assertDataValid(t,r)}isParameterValid(e,t){try{return this.assertParameterValid(e,t),!0}catch(r){return!1}}functionType(e,t){return function(e,t,r){for(const n of t)HW(n);if(void 0!==(null===r||void 0===r?void 0:r.contract))for(const n of["parameter","storage"])HW(WW(r.contract,n).args[0]);return qW(e,t,r||null)}(e,t,this.ctx)}}new JW([{prim:"parameter",args:[{prim:"unit"}]},{prim:"storage",args:[{prim:"unit"}]},{prim:"code",args:[[{prim:"CAR"},{prim:"NIL",args:[{prim:"operation"}]},{prim:"PAIR"}]]}]);var XW=r(4507).Buffer;const e$=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),t$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.toString(16).padStart(t,"0")};var r$,n$;(n$=r$||(r$={})).SECRET="secret",n$.RAW="raw",n$.TZ1="tz1",n$.BRANCH="branch",n$.ZARITH="zarith",n$.PUBLIC_KEY="public_key",n$.PKH="pkh",n$.PKH_ARR="pkhArr",n$.DELEGATE="delegate",n$.SCRIPT="script",n$.BALLOT_STATEMENT="ballotStmt",n$.PROPOSAL="proposal",n$.PROPOSAL_ARR="proposalArr",n$.INT32="int32",n$.INT16="int16",n$.PARAMETERS="parameters",n$.ADDRESS="address",n$.SMART_CONTRACT_ADDRESS="smart_contract_address",n$.SMART_ROLLUP_ADDRESS="smart_rollup_address",n$.SMART_ROLLUP_COMMITMENT_HASH="smart_rollup_commitment_hash",n$.VALUE="value",n$.PADDED_BYTES="padded_bytes",n$.SMART_ROLLUP_MESSAGE="smart_rollup_message",n$.MANAGER="manager",n$.BLOCK_PAYLOAD_HASH="blockPayloadHash",n$.ENTRYPOINT="entrypoint",n$.OPERATION="operation",n$.OP_ACTIVATE_ACCOUNT="activate_account",n$.OP_DELEGATION="delegation",n$.OP_TRANSACTION="transaction",n$.OP_ORIGINATION="origination",n$.OP_BALLOT="ballot",n$.OP_FAILING_NOOP="failing_noop",n$.OP_ATTESTATION="attestation",n$.OP_ATTESTATION_WITH_DAL="attestation_with_dal",n$.OP_SEED_NONCE_REVELATION="seed_nonce_revelation",n$.OP_REVEAL="reveal",n$.OP_PROPOSALS="proposals",n$.OP_REGISTER_GLOBAL_CONSTANT="register_global_constant",n$.OP_TRANSFER_TICKET="transfer_ticket",n$.BURN_LIMIT="burn_limit",n$.OP_INCREASE_PAID_STORAGE="increase_paid_storage",n$.OP_UPDATE_CONSENSUS_KEY="update_consensus_key",n$.OP_DRAIN_DELEGATE="drain_delegate",n$.DEPOSITS_LIMIT="deposits_limit",n$.OP_SET_DEPOSITS_LIMIT="set_deposits_limit",n$.OP_SMART_ROLLUP_ORIGINATE="smart_rollup_originate",n$.PVM_KIND="pvm_kind",n$.OP_SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",n$.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",n$.OP_DAL_PUBLISH_COMMITMENT="dal_publish_commitment",n$.SLOT_HEADER="slot_header";const i$={"00":"parameter","01":"storage","02":"code","03":"False","04":"Elt","05":"Left","06":"None","07":"Pair","08":"Right","09":"Some","0a":"True","0b":"Unit","0c":"PACK","0d":"UNPACK","0e":"BLAKE2B","0f":"SHA256",10:"SHA512",11:"ABS",12:"ADD",13:"AMOUNT",14:"AND",15:"BALANCE",16:"CAR",17:"CDR",18:"CHECK_SIGNATURE",19:"COMPARE","1a":"CONCAT","1b":"CONS","1c":"CREATE_ACCOUNT","1d":"CREATE_CONTRACT","1e":"IMPLICIT_ACCOUNT","1f":"DIP",20:"DROP",21:"DUP",22:"EDIV",23:"EMPTY_MAP",24:"EMPTY_SET",25:"EQ",26:"EXEC",27:"FAILWITH",28:"GE",29:"GET","2a":"GT","2b":"HASH_KEY","2c":"IF","2d":"IF_CONS","2e":"IF_LEFT","2f":"IF_NONE",30:"INT",31:"LAMBDA",32:"LE",33:"LEFT",34:"LOOP",35:"LSL",36:"LSR",37:"LT",38:"MAP",39:"MEM","3a":"MUL","3b":"NEG","3c":"NEQ","3d":"NIL","3e":"NONE","3f":"NOT",40:"NOW",41:"OR",42:"PAIR",43:"PUSH",44:"RIGHT",45:"SIZE",46:"SOME",47:"SOURCE",48:"SENDER",49:"SELF","4a":"STEPS_TO_QUOTA","4b":"SUB","4c":"SWAP","4d":"TRANSFER_TOKENS","4e":"SET_DELEGATE","4f":"UNIT",50:"UPDATE",51:"XOR",52:"ITER",53:"LOOP_LEFT",54:"ADDRESS",55:"CONTRACT",56:"ISNAT",57:"CAST",58:"RENAME",59:"bool","5a":"contract","5b":"int","5c":"key","5d":"key_hash","5e":"lambda","5f":"list",60:"map",61:"big_map",62:"nat",63:"option",64:"or",65:"pair",66:"set",67:"signature",68:"string",69:"bytes","6a":"mutez","6b":"timestamp","6c":"unit","6d":"operation","6e":"address","6f":"SLICE",70:"DIG",71:"DUG",72:"EMPTY_BIG_MAP",73:"APPLY",74:"chain_id",75:"CHAIN_ID",76:"LEVEL",77:"SELF_ADDRESS",78:"never",79:"NEVER","7a":"UNPAIR","7b":"VOTING_POWER","7c":"TOTAL_VOTING_POWER","7d":"KECCAK","7e":"SHA3","7f":"PAIRING_CHECK",80:"bls12_381_g1",81:"bls12_381_g2",82:"bls12_381_fr",83:"sapling_state",84:"sapling_transaction_deprecated",85:"SAPLING_EMPTY_STATE",86:"SAPLING_VERIFY_UPDATE",87:"ticket",88:"TICKET_DEPRECATED",89:"READ_TICKET","8a":"SPLIT_TICKET","8b":"JOIN_TICKETS","8c":"GET_AND_UPDATE","8d":"chest","8e":"chest_key","8f":"OPEN_CHEST",90:"VIEW",91:"view",92:"constant",93:"SUB_MUTEZ",94:"tx_rollup_l2_address",95:"MIN_BLOCK_TIME",96:"sapling_transaction",97:"EMIT",98:"Lambda_rec",99:"LAMBDA_REC","9a":"TICKET","9b":"BYTES","9c":"NAT","9d":"Ticket"},s$=(()=>{const e={};return Object.keys(i$).forEach((t=>{e[i$[t]]=t})),e})(),o$={4:"activate_account",107:"reveal",110:"delegation",108:"transaction",109:"origination",6:"ballot",21:"attestation",23:"attestation_with_dal",1:"seed_nonce_revelation",5:"proposals",111:"register_global_constant",158:"transfer_ticket",112:"set_deposits_limit",113:"increase_paid_storage",114:"update_consensus_key",9:"drain_delegate",200:"smart_rollup_originate",201:"smart_rollup_add_messages",206:"smart_rollup_execute_outbox_message",230:"dal_publish_commitment",17:"failing_noop"},a$=(()=>{const e={};return Object.keys(o$).forEach((t=>{const r="string"===typeof t?parseInt(t,10):t;e[o$[r]]=t$(r,2)})),e})(),c$={"00":"default","01":"root","02":"do","03":"set_delegate","04":"remove_delegate","05":"deposit","06":"stake","07":"unstake","08":"finalize_unstake","09":"set_delegate_parameters"},l$=(()=>{const e={};return Object.keys(c$).forEach((t=>{e[c$[t]]=t})),e})();class u$ extends SD{constructor(e,t){super(),this.operation=e,this.errorDetail=t,this.name="InvalidOperationSchemaError",this.message="Invalid operation content recevied",t&&(this.message+=` ${t}.`)}}class d$ extends SD{constructor(e){super(),this.entrypoint=e,this.name="OversizedEntryPointError",this.message=`Invalid entrypoint length "${e.length}", maximum length is "31".`}}class h$ extends SD{constructor(e){super(),this.ballotValue=e,this.name="InvalidBallotValueError",this.message=`Invalid ballot value "${e}" expecting one of the following: "yay", "nay", "pass".`}}class f$ extends SD{constructor(e){super(),this.ballotValue=e,this.name="DecodeBallotValueError",this.message=`Invalid ballot value "${e}", cannot be decoded.`}}class p$ extends SD{constructor(e){super(),this.value=e,this.name="UnexpectedMichelsonValueError",this.message=`Invalid Michelson value "${e}", unalbe to encode.`}}class m$ extends SD{constructor(e){super(),this.message=e,this.name="OperationDecodingError"}}class g$ extends SD{constructor(e){super(),this.message=e,this.name="OperationEncodingError"}}class y$ extends SD{constructor(e){super(),this.op=e,this.name="UnsupportedOperationError",this.message=`Unsupported operation "${e}", can submit an issue on our github for feature request.`}}class b$ extends SD{constructor(e){super(),this.pvm=e,this.name="UnsupportedPvmKindError",this.message=`Invalid Pvm kind "${e}" expecting either "arith" or "wasm_2_0_0".`}}class v$ extends SD{constructor(e){super(),this.pvm=e,this.name="DecodePvmKindError",this.message=`Invalid Pvm kind "${e}", cannot be decoded.`}}class w$ extends SD{constructor(e,t){super(),this.address=e,this.errorDetail=t,this.name="InvalidSmartRollupAddress",this.message=`Invalid smart rollup address "${e}"`,t&&(this.message+=` ${t}.`)}}class A$ extends SD{constructor(e,t){super(),this.hash=e,this.errorDetail=t,this.name="InvalidSmartRollupCommitmentHashError",this.message=`Invalid smart rollup commitment hash "${e}"`,t&&(this.message+=` ${t}.`)}}class _$ extends SD{constructor(e,t){super(),this.commitment=e,this.errorDetail=t,this.name="InvalidDalCommitmentError",this.message=`Invalid dal commitment "${e}"`,t&&(this.message+=` ${t}.`)}}class E${static fromHexString(e){const t=e.toLowerCase();if(/^(([a-f]|\d){2})*$/.test(t)){const e=new Uint8Array((t.match(/([a-z]|\d){2}/g)||[]).map((e=>parseInt(e,16))));return new E$(e)}throw new BD(t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.arr=e,this.offset=t}consume(e){const t=this.arr.subarray(this.offset,this.offset+e);return this.offset+=e,t}get(e){return this.arr[this.offset+e]}length(){return this.arr.length-this.offset}slice(e,t){return new E$(this.arr.slice(e,t))}}const x$=e=>{if(Array.isArray(e)){const t=e.map((e=>x$(e))).join(""),r=t.length/2;return`02${t$(r)}${t}`}if((e=>"prim"in e)(e))return N$(e);if((e=>"bytes"in e&&"string"===typeof e.bytes)(e))return P$(e);if((e=>"string"in e&&"string"===typeof e.string)(e))return I$(e);if((e=>"int"in e&&"string"===typeof e.int)(e))return R$(e);throw new p$(JSON.stringify(e))},k$=e=>{const t=e.consume(1);switch(t[0]){case 10:return T$(e);case 1:return O$(e);case 0:return C$(e);case 2:{const t=new E$(S$(e)),r=[];for(;t.length()>0;)r.push(k$(t));return r}default:return L$(e,t)}},S$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const r=e.consume(t),n=parseInt(XW.from(r).toString("hex"),16);return e.consume(n)},P$=e=>{if(!/^([A-Fa-f0-9]{2})*$/.test(e.bytes))throw new BD(e.bytes);const t=e.bytes.length/2;return`0a${t$(t)}${e.bytes}`},T$=e=>{const t=S$(e);return{bytes:XW.from(t).toString("hex")}},I$=e=>{const t=XW.from(e.string,"utf8").toString("hex"),r=t.length/2;return`01${t$(r)}${t}`},O$=e=>{const t=S$(e);return{string:XW.from(t).toString("utf8")}},R$=e=>{let{int:t}=e;const r=new Aj(t,10),n="-"===r.toString(2)[0]?"1":"0",i=r.toString(2).replace(/-/g,""),s=i.length<=6?6:(i.length-6)%7?i.length+7-(i.length-6)%7:i.length,o=i.padStart(s,"0").match(/\d{6,7}/g).reverse();o[0]=n+o[0];return`00${o.map(((e,t)=>parseInt((t===o.length-1?"0":"1")+e,2).toString(16).padStart(2,"0"))).join("")}`},C$=e=>{let t=e.consume(1)[0];const r=[];for(;128&t;)r.push(t),t=e.consume(1)[0];r.push(t);const n=!!(64&r[0]);r[0]=127&r[0];const i=r.map(((e,t)=>e.toString(2).slice(0===t?-6:-7).padStart(0===t?6:7,"0"))).reverse();let s=new Aj(i.join(""),2);return n&&(s=s.times(-1)),{int:s.toFixed()}},N$=e=>{const t=+Array.isArray(e.annots),r=Array.isArray(e.args)?e.args.length:0,n=t$(Math.min(2*r+t+3,9),2),i=s$[e.prim];let s=(e.args||[]).map((e=>x$(e))).join("");const o=Array.isArray(e.annots)?D$(e.annots):"";return"LAMBDA"!==e.prim&&"LAMBDA_REC"!==e.prim||!r||(s=t$(s.length/2)+s+t$(0)),("pair"===e.prim||"Pair"===e.prim)&&r>2&&(s=""===o?t$(s.length/2)+s+t$(0):t$(s.length/2)+s),"view"===e.prim&&e.args&&(s=t$(s.length/2)+s+t$(0)),`${n}${i}${s}${o}`},L$=(e,t)=>{const r=(t[0]-3)%2===1;let n=Math.floor((t[0]-3)/2);const i=e.consume(1)[0].toString(16).padStart(2,"0"),s={prim:i$[i]};if("LAMBDA"!==i$[i]&&"LAMBDA_REC"!==i$[i]||e.consume(4),"view"===i$[i])return 0!=n?M$(e,s):s;let o,a;("pair"===i$[i]||"Pair"===i$[i])&&n>2&&(o=B$(e),n=0,a=j$(e));const c=new Array(n).fill(0).map((()=>k$(e)));return"LAMBDA"!==i$[i]&&"LAMBDA_REC"!==i$[i]||e.consume(4),o?s.args=o:c.length&&(s.args=c),a&&""!==a[0]?s.annots=a:r&&(s.annots=j$(e)),s},M$=(e,t)=>(e.consume(4),t.args=new Array(4).fill(0).map((()=>k$(e))),e.consume(4),t),B$=e=>{const t=new E$(S$(e)),r=[];for(;t.length()>0;)r.push(k$(t));return r},D$=e=>{const t=e.map((e=>XW.from(e,"utf8").toString("hex"))).join("20"),r=t.length/2;return`${t$(r)}${t}`},j$=e=>{const t=e.consume(4),r=parseInt(XW.from(t).toString("hex"),16),n=e.consume(r);return XW.from(n).toString("hex").split("20").map((e=>XW.from(e,"hex").toString("utf8")))},U$=e=>t=>nU(XW.from(Xj(t,Oj[e]))),F$=e=>t=>Jj(t.consume(Rj[e]),Oj[e]),H$=F$(Ej.TZ1),z$=F$(Ej.B),G$=e=>{const t=e.consume(1);return 0===t[0]?F$(Ej.TZ1)(e):1===t[0]?F$(Ej.TZ2)(e):2===t[0]?F$(Ej.TZ3)(e):void 0},q$=U$(Ej.B),W$=U$(Ej.TZ1),$$=e=>e?"ff":"00",K$=e=>U$(Ej.P)(e),V$=e=>F$(Ej.P)(e),Q$=e=>255===e.consume(1)[0],Z$=e=>{switch(e.substring(0,3)){case Ej.TZ1:return"00"+U$(Ej.TZ1)(e);case Ej.TZ2:return"01"+U$(Ej.TZ2)(e);case Ej.TZ3:return"02"+U$(Ej.TZ3)(e);case Ej.TZ4:return"03"+U$(Ej.TZ4)(e);default:throw new zD(e,Qj(Nj.NO_PREFIX_MATCHED)+` expecting one for the following "${Ej.TZ1}", "${Ej.TZ2}", "${Ej.TZ3}" or "${Ej.TZ4}".`)}},Y$=e=>{const t=[];let r=new _j(e,10);if(r.isNaN())throw new TypeError(`Invalid zarith number ${e}`);for(;;){if(r.lt(128)){r.lt(16)&&t.push("0"),t.push(r.toString(16));break}{let e=r.mod(128);r=r.minus(e),r=r.dividedBy(128),e=e.plus(128),t.push(e.toString(16))}}return t.join("")},J$=e=>{let t=0;for(;t<e.length()&&0!==(128&e.get(t));)t+=1;let r=new _j(0);for(let n=t;n>=0;n-=1){const t=127&e.get(n);r=r.multipliedBy(128),r=r.plus(t)}return e.consume(t+1),new _j(r).toString()},X$=U$(Ej.VH),eK=F$(Ej.VH),tK=e=>{const t=F$(Ej.SH)(e);if(t.substring(0,2)!==Ej.SH)throw new _$(t,Qj(Nj.NO_PREFIX_MATCHED)+` expecting prefix '${Ej.SH}'`);return t},rK={branch:r$.BRANCH,contents:[r$.OPERATION]},nK={pkh:r$.TZ1,secret:r$.SECRET},iK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,public_key:r$.PUBLIC_KEY},sK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,delegate:r$.DELEGATE},oK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,amount:r$.ZARITH,destination:r$.ADDRESS,parameters:r$.PARAMETERS},aK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,balance:r$.ZARITH,delegate:r$.DELEGATE,script:r$.SCRIPT},cK={source:r$.PKH,period:r$.INT32,proposal:r$.PROPOSAL,ballot:r$.BALLOT_STATEMENT},lK={slot:r$.INT16,level:r$.INT32,round:r$.INT32,block_payload_hash:r$.BLOCK_PAYLOAD_HASH},uK={slot:r$.INT16,level:r$.INT32,round:r$.INT32,block_payload_hash:r$.BLOCK_PAYLOAD_HASH,dal_attestation:r$.ZARITH},dK={level:r$.INT32,nonce:r$.RAW},hK={source:r$.PKH,period:r$.INT32,proposals:r$.PROPOSAL_ARR},fK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,value:r$.VALUE},pK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,ticket_contents:r$.VALUE,ticket_ty:r$.VALUE,ticket_ticketer:r$.ADDRESS,ticket_amount:r$.ZARITH,destination:r$.ADDRESS,entrypoint:r$.ENTRYPOINT},mK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,amount:r$.ZARITH,destination:r$.SMART_CONTRACT_ADDRESS},gK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,pk:r$.PUBLIC_KEY},yK={consensus_key:r$.PKH,delegate:r$.PKH,destination:r$.PKH},bK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,limit:r$.DEPOSITS_LIMIT},vK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,pvm_kind:r$.PVM_KIND,kernel:r$.PADDED_BYTES,parameters_ty:r$.VALUE,whitelist:r$.PKH_ARR},wK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,message:r$.SMART_ROLLUP_MESSAGE},AK={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,rollup:r$.SMART_ROLLUP_ADDRESS,cemented_commitment:r$.SMART_ROLLUP_COMMITMENT_HASH,output_proof:r$.PADDED_BYTES},_K={source:r$.PKH,fee:r$.ZARITH,counter:r$.ZARITH,gas_limit:r$.ZARITH,storage_limit:r$.ZARITH,slot_header:r$.SLOT_HEADER},EK={arbitrary:r$.PADDED_BYTES},xK=e=>t=>r=>Object.keys(t).reduce(((n,i)=>{const s=t[i];if(r&&Array.isArray(s)){const t=e[s[0]],o=r[i];if(!Array.isArray(o))throw new g$(`Invalid operation value "${JSON.stringify(o)}" of key "${i}, expected value to be Array.`);return n+o.reduce(((e,r)=>e+t(r)),"")}return n+(0,e[s])(r[i])}),""),kK=e=>t=>r=>Object.keys(t).reduce(((n,i)=>{const s=t[i];if(Array.isArray(s)){const t=e[s[0]],o=[],a=r.length();for(;r.length()>0;)if(o.push(t(r)),a===r.length())throw new m$("Unable to decode value");return Object.assign(Object.assign({},n),{[i]:o})}{const t=(0,e[s])(r);return"undefined"!==typeof t?Object.assign(Object.assign({},n),{[i]:t}):Object.assign({},n)}}),{}),SK={[r$.SECRET]:e=>e$(e.consume(20)),[r$.RAW]:e=>e$(e.consume(32)),[r$.TZ1]:H$,[r$.BRANCH]:z$,[r$.ZARITH]:J$,[r$.PUBLIC_KEY]:e=>{switch(e.consume(1)[0]){case 0:return F$(Ej.EDPK)(e);case 1:return F$(Ej.SPPK)(e);case 2:return F$(Ej.P2PK)(e);default:throw new UD(e.toString(),Qj(Nj.NO_PREFIX_MATCHED))}},[r$.PKH]:G$,[r$.PKH_ARR]:e=>{if(!Q$(e))return;const t=[];for(e.consume(4);e.length()>0;)t.push(G$(e));return t},[r$.DELEGATE]:e=>{if(Q$(e))return G$(e)},[r$.INT32]:e=>{const t=e.consume(4);let r=0;for(let n=0;n<t.length;n++)r|=t[n]<<8*(t.length-(n+1));return r},[r$.SCRIPT]:e=>{const t=S$(e),r=S$(e);return{code:k$(new E$(t)),storage:k$(new E$(r))}},[r$.BALLOT_STATEMENT]:e=>{const t=e.consume(1);switch(t[0]){case 0:return"yay";case 1:return"nay";case 2:return"pass";default:throw new f$(t[0].toString())}},[r$.PROPOSAL]:V$,[r$.PROPOSAL_ARR]:e=>{const t=[];for(e.consume(4);e.length()>0;)t.push(V$(e));return t},[r$.PARAMETERS]:e=>{if(0!==e.consume(1)[0]){const t=(e=>{const t=t$(e.consume(1)[0],2);if(t in c$)return c$[t];{const t=S$(e,1),r=XW.from(t).toString("utf8");if(r.length>31)throw new d$(r);return r}})(e),r=S$(e);return{entrypoint:t,value:k$(new E$(r))}}},[r$.ADDRESS]:e=>{switch(e.consume(1)[0]){case 0:return G$(e);case 1:{const t=F$(Ej.KT1)(e);return e.consume(1),t}default:throw new RD(e.toString(),": Unable to decode.")}},[r$.SMART_ROLLUP_ADDRESS]:e=>{const t=F$(Ej.SR1)(e);if(t.substring(0,3)!==Ej.SR1)throw new w$(t,Qj(Nj.NO_PREFIX_MATCHED)+` expecting prefix '${Ej.SR1}'.`);return t},[r$.SMART_CONTRACT_ADDRESS]:e=>{if(1===e.consume(1)[0]){const t=F$(Ej.KT1)(e);return e.consume(1),t}throw new FD(e.toString(),Qj(Nj.NO_PREFIX_MATCHED))},[r$.SMART_ROLLUP_COMMITMENT_HASH]:e=>{const t=F$(Ej.SRC1)(e);if(t.substring(0,4)!==Ej.SRC1)throw new A$(t,Qj(Nj.NO_PREFIX_MATCHED)+` expecting prefix '${Ej.SRC1}'`);return t},[r$.VALUE]:e=>{const t=S$(e);return k$(new E$(t))},[r$.INT16]:e=>{const t=e.consume(2);let r=0;for(let n=0;n<t.length;n++)r|=t[n]<<8*(t.length-(n+1));return r},[r$.BLOCK_PAYLOAD_HASH]:eK,[r$.ENTRYPOINT]:e=>{const t=S$(e);return XW.from(t).toString("utf8")},[r$.BURN_LIMIT]:e=>{const t=e.consume(1);if("00"!==XW.from(t).toString("hex"))return J$(e)},[r$.DEPOSITS_LIMIT]:e=>{const t=e.consume(1);if("00"!==XW.from(t).toString("hex"))return J$(e)},[r$.PVM_KIND]:e=>{const t=e.consume(1);switch(t[0]){case 0:return"arith";case 1:return"wasm_2_0_0";case 2:return"riscv";default:throw new v$(t[0].toString())}},[r$.PADDED_BYTES]:e=>{const t=S$(e);return XW.from(t).toString("hex")},[r$.SMART_ROLLUP_MESSAGE]:e=>{const t=S$(e);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const r=[];let n=e;for(;n.length();){const e=n.consume(t),i=parseInt(XW.from(e).toString("hex"),16);r.push(n.consume(i)),n=n.slice(i+t)}return r}(new E$(t)).map((e=>XW.from(e).toString("hex")))},[r$.SLOT_HEADER]:e=>{const t=e.consume(1);return{slot_index:Number(t[0].toString(10)),commitment:tK(e),commitment_proof:e$(e.consume(96))}}};var PK;SK[r$.OPERATION]=(PK=SK,e=>{const t=e.consume(1),r=o$[t[0]];if(void 0===r)throw new y$(t[0].toString());const n=PK[r](e);if("object"!==typeof n)throw new m$("Invalid operation, cannot be decoded.");return Object.assign({kind:r},n)}),SK[r$.OP_ACTIVATE_ACCOUNT]=e=>kK(SK)(nK)(e),SK[r$.OP_FAILING_NOOP]=e=>kK(SK)(EK)(e),SK[r$.OP_DELEGATION]=e=>kK(SK)(sK)(e),SK[r$.OP_TRANSACTION]=e=>kK(SK)(oK)(e),SK[r$.OP_ORIGINATION]=e=>kK(SK)(aK)(e),SK[r$.OP_BALLOT]=e=>kK(SK)(cK)(e),SK[r$.OP_ATTESTATION]=e=>kK(SK)(lK)(e),SK[r$.OP_ATTESTATION_WITH_DAL]=e=>kK(SK)(uK)(e),SK[r$.OP_SEED_NONCE_REVELATION]=e=>kK(SK)(dK)(e),SK[r$.OP_PROPOSALS]=e=>kK(SK)(hK)(e),SK[r$.OP_REVEAL]=e=>kK(SK)(iK)(e),SK[r$.OP_REGISTER_GLOBAL_CONSTANT]=e=>kK(SK)(fK)(e),SK[r$.OP_TRANSFER_TICKET]=e=>kK(SK)(pK)(e),SK[r$.OP_INCREASE_PAID_STORAGE]=e=>kK(SK)(mK)(e),SK[r$.OP_UPDATE_CONSENSUS_KEY]=e=>kK(SK)(gK)(e),SK[r$.OP_DRAIN_DELEGATE]=e=>kK(SK)(yK)(e),SK[r$.OP_SMART_ROLLUP_ORIGINATE]=e=>kK(SK)(vK)(e),SK[r$.OP_SMART_ROLLUP_ADD_MESSAGES]=e=>kK(SK)(wK)(e),SK[r$.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=e=>kK(SK)(AK)(e),SK[r$.OP_DAL_PUBLISH_COMMITMENT]=e=>kK(SK)(_K)(e),SK[r$.MANAGER]=kK(SK)(rK),SK[r$.OP_SET_DEPOSITS_LIMIT]=e=>kK(SK)(bK)(e);const TK={[r$.SECRET]:e=>e,[r$.RAW]:e=>e,[r$.TZ1]:W$,[r$.BRANCH]:q$,[r$.ZARITH]:Y$,[r$.PUBLIC_KEY]:e=>{switch(e.substring(0,4)){case Ej.EDPK:return"00"+U$(Ej.EDPK)(e);case Ej.SPPK:return"01"+U$(Ej.SPPK)(e);case Ej.P2PK:return"02"+U$(Ej.P2PK)(e);default:throw new UD(e,Qj(Nj.NO_PREFIX_MATCHED)+` expecting one of the following '${Ej.EDPK}', '${Ej.SPPK}', '${Ej.P2PK}' or '${Ej.BLPK}'.`)}},[r$.PKH]:Z$,[r$.PKH_ARR]:e=>{if(!e)return $$(!1);if(0===e.length)return $$(!0)+t$(0);const t=e.reduce(((e,t)=>e+Z$(t)),"");return $$(!0)+t$(t.length/2)+t},[r$.DELEGATE]:e=>e?$$(!0)+Z$(e):$$(!1),[r$.SCRIPT]:e=>{const t=x$(e.code),r=x$(e.storage);return`${t$(t.length/2,8)}${t}${t$(r.length/2,8)}${r}`},[r$.BALLOT_STATEMENT]:e=>{switch(e){case"yay":return"00";case"nay":return"01";case"pass":return"02";default:throw new h$(e)}},[r$.PROPOSAL]:K$,[r$.PROPOSAL_ARR]:e=>t$(32*e.length)+e.map((e=>K$(e))).join(""),[r$.INT32]:e=>{const t=parseInt(String(e),10),r=[];for(let n=0;n<4;n++){const e=8*(4-(n+1));r.push((t&255<<e)>>e)}return XW.from(r).toString("hex")},[r$.PARAMETERS]:e=>{if(!e||"default"===e.entrypoint&&"prim"in e.value&&"Unit"===e.value.prim)return"00";const t=(e=>{if(e in l$)return`${l$[e]}`;if(e.length>31)throw new d$(e);return`ff${x$({string:e}).slice(8)}`})(e.entrypoint),r=x$(e.value);return`ff${t}${t$(r.length/2)}${r}`},[r$.ADDRESS]:e=>{switch(e.substring(0,3)){case Ej.TZ1:case Ej.TZ2:case Ej.TZ3:case Ej.TZ4:return"00"+Z$(e);case Ej.KT1:return"01"+U$(Ej.KT1)(e)+"00";default:throw new RD(e,Qj(Nj.NO_PREFIX_MATCHED)+` expecting one of the following prefix '${Ej.TZ1}', ${Ej.TZ2}', '${Ej.TZ3}', '${Ej.TZ4}' or '${Ej.KT1}'.`)}},[r$.SMART_ROLLUP_ADDRESS]:e=>{if(e.substring(0,3)!==Ej.SR1)throw new w$(e,Qj(Nj.NO_PREFIX_MATCHED)+` expecting prefix '${Ej.SR1}'.`);return U$(Ej.SR1)(e)},[r$.SMART_CONTRACT_ADDRESS]:e=>{if(e.substring(0,3)===Ej.KT1)return"01"+U$(Ej.KT1)(e)+"00";throw new FD(e,Qj(Nj.NO_PREFIX_MATCHED)+` expecting prefix '${Ej.KT1}'.`)},[r$.SMART_ROLLUP_COMMITMENT_HASH]:e=>{if(e.substring(0,4)===Ej.SRC1)return U$(Ej.SRC1)(e);throw new A$(e,Qj(Nj.NO_PREFIX_MATCHED)+` expecting prefix '${Ej.SRC1}'`)},[r$.VALUE]:e=>{const t=x$(e);return`${t$(t.length/2)}${t}`},[r$.INT16]:e=>{const t=parseInt(String(e),10),r=[];for(let n=0;n<2;n++){const e=8*(2-(n+1));r.push((t&255<<e)>>e)}return XW.from(r).toString("hex")},[r$.BLOCK_PAYLOAD_HASH]:X$,[r$.ENTRYPOINT]:e=>`${x$({string:e}).slice(2)}`,[r$.BURN_LIMIT]:e=>e?`ff${Y$(e)}`:"00",[r$.DEPOSITS_LIMIT]:e=>e?`ff${Y$(e)}`:"00",[r$.PVM_KIND]:e=>{switch(e){case"arith":return"00";case"wasm_2_0_0":return"01";case"riscv":return"02";default:throw new b$(e)}},[r$.PADDED_BYTES]:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return`${t$(e.length/2,t)}${e}`},[r$.SMART_ROLLUP_MESSAGE]:e=>{const t=e.reduce(((e,t)=>e+`${t$(t.length/2)}${t}`),"");return`${t$(t.length/2)}${t}`},[r$.SLOT_HEADER]:e=>t$(e.slot_index,2)+(e=>{if(e.substring(0,2)===Ej.SH)return U$(Ej.SH)(e);throw new _$(e,Qj(Nj.NO_PREFIX_MATCHED)+` expecting prefix '${Ej.SH}'`)})(e.commitment)+e.commitment_proof};var IK;TK[r$.OPERATION]=(IK=TK,e=>{if(!(e.kind in IK)||!(e.kind in a$))throw new qD(e.kind);return a$[e.kind]+IK[e.kind](e)}),TK[r$.OP_ACTIVATE_ACCOUNT]=e=>xK(TK)(nK)(e),TK[r$.OP_DELEGATION]=e=>xK(TK)(sK)(e),TK[r$.OP_TRANSACTION]=e=>xK(TK)(oK)(e),TK[r$.OP_ORIGINATION]=e=>xK(TK)(aK)(e),TK[r$.OP_BALLOT]=e=>xK(TK)(cK)(e),TK[r$.OP_ATTESTATION]=e=>xK(TK)(lK)(e),TK[r$.OP_ATTESTATION_WITH_DAL]=e=>xK(TK)(uK)(e),TK[r$.OP_SEED_NONCE_REVELATION]=e=>xK(TK)(dK)(e),TK[r$.OP_PROPOSALS]=e=>xK(TK)(hK)(e),TK[r$.OP_REVEAL]=e=>xK(TK)(iK)(e),TK[r$.OP_REGISTER_GLOBAL_CONSTANT]=e=>xK(TK)(fK)(e),TK[r$.OP_TRANSFER_TICKET]=e=>xK(TK)(pK)(e),TK[r$.OP_INCREASE_PAID_STORAGE]=e=>xK(TK)(mK)(e),TK[r$.OP_UPDATE_CONSENSUS_KEY]=e=>xK(TK)(gK)(e),TK[r$.OP_DRAIN_DELEGATE]=e=>xK(TK)(yK)(e),TK[r$.OP_SMART_ROLLUP_ORIGINATE]=e=>xK(TK)(vK)(e),TK[r$.OP_SMART_ROLLUP_ADD_MESSAGES]=e=>xK(TK)(wK)(e),TK[r$.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=e=>xK(TK)(AK)(e),TK[r$.OP_DAL_PUBLISH_COMMITMENT]=e=>xK(TK)(_K)(e),TK[r$.MANAGER]=xK(TK)(rK),TK[r$.OP_SET_DEPOSITS_LIMIT]=e=>xK(TK)(bK)(e),TK[r$.OP_FAILING_NOOP]=e=>xK(TK)(EK)(e);const OK={activate_account:nK,reveal:iK,delegation:sK,transaction:oK,origination:aK,ballot:cK,attestation:lK,attestation_with_dal:uK,seed_nonce_revelation:dK,proposals:hK,register_global_constant:fK,transfer_ticket:pK,increase_paid_storage:mK,update_consensus_key:gK,drain_delegate:yK,set_deposits_limit:bK,smart_rollup_originate:vK,smart_rollup_add_messages:wK,smart_rollup_execute_outbox_message:AK,dal_publish_commitment:_K,failing_noop:EK},RK=e=>{const t=e.kind,r=Object.keys(e),n=(i="kind",r.filter((e=>e!==i)));var i;const s=Object.keys(OK[t]);return o=n,s.filter((e=>!o.includes(e)));var o};var CK,NK;(NK=CK||(CK={})).Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",NK.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",NK.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",NK.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",NK.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",NK.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",NK.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",NK.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",NK.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",NK.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",NK.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",NK.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",NK.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",NK.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",NK.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",NK.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",NK.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",NK.PtParisBx="PtParisBxoLz5gzMmn3d9WBQNoPSZakgnkMC2VNuQ3KXfUtUQeZ",NK.PsParisCZ="PsParisCZo7KAh1Z1smVd9ZMZ1HHn5gkzbM94V3PLCpknFWhUAi",NK.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK";const LK=CK.PsParisCZ;class MK{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LK;var t;this.protocolHash=e,this.codec=(t=r$.MANAGER,this.protocolHash,{encoder:TK[t],decoder:e=>{const r=E$.fromHexString(e);return SK[t](r)}})}forge(e){const t=Lj(e.branch,Fj);var r;if(t!==Nj.VALID)throw new LD(e.branch,Qj(t));for(const i of e.contents){if(r=i.kind,!Object.keys(OK).includes(r))throw new qD(i.kind);const e=RK(i);if(1===e.length){if("delegation"===i.kind&&"delegate"===e[0])continue;if("origination"===i.kind&&"delegate"===e[0])continue;if("transaction"===i.kind&&"parameters"===e[0])continue;if("set_deposits_limit"===i.kind&&"limit"===e[0])continue;if("smart_rollup_originate"===i.kind&&"whitelist"===e[0])continue;throw new u$(i,`missing properties "${e.join(", ")}"`)}if(e.length>1)throw new u$(i,`missing properties "${e.join(", ")}"`)}const n=this.codec.encoder(e).toLowerCase();return Promise.resolve(n)}parse(e){return Promise.resolve(this.codec.decoder(e))}}new MK;function BK(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function DK(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(bZ){s(bZ)}}function a(e){try{c(n.throw(e))}catch(bZ){s(bZ)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}function jK(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function UK(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}"function"===typeof SuppressedError&&SuppressedError;class FK{constructor(e){this.context=e}inject(e){return DK(this,void 0,void 0,(function*(){let t;try{t=yield this.context.rpc.injectOperation(e)}catch(gZ){const t=". You may want to use --replace to provide adequate fee and replace it";throw gZ instanceof JD&&gZ.message.includes(t)?function(e,t){const r=JSON.parse(e.body);if(r[0]&&r[0].kind&&r[0].msg){const n=JSON.stringify({kind:r[0].kind,id:r[0].id,msg:r[0].msg.replace(t,"")});return new JD(`Http error response: (${e.status}) ${n}`,e.status,e.statusText,n,e.url)}return e}(gZ,t):gZ}return t}))}}class HK extends TD{constructor(){super(),this.name="UnconfiguredSignerError",this.message="No signer has been configured. Please configure one by calling setProvider({signer}) on your TezosToolkit instance."}}class zK{publicKey(){return DK(this,void 0,void 0,(function*(){throw new HK}))}publicKeyHash(){return DK(this,void 0,void 0,(function*(){throw new HK}))}secretKey(){return DK(this,void 0,void 0,(function*(){throw new HK}))}sign(e,t){return DK(this,void 0,void 0,(function*(){throw new HK}))}}function GK(e){return new pF((t=>(e.on("data",(e=>{t.next(e)})),e.on("error",(e=>{t.error(e)})),e.on("close",(()=>{t.complete()})),()=>{e.close()})))}const qK=169,WK=155,$K=445,KK=1674,VK=276,QK=276,ZK=305,YK=477;var JK,XK;(XK=JK||(JK={})).Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",XK.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",XK.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",XK.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",XK.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",XK.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",XK.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",XK.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",XK.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",XK.PsiThaCa="PsiThaCaT47Zboaw71QWScM8sXeMM7bbQFncK9FLqYc6EKdpjVP",XK.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",XK.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",XK.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",XK.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",XK.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",XK.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",XK.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",XK.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",XK.PtParisBx="PtParisBxoLz5gzMmn3d9WBQNoPSZakgnkMC2VNuQ3KXfUtUQeZ",XK.PsParisCZ="PsParisCZo7KAh1Z1smVd9ZMZ1HHn5gkzbM94V3PLCpknFWhUAi",XK.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK";JK.Pt24m4xi,JK.PsBABY5H,JK.PsBabyM1,JK.PsCARTHA,JK.PsDELPH1,JK.PtEdo2Zk,JK.PsFLorena,JK.PtGRANADs,JK.PtHangz2,JK.PsiThaCa,JK.Psithaca2,JK.PtJakart2,JK.PtKathman,JK.PtLimaPtL,JK.PtMumbai2,JK.PtNairobi,JK.ProxfordY,JK.PtParisBx,JK.PsParisCZ,JK.ProtoALpha;var eV,tV;(tV=eV||(eV={})).MAINNET="NetXdQprcVkpaWU",tV.CARTHAGENET="NetXjD3HPJJjmcd",tV.DELPHINET="NetXm8tYqnMWky1",tV.EDONET="NetXSgo1ZT2DRUG",tV.FLORENCENET="NetXxkAx4woPLyu",tV.GRANADANET="NetXz969SFaFn8k",tV.HANGZHOUNET="NetXZSsxBpMQeAT",tV.ITHACANET="NetXbhmtAbMukLc",tV.ITHACANET2="NetXnHfVqm9iesp",tV.JAKARTANET2="NetXLH1uAxK7CCh",tV.KATHMANDUNET="NetXazhm4yetmff",tV.LIMANET="NetXizpkH94bocH",tV.MUMBAINET="NetXQw6nWSnrJ5t",tV.MUMBAINET2="NetXgbcrNtXD2yA",tV.NAIROBINET="NetXyuzvDo2Ugzb",tV.OXFORDNET2="NetXxWsskGahzQB",tV.PARISBNET="NetXo8SqH1c38SS",tV.PARISCNET="NetXXWAHLEvre9b";const rV=e=>Math.round(37*nV(e)/10),nV=e=>{switch(e.substring(0,3)){case"tz1":return qK;case"tz2":return WK;case"tz3":return $K;case"tz4":return KK;default:throw new Error(`Cannot estimate reveal gas limit for ${e}`)}},iV=e=>Math.round(12*sV(e)/10),sV=e=>{switch(e.substring(0,3)){case"tz1":return VK;case"tz2":return QK;case"tz3":return ZK;case"tz4":return YK;default:throw new Error(`Cannot estimate reveal fee for ${e}`)}};class oV extends SD{constructor(e,t,r){super(),this.smartContractMethodName=e,this.sigs=t,this.invalidParams=r,this.name="InvalidParameterError",this.message=`${e} Received ${r.length} arguments while expecting one of the following signatures (${JSON.stringify(t)})`}}class aV extends SD{constructor(e){super(),this.source=e,this.name="InvalidDelegationSource",this.message=`Since Babylon delegation source can no longer be a contract address ${e}. Please use the smart contract abstraction to set your delegate.`}}class cV extends SD{constructor(e,t){super(),this.message=e,this.data=t,this.name="InvalidCodeParameter"}}class lV extends SD{constructor(e,t){super(),this.message=e,this.data=t,this.name="InvalidInitParameter"}}class uV extends PD{constructor(e,t,r,n){super(),this.message=e,this.viewName=t,this.failWith=r,this.cause=n,this.name="ViewSimulationError"}}const dV=e=>{try{JSON.parse(e)}catch(bZ){return!1}return!0};class hV extends SD{constructor(e){super(),this.info=e,this.name="InvalidViewSimulationContext",this.message=`${e} Please configure the context of the view execution in the executeView method.`}}class fV extends PD{constructor(e){super(),this.message=e,this.name="RevealOperationError"}}class pV extends SD{constructor(e){super(),this.message=e,this.name}}class mV extends SD{constructor(e){super(),this.message=e,this.name="InvalidBalanceError"}}const gV=e=>DK(void 0,[e],void 0,(function(e){let{code:t,init:r,balance:n="0",delegate:i,storage:s,fee:o,gasLimit:a,storageLimit:c,mutez:l=!1}=e;return function*(){if(void 0!==s&&void 0!==r)throw new pV("Storage and Init cannot be set a the same time. Please either use storage or init but not both.");if(!Array.isArray(t))throw new cV("Wrong code parameter type, expected an array",t);let e;if(void 0!==s){const r=t.find((e=>"prim"in e&&"storage"===e.prim));if(void 0===(null===r||void 0===r?void 0:r.args))throw new cV("The storage section is missing from the script",t);e=new RG(r.args[0]).Encode(s)}else{if(void 0===r||"object"!==typeof r)throw new lV("Wrong init parameter type, expected JSON Michelson",r);e=r}const u={code:t,storage:e};if(isNaN(Number(n)))throw new mV(`Invalid Balance "${n}", cannot be converted to a number`);const d={kind:TU.ORIGINATION,fee:o,gas_limit:a,storage_limit:c,balance:l?n.toString():Yj("tz","mutez",n).toString(),script:u};return i&&(d.delegate=i),d}()})),yV=e=>DK(void 0,[e],void 0,(function(e){let{to:t,amount:r,parameter:n,fee:i,gasLimit:s,storageLimit:o,mutez:a=!1}=e;return function*(){return{kind:TU.TRANSACTION,fee:i,gas_limit:s,storage_limit:o,amount:a?r.toString():Yj("tz","mutez",r).toString(),destination:t,parameters:n}}()})),bV=e=>DK(void 0,[e],void 0,(function(e){let{delegate:t,source:r,fee:n,gasLimit:i,storageLimit:s}=e;return function*(){return{kind:TU.DELEGATION,source:r,fee:n,gas_limit:i,storage_limit:s,delegate:t}}()})),vV=(e,t,r)=>DK(void 0,[e,t,r],void 0,(function(e,t,r){let{fee:n,gasLimit:i,storageLimit:s}=e;return function*(){return{kind:TU.REVEAL,fee:n,public_key:r,source:t,gas_limit:null!==i&&void 0!==i?i:rV(t),storage_limit:s}}()})),wV=e=>DK(void 0,[e],void 0,(function(e){let{value:t,source:r,fee:n,gasLimit:i,storageLimit:s}=e;return function*(){return{kind:TU.REGISTER_GLOBAL_CONSTANT,value:t,fee:n,gas_limit:i,storage_limit:s,source:r}}()})),AV=e=>DK(void 0,[e],void 0,(function(e){let{ticketContents:t,ticketTy:r,ticketTicketer:n,ticketAmount:i,destination:s,entrypoint:o,source:a,fee:c,gasLimit:l,storageLimit:u}=e;return function*(){return{kind:TU.TRANSFER_TICKET,fee:c,gas_limit:l,storage_limit:u,source:a,ticket_contents:t,ticket_ty:r,ticket_ticketer:n,ticket_amount:i,destination:s,entrypoint:o}}()})),_V=e=>DK(void 0,[e],void 0,(function(e){let{source:t,fee:r,gasLimit:n,storageLimit:i,amount:s,destination:o}=e;return function*(){return{kind:TU.INCREASE_PAID_STORAGE,source:t,fee:r,gas_limit:n,storage_limit:i,amount:s,destination:o}}()})),EV=e=>DK(void 0,[e],void 0,(function(e){let{source:t,fee:r,gasLimit:n,storageLimit:i,message:s}=e;return function*(){return{kind:TU.SMART_ROLLUP_ADD_MESSAGES,source:t,fee:r,gas_limit:n,storage_limit:i,message:s}}()})),xV=e=>DK(void 0,[e],void 0,(function(e){let{source:t,fee:r,gasLimit:n,storageLimit:i,pvmKind:s,kernel:o,parametersType:a}=e;return function*(){return{kind:TU.SMART_ROLLUP_ORIGINATE,source:t,fee:r,gas_limit:n,storage_limit:i,pvm_kind:s,kernel:o,parameters_ty:a}}()})),kV=e=>DK(void 0,[e],void 0,(function(e){let{source:t,fee:r,gasLimit:n,storageLimit:i,rollup:s,cementedCommitment:o,outputProof:a}=e;return function*(){return{kind:TU.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE,source:t,fee:r,gas_limit:n,storage_limit:i,rollup:s,cemented_commitment:o,output_proof:a}}()})),SV=(e,t)=>Object.assign(Object.assign({},e),{kind:t}),PV=(e,t)=>{if(Array.isArray(e)){const r=e.find((e=>e.kind===t));if(r&&TV(r,t))return r}},TV=(e,t)=>e.kind===t,IV=e=>-1!==["transaction","delegation","origination","reveal","register_global_constant","increase_paid_storage","transfer_ticket","update_consensus_key","smart_rollup_add_messages","smart_rollup_originate","smart_rollup_execute_outbox_message"].indexOf(e.kind),OV=e=>-1!==["transaction","delegation","origination","register_global_constant","increase_paid_storage","transfer_ticket","update_consensus_key","smart_rollup_add_messages","smart_rollup_originate","smart_rollup_execute_outbox_message"].indexOf(e.kind),RV=e=>"metadata"in e,CV=e=>RV(e)&&"operation_result"in e.metadata;class NV extends PD{constructor(e,t,r){super(),this.errors=e,this.errorDetails=t,this.operationsWithResults=r,this.name="TezosOperationError",this.lastError=e[e.length-1],this.message=`(${this.kind}) ${this.id}`,"with"in this.lastError&&(this.lastError.with.string?this.message=this.lastError.with.string:this.lastError.with.int?this.message=this.lastError.with.int:this.message=JSON.stringify(this.lastError.with))}get id(){return this.lastError.id}get kind(){return this.lastError.kind}}class LV extends Error{constructor(e){super(),this.result=e,this.name="TezosPreapplyFailureError",this.message="Preapply returned an unexpected result"}}const MV=e=>{const t=Array.isArray(e)?e:[e],r=[];for(let n=0;n<t.length;n++)for(let e=0;e<t[n].contents.length;e++){const i=t[n].contents[e];CV(i)&&"fee"in i&&(r.push(Object.assign({fee:i.fee},i.metadata.operation_result)),Array.isArray(i.metadata.internal_operation_results)&&i.metadata.internal_operation_results.forEach((e=>r.push(e.result))))}return r},BV=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"failed";const r=Array.isArray(e)?e:[e];let n=[];for(let s=0;s<r.length;s++)for(let e=0;e<r[s].contents.length;e++){const o=r[s].contents[e];if(RV(o)&&(CV(o)&&o.metadata.operation_result.status===t&&(n=n.concat(o.metadata.operation_result.errors||[])),RV(i=o)&&"internal_operation_results"in i.metadata&&Array.isArray(o.metadata.internal_operation_results)))for(const e of o.metadata.internal_operation_results)"result"in e&&e.result.status===t&&(n=n.concat(e.result.errors||[]))}var i;return n};class DV extends kD{constructor(e){super(),this.message=e,this.name="OriginationOperationError"}}class jV extends SD{constructor(e){super(),this.message=e,this.name="InvalidEstimateValueError"}}class UV extends SD{constructor(e){super(),this.invalidConfirmations=e,this.name="InvalidConfirmationCountError",this.message=`Invalid confirmation count ${e} expecting at least 1`}}class FV extends OD{constructor(e){super(),this.message=e,this.name="ConfirmationTimeoutError"}}class HV extends PD{constructor(e,t){super(),this.message=e,this.cause=t,this.name="RPCResponseError"}}class zV{get includedInBlock(){return this._foundAt}constructor(e,t,r,n){if(this.hash=e,this.raw=t,this.results=r,this.context=n,this._pollingConfig$=new wF(1),this.currentHead$=this._pollingConfig$.pipe(vH((e=>new AF(e).pipe(AH({each:1e3*e.timeout,with:()=>_F((()=>new FV("Confirmation polling timed out")))})))),vH((()=>LF((()=>GK(this.context.stream.subscribeBlock("head")))).pipe(vH((e=>{var t,r;const n=null!==(r=null===(t=this.lastHead)||void 0===t?void 0:t.header.level)&&void 0!==r?r:e.header.level-1;return BF(n+1,e.header.level-n-1).pipe(EH((e=>this.context.readProvider.getBlock(e))),xH(e))})),kH((e=>this.lastHead=e))))),TH({refCount:!0})),this.confirmed$=this.currentHead$.pipe(rH((e=>{for(let t=3;t>=0;t--)e.operations[t].forEach((t=>{t.hash===this.hash&&(this._foundAt=e.header.level)}));if(e.header.level-this._foundAt>=0)return this._foundAt})),IH((e=>void 0!==e)),CH(),TH()),this._foundAt=Number.POSITIVE_INFINITY,Vj(this.hash)!==Nj.VALID)throw new GD(this.hash);this.confirmed$.pipe(CH(),NH((()=>ZF(MF)))).subscribe()}get revealOperation(){return Array.isArray(this.results)&&this.results.find((e=>"reveal"===e.kind))}get revealStatus(){return this.revealOperation?this.revealOperation.metadata.operation_result.status:"unknown"}get status(){return this.results.map((e=>CV(e)?e.metadata.operation_result.status:"unknown"))[0]||"unknown"}confirmation(e,t){return DK(this,void 0,void 0,(function*(){if("undefined"!==typeof e&&e<1)throw new UV(e);const{defaultConfirmationCount:r,confirmationPollingTimeoutSecond:n}=this.context.config;this._pollingConfig$.next({timeout:t||n});const i=void 0!==e?e:r;return new Promise(((e,t)=>{this.confirmed$.pipe(vH((()=>this.currentHead$)),IH((e=>e.header.level-this._foundAt>=i-1)),CH()).subscribe({error:e=>t(e),complete:()=>e(this._foundAt+(i-1))})}))}))}}class GV extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}sumProp(e,t){return e.reduce(((e,r)=>t in r?Number(r[t])+e:e),0)}getOriginatedContractAddresses(){const e=this.results.filter((e=>"origination"===e.kind));let t=[];for(const r of e)r.metadata.operation_result.originated_contracts&&(t=[...t,...r.metadata.operation_result.originated_contracts]);return t}get status(){return this.results.filter((e=>-1!==pQ.indexOf(e.kind))).map((e=>{if(CV(e)){return e.metadata.operation_result.status}return"unknown"}))[0]||"unknown"}get fee(){return this.sumProp(this.params,"fee")}get gasLimit(){return this.sumProp(this.params,"gas_limit")}get storageLimit(){return this.sumProp(this.params,"storage_limit")}get consumedGas(){return _j.config({DECIMAL_PLACES:0,ROUNDING_MODE:_j.ROUND_UP}),new _j(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(MV({contents:this.results}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(MV({contents:this.results}),"paid_storage_size_diff"))}get errors(){return BV({contents:this.results})}}class qV{get rpc(){return this.context.rpc}get signer(){return this.context.signer}constructor(e){this.context=e}forge(e){return DK(this,arguments,void 0,(function(e){var t=this;let{opOb:{branch:r,contents:n,protocol:i},counter:s}=e;return function*(){return{opbytes:yield t.context.forger.forge({branch:r,contents:n}),opOb:{branch:r,contents:n,protocol:i},counter:s}}()}))}estimate(e,t){return DK(this,void 0,void 0,(function*(){var{fee:r,gasLimit:n,storageLimit:i}=e,s=BK(e,["fee","gasLimit","storageLimit"]);let o=r,a=n,c=i;if(o&&o%1!==0)throw new jV(`Fee value must not be a decimal: ${o}`);if(a&&a%1!==0)throw new jV(`Gas Limit value must not be a decimal: ${a}`);if(c&&c%1!==0)throw new jV(`Storage Limit value must not be a decimal: ${c}`);if(void 0===r||void 0===n||void 0===i){const e=yield t(Object.assign({fee:r,gasLimit:n,storageLimit:i},s));null!==o&&void 0!==o||(o=e.suggestedFeeMutez),null!==a&&void 0!==a||(a=e.gasLimit),null!==c&&void 0!==c||(c=e.storageLimit)}return{fee:o,gasLimit:a,storageLimit:c}}))}getRPCOp(e){return DK(this,void 0,void 0,(function*(){switch(e.kind){case TU.TRANSACTION:return yV(Object.assign({},e));case TU.ORIGINATION:return gV(yield this.context.parser.prepareCodeOrigination(Object.assign({},e)));case TU.DELEGATION:return bV(Object.assign({},e));case TU.REGISTER_GLOBAL_CONSTANT:return wV(Object.assign({},e));case TU.INCREASE_PAID_STORAGE:return _V(Object.assign({},e));case TU.TRANSFER_TICKET:return AV(Object.assign({},e));case TU.SMART_ROLLUP_ADD_MESSAGES:return EV(Object.assign({},e));case TU.SMART_ROLLUP_ORIGINATE:return xV(Object.assign({},e));case TU.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return kV(Object.assign({},e));default:throw new qD(e.kind)}}))}runOperation(e){return DK(this,void 0,void 0,(function*(){return{opResponse:yield this.rpc.runOperation(e),op:e,context:this.context.clone()}}))}simulate(e){return DK(this,void 0,void 0,(function*(){return{opResponse:yield this.rpc.simulateOperation(e),op:e,context:this.context.clone()}}))}isRevealOpNeeded(e,t){return DK(this,void 0,void 0,(function*(){return!(!(yield this.isAccountRevealRequired(t))||!this.isRevealRequiredForOpType(e))}))}isAccountRevealRequired(e){return DK(this,void 0,void 0,(function*(){return!(yield this.context.readProvider.isAccountRevealed(e,"head"))}))}isRevealRequiredForOpType(e){let t=!1;for(const r of e)OV(r)&&(t=!0);return t}signAndInject(e){return DK(this,void 0,void 0,(function*(){const t=yield this.signer.sign(e.opbytes,new Uint8Array([3]));e.opbytes=t.sbytes,e.opOb.signature=t.prefixSig;const r=[],n=yield this.rpc.preapplyOperations([e.opOb]);if(!Array.isArray(n))throw new LV(n);for(let e=0;e<n.length;e++)for(let t=0;t<n[e].contents.length;t++)r.push(n[e].contents[t]);const i=BV(n);if(i.length)throw new NV(i,"Error occurred during validation simulation of operation",r);return{hash:yield this.context.injector.inject(e.opbytes),forgedBytes:e,opResponse:r,context:this.context.clone()}}))}}class WV{constructor(e,t){this.walletProvider=e,this.context=t,this.operations=[]}withTransfer(e){const t=zj(e.to);if(t!==Nj.VALID)throw new RD(e.to,Qj(t));return this.operations.push(Object.assign({kind:TU.TRANSACTION},e)),this}withContractCall(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.withTransfer(e.toTransferParams(t))}withDelegation(e){var t;const r=zj(null!==(t=e.delegate)&&void 0!==t?t:"");if(e.delegate&&r!==Nj.VALID)throw new RD(e.delegate,Qj(r));return this.operations.push(Object.assign({kind:TU.DELEGATION},e)),this}withOrigination(e){return this.operations.push(Object.assign({kind:TU.ORIGINATION},e)),this}withIncreasePaidStorage(e){const t=zj(e.destination);if(t!==Nj.VALID)throw new RD(e.destination,Qj(t));return this.operations.push(Object.assign({kind:TU.INCREASE_PAID_STORAGE},e)),this}withTransferTicket(e){const t=zj(e.destination);if(t!==Nj.VALID)throw new RD(e.destination,Qj(t));return this.operations.push(Object.assign({kind:TU.TRANSFER_TICKET},e)),this}mapOperation(e){return DK(this,void 0,void 0,(function*(){switch(e.kind){case TU.TRANSACTION:return this.walletProvider.mapTransferParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){return e}))));case TU.ORIGINATION:return this.walletProvider.mapOriginateParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){return this.context.parser.prepareCodeOrigination(Object.assign({},e))}))));case TU.DELEGATION:return this.walletProvider.mapDelegateParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){return e}))));case TU.INCREASE_PAID_STORAGE:return this.walletProvider.mapIncreasePaidStorageWalletParams((()=>DK(this,void 0,void 0,(function*(){return e}))));default:throw new qD(JSON.stringify(e.kind))}}))}with(e){for(const t of e)switch(t.kind){case TU.TRANSACTION:this.withTransfer(t);break;case TU.ORIGINATION:this.withOrigination(t);break;case TU.DELEGATION:this.withDelegation(t);break;case TU.INCREASE_PAID_STORAGE:this.withIncreasePaidStorage(t);break;default:throw new qD(JSON.stringify(t.kind))}return this}send(){return DK(this,void 0,void 0,(function*(){const e=[];for(const r of this.operations)e.push(yield this.mapOperation(r));const t=yield this.walletProvider.sendOperations(e);return this.context.operationFactory.createBatchOperation(t)}))}}class $V{constructor(e){this.context=e,this.walletCommand=e=>({send:e})}get walletProvider(){return this.context.walletProvider}pkh(){return DK(this,arguments,void 0,(function(){var e=this;let{forceRefetch:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e._pkh&&!t||(e._pkh=yield e.walletProvider.getPKH()),e._pkh}()}))}pk(){return DK(this,arguments,void 0,(function(){var e=this;let{forceRefetch:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e._pk&&!t||(e._pk=yield e.walletProvider.getPK()),e._pk}()}))}originate(e){return this.walletCommand((()=>DK(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapOriginateParamsToWalletParams((()=>this.context.parser.prepareCodeOrigination(Object.assign({},e)))),r=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createOriginationOperation(r)}))))}setDelegate(e){var t;const r=zj(null!==(t=e.delegate)&&void 0!==t?t:"");if(e.delegate&&r!==Nj.VALID)throw new RD(e.delegate,Qj(r));return this.walletCommand((()=>DK(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapDelegateParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){return e})))),r=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createDelegationOperation(r)}))))}signFailingNoop(e){return DK(this,void 0,void 0,(function*(){const t={kind:TU.FAILING_NOOP,arbitrary:e.arbitrary},r=yield this.context.readProvider.getBlockHash(e.basedOnBlock),n=yield this.context.forger.forge({branch:r,contents:[t]});return{signature:yield this.walletProvider.sign(n,Uint8Array.from([3])),bytes:n,signedContent:{branch:r,contents:[{kind:TU.FAILING_NOOP,arbitrary:e.arbitrary}]}}}))}registerDelegate(){return this.walletCommand((()=>DK(this,void 0,void 0,(function*(){const e=yield this.walletProvider.mapDelegateParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){return{delegate:yield this.pkh()}})))),t=yield this.walletProvider.sendOperations([e]);return this.context.operationFactory.createDelegationOperation(t)}))))}transfer(e){const t=zj(e.to);if(t!==Nj.VALID)throw new RD(e.to,Qj(t));return this.walletCommand((()=>DK(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapTransferParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){return e})))),r=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createTransactionOperation(r)}))))}transferTicket(e){const t=zj(e.destination);if(t!==Nj.VALID)throw new RD(e.destination,Qj(t));return this.walletCommand((()=>DK(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapTransferTicketParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){return e})))),r=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createTransferTicketOperation(r)}))))}stake(e){return this.walletCommand((()=>DK(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapStakeParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){const t=yield this.pkh();if(e.to||(e.to=t),e.to!==t)throw new CD(e.to);return e.parameter={entrypoint:"stake",value:{prim:"Unit"}},e})))),r=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createTransactionOperation(r)}))))}unstake(e){return this.walletCommand((()=>DK(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapUnstakeParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){const t=yield this.pkh();if(e.to||(e.to=t),e.to!==t)throw new CD(e.to);return e.parameter={entrypoint:"unstake",value:{prim:"Unit"}},e})))),r=yield this.walletProvider.sendOperations([t]);return yield this.context.operationFactory.createTransactionOperation(r)}))))}finalizeUnstake(e){return this.walletCommand((()=>DK(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapFinalizeUnstakeParamsToWalletParams((()=>DK(this,void 0,void 0,(function*(){const t=yield this.pkh();if(e.to||(e.to=t),e.to!==t)throw new CD(e.to);if(e.amount||(e.amount=0),0!==e.amount)throw new ND("Amount must be 0 to finalize unstake.");return e.parameter={entrypoint:"finalize_unstake",value:{prim:"Unit"}},e})))),r=yield this.walletProvider.sendOperations([t]);return yield this.context.operationFactory.createTransactionOperation(r)}))))}increasePaidStorage(e){const t=zj(e.destination);if(t!==Nj.VALID)throw new RD(e.destination,Qj(t));return this.walletCommand((()=>DK(this,void 0,void 0,(function*(){const t=yield this.walletProvider.mapIncreasePaidStorageWalletParams((()=>DK(this,void 0,void 0,(function*(){return e})))),r=yield this.walletProvider.sendOperations([t]);return this.context.operationFactory.createIncreasePaidStorageOperation(r)}))))}batch(e){const t=new WV(this.walletProvider,this.context);return Array.isArray(e)&&t.with(e),t}at(e){return DK(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return function*(){const n=qj(e);if(n!==Nj.VALID)throw new FD(e,Qj(n));const i=t.context.withExtensions().rpc,s=t.context.withExtensions().readProvider,o=yield s.getScript(e,"head"),a=yield s.getEntrypoints(e),c=new aQ(e,o,t,t.context.contract,a,i,s);return r(c,t.context)}()}))}getPK(){return DK(this,void 0,void 0,(function*(){return yield this.pk()}))}}class KV extends TD{constructor(){super(),this.name="ConfirmationUndefinedError",this.message="Default confirmation count can not be undefined"}}class VV extends OD{constructor(e){super(),this.message=e,this.name="ObservableError"}}class QV{operationResults(){return DK(this,void 0,void 0,(function*(){return this._operationResult.pipe(CH()).toPromise()}))}receipt(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new VV("Unable to get operation results");return function(e){let{ALLOCATION_BURN:t,ORIGINATION_BURN:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ALLOCATION_BURN:257,ORIGINATION_BURN:257};_j.config({DECIMAL_PLACES:0,ROUNDING_MODE:_j.ROUND_UP});const n=MV({contents:e});let i=new _j(0),s=new _j(0),o=new _j(0),a=new _j(0),c=new _j(0),l=new _j(0);return n.forEach((e=>{o=o.plus(e.fee||0),a=a.plus(Array.isArray(e.originated_contracts)?e.originated_contracts.length*r:0),c=c.plus("allocated_destination_contract"in e?t:0),i=i.plus(e.consumed_milligas||0),l=l.plus("paid_storage_size_diff"in e&&Number(e.paid_storage_size_diff)||0)})),s=s.plus(c).plus(a).plus(l),{totalFee:o,totalMilliGas:i,totalGas:i.dividedBy(1e3),totalStorage:s,totalAllocationBurn:c,totalOriginationBurn:a,totalPaidStorageDiff:l,totalStorageBurn:new _j(s.multipliedBy(250))}}(e)}))}constructor(e,t,r){if(this.opHash=e,this.context=t,this._newHead$=r,this._operationResult=new wF(1),this._includedInBlock=new wF(1),this._included=!1,this.newHead$=this._newHead$.pipe(vH((e=>{var t,r;const n=null!==(r=null===(t=this.lastHead)||void 0===t?void 0:t.header.level)&&void 0!==r?r:e.header.level-1;return BF(n+1,e.header.level-n-1).pipe(EH((e=>this.context.readProvider.getBlock(e))),xH(e))})),kH((e=>this.lastHead=e)),SH({connector:()=>new wF(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),this.confirmed$=this.newHead$.pipe(rH((e=>{for(const t of e.operations)for(const r of t)if(r.hash===this.opHash)return this._included=!0,this._includedInBlock.next(e),this._operationResult.next(r.contents),e})),IH((e=>"undefined"!==typeof e)),CH(),SH({connector:()=>new wF(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1})),Vj(this.opHash)!==Nj.VALID)throw new GD(this.opHash);this.confirmed$.pipe(CH(),NH((()=>ZF(void 0)))).subscribe()}getCurrentConfirmation(){return DK(this,void 0,void 0,(function*(){return this._included?sH([this._includedInBlock,QF(this.context.readProvider.getBlock("head"))]).pipe(rH((e=>{let[t,r]=e;return r.header.level-t.header.level+1})),CH()).toPromise():0}))}isInCurrentBranch(){return DK(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"head";return function*(){if(!e._included)return!0;const r=yield e.context.readProvider.getBlockLevel(t),n=yield e._includedInBlock.pipe(CH()).toPromise();if(!n)throw new VV("Inclusion block is undefined");const i=r-n.header.level;if(i<=0)return!0;const s=Math.min(n.header.level+i,n.header.level+60);return new Set(yield e.context.readProvider.getLiveBlocks(s)).has(n.hash)}()}))}confirmationObservable(e){if("undefined"!==typeof e&&e<1)throw new UV(e);const{defaultConfirmationCount:t}=this.context.config,r=void 0!==e?e:t;if(void 0===r)throw new KV;return sH([this._includedInBlock,this.newHead$]).pipe(LH(((e,t)=>{let[,r]=e,[,n]=t;return r.hash===n.hash})),rH((e=>{let[t,n]=e;return{block:n,expectedConfirmation:r,currentConfirmation:n.header.level-t.header.level+1,completed:n.header.level-t.header.level>=r-1,isInCurrentBranch:()=>this.isInCurrentBranch(n.hash)}})),(n=e=>{let{completed:t}=e;return!t},void 0===(i=!0)&&(i=!1),zF((function(e,t){var r=0;e.subscribe(GF(t,(function(e){var s=n(e,r++);(s||i)&&t.next(e),!s&&t.complete()})))}))));var n,i}confirmation(e){return this.confirmationObservable(e).toPromise()}}class ZV extends QV{constructor(e,t,r){super(e,t,r),this.opHash=e,this.context=t}revealOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new VV("operationResult returned undefined");return e.find((e=>e.kind===TU.REVEAL))}))}transactionOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new VV("operationResult returned undefined");return e.find((e=>e.kind===TU.TRANSACTION))}))}status(){return DK(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.transactionOperation();return e?e.metadata.operation_result.status:"unknown"}))}}class YV extends QV{constructor(e,t,r){super(e,t,r),this.opHash=e,this.context=t}originationOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return PV(e,TU.ORIGINATION);throw new VV("Unable to fetch operation result")}))}revealOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return PV(e,TU.REVEAL);throw new VV("Unable to fetch operation result")}))}status(){return DK(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.originationOperation();return e?e.metadata.operation_result.status:"unknown"}))}contract(){return DK(this,void 0,void 0,(function*(){const e=yield this.originationOperation(),t=((null===e||void 0===e?void 0:e.metadata.operation_result.originated_contracts)||[])[0];return this.context.wallet.at(t)}))}}class JV extends QV{constructor(e,t,r){super(e,t,r),this.opHash=e,this.context=t}revealOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===TU.REVEAL));throw new VV("Unable to fetch operation result")}))}delegationOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===TU.DELEGATION));throw new VV("Unable to fetch operation result")}))}status(){return DK(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.delegationOperation();return e?e.metadata.operation_result.status:"unknown"}))}}class XV extends QV{constructor(e,t,r){super(e,t,r),this.opHash=e,this.context=t}revealOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new VV("operationResult returned undefined");return e.find((e=>e.kind===TU.REVEAL))}))}transferTicketOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(!e)throw new VV("operationResult returned undefined");return e.find((e=>e.kind===TU.TRANSFER_TICKET))}))}status(){return DK(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.transferTicketOperation();return e?e.metadata.operation_result.status:"unknown"}))}}class eQ{constructor(e){this.context=e}getPKH(){return DK(this,void 0,void 0,(function*(){return this.context.signer.publicKeyHash()}))}getPK(){return DK(this,void 0,void 0,(function*(){return this.context.signer.publicKey()}))}mapTransferParamsToWalletParams(e){return DK(this,void 0,void 0,(function*(){return SV(yield e(),TU.TRANSACTION)}))}mapStakeParamsToWalletParams(e){return DK(this,void 0,void 0,(function*(){return SV(yield e(),TU.TRANSACTION)}))}mapUnstakeParamsToWalletParams(e){return DK(this,void 0,void 0,(function*(){return SV(yield e(),TU.TRANSACTION)}))}mapFinalizeUnstakeParamsToWalletParams(e){return DK(this,void 0,void 0,(function*(){return SV(yield e(),TU.TRANSACTION)}))}mapOriginateParamsToWalletParams(e){return DK(this,void 0,void 0,(function*(){return SV(yield e(),TU.ORIGINATION)}))}mapDelegateParamsToWalletParams(e){return DK(this,void 0,void 0,(function*(){return SV(yield e(),TU.DELEGATION)}))}mapIncreasePaidStorageWalletParams(e){return DK(this,void 0,void 0,(function*(){return SV(yield e(),TU.INCREASE_PAID_STORAGE)}))}mapTransferTicketParamsToWalletParams(e){return DK(this,void 0,void 0,(function*(){return SV(yield e(),TU.TRANSFER_TICKET)}))}sendOperations(e){return DK(this,void 0,void 0,(function*(){return(yield this.context.batch.batch(e).send()).hash}))}sign(e,t){return DK(this,void 0,void 0,(function*(){const{prefixSig:r}=yield this.context.signer.sign(e,t);return r}))}}class tQ{constructor(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"unit",s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this.provider=e,this.address=t,this.parameterSchema=r,this.name=n,this.args=i,this.isMultipleEntrypoint=s,this.isAnonymous=o}getSignature(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()}send(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.provider instanceof $V?this.provider.transfer(this.toTransferParams(e)).send():this.provider.transfer(this.toTransferParams(e))}toTransferParams(){let{fee:e,gasLimit:t,storageLimit:r,source:n,amount:i=0,mutez:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{to:this.address,amount:i,fee:e,mutez:s,source:n,gasLimit:t,storageLimit:r,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:sQ,value:this.isAnonymous?this.parameterSchema.EncodeObject({[this.name]:this.args}):this.parameterSchema.EncodeObject(this.args)}}}}class rQ{constructor(e,t,r,n,i){let s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this.provider=e,this.address=t,this.parameterSchema=r,this.name=n,this.args=i,this.isMultipleEntrypoint=s,this.isAnonymous=o}validateArgs(e,t,r){const n=t.ExtractSignatures();if(!n.find((t=>t.length===e.length)))throw new oV(r,n,e)}get schema(){return this.isAnonymous?this.parameterSchema.ExtractSchema()[this.name]:this.parameterSchema.ExtractSchema()}getSignature(){if(!this.isAnonymous){const e=this.parameterSchema.ExtractSignatures();return 1==e.length?e[0]:e}{const e=this.parameterSchema.ExtractSignatures().find((e=>e[0]===this.name));if(e)return e.shift(),e}}send(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.provider instanceof $V?this.provider.transfer(this.toTransferParams(e)).send():this.provider.transfer(this.toTransferParams(e))}toTransferParams(){let{fee:e,gasLimit:t,storageLimit:r,source:n,amount:i=0,mutez:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{to:this.address,amount:i,fee:e,mutez:s,source:n,gasLimit:t,storageLimit:r,parameter:{entrypoint:this.isMultipleEntrypoint?this.name:sQ,value:this.isAnonymous?this.parameterSchema.Encode(this.name,...this.args):this.parameterSchema.Encode(...this.args)}}}}class nQ{constructor(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Unit";this._rpc=e,this._readProvider=t,this._contractAddress=r,this._smartContractViewSchema=n,this._contractStorageType=i,this._args=s}getSignature(){return{parameter:this._smartContractViewSchema.extractArgsSchema(),result:this._smartContractViewSchema.extractResultSchema()}}executeView(e){return DK(this,void 0,void 0,(function*(){this.verifyContextExecution(e);const t=yield this._readProvider.getChainId(),r=this.transformArgsToMichelson(),n={contract:this._contractAddress,view:this._smartContractViewSchema.viewName,input:r,chain_id:t,source:e.viewCaller};return e.source&&(n.payer=e.source),this.executeViewAndDecodeResult(n)}))}verifyContextExecution(e){if(e.source&&zj(e.source)!==Nj.VALID)throw new hV(`The source account who initialized the view execution is invalid: ${e.source}.`);if(!e.viewCaller||zj(e.viewCaller)!==Nj.VALID)throw new hV(`The contract which is the caller of view is invalid: ${e.viewCaller}.`)}transformArgsToMichelson(){try{return this._smartContractViewSchema.encodeViewArgs(this._args)}catch(gZ){throw new jD(this._smartContractViewSchema.viewName,this.getSignature(),this._args,gZ)}}adaptViewCodeToContext(e,t,r){const n={BALANCE:[{prim:"PUSH",args:[{prim:"mutez"},{int:r}]}],SENDER:[{prim:"PUSH",args:[{prim:"address"},{string:t}]}],SELF_ADDRESS:[{prim:"PUSH",args:[{prim:"address"},{string:this._contractAddress}]}],AMOUNT:[{prim:"PUSH",args:[{prim:"mutez"},{int:"0"}]}]};return e.forEach(((i,s)=>{i.prim in n&&(e[s]=Object(n)[i.prim]),i.args&&0!==i.args.length?this.adaptViewCodeToContext(i.args,t,r):Array.isArray(i)&&this.adaptViewCodeToContext(i,t,r)})),e}executeViewAndDecodeResult(e){return DK(this,void 0,void 0,(function*(){let t;try{t=(yield this._rpc.runScriptView(e)).data}catch(gZ){const t=(e=>{if(dV(e.body)){const t=JSON.parse(e.body);if(Array.isArray(t)&&"with"in t[t.length-1])return t[t.length-1].with}})(gZ);throw t?new uV(`The simulation of the on-chain view named ${this._smartContractViewSchema.viewName} failed with: ${JSON.stringify(t)}`,this._smartContractViewSchema.viewName,t,gZ):gZ}return this._smartContractViewSchema.decodeViewResult(t)}))}}class iQ{constructor(e,t){this.provider=e,this.contractAddress=t}createContractMethodFlatParams(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new rQ(this.provider,this.contractAddress,e,t,r,n,i)}createContractMethodObjectParam(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new tQ(this.provider,this.contractAddress,e,t,r,n,i)}createContractViewObjectParam(e,t,r,n,i){return new nQ(e,t,this.contractAddress,r,n,i)}}const sQ="default";class oQ{constructor(e,t,r,n,i,s,o){this.currentContract=e,this.name=t,this.callbackParametersSchema=r,this.parameterSchema=n,this.args=i,this.rpc=s,this.readProvider=o}read(e){return DK(this,void 0,void 0,(function*(){const t=Gj(null!==e&&void 0!==e?e:"");if(qj(null!==e&&void 0!==e?e:"")==Nj.VALID)throw new WD("Since version 12, the lambda view no longer depends on a lambda contract. The read method no longer accepts a contract address as a parameter.");if(e&&t!==Nj.VALID)throw new HD(e,Qj(t));const r=this.parameterSchema.Encode(...this.args),n=yield this.rpc.runView({contract:this.currentContract.address,entrypoint:this.name,input:r,chain_id:e||(yield this.readProvider.getChainId())});return this.callbackParametersSchema.Execute(n.data)}))}}class aQ{constructor(e,t,r,n,i,s,o){this.address=e,this.script=t,this.storageProvider=n,this.entrypoints=i,this.rpc=s,this.readProvider=o,this.methods={},this.methodsObject={},this.views={},this.contractViews={},this.contractMethodFactory=new iQ(r,e),this.schema=RG.fromRPCResponse({script:this.script}),this.parameterSchema=CG.fromRPCResponse({script:this.script}),this.viewSchema=NG.fromRPCResponse({script:this.script}),0!==this.viewSchema.length&&this._initializeOnChainViews(this,s,this.readProvider,this.viewSchema),this.eventSchema=LG.fromRPCResponse({script:this.script}),this._initializeMethods(this,this.entrypoints.entrypoints,this.rpc,this.readProvider)}_initializeMethods(e,t,r,n){const i=this.parameterSchema,s=Object.keys(t);if(i.isMultipleEntryPoint){s.forEach((i=>{const s=new CG(t[i]);if(this.methods[i]=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.contractMethodFactory.createContractMethodFlatParams(s,i,r)},this.methodsObject[i]=function(t){return e.contractMethodFactory.createContractMethodObjectParam(s,i,t)},(e=>{let t=!1;if("prim"in e&&"pair"===e.prim&&e.args){const r=e.args[e.args.length-1];"prim"in r&&"contract"===r.prim&&(t=!0)}return t})(t[i])){const s=function(){const s=t[i].args[0],o=new CG(s),a=t[i].args[1].args[0],c=new CG(a);for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return((e,t,r)=>{const n=t.ExtractSignatures();if(!n.find((t=>t.length===e.length)))throw new oV(r,n,e)})(u,o,i),new oQ(e,i,c,o,u,r,n)};this.views[i]=s}}));Object.keys(i.ExtractSchema()).filter((e=>-1===Object.keys(t).indexOf(e))).forEach((t=>{this.methods[t]=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.contractMethodFactory.createContractMethodFlatParams(i,t,n,!1,!0)},this.methodsObject[t]=function(r){return e.contractMethodFactory.createContractMethodObjectParam(i,t,r,!1,!0)}}))}else{const t=this.parameterSchema;this.methods[sQ]=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.contractMethodFactory.createContractMethodFlatParams(t,sQ,n,!1)},this.methodsObject[sQ]=function(r){return e.contractMethodFactory.createContractMethodObjectParam(t,sQ,r,!1)}}}_initializeOnChainViews(e,t,r,n){const i=this.schema.val;n.forEach((n=>{this.contractViews[n.viewName]=function(s){return e.contractMethodFactory.createContractViewObjectParam(t,r,n,i,s)}}))}storage(){return this.storageProvider.getStorage(this.address,this.schema)}bigMap(e){return this.storageProvider.getBigMapKey(this.address,e,this.schema)}}class cQ{constructor(e,t){this.id=e,this.provider=t}getSaplingDiff(e){return DK(this,void 0,void 0,(function*(){return this.provider.getSaplingDiffByID(this.id.toString(),e)}))}getId(){return this.id.toString()}}class lQ{constructor(e,t,r){this.id=e,this.schema=t,this.provider=r}get(e,t){return DK(this,void 0,void 0,(function*(){try{return yield this.provider.getBigMapKeyByID(this.id.toString(),e,this.schema,t)}catch(bZ){if(bZ instanceof JD&&bZ.status===KD.NOT_FOUND)return;throw bZ}}))}getMultipleValues(e,t){return DK(this,arguments,void 0,(function(e,t){var r=this;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return function*(){return r.provider.getBigMapKeysByID(r.id.toString(),e,r.schema,t,n)}()}))}toJSON(){return this.id.toString()}toString(){return this.id.toString()}}const uQ=e=>({big_map:(t,r)=>{if(t&&"int"in t&&void 0!==t.int){const n=new RG(r);return new lQ(new _j(t.int),n,e)}return{}},sapling_state:t=>t&&"int"in t&&void 0!==t.int?new cQ(new _j(t.int),e):{}});var dQ;const hQ=(e,t)=>{var r,n,i;return{fee:null!==(r=e.fee)&&void 0!==r?r:t.fee,gasLimit:null!==(n=e.gasLimit)&&void 0!==n?n:t.gasLimit,storageLimit:null!==(i=e.storageLimit)&&void 0!==i?i:t.storageLimit}};class fQ extends qV{constructor(e){super(e),this.context=e,dQ.set(this,void 0),UK(this,dQ,{},"f")}getBlockHash(e){return DK(this,void 0,void 0,(function*(){return this.context.readProvider.getBlockHash(null!==e&&void 0!==e?e:"head~2")}))}getProtocolHash(){return DK(this,void 0,void 0,(function*(){return this.context.readProvider.getNextProtocol("head")}))}getHeadCounter(e){return DK(this,void 0,void 0,(function*(){var t;return null!==(t=this.context.readProvider.getCounter(e,"head"))&&void 0!==t?t:"0"}))}adjustGasForBatchOperation(e,t,r){return _j.min(t,e.div(r+1))}getOperationLimits(e,t){return DK(this,void 0,void 0,(function*(){const{hard_gas_limit_per_operation:r,hard_gas_limit_per_block:n,hard_storage_limit_per_operation:i}=e;return{fee:0,gasLimit:t?Math.floor(this.adjustGasForBatchOperation(n,r,t).toNumber()):r.toNumber(),storageLimit:i.toNumber()}}))}getFee(e,t,r){(!jK(this,dQ,"f")[t]||jK(this,dQ,"f")[t]<r)&&(jK(this,dQ,"f")[t]=r);return{counter:`${++jK(this,dQ,"f")[t]}`,fee:"undefined"===typeof e.fee?"0":`${e.fee}`,gas_limit:"undefined"===typeof e.gas_limit?"0":`${e.gas_limit}`,storage_limit:"undefined"===typeof e.storage_limit?"0":`${e.storage_limit}`}}getSource(e,t,r){return{source:"undefined"===typeof e.source?r||t:e.source}}addRevealOperationIfNeeded(e,t){return DK(this,void 0,void 0,(function*(){if(OV(e)){const r=[e],{publicKey:n,pkh:i}=yield this.getKeys();if(yield this.isAccountRevealRequired(t)){if(!n)throw new $D(i);return r.unshift(yield vV({fee:iV(i),storageLimit:0,gasLimit:rV(i)},t,n)),r}}return e}))}getKeys(){return DK(this,void 0,void 0,(function*(){const e=this.context.isAnySignerConfigured();return{pkh:e?yield this.signer.publicKeyHash():yield this.context.walletProvider.getPKH(),publicKey:e?yield this.signer.publicKey():void 0}}))}convertIntoArray(e){return Array.isArray(e)?[...e]:[e]}constructOpContents(e,t,r,n,i){return e.map((e=>{switch(e.kind){case TU.ACTIVATION:case TU.DRAIN_DELEGATE:return Object.assign({},e);case TU.ORIGINATION:return Object.assign(Object.assign(Object.assign(Object.assign({},e),{balance:"undefined"!==typeof e.balance?`${e.balance}`:"0"}),this.getSource(e,r,n)),this.getFee(e,r,t));case TU.TRANSACTION:{const i=Object.assign(Object.assign(Object.assign(Object.assign({},e),{amount:"undefined"!==typeof e.amount?`${e.amount}`:"0"}),this.getSource(e,r,n)),this.getFee(e,r,t));if(i.source.toLowerCase().startsWith("kt1"))throw new WD(`KT1 addresses are not supported as source since ${JK.PsBabyM1}`);return i}case TU.REVEAL:case TU.DELEGATION:case TU.REGISTER_GLOBAL_CONSTANT:case TU.UPDATE_CONSENSUS_KEY:case TU.SMART_ROLLUP_ADD_MESSAGES:case TU.SMART_ROLLUP_ORIGINATE:case TU.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return Object.assign(Object.assign(Object.assign({},e),this.getSource(e,r,n)),this.getFee(e,r,t));case TU.TRANSFER_TICKET:return Object.assign(Object.assign(Object.assign(Object.assign({},e),{ticket_amount:`${e.ticket_amount}`}),this.getSource(e,r,n)),this.getFee(e,r,t));case TU.INCREASE_PAID_STORAGE:return Object.assign(Object.assign(Object.assign(Object.assign({},e),{amount:`${e.amount}`}),this.getSource(e,r,n)),this.getFee(e,r,t));case TU.BALLOT:case TU.PROPOSALS:if(void 0===i)throw new HV("Failed to get the current voting period index");return Object.assign(Object.assign({},e),{period:null===i||void 0===i?void 0:i.voting_period.index});default:throw new qD(e.kind)}}))}activate(e){return DK(this,arguments,void 0,(function(e){var t=this;let{pkh:r,secret:n}=e;return function*(){const e=yield(e=>DK(void 0,[e],void 0,(function(e){let{pkh:t,secret:r}=e;return function*(){return{kind:TU.ACTIVATION,pkh:t,secret:r}}()})))({pkh:r,secret:n}),i=t.convertIntoArray(e),s=yield t.getBlockHash(),o=yield t.getProtocolHash();UK(t,dQ,{},"f");const a=parseInt(yield t.getHeadCounter(r),10);return{opOb:{branch:s,contents:t.constructOpContents(i,a,r),protocol:o},counter:a}}()}))}reveal(e){return DK(this,arguments,void 0,(function(e){var t=this;let{fee:r,gasLimit:n,storageLimit:i}=e;return function*(){const{pkh:e,publicKey:s}=yield t.getKeys();if(!s)throw new $D(e);const o=yield t.context.readProvider.getProtocolConstants("head"),a=yield t.getOperationLimits(o),c=hQ({fee:r,storageLimit:i,gasLimit:n},a),l=yield vV({fee:c.fee,gasLimit:c.gasLimit,storageLimit:c.storageLimit},e,s),u=t.convertIntoArray(l),d=yield t.getBlockHash(),h=yield t.getProtocolHash();UK(t,dQ,{},"f");const f=parseInt(yield t.getHeadCounter(e),10);return{opOb:{branch:d,contents:t.constructOpContents(u,f,e),protocol:h},counter:f}}()}))}originate(e,t){return DK(this,void 0,void 0,(function*(){var{fee:r,storageLimit:n,gasLimit:i}=e,s=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:o}=yield this.getKeys(),a=yield this.context.readProvider.getProtocolConstants("head"),c=yield this.getOperationLimits(a),l=yield gV(yield this.context.parser.prepareCodeOrigination(Object.assign(Object.assign({},s),hQ({fee:r,storageLimit:n,gasLimit:i},c)))),u=yield this.addRevealOperationIfNeeded(l,o),d=this.convertIntoArray(u),h=yield this.getBlockHash(),f=yield this.getProtocolHash();UK(this,dQ,{},"f");const p=parseInt(yield this.getHeadCounter(o),10);return{opOb:{branch:h,contents:this.constructOpContents(d,p,o,t),protocol:f},counter:p}}))}transaction(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield yV(Object.assign(Object.assign({},i),hQ({fee:t,storageLimit:r,gasLimit:n},a))),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}stake(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield yV(Object.assign(Object.assign(Object.assign(Object.assign({},i),{to:s}),hQ({fee:t,storageLimit:r,gasLimit:n},a)),{parameter:{entrypoint:"stake",value:{prim:"Unit"}}})),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}unstake(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield yV(Object.assign(Object.assign(Object.assign(Object.assign({},i),{to:s}),hQ({fee:t,storageLimit:r,gasLimit:n},a)),{parameter:{entrypoint:"unstake",value:{prim:"Unit"}}})),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}finalizeUnstake(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield yV(Object.assign(Object.assign(Object.assign(Object.assign({},i),{to:s,amount:0}),hQ({fee:t,storageLimit:r,gasLimit:n},a)),{parameter:{entrypoint:"finalize_unstake",value:{prim:"Unit"}}})),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}delegation(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield bV(Object.assign(Object.assign({},i),hQ({fee:t,storageLimit:r,gasLimit:n},a))),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}registerDelegate(e,t){return DK(this,arguments,void 0,(function(e,t){var r=this;let{fee:n,storageLimit:i,gasLimit:s}=e;return function*(){const{pkh:e}=yield r.getKeys(),o=yield r.context.readProvider.getProtocolConstants("head"),a=yield r.getOperationLimits(o),c=hQ({fee:n,storageLimit:i,gasLimit:s},a),l=yield((e,t)=>DK(void 0,[e,t],void 0,(function(e,t){let{fee:r,gasLimit:n,storageLimit:i}=e;return function*(){return{kind:TU.DELEGATION,fee:r,gas_limit:n,storage_limit:i,delegate:t}}()})))({fee:c.fee,storageLimit:c.storageLimit,gasLimit:c.gasLimit},e),u=yield r.addRevealOperationIfNeeded(l,e),d=r.convertIntoArray(u),h=yield r.getBlockHash(),f=yield r.getProtocolHash();UK(r,dQ,{},"f");const p=parseInt(yield r.getHeadCounter(e),10);return{opOb:{branch:h,contents:r.constructOpContents(d,p,e,t),protocol:f},counter:p}}()}))}registerGlobalConstant(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield wV(Object.assign(Object.assign({},i),hQ({fee:t,storageLimit:r,gasLimit:n},a))),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}updateConsensusKey(e,t){return DK(this,void 0,void 0,(function*(){var{fee:r,storageLimit:n,gasLimit:i}=e,s=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:o}=yield this.getKeys(),a=yield this.context.readProvider.getProtocolConstants("head"),c=yield this.getOperationLimits(a),l=yield(e=>DK(void 0,[e],void 0,(function(e){let{source:t,fee:r,gasLimit:n,storageLimit:i,pk:s}=e;return function*(){return{kind:TU.UPDATE_CONSENSUS_KEY,source:t,fee:r,gas_limit:n,storage_limit:i,pk:s}}()})))(Object.assign(Object.assign({},s),hQ({fee:r,storageLimit:n,gasLimit:i},c))),u=yield this.addRevealOperationIfNeeded(l,o),d=this.convertIntoArray(u),h=yield this.getBlockHash(),f=yield this.getProtocolHash();UK(this,dQ,{},"f");const p=parseInt(yield this.getHeadCounter(o),10);return{opOb:{branch:h,contents:this.constructOpContents(d,p,o,t),protocol:f},counter:p}}))}increasePaidStorage(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield _V(Object.assign(Object.assign({},i),hQ({fee:t,storageLimit:r,gasLimit:n},a))),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}ballot(e){return DK(this,void 0,void 0,(function*(){const{pkh:t}=yield this.getKeys(),r=yield(n=Object.assign({},e),DK(void 0,[n],void 0,(function(e){let{source:t,proposal:r,ballot:n}=e;return function*(){return{kind:TU.BALLOT,source:t,proposal:r,ballot:n}}()})));var n;const i=this.convertIntoArray(r),s=yield this.getBlockHash(),o=yield this.getProtocolHash();UK(this,dQ,{},"f");const a=parseInt(yield this.getHeadCounter(t),10);let c;try{c=yield this.rpc.getCurrentPeriod()}catch(bZ){throw new HV("Failed to get the current voting period index")}return{opOb:{branch:s,contents:this.constructOpContents(i,a,t,void 0,c),protocol:o},counter:a}}))}proposals(e){return DK(this,void 0,void 0,(function*(){const{pkh:t}=yield this.getKeys(),r=yield(n=Object.assign({},e),DK(void 0,[n],void 0,(function(e){let{source:t,proposals:r}=e;return function*(){return{kind:TU.PROPOSALS,source:t,proposals:r}}()})));var n;const i=this.convertIntoArray(r),s=yield this.getBlockHash(),o=yield this.getProtocolHash();UK(this,dQ,{},"f");const a=parseInt(yield this.getHeadCounter(t),10);let c;try{c=yield this.rpc.getCurrentPeriod()}catch(bZ){throw new HV("Failed to get the current voting period index")}return{opOb:{branch:s,contents:this.constructOpContents(i,a,t,void 0,c),protocol:o},counter:a}}))}drainDelegate(e,t){return DK(this,void 0,void 0,(function*(){const{pkh:r}=yield this.getKeys(),n=yield(i=Object.assign({},e),DK(void 0,[i],void 0,(function(e){let{consensus_key:t,delegate:r,destination:n}=e;return function*(){return{kind:TU.DRAIN_DELEGATE,consensus_key:t,delegate:r,destination:n}}()})));var i;const s=this.convertIntoArray(n),o=yield this.getBlockHash(),a=yield this.getProtocolHash();UK(this,dQ,{},"f");const c=parseInt(yield this.getHeadCounter(r),10);return{opOb:{branch:o,contents:this.constructOpContents(s,c,r,t),protocol:a},counter:c}}))}transferTicket(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield AV(Object.assign(Object.assign({},i),hQ({fee:t,storageLimit:r,gasLimit:n},a))),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}smartRollupAddMessages(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield EV(Object.assign(Object.assign({},i),hQ({fee:t,storageLimit:r,gasLimit:n},a))),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}smartRollupOriginate(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield xV(Object.assign(Object.assign({},hQ({fee:t,storageLimit:r,gasLimit:n},a)),i)),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}smartRollupExecuteOutboxMessage(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const{pkh:s}=yield this.getKeys(),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.getOperationLimits(o),c=yield kV(Object.assign(Object.assign({},i),hQ({fee:t,storageLimit:r,gasLimit:n},a))),l=yield this.addRevealOperationIfNeeded(c,s),u=this.convertIntoArray(l),d=yield this.getBlockHash(),h=yield this.getProtocolHash();UK(this,dQ,{},"f");const f=parseInt(yield this.getHeadCounter(s),10);return{opOb:{branch:d,contents:this.constructOpContents(u,f,s,i.source),protocol:h},counter:f}}))}batch(e,t){return DK(this,void 0,void 0,(function*(){const{pkh:r,publicKey:n}=yield this.getKeys(),i=yield this.context.readProvider.getProtocolConstants("head"),s=yield this.getOperationLimits(i,e.length),o=yield this.isRevealOpNeeded(e,r),a=[];if(t)for(const d of e)if(IV(d)){const e=t.shift(),r=hQ(d,{fee:e.suggestedFeeMutez,storageLimit:e.storageLimit,gasLimit:e.gasLimit});a.push(yield this.getRPCOp(Object.assign(Object.assign({},d),r)))}else a.push(Object.assign({},d));else for(const t of e)if(IV(t)){const e=hQ(t,s);a.push(yield this.getRPCOp(Object.assign(Object.assign({},t),e)))}else a.push(Object.assign({},t));if(o){if(!n)throw new $D(r);a.unshift(yield vV({fee:iV(r),storageLimit:0,gasLimit:rV(r)},r,n))}const c=yield this.getBlockHash(),l=yield this.getProtocolHash();UK(this,dQ,{},"f");const u=parseInt(yield this.getHeadCounter(r),10);return{opOb:{branch:c,contents:this.constructOpContents(a,u,r),protocol:l},counter:u}}))}contractCall(e){return DK(this,void 0,void 0,(function*(){var t,r,n;const i=yield this.getBlockHash(),s=yield this.getProtocolHash(),{pkh:o}=yield this.getKeys();UK(this,dQ,{},"f");const a=parseInt(yield this.getHeadCounter(o),10),c=e.toTransferParams(),l=yield this.context.readProvider.getProtocolConstants("head"),u=yield this.getOperationLimits(l),d=hQ({fee:c.fee,storageLimit:c.storageLimit,gasLimit:c.gasLimit},u),h={kind:TU.TRANSACTION,fee:null!==(t=c.fee)&&void 0!==t?t:d.fee,gas_limit:null!==(r=c.gasLimit)&&void 0!==r?r:d.gasLimit,storage_limit:null!==(n=c.storageLimit)&&void 0!==n?n:d.storageLimit,amount:String(c.amount),destination:c.to,parameters:c.parameter},f=yield this.addRevealOperationIfNeeded(h,o),p=this.convertIntoArray(f);return{opOb:{branch:i,contents:this.constructOpContents(p,a,o),protocol:s},counter:a}}))}toPreapply(e){return DK(this,void 0,void 0,(function*(){const{opOb:{contents:t,branch:r,protocol:n}}=e,i=this.toForge(e),s=yield this.context.forger.forge(i);return[{contents:t,branch:r,protocol:n,signature:(yield this.context.signer.sign(s,new Uint8Array([3]))).prefixSig}]}))}toForge(e){let{opOb:{contents:t,branch:r}}=e;return{branch:r,contents:t}}}dQ=new WeakMap;const pQ=[TU.ACTIVATION,TU.ORIGINATION,TU.TRANSACTION,TU.DELEGATION];class mQ extends qV{constructor(e,t){super(e),this.estimator=t,this.operations=[],this.prepare=new fQ(this.context)}withTransfer(e){const t=zj(e.to);if(e.amount<0)throw new MD(e.amount.toString());if(t!==Nj.VALID)throw new RD(e.to,Qj(t));return this.operations.push(Object.assign({kind:TU.TRANSACTION},e)),this}withTransferTicket(e){const t=zj(e.destination);if(t!==Nj.VALID)throw new RD(e.destination,Qj(t));return this.operations.push(Object.assign({kind:TU.TRANSFER_TICKET},e)),this}withContractCall(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.withTransfer(e.toTransferParams(t))}withDelegation(e){var t;const r=zj(e.source);if(e.source&&r!==Nj.VALID)throw new RD(e.source,Qj(r));const n=zj(null!==(t=e.delegate)&&void 0!==t?t:"");if(e.delegate&&n!==Nj.VALID)throw new RD(e.delegate,Qj(n));return this.operations.push(Object.assign({kind:TU.DELEGATION},e)),this}withActivation(e){let{pkh:t,secret:r}=e;const n=Wj(t);if(n!==Nj.VALID)throw new zD(t,Qj(n));return this.operations.push({kind:TU.ACTIVATION,pkh:t,secret:r}),this}withOrigination(e){return this.operations.push(Object.assign({kind:TU.ORIGINATION},e)),this}withRegisterGlobalConstant(e){return this.operations.push(Object.assign({kind:TU.REGISTER_GLOBAL_CONSTANT},e)),this}withIncreasePaidStorage(e){return this.operations.push(Object.assign({kind:TU.INCREASE_PAID_STORAGE},e)),this}withSmartRollupAddMessages(e){return this.operations.push(Object.assign({kind:TU.SMART_ROLLUP_ADD_MESSAGES},e)),this}withSmartRollupOriginate(e){return this.operations.push(Object.assign({kind:TU.SMART_ROLLUP_ORIGINATE},e)),this}withSmartRollupExecuteOutboxMessage(e){return this.operations.push(Object.assign({kind:TU.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE},e)),this}getRPCOp(e){return DK(this,void 0,void 0,(function*(){switch(e.kind){case TU.TRANSACTION:return yV(Object.assign({},e));case TU.ORIGINATION:return gV(yield this.context.parser.prepareCodeOrigination(Object.assign({},e)));case TU.DELEGATION:return bV(Object.assign({},e));case TU.REGISTER_GLOBAL_CONSTANT:return wV(Object.assign({},e));case TU.INCREASE_PAID_STORAGE:return _V(Object.assign({},e));case TU.TRANSFER_TICKET:return AV(Object.assign({},e));case TU.SMART_ROLLUP_ADD_MESSAGES:return EV(Object.assign({},e));case TU.SMART_ROLLUP_ORIGINATE:return xV(Object.assign({},e));case TU.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:return kV(Object.assign({},e));default:throw new qD(JSON.stringify(e.kind))}}))}with(e){for(const t of e)switch(t.kind){case TU.TRANSACTION:this.withTransfer(t);break;case TU.ORIGINATION:this.withOrigination(t);break;case TU.DELEGATION:this.withDelegation(t);break;case TU.ACTIVATION:this.withActivation(t);break;case TU.REGISTER_GLOBAL_CONSTANT:this.withRegisterGlobalConstant(t);break;case TU.INCREASE_PAID_STORAGE:this.withIncreasePaidStorage(t);break;case TU.TRANSFER_TICKET:this.withTransferTicket(t);break;case TU.SMART_ROLLUP_ADD_MESSAGES:this.withSmartRollupAddMessages(t);break;case TU.SMART_ROLLUP_ORIGINATE:this.withSmartRollupOriginate(t);break;case TU.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE:this.withSmartRollupExecuteOutboxMessage(t);break;default:throw new qD(JSON.stringify(t.kind))}return this}send(e){return DK(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),r=e&&e.source||t,n=yield this.estimator.batch(this.operations);n.length!==this.operations.length&&n.shift();const i=yield this.prepare.batch(this.operations,n),s=yield this.forge(i),{hash:o,context:a,forgedBytes:c,opResponse:l}=yield this.signAndInject(s);return new GV(o,i.opOb.contents,r,c,l,a)}))}}class gQ{constructor(e,t){this.context=e,this.estimator=t}batch(e){const t=new mQ(this.context,this.estimator);return Array.isArray(e)&&t.with(e),t}}class yQ extends QV{constructor(e,t,r){super(e,t,r),this.opHash=e,this.context=t,this.getOriginatedContractAddresses=()=>DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e){const t=e.filter((e=>"origination"===e.kind));let r=[];for(const e of t)e.metadata.operation_result.originated_contracts&&(r=[...r,...e.metadata.operation_result.originated_contracts]);return r}throw new VV("Unable to fetch operation results")}))}revealOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===TU.REVEAL));throw new VV("Unable to fetch operation results")}))}status(){return DK(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.operationResults();if(e)return e.filter((e=>-1!==pQ.indexOf(e.kind))).map((e=>{if(CV(e)){return e.metadata.operation_result.status}return"unknown"}))[0]||"unknown";throw new VV("Unable to fetch operation results")}))}}class bQ extends QV{constructor(e,t,r){super(e,t,r),this.opHash=e,this.context=t}revealOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===TU.REVEAL));throw new VV("Unable to fetch operation result")}))}increasePaidStorageOperation(){return DK(this,void 0,void 0,(function*(){const e=yield this.operationResults();if(e)return e.find((e=>e.kind===TU.INCREASE_PAID_STORAGE));throw new VV("Unable to fetch operation result")}))}status(){return DK(this,void 0,void 0,(function*(){if(!this._included)return"pending";const e=yield this.increasePaidStorageOperation();return e?e.metadata.operation_result.status:"unknown"}))}}const vQ=(e,t,r)=>{return e.pipe((n=1e3*t.config.confirmationPollingTimeoutSecond,function(e){return new AF(null).pipe(AH({each:n,with:()=>_F((()=>new FV("Confirmation polling timed out")))}),aH((()=>e)))}),SH({connector:()=>new wF(1),resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1}));var n};class wQ{constructor(e){this.context=e,this.sharedHeadObs=LF((()=>GK(this.context.stream.subscribeBlock("head"))))}createNewHeadObservable(){return DK(this,void 0,void 0,(function*(){return vQ(this.sharedHeadObs,this.context)}))}createPastBlockWalker(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return QF(this.context.readProvider.getBlock(e)).pipe(vH((e=>1===t?ZF(e):BF(e.header.level,t-1).pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=UF(e);return zF((function(t,n){(r?lH(e,t,r):lH(e,t)).subscribe(n)}))}(e),EH((e=>DK(this,void 0,void 0,(function*(){return this.context.readProvider.getBlock("number"===typeof e?e:e.header.level)}))))))))}createHeadObservableFromConfig(e){return DK(this,arguments,void 0,(function(e){var t=this;let{blockIdentifier:r}=e;return function*(){const e=[];return r&&e.push(t.createPastBlockWalker(r)),e.push(yield t.createNewHeadObservable()),lH(...e)}()}))}createOperation(e){return DK(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){return new QV(e,t.context.clone(),yield t.createHeadObservableFromConfig(r))}()}))}createBatchOperation(e){return DK(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){return new yQ(e,t.context.clone(),yield t.createHeadObservableFromConfig(r))}()}))}createTransactionOperation(e){return DK(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){return new ZV(e,t.context.clone(),yield t.createHeadObservableFromConfig(r))}()}))}createTransferTicketOperation(e){return DK(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){return new XV(e,t.context.clone(),yield t.createHeadObservableFromConfig(r))}()}))}createDelegationOperation(e){return DK(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){return new JV(e,t.context.clone(),yield t.createHeadObservableFromConfig(r))}()}))}createOriginationOperation(e){return DK(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){return new YV(e,t.context.clone(),yield t.createHeadObservableFromConfig(r))}()}))}createIncreasePaidStorageOperation(e){return DK(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){return new bQ(e,t.context.clone(),yield t.createHeadObservableFromConfig(r))}()}))}}class AQ extends qV{constructor(e){super(e),this.prepare=new fQ(this.context)}getBalance(e){return DK(this,void 0,void 0,(function*(){const t=zj(e);if(t!==Nj.VALID)throw new RD(e,Qj(t));return this.context.readProvider.getBalance(e,"head")}))}getDelegate(e){return DK(this,void 0,void 0,(function*(){const t=zj(e);if(t!==Nj.VALID)throw new RD(e,Qj(t));return this.context.readProvider.getDelegate(e,"head")}))}activate(e,t){return DK(this,void 0,void 0,(function*(){const r=Wj(e);if(r!==Nj.VALID)throw new zD(e,Qj(r));const n=yield this.prepare.activate({pkh:e,secret:t}),i=yield this.forge(n),s=`${i.opbytes}00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`;return new zV(yield this.rpc.injectOperation(s),Object.assign(Object.assign({},i),{opbytes:s}),[],this.context.clone())}))}}const _Q=100;class EQ{constructor(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_Q;this._milligasLimit=e,this._storageLimit=t,this.opSize=r,this.minimalFeePerStorageByteMutez=n,this.baseFeeMutez=i}get burnFeeMutez(){return this.roundUp(Number(this.storageLimit)*Number(this.minimalFeePerStorageByteMutez))}get storageLimit(){return Math.max(Number(this._storageLimit),0)}get gasLimit(){return this.roundUp(Number(this._milligasLimit)/1e3)}get operationFeeMutez(){return.1*this.gasLimit+1*Number(this.opSize)}roundUp(e){return Math.ceil(Number(e))}get minimalFeeMutez(){return this.roundUp(this.operationFeeMutez+_Q)}get suggestedFeeMutez(){return this.roundUp(this.operationFeeMutez+120)}get usingBaseFeeMutez(){return Math.max(Number(this.baseFeeMutez),_Q)+this.roundUp(this.operationFeeMutez)}get totalCost(){return this.minimalFeeMutez+this.burnFeeMutez}get consumedMilligas(){return Number(this._milligasLimit)}static createEstimateInstanceFromProperties(e){let t,r=0,n=0,i=0,s=0;return e.forEach((e=>{r+=e.milligasLimit,n+=e.storageLimit,i+=e.opSize,s=Math.max(e.minimalFeePerStorageByteMutez,s),e.baseFeeMutez&&(t=t?t+e.baseFeeMutez:e.baseFeeMutez)})),new EQ(r,n,i,s,t)}static createArrayEstimateInstancesFromProperties(e){return e.map((e=>new EQ(e.milligasLimit,e.storageLimit,e.opSize,e.minimalFeePerStorageByteMutez,e.baseFeeMutez)))}}class xQ extends kD{constructor(){super(),this.name="RevealEstimateError",this.message="Public key is unknown, unable to estimate the reveal operation in Wallet API."}}class kQ extends qV{constructor(){super(...arguments),this.OP_SIZE_REVEAL=324,this.MILLIGAS_BUFFER=1e5,this.STORAGE_BUFFER=20,this.prepare=new fQ(this.context)}getKeys(){return DK(this,void 0,void 0,(function*(){const e=this.context.isAnySignerConfigured();return{publicKeyHash:e?yield this.signer.publicKeyHash():yield this.context.walletProvider.getPKH(),publicKey:e?yield this.signer.publicKey():void 0}}))}getEstimationPropertiesFromOperationContent(e,t,r,n){const i=MV({contents:[e]});let s=0,o=0;return i.forEach((e=>{s+=Number(e.consumed_milligas)||0,o+="allocated_destination_contract"in e?n:0,o+="originated_contracts"in e&&Array.isArray(e.originated_contracts)?e.originated_contracts.length*n:0,o+="storage_size"in e&&"global_address"in e&&Number(e.storage_size)||0,o+="paid_storage_size_diff"in e&&Number(e.paid_storage_size_diff)||0,o+="genesis_commitment_hash"in e&&Number(e.size)||0})),IV(e)?{milligasLimit:(a=e,a.kind===TU.TRANSACTION&&a.parameters||-1!==["origination","register_global_constant","transfer_ticket","update_consensus_key","smart_rollup_add_messages","smart_rollup_originate"].indexOf(a.kind)?s+Number(this.MILLIGAS_BUFFER):s),storageLimit:o>0?o+this.STORAGE_BUFFER:0,opSize:t,minimalFeePerStorageByteMutez:r.toNumber()}:{milligasLimit:0,storageLimit:0,opSize:t,minimalFeePerStorageByteMutez:r.toNumber(),baseFeeMutez:0};var a}calculateEstimates(e,t){return DK(this,void 0,void 0,(function*(){const{opbytes:r,opOb:{branch:n,contents:i}}=yield this.forge(e),s={operation:{branch:n,contents:i,signature:"edsigtkpiSSschcaCt9pUVrpNPf7TTcgvgDEDD6NCEHMy8NNQJCGnMfLZzYoQj74yLjo9wx6MPVV29CvVzgi7qEcEUok3k7AuMg"},chain_id:yield this.context.readProvider.getChainId()},{opResponse:o}=yield this.simulate(s),{cost_per_byte:a,origination_size:c}=t,l=[...BV(o,"backtracked"),...BV(o)];if(l.length)throw new NV(l,"Error occurred during estimation",o.contents);let u=1;return Array.isArray(e.opOb.contents)&&e.opOb.contents.length>1&&(u="reveal"===o.contents[0].kind?e.opOb.contents.length-1:e.opOb.contents.length),o.contents.map((e=>this.getEstimationPropertiesFromOperationContent(e,"reveal"===e.kind?this.OP_SIZE_REVEAL/2:(r.length+130)/2/u,a,null!==c&&void 0!==c?c:257)))}))}originate(e){return DK(this,void 0,void 0,(function*(){const t=yield this.prepare.originate(e),r=yield this.context.readProvider.getProtocolConstants("head"),n=yield this.calculateEstimates(t,r);return"reveal"===t.opOb.contents[0].kind&&(n.shift(),n[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(n)}))}transfer(e){return DK(this,void 0,void 0,(function*(){var t,{fee:r,storageLimit:n,gasLimit:i}=e,s=BK(e,["fee","storageLimit","gasLimit"]);const o=zj(s.to);if(o!==Nj.VALID)throw new RD(s.to,Qj(o));const a=zj(null!==(t=s.source)&&void 0!==t?t:"");if(s.source&&a!==Nj.VALID)throw new RD(s.source,Qj(a));if(s.amount<0)throw new MD(s.amount.toString());const c=yield this.prepare.transaction(Object.assign({fee:r,storageLimit:n,gasLimit:i},s)),l=yield this.context.readProvider.getProtocolConstants("head"),u=yield this.calculateEstimates(c,l);return"reveal"===c.opOb.contents[0].kind&&(u.shift(),u[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(u)}))}stake(e){return DK(this,void 0,void 0,(function*(){var t,{fee:r,storageLimit:n,gasLimit:i}=e,s=BK(e,["fee","storageLimit","gasLimit"]);const o=zj(null!==(t=s.source)&&void 0!==t?t:"");if(s.source&&o!==Nj.VALID)throw new RD(s.source,Qj(o));if(s.to||(s.to=s.source),s.to&&s.to!==s.source)throw new CD(s.to);if(s.amount<0)throw new MD(s.amount.toString());const a=yield this.prepare.stake(Object.assign({fee:r,storageLimit:n,gasLimit:i},s)),c=yield this.context.readProvider.getProtocolConstants("head"),l=yield this.calculateEstimates(a,c);return"reveal"===a.opOb.contents[0].kind&&(l.shift(),l[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(l)}))}unstake(e){return DK(this,void 0,void 0,(function*(){var t,{fee:r,storageLimit:n,gasLimit:i}=e,s=BK(e,["fee","storageLimit","gasLimit"]);const o=zj(null!==(t=s.source)&&void 0!==t?t:"");if(s.source&&o!==Nj.VALID)throw new RD(s.source,Qj(o));if(s.to||(s.to=s.source),s.to&&s.to!==s.source)throw new CD(s.to);if(s.amount<0)throw new MD(s.amount.toString());const a=yield this.prepare.unstake(Object.assign({fee:r,storageLimit:n,gasLimit:i},s)),c=yield this.context.readProvider.getProtocolConstants("head"),l=yield this.calculateEstimates(a,c);return"reveal"===a.opOb.contents[0].kind&&(l.shift(),l[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(l)}))}finalizeUnstake(e){return DK(this,void 0,void 0,(function*(){var t,{fee:r,storageLimit:n,gasLimit:i}=e,s=BK(e,["fee","storageLimit","gasLimit"]);const o=zj(null!==(t=s.source)&&void 0!==t?t:"");if(s.source&&o!==Nj.VALID)throw new RD(s.source,Qj(o));if(s.to||(s.to=s.source),s.to&&s.to!==s.source)throw new CD(s.to);if(s.amount||(s.amount=0),void 0!==s.amount&&0!==s.amount)throw new Error("Amount must be 0 for finalize_unstake operation");const a=yield this.prepare.finalizeUnstake(Object.assign({fee:r,storageLimit:n,gasLimit:i},s)),c=yield this.context.readProvider.getProtocolConstants("head"),l=yield this.calculateEstimates(a,c);return"reveal"===a.opOb.contents[0].kind&&(l.shift(),l[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(l)}))}transferTicket(e){return DK(this,void 0,void 0,(function*(){var t,{fee:r,storageLimit:n,gasLimit:i}=e,s=BK(e,["fee","storageLimit","gasLimit"]);const o=zj(s.destination);if(o!==Nj.VALID)throw new RD(s.destination,Qj(o));const a=zj(null!==(t=s.source)&&void 0!==t?t:"");if(s.source&&a!==Nj.VALID)throw new RD(s.source,Qj(a));const c=yield this.context.readProvider.getProtocolConstants("head"),l=yield this.prepare.transferTicket(Object.assign({fee:r,storageLimit:n,gasLimit:i},s)),u=yield this.calculateEstimates(l,c);return"reveal"===l.opOb.contents[0].kind&&(u.shift(),u[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(u)}))}setDelegate(e){return DK(this,void 0,void 0,(function*(){var t,{fee:r,gasLimit:n,storageLimit:i}=e,s=BK(e,["fee","gasLimit","storageLimit"]);const o=zj(s.source);if(s.source&&o!==Nj.VALID)throw new RD(s.source,Qj(o));const a=zj(null!==(t=s.delegate)&&void 0!==t?t:"");if(s.delegate&&a!==Nj.VALID)throw new RD(s.delegate,Qj(a));const c=yield this.prepare.delegation(Object.assign({fee:r,storageLimit:i,gasLimit:n},s)),l=yield this.context.readProvider.getProtocolConstants("head"),u=yield this.calculateEstimates(c,l);return"reveal"===c.opOb.contents[0].kind&&(u.shift(),u[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(u)}))}batch(e){return DK(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),r=yield this.prepare.batch(e),n=yield this.calculateEstimates(r,t);return EQ.createArrayEstimateInstancesFromProperties(n)}))}registerDelegate(e,t){return DK(this,void 0,void 0,(function*(){var{fee:r,storageLimit:n,gasLimit:i}=e,s=BK(e,["fee","storageLimit","gasLimit"]);const o=(yield this.getKeys()).publicKeyHash,a=yield this.context.readProvider.getProtocolConstants("head"),c=t||o,l=yield this.prepare.registerDelegate(Object.assign({fee:r,storageLimit:n,gasLimit:i},s),c),u=yield this.calculateEstimates(l,a);return"reveal"===l.opOb.contents[0].kind&&(u.shift(),u[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(u)}))}reveal(e){return DK(this,void 0,void 0,(function*(){const{publicKeyHash:t,publicKey:r}=yield this.getKeys();if(!r)throw new xQ;if(yield this.isAccountRevealRequired(t)){const t=yield this.context.readProvider.getProtocolConstants("head"),r=e?yield this.prepare.reveal(e):yield this.prepare.reveal({}),n=yield this.calculateEstimates(r,t);return EQ.createEstimateInstanceFromProperties(n)}}))}registerGlobalConstant(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);const s=yield this.prepare.registerGlobalConstant(Object.assign({fee:t,storageLimit:r,gasLimit:n},i)),o=yield this.context.readProvider.getProtocolConstants("head"),a=yield this.calculateEstimates(s,o);return"reveal"===s.opOb.contents[0].kind&&(a.shift(),a[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(a)}))}increasePaidStorage(e){return DK(this,void 0,void 0,(function*(){var{fee:t,storageLimit:r,gasLimit:n}=e,i=BK(e,["fee","storageLimit","gasLimit"]);if(i.amount<0)throw new MD(i.amount.toString());const s=yield this.context.readProvider.getProtocolConstants("head"),o=yield this.prepare.increasePaidStorage(Object.assign({fee:t,storageLimit:r,gasLimit:n},i)),a=yield this.calculateEstimates(o,s);return"reveal"===o.opOb.contents[0].kind&&(a.shift(),a[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(a)}))}updateConsensusKey(e){return DK(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),r=yield this.prepare.updateConsensusKey(e),n=yield this.calculateEstimates(r,t);return"reveal"===r.opOb.contents[0].kind&&(n.shift(),n[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(n)}))}smartRollupAddMessages(e){return DK(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),r=yield this.prepare.smartRollupAddMessages(e),n=yield this.calculateEstimates(r,t);return"reveal"===r.opOb.contents[0].kind&&(n.shift(),n[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(n)}))}smartRollupOriginate(e){return DK(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),r=yield this.prepare.smartRollupOriginate(e),n=yield this.calculateEstimates(r,t);return"reveal"===r.opOb.contents[0].kind&&(n.shift(),n[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(n)}))}smartRollupExecuteOutboxMessage(e){return DK(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),r=yield this.prepare.smartRollupExecuteOutboxMessage(e),n=yield this.calculateEstimates(r,t);return"reveal"===r.opOb.contents[0].kind&&n.shift(),EQ.createEstimateInstanceFromProperties(n)}))}contractCall(e){return DK(this,void 0,void 0,(function*(){const t=yield this.context.readProvider.getProtocolConstants("head"),r=yield this.prepare.contractCall(e),n=yield this.calculateEstimates(r,t);return"reveal"===r.opOb.contents[0].kind&&(n.shift(),n[0].opSize-=this.OP_SIZE_REVEAL/2),EQ.createEstimateInstanceFromProperties(n)}))}}class SQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"delegation"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get delegate(){return this.params.delegate}get isRegisterOperation(){return this.delegate===this.source}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return Aj.config({DECIMAL_PLACES:0,ROUNDING_MODE:Aj.ROUND_UP}),this.consumedMilliGas?new Aj(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class PQ extends zV{constructor(e,t,r,n,i,s){super(e,r,n,i),this.params=t,this.contractProvider=s;const o=this.operationResults&&this.operationResults.originated_contracts;Array.isArray(o)&&(this.contractAddress=o[0])}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"origination"===e.kind)),t=e&&CV(e)&&e.metadata.operation_result;return t||void 0}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return Aj.config({DECIMAL_PLACES:0,ROUNDING_MODE:Aj.ROUND_UP}),this.consumedMilliGas?new Aj(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get storageDiff(){const e=this.operationResults&&this.operationResults.paid_storage_size_diff;return e||void 0}get storageSize(){const e=this.operationResults&&this.operationResults.storage_size;return e||void 0}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}contract(e,t){return DK(this,void 0,void 0,(function*(){if(!this.contractAddress)throw new DV("No contract was originated in this operation");return yield this.confirmation(e,t),this.contractProvider.at(this.contractAddress)}))}}class TQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r,this.globalConstantHash=this.operationResults&&this.operationResults.global_address}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"register_global_constant"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get registeredExpression(){return this.params.value}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}get consumedGas(){return Aj.config({DECIMAL_PLACES:0,ROUNDING_MODE:Aj.ROUND_UP}),this.consumedMilliGas?new Aj(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}}class IQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"reveal"===e.kind));return e?[e]:[]}get status(){const e=this.operationResults[0];return e?e.metadata.operation_result.status:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get publicKey(){return this.params.public_key}sumProp(e,t){return e.reduce(((e,r)=>t in r?Number(r[t])+e:e),0)}get consumedGas(){return Aj.config({DECIMAL_PLACES:0,ROUNDING_MODE:Aj.ROUND_UP}),new Aj(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(MV({contents:this.operationResults}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(MV({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(MV({contents:this.operationResults}),"storage_size"))}get errors(){return BV({contents:this.operationResults})}}class OQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"transaction"===e.kind));return e?[e]:[]}get status(){const e=this.operationResults[0];return e?e.metadata.operation_result.status:"unknown"}get amount(){return new _j(this.params.amount)}get destination(){return this.params.destination}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}sumProp(e,t){return e.reduce(((e,r)=>t in r?Number(r[t])+e:e),0)}get consumedGas(){return _j.config({DECIMAL_PLACES:0,ROUNDING_MODE:_j.ROUND_UP}),new _j(this.consumedMilliGas).dividedBy(1e3).toString()}get consumedMilliGas(){return String(this.sumProp(MV({contents:this.operationResults}),"consumed_milligas"))}get storageDiff(){return String(this.sumProp(MV({contents:this.operationResults}),"paid_storage_size_diff"))}get storageSize(){return String(this.sumProp(MV({contents:this.operationResults}),"storage_size"))}get errors(){return BV({contents:this.operationResults})}}class RQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"increase_paid_storage"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get amount(){return this.params.amount}get destination(){return this.params.destination}}class CQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"update_consensus_key"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get pk(){return this.params.pk}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class NQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"smart_rollup_add_messages"===e.kind)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get message(){return this.params.message}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class LQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>e.kind===TU.SMART_ROLLUP_ORIGINATE)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get pvmKind(){return this.params.pvm_kind}get kernel(){return this.params.kernel}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class MQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"ballot"===e.kind));return e||void 0}get period(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.period}get proposal(){return this.params.proposal}get ballot(){return this.params.ballot}}class BQ extends zV{constructor(e,t,r,n,i){super(e,r,n,i),this.params=t}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"drain_delegate"===e.kind)),t=e&&e.metadata&&e.metadata.balance_updates;return t||void 0}get consensusKey(){return this.params.consensus_key}get delegate(){return this.params.delegate}get destination(){return this.params.destination}}class DQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>"proposals"===e.kind));return e||void 0}get proposals(){return this.params.proposals}get period(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.period}}class jQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>e.kind===TU.TRANSFER_TICKET)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedGas(){return Aj.config({DECIMAL_PLACES:0,ROUNDING_MODE:Aj.ROUND_UP}),this.consumedMilliGas?new Aj(this.consumedMilliGas).dividedBy(1e3).toString():void 0}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}}class UQ extends zV{constructor(e,t,r,n,i,s){super(e,n,i,s),this.params=t,this.source=r}get operationResults(){const e=Array.isArray(this.results)&&this.results.find((e=>e.kind===TU.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE)),t=e&&e.metadata&&e.metadata.operation_result;return t||void 0}get status(){var e,t;return null!==(t=null===(e=this.operationResults)||void 0===e?void 0:e.status)&&void 0!==t?t:"unknown"}get rollup(){return this.params.rollup}get cementedCommitment(){return this.params.cemented_commitment}get outputProof(){return this.params.output_proof}get fee(){return Number(this.params.fee)}get gasLimit(){return Number(this.params.gas_limit)}get storageLimit(){return Number(this.params.storage_limit)}get consumedMilliGas(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.consumed_milligas}get errors(){var e;return null===(e=this.operationResults)||void 0===e?void 0:e.errors}}class FQ extends qV{constructor(e,t){super(e),this.estimator=t,this.contractProviderTypeSymbol=Symbol.for("taquito-contract-provider-type-symbol"),this.prepare=new fQ(this.context)}getStorage(e,t){return DK(this,void 0,void 0,(function*(){const r=qj(e);if(r!==Nj.VALID)throw new FD(e,Qj(r));const n=yield this.context.readProvider.getScript(e,"head");let i;return t||(t=n),i=RG.isSchema(t)?t:RG.fromRPCResponse({script:t}),i.Execute(n.storage,uQ(this))}))}getBigMapKey(e,t,r){return DK(this,void 0,void 0,(function*(){const n=qj(e);if(n!==Nj.VALID)throw new FD(e,Qj(n));let i;r||(r=(yield this.rpc.getContract(e)).script),i=RG.isSchema(r)?r:RG.fromRPCResponse({script:r});const s=i.EncodeBigMapKey(t),o=yield this.rpc.getBigMapKey(e,s);return i.ExecuteOnBigMapValue(o)}))}getBigMapKeyByID(e,t,r,n){return DK(this,void 0,void 0,(function*(){const{key:i,type:s}=r.EncodeBigMapKey(t),{packed:o}=yield this.context.packer.packData({data:i,type:s}),a=(c=o,Jj(Pj().blake2b(rU(c),void 0,32),Oj.expr));var c;const l=n?yield this.context.readProvider.getBigMapValue({id:e.toString(),expr:a},n):yield this.context.readProvider.getBigMapValue({id:e.toString(),expr:a},"head");return r.ExecuteOnBigMapValue(l,uQ(this))}))}getBigMapKeysByID(e,t,r,n){return DK(this,arguments,void 0,(function(e,t,r,n){var i=this;let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;return function*(){const o=yield i.getBlockForRequest(t,n),a=new ZH;let c=0,l=[];for(;c<t.length;){const n=t.slice(c,c+s).map((t=>i.getBigMapValueOrUndefined(t,e,r,o)));l=[...l,...yield Promise.all(n)],c+=s}for(let e=0;e<l.length;e++)a.set(t[e],l[e]);return a}()}))}getBlockForRequest(e,t){return DK(this,void 0,void 0,(function*(){return 1===e.length||"undefined"!==typeof t?t:yield this.context.readProvider.getBlockLevel("head")}))}getBigMapValueOrUndefined(e,t,r,n){return DK(this,void 0,void 0,(function*(){try{return yield this.getBigMapKeyByID(t,e,r,n)}catch(i){if(i instanceof JD&&i.status===KD.NOT_FOUND)return;throw i}}))}getSaplingDiffByID(e,t){return DK(this,void 0,void 0,(function*(){return t?yield this.context.readProvider.getSaplingDiffById({id:e.toString()},t):yield this.context.readProvider.getSaplingDiffById({id:e.toString()},"head")}))}originate(e){return DK(this,void 0,void 0,(function*(){const t=yield this.estimate(e,this.estimator.originate.bind(this.estimator)),r=yield this.prepare.originate(Object.assign(Object.assign({},e),t)),n=r.opOb.contents.find((e=>e.kind===TU.ORIGINATION)),i=yield this.forge(r),{hash:s,context:o,forgedBytes:a,opResponse:c}=yield this.signAndInject(i);return new PQ(s,n,a,c,o,this)}))}setDelegate(e){return DK(this,void 0,void 0,(function*(){var t;const r=zj(e.source);if(e.source&&r!==Nj.VALID)throw new RD(e.source,Qj(r));const n=zj(null!==(t=e.delegate)&&void 0!==t?t:"");if(e.delegate&&n!==Nj.VALID)throw new RD(e.delegate,Qj(n));if(/kt1/i.test(e.source))throw new aV(e.source);const i=yield this.signer.publicKeyHash(),s=e.source||i,o=yield this.estimate(e,this.estimator.setDelegate.bind(this.estimator)),a=yield this.prepare.delegation(Object.assign(Object.assign({},e),o)),c=a.opOb.contents.find((e=>e.kind===TU.DELEGATION)),l=yield this.forge(a),{hash:u,context:d,forgedBytes:h,opResponse:f}=yield this.signAndInject(l);return new SQ(u,c,s,h,f,d)}))}registerDelegate(e){return DK(this,void 0,void 0,(function*(){const t=yield this.estimate(e,this.estimator.registerDelegate.bind(this.estimator)),r=yield this.signer.publicKeyHash(),n=yield this.prepare.registerDelegate(Object.assign(Object.assign({},e),t)),i=n.opOb.contents.find((e=>e.kind===TU.DELEGATION)),s=yield this.forge(n),{hash:o,context:a,forgedBytes:c,opResponse:l}=yield this.signAndInject(s);return new SQ(o,i,r,c,l,a)}))}transfer(e){return DK(this,void 0,void 0,(function*(){var t;const r=zj(e.to);if(r!==Nj.VALID)throw new RD(e.to,Qj(r));const n=zj(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&n!==Nj.VALID)throw new RD(e.source,Qj(n));if(e.amount<0)throw new MD(e.amount.toString());const i=yield this.signer.publicKeyHash(),s=yield this.estimate(e,this.estimator.transfer.bind(this.estimator)),o=e.source||i,a=yield this.prepare.transaction(Object.assign(Object.assign({},e),s)),c=a.opOb.contents.find((e=>e.kind===TU.TRANSACTION)),l=yield this.forge(a),{hash:u,context:d,forgedBytes:h,opResponse:f}=yield this.signAndInject(l);return new OQ(u,c,o,h,f,d)}))}stake(e){return DK(this,void 0,void 0,(function*(){var t;const r=zj(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&r!==Nj.VALID)throw new RD(e.source,Qj(r));if(e.to||(e.to=e.source),e.to&&e.to!==e.source)throw new CD(e.to);if(e.amount<0)throw new MD(e.amount.toString());const n=yield this.signer.publicKeyHash(),i=yield this.estimate(e,this.estimator.stake.bind(this.estimator)),s=e.source||n,o=yield this.prepare.stake(Object.assign(Object.assign({},e),i)),a=o.opOb.contents.find((e=>e.kind===TU.TRANSACTION)),c=yield this.forge(o),{hash:l,context:u,forgedBytes:d,opResponse:h}=yield this.signAndInject(c);return new OQ(l,a,s,d,h,u)}))}unstake(e){return DK(this,void 0,void 0,(function*(){var t;const r=zj(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&r!==Nj.VALID)throw new RD(e.source,Qj(r));if(e.to||(e.to=e.source),e.to&&e.to!==e.source)throw new CD(e.to);if(e.amount<0)throw new MD(e.amount.toString());const n=yield this.signer.publicKeyHash(),i=yield this.estimate(e,this.estimator.unstake.bind(this.estimator)),s=e.source||n,o=yield this.prepare.unstake(Object.assign(Object.assign({},e),i)),a=o.opOb.contents.find((e=>e.kind===TU.TRANSACTION)),c=yield this.forge(o),{hash:l,context:u,forgedBytes:d,opResponse:h}=yield this.signAndInject(c);return new OQ(l,a,s,d,h,u)}))}finalizeUnstake(e){return DK(this,void 0,void 0,(function*(){var t;const r=zj(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&r!==Nj.VALID)throw new RD(e.source,Qj(r));if(e.to||(e.to=e.source),e.to&&e.to!==e.source)throw new CD(e.to);if(e.amount||(e.amount=0),void 0!==e.amount&&e.amount>0)throw new ND("Amount must be 0 to finalize unstake.");const n=yield this.signer.publicKeyHash(),i=yield this.estimate(e,this.estimator.finalizeUnstake.bind(this.estimator)),s=e.source||n,o=yield this.prepare.finalizeUnstake(Object.assign(Object.assign({},e),i)),a=o.opOb.contents.find((e=>e.kind===TU.TRANSACTION)),c=yield this.forge(o),{hash:l,context:u,forgedBytes:d,opResponse:h}=yield this.signAndInject(c);return new OQ(l,a,s,d,h,u)}))}transferTicket(e){return DK(this,void 0,void 0,(function*(){var t,r;const n=zj(e.destination);if(n!==Nj.VALID)throw new RD(e.destination,Qj(n));const i=zj(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&i!==Nj.VALID)throw new RD(e.source,Qj(i));const s=yield this.signer.publicKeyHash(),o=null!==(r=e.source)&&void 0!==r?r:s,a=yield this.estimate(e,this.estimator.transferTicket.bind(this.estimator)),c=yield this.prepare.transferTicket(Object.assign(Object.assign({},e),a)),l=c.opOb.contents.find((e=>e.kind===TU.TRANSFER_TICKET)),u=yield this.forge(c),{hash:d,context:h,forgedBytes:f,opResponse:p}=yield this.signAndInject(u);return new jQ(d,l,o,f,p,h)}))}reveal(e){return DK(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),r=yield this.estimator.reveal(e);if(r){const n=yield this.estimate(e,(()=>DK(this,void 0,void 0,(function*(){return r})))),i=yield this.prepare.reveal(Object.assign(Object.assign({},e),n)),s=i.opOb.contents.find((e=>e.kind===TU.REVEAL)),o=yield this.forge(i),{hash:a,context:c,forgedBytes:l,opResponse:u}=yield this.signAndInject(o);return new IQ(a,s,t,l,u,c)}throw new fV(`The publicKeyHash '${t}' has already been revealed.`)}))}registerGlobalConstant(e){return DK(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),r=yield this.estimate(e,this.estimator.registerGlobalConstant.bind(this.estimator)),n=yield this.prepare.registerGlobalConstant(Object.assign(Object.assign({},e),r)),i=n.opOb.contents.find((e=>e.kind===TU.REGISTER_GLOBAL_CONSTANT)),s=yield this.forge(n),{hash:o,context:a,forgedBytes:c,opResponse:l}=yield this.signAndInject(s);return new TQ(o,i,t,c,l,a)}))}increasePaidStorage(e){return DK(this,void 0,void 0,(function*(){if(e.amount<0)throw new MD(e.amount.toString());const t=yield this.signer.publicKeyHash(),r=yield this.estimate(e,this.estimator.increasePaidStorage.bind(this.estimator)),n=yield this.prepare.increasePaidStorage(Object.assign(Object.assign({},e),r)),i=n.opOb.contents.find((e=>e.kind===TU.INCREASE_PAID_STORAGE)),s=yield this.forge(n),{hash:o,context:a,forgedBytes:c,opResponse:l}=yield this.signAndInject(s);return new RQ(o,i,t,c,l,a)}))}drainDelegate(e){return DK(this,void 0,void 0,(function*(){const t=yield this.prepare.drainDelegate(e),r=t.opOb.contents.find((e=>e.kind===TU.DRAIN_DELEGATE)),n=yield this.forge(t),{hash:i,context:s,forgedBytes:o,opResponse:a}=yield this.signAndInject(n);return new BQ(i,r,o,a,s)}))}ballot(e){return DK(this,void 0,void 0,(function*(){var t,r;const n=yield this.signer.publicKeyHash(),i=zj(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&i!==Nj.VALID)throw new RD(e.source,Qj(i));const s=null!==(r=e.source)&&void 0!==r?r:n,o=yield this.prepare.ballot(Object.assign(Object.assign({},e),{source:s})),a=o.opOb.contents.find((e=>e.kind===TU.BALLOT)),c=yield this.forge(o),{hash:l,context:u,forgedBytes:d,opResponse:h}=yield this.signAndInject(c);return new MQ(l,a,n,d,h,u)}))}proposals(e){return DK(this,void 0,void 0,(function*(){var t,r;const n=yield this.signer.publicKeyHash(),i=zj(null!==(t=e.source)&&void 0!==t?t:"");if(e.source&&i!==Nj.VALID)throw new RD(e.source,Qj(i));const s=null!==(r=e.source)&&void 0!==r?r:n,o=yield this.prepare.proposals(Object.assign(Object.assign({},e),{source:s})),a=o.opOb.contents.find((e=>e.kind===TU.PROPOSALS)),c=yield this.forge(o),{hash:l,context:u,forgedBytes:d,opResponse:h}=yield this.signAndInject(c);return new DQ(l,a,n,d,h,u)}))}updateConsensusKey(e){return DK(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),r=yield this.estimate(e,this.estimator.updateConsensusKey.bind(this.estimator)),n=yield this.prepare.updateConsensusKey(Object.assign(Object.assign({},e),r)),i=n.opOb.contents.find((e=>e.kind===TU.UPDATE_CONSENSUS_KEY)),s=yield this.forge(n),{hash:o,context:a,forgedBytes:c,opResponse:l}=yield this.signAndInject(s);return new CQ(o,i,t,c,l,a)}))}smartRollupAddMessages(e){return DK(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),r=yield this.estimate(e,this.estimator.smartRollupAddMessages.bind(this.estimator)),n=yield this.prepare.smartRollupAddMessages(Object.assign(Object.assign({},e),r)),i=n.opOb.contents.find((e=>e.kind===TU.SMART_ROLLUP_ADD_MESSAGES)),s=yield this.forge(n),{hash:o,context:a,forgedBytes:c,opResponse:l}=yield this.signAndInject(s);return new NQ(o,i,t,c,l,a)}))}smartRollupOriginate(e){return DK(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),r=yield this.estimate(e,this.estimator.smartRollupOriginate.bind(this.estimator)),n=yield this.prepare.smartRollupOriginate(Object.assign(Object.assign({},e),r)),i=n.opOb.contents.find((e=>e.kind===TU.SMART_ROLLUP_ORIGINATE)),s=yield this.forge(n),{hash:o,context:a,forgedBytes:c,opResponse:l}=yield this.signAndInject(s);return new LQ(o,i,t,c,l,a)}))}smartRollupExecuteOutboxMessage(e){return DK(this,void 0,void 0,(function*(){const t=yield this.signer.publicKeyHash(),r=yield this.estimate(e,this.estimator.smartRollupExecuteOutboxMessage.bind(this.estimator)),n=yield this.prepare.smartRollupExecuteOutboxMessage(Object.assign(Object.assign({},e),r)),i=n.opOb.contents.find((e=>e.kind===TU.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE)),s=yield this.forge(n),{hash:o,context:a,forgedBytes:c,opResponse:l}=yield this.signAndInject(s);return new UQ(o,i,t,c,l,a)}))}failingNoop(e){return DK(this,void 0,void 0,(function*(){const t={kind:TU.FAILING_NOOP,arbitrary:e.arbitrary},r=yield this.context.readProvider.getBlockHash(e.basedOnBlock),n=yield this.context.forger.forge({branch:r,contents:[t]}),{prefixSig:i}=yield this.signer.sign(n,new Uint8Array([3]));return{signature:i,bytes:n,signedContent:{branch:r,contents:[{kind:TU.FAILING_NOOP,arbitrary:e.arbitrary}]}}}))}at(e){return DK(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return function*(){const n=qj(e);if(n!==Nj.VALID)throw new FD(e,Qj(n));const i=t.context.withExtensions().rpc,s=t.context.withExtensions().readProvider,o=yield s.getScript(e,"head"),a=yield s.getEntrypoints(e),c=new aQ(e,o,t,t,a,i,s);return r(c,t.context)}()}))}batch(e){const t=new mQ(this.context,this.estimator);return Array.isArray(e)&&t.with(e),t}}class HQ{constructor(e){this.context=e}getNextProto(){return DK(this,void 0,void 0,(function*(){if(!this.context.proto){const e=yield this.context.readProvider.getNextProtocol("head");this.context.proto=e}return this.context.proto}))}parseScript(e){return DK(this,void 0,void 0,(function*(){return new wq({protocol:yield this.getNextProto()}).parseScript(e)}))}parseMichelineExpression(e){return DK(this,void 0,void 0,(function*(){return new wq({protocol:yield this.getNextProto()}).parseMichelineExpression(e)}))}parseJSON(e){return DK(this,void 0,void 0,(function*(){return new wq({protocol:yield this.getNextProto()}).parseJSON(e)}))}prepareCodeOrigination(e){return DK(this,void 0,void 0,(function*(){const t=e;if(t.code=yield this.formatCodeParam(e.code),e.init)t.init=yield this.formatInitParam(e.init);else if(e.storage){const r=t.code.find((e=>"prim"in e&&"storage"===e.prim));if(!(null===r||void 0===r?void 0:r.args))throw new cV("The storage section is missing from the script",e.code);const n=new RG(r.args[0]),i=yield this.findGlobalConstantsHashAndValue(n);if(0!==Object.keys(i).length){const n=new wq({expandGlobalConstant:i}).parseJSON(r.args[0]),s=new RG(n);t.init=s.Encode(e.storage)}else t.init=n.Encode(e.storage);delete t.storage}return t}))}formatCodeParam(e){return DK(this,void 0,void 0,(function*(){let t;if("string"===typeof e){const r=yield this.parseScript(e);if(null===r)throw new cV("Unable to parse",e);t=r}else{const r=yield this.parseJSON(e),n=["parameter","storage","code"];t=r.sort(((e,t)=>n.indexOf(e.prim)-n.indexOf(t.prim)))}return t}))}formatInitParam(e){return DK(this,void 0,void 0,(function*(){let t;if("string"===typeof e){const r=yield this.parseMichelineExpression(e);if(null===r)throw new lV("Invalid init parameter",e);t=r}else t=yield this.parseJSON(e);return t}))}findGlobalConstantsHashAndValue(e){return DK(this,void 0,void 0,(function*(){const t=e.findToken("constant"),r={};if(0!==t.length)for(const e of t){const t=e.tokenVal.args;if(t){const e=t[0];if(e.string){const t=e.string,n=yield this.context.globalConstantsProvider.getGlobalConstantByHash(t);Object.assign(r,{[t]:n})}}}return r}))}}class zQ{constructor(e){this.context=e}packData(e){return DK(this,void 0,void 0,(function*(){return this.context.rpc.packData(e)}))}}class GQ extends TD{constructor(){super(),this.name="UnconfiguredGlobalConstantsProviderError",this.message="No global constants provider has been configured. Please configure one by calling setGlobalConstantsProvider({globalConstantsProvider}) on your TezosToolkit instance."}}class qQ{getGlobalConstantByHash(e){return DK(this,void 0,void 0,(function*(){throw new GQ}))}}class WQ{constructor(e){this.rpc=e}getBalance(e,t){return DK(this,void 0,void 0,(function*(){return this.rpc.getBalance(e,{block:String(t)})}))}getDelegate(e,t){return DK(this,void 0,void 0,(function*(){return this.rpc.getDelegate(e,{block:String(t)})}))}getNextProtocol(e){return DK(this,void 0,void 0,(function*(){return(yield this.rpc.getProtocols({block:String(e)})).next_protocol}))}getProtocolConstants(e){return DK(this,void 0,void 0,(function*(){const{time_between_blocks:t,minimal_block_delay:r,hard_gas_limit_per_operation:n,hard_gas_limit_per_block:i,hard_storage_limit_per_operation:s,cost_per_byte:o,smart_rollup_origination_size:a}=yield this.rpc.getConstants({block:String(e)});return{time_between_blocks:t,minimal_block_delay:r,hard_gas_limit_per_operation:n,hard_gas_limit_per_block:i,hard_storage_limit_per_operation:s,cost_per_byte:o,smart_rollup_origination_size:a}}))}getScript(e,t){return DK(this,void 0,void 0,(function*(){const{script:r}=yield this.rpc.getContract(e,{block:String(t)});return r}))}getStorage(e,t){return DK(this,void 0,void 0,(function*(){return this.rpc.getStorage(e,{block:String(t)})}))}getBlockHash(e){return DK(this,void 0,void 0,(function*(){const{hash:t}=yield this.rpc.getBlockHeader({block:String(e)});return t}))}getBlockLevel(e){return DK(this,void 0,void 0,(function*(){const{level:t}=yield this.rpc.getBlockHeader({block:String(e)});return t}))}getCounter(e,t){return DK(this,void 0,void 0,(function*(){const{counter:r}=yield this.rpc.getContract(e,{block:String(t)});return r||"0"}))}getBlockTimestamp(e){return DK(this,void 0,void 0,(function*(){const{timestamp:t}=yield this.rpc.getBlockHeader({block:String(e)});return t}))}getBigMapValue(e,t){return DK(this,void 0,void 0,(function*(){return this.rpc.getBigMapExpr(e.id,e.expr,{block:String(t)})}))}getSaplingDiffById(e,t){return DK(this,void 0,void 0,(function*(){return this.rpc.getSaplingDiffById(e.id,{block:String(t)})}))}getSaplingDiffByContract(e,t){return DK(this,void 0,void 0,(function*(){return this.rpc.getSaplingDiffByContract(e,{block:String(t)})}))}getEntrypoints(e){return DK(this,void 0,void 0,(function*(){return this.rpc.getEntrypoints(e)}))}getChainId(){return DK(this,void 0,void 0,(function*(){return this.rpc.getChainId()}))}isAccountRevealed(e,t){return DK(this,void 0,void 0,(function*(){const r=yield this.rpc.getManagerKey(e,{block:String(t)});return r&&"object"===typeof r?!!r.key:!!r}))}getBlock(e){return DK(this,void 0,void 0,(function*(){return this.rpc.getBlock({block:String(e)})}))}getLiveBlocks(e){return this.rpc.getLiveBlocks({block:String(e)})}getAdaptiveIssuanceLaunchCycle(e){return this.rpc.getAdaptiveIssuanceLaunchCycle({block:String(e)})}}class $Q extends SD{constructor(e){super(),this.type=e,this.name="UnsupportedEventError",this.message=`Unsupported event type "${e}" expecting one of the "data", "error", or "close".`}}class KQ extends SD{constructor(e){super(),this.invalidExpression=e,this.name="InvalidFilterExpressionError",this.message="Invalid filter expression expecting the object to contain either and/or property"}}const VQ=(e,t)=>"opHash"in t?((e,t)=>e.hash===t.opHash)(e,t):"source"in t?((e,t)=>{switch(e.kind){case"attestation":case"endorsement":return"metadata"in e&&e.metadata.delegate===t.source;case"activate_account":return"metadata"in e&&e.pkh===t.source;default:return"source"in e&&e.source===t.source}})(e,t):"kind"in t?((e,t)=>"kind"in e&&e.kind===t.kind)(e,t):"destination"in t&&((e,t)=>{switch(e.kind){case"delegation":return e.delegate===t.destination;case"origination":if("metadata"in e&&"operation_result"in e.metadata&&"originated_contracts"in e.metadata.operation_result&&Array.isArray(e.metadata.operation_result.originated_contracts))return e.metadata.operation_result.originated_contracts.some((e=>e===t.destination));break;case"transaction":return e.destination===t.destination;default:return!1}})(e,t),QQ=(e,t)=>{const r=[];return Array.isArray(t)?r.push(...t):r.push(t),r.every((t=>"and"in t||"or"in t?((e,t)=>{if(Array.isArray(t.and))return t.and.every((t=>QQ(e,t)));if(Array.isArray(t.or))return t.or.some((t=>QQ(e,t)));throw new KQ(t)})(e,t):VQ(e,t)))};class ZQ{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:BH();var n;this.shouldRetry=t,this.operatorFunction=r,this.errorListeners=[],this.messageListeners=[],this.closeListeners=[],this.completed$=new yF,e.pipe((n=this.completed$,zF((function(e,t){CF(n).subscribe(GF(t,(function(){return t.complete()}),JU)),!t.closed&&e.subscribe(t)}))),kH((e=>{this.call(this.messageListeners,e)}),(e=>{this.call(this.errorListeners,e)}),(()=>{this.call(this.closeListeners)})),this.shouldRetry?r:kH(),NH((()=>uH))).subscribe()}call(e,t){for(const n of e)try{n(t)}catch(r){console.error(r)}}remove(e,t){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}on(e,t){switch(e){case"data":this.messageListeners.push(t);break;case"error":this.errorListeners.push(t);break;case"close":this.closeListeners.push(t);break;default:throw new $Q(e)}}off(e,t){switch(e){case"data":this.remove(this.messageListeners,t);break;case"error":this.remove(this.errorListeners,t);break;case"close":this.remove(this.closeListeners,t);break;default:throw new $Q(e)}}close(){this.completed$.next()}}const YQ={shouldObservableSubscriptionRetry:!1,observableSubscriptionRetryFunction:BH()};class JQ{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;this.context=e,this._config$=new AF(Object.assign(Object.assign({},YQ),t)),this.timer$=this._config$.pipe(DH("pollingIntervalMilliseconds"),vH((e=>e?bH(0,e):QF(this.getConfirmationPollingInterval()).pipe(vH((e=>bH(0,e))))))),this.newBlock$=this.timer$.pipe(vH((()=>(e=>QF(e.rpc.getBlock()).pipe(CH()))(this.context))),(r="hash",LH((function(e,t){return n?n(e[r],t[r]):e[r]===t[r]}))),zH(),jH())}get config(){return this._config$.getValue()}getConfirmationPollingInterval(){return DK(this,void 0,void 0,(function*(){if(!this.config.pollingIntervalMilliseconds){const t=5e3,r=1e3;try{const e=yield this.context.readProvider.getProtocolConstants("head"),n=(e.minimal_block_delay?e.minimal_block_delay.multipliedBy(1e3):e.time_between_blocks?e.time_between_blocks[0].multipliedBy(1e3):new _j(t)).dividedBy(3);this.config.pollingIntervalMilliseconds=0===n.toNumber()?r:n.toNumber()}catch(e){return t}}return this.config.pollingIntervalMilliseconds}))}subscribeBlock(e){return new ZQ(this.newBlock$,this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribe(e){return new ZQ(this.newBlock$.pipe(DH("hash")),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribeOperation(e){return new ZQ(this.newBlock$.pipe((e=>EH((t=>new pF((r=>{for(const n of t.operations)for(const t of n)for(const n of t.contents)QQ(Object.assign({hash:t.hash},n),e)&&r.next(Object.assign({hash:t.hash},n));r.complete()})))))(e)),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction)}subscribeEvent(e){return new ZQ(this.newBlock$.pipe((t=e,EH((e=>new pF((r=>{for(const a of e.operations)for(const c of a)for(const a of c.contents){const l=a.metadata.internal_operation_results;if(l)for(const a of l)n=a,i=null===t||void 0===t?void 0:t.address,s=null===t||void 0===t?void 0:t.tag,o=null===t||void 0===t?void 0:t.excludeFailedOperations,"event"!==n.kind||s&&n.tag!==s||i&&n.source!==i||o&&"applied"!==n.result.status||r.next(Object.assign({opHash:c.hash,blockHash:e.hash,level:e.header.level},a))}var n,i,s,o;r.complete()})))))),this.config.shouldObservableSubscriptionRetry,this.config.observableSubscriptionRetryFunction);var t}}class XQ{constructor(e){this.context=e}getNextProto(){return DK(this,void 0,void 0,(function*(){if(!this.context.proto){const e=yield this.context.readProvider.getNextProtocol("head");this.context.proto=e}return this.context.proto}))}forge(e){return DK(this,arguments,void 0,(function(e){var t=this;let{branch:r,contents:n}=e;return function*(){return new MK(yield t.getNextProto()).forge({branch:r,contents:n})}()}))}}const eZ={defaultConfirmationCount:1,confirmationPollingTimeoutSecond:180};class tZ{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zK,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new AF(Object.assign({},eZ)),i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;this._rpc=e,this._signer=t,this._proto=r,this._config=n,this.providerDecorator=[],this.tz=new AQ(this),this.estimate=new kQ(this),this.contract=new FQ(this,this.estimate),this.prepare=new fQ(this),this.batch=new gQ(this,this.estimate),this.wallet=new $V(this),this.withExtensions=()=>{let e=this.clone();return this.providerDecorator.forEach((t=>{e=t(e)})),e},"string"===typeof this._rpc?this._rpcClient=new OU(this._rpc):this._rpcClient=this._rpc,this._forger=i||new XQ(this),this._injector=s||new FK(this),this.operationFactory=new wQ(this),this._walletProvider=a||new eQ(this),this._parser=c||new HQ(this),this._packer=o||new zQ(this),this._globalConstantsProvider=l||new qQ,this._readProvider=u||new WQ(this._rpcClient),this._stream=d||new JQ(this)}get config(){return this._config.getValue()}set config(e){this._config.next(Object.assign({},e))}setPartialConfig(e){this._config.next(Object.assign(Object.assign({},this._config.getValue()),e))}get rpc(){return this._rpcClient}set rpc(e){this._rpcClient=e}get injector(){return this._injector}set injector(e){this._injector=e}get forger(){return this._forger}set forger(e){this._forger=e}get signer(){return this._signer}set signer(e){this._signer=e}get walletProvider(){return this._walletProvider}set walletProvider(e){this._walletProvider=e}set proto(e){this._proto=e}get proto(){return this._proto}get parser(){return this._parser}set parser(e){this._parser=e}get packer(){return this._packer}set packer(e){this._packer=e}get globalConstantsProvider(){return this._globalConstantsProvider}set globalConstantsProvider(e){this._globalConstantsProvider=e}get readProvider(){return this._readProvider}set readProvider(e){this._readProvider=e}get stream(){return this._stream}set stream(e){this._stream=e}isAnyProtocolActive(){return DK(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function*(){if(e._proto)return t.includes(e._proto);{const r=yield e.readProvider.getNextProtocol("head");return t.includes(r)}}()}))}isAnySignerConfigured(){return!(this.signer instanceof zK)}clone(){return new tZ(this.rpc,this.signer,this.proto,this._config,this.forger,this._injector,this.packer,this._walletProvider,this._parser,this._globalConstantsProvider,this._readProvider,this._stream)}registerProviderDecorator(e){this.providerDecorator.push(e)}}const rZ={commitHash:"ccdb0db9569457dbbe7e5c0c2b7cb2003bb6155d",version:"20.1.0"};class nZ{constructor(e){this._rpc=e,this._options={},this.format=Yj,"string"===typeof this._rpc?this._rpcClient=new OU(this._rpc):this._rpcClient=this._rpc,this._context=new tZ(e),this._wallet=new $V(this._context),this.setProvider({rpc:this._rpcClient}),this.batch=this._context.batch.batch.bind(this._context.batch)}setProvider(e){let{rpc:t,stream:r,signer:n,protocol:i,config:s,forger:o,wallet:a,packer:c,globalConstantsProvider:l,readProvider:u,parserProvider:d,injectorProvider:h}=e;this.setRpcProvider(t),this.setStreamProvider(r),this.setSignerProvider(n),this.setForgerProvider(o),this.setWalletProvider(a),this.setPackerProvider(c),this.setGlobalConstantsProvider(l),this.setReadProvider(u),this.setParserProvider(d),this.setInjectorProvider(h),this._context.proto=i,s&&this._context.setPartialConfig(s)}setSignerProvider(e){this._options.signer||"undefined"!==typeof e?"undefined"!==typeof e&&(this._context.signer=e,this._options.signer=e):(this._context.signer=new zK,this._options.signer=e)}setRpcProvider(e){"string"===typeof e?this._rpcClient=new OU(e):void 0===e||(this._rpcClient=e),this._options.rpc=this._rpcClient,this._context.rpc=this._rpcClient}setForgerProvider(e){if("undefined"!==typeof e)this._options.forger=e,this._context.forger=e;else if(void 0===this._options.forger){const e=this.getFactory(XQ)();this._options.forger=e,this._context.forger=e}}setStreamProvider(e){if("string"===typeof e){const t=new JQ(new tZ(new OU(e)));this._options.stream=t,this._context.stream=t}else if("undefined"!==typeof e)this._options.stream=e,this._context.stream=e;else if(void 0===this._options.stream){const e=this.getFactory(JQ)();this._options.stream=e,this._context.stream=e}}setWalletProvider(e){if(this._options.wallet||"undefined"!==typeof e)"undefined"!==typeof e&&(this._options.wallet=e,this._context.walletProvider=e);else{const e=this.getFactory(eQ)();this._options.wallet=e,this._context.walletProvider=e}}setPackerProvider(e){if(this._options.packer||"undefined"!==typeof e)"undefined"!==typeof e&&(this._context.packer=e,this._options.packer=e);else{const e=this.getFactory(zQ)();this._context.packer=e,this._options.packer=e}}setGlobalConstantsProvider(e){if(this._options.globalConstantsProvider||"undefined"!==typeof e)"undefined"!==typeof e&&(this._context.globalConstantsProvider=e,this._options.globalConstantsProvider=e);else{const e=new qQ;this._context.globalConstantsProvider=e,this._options.globalConstantsProvider=e}}setReadProvider(e){const t=e||new WQ(this._context.rpc);this._options.readProvider=t,this._context.readProvider=t}setParserProvider(e){if(this._options.parserProvider||"undefined"!==typeof e)"undefined"!==typeof e&&(this._context.parser=e,this._options.parserProvider=e);else{const e=new HQ(this._context);this._context.parser=e,this._options.parserProvider=e}}setInjectorProvider(e){if(this._options.injectorProvider||"undefined"!==typeof e)"undefined"!==typeof e&&(this._context.injector=e,this._options.injectorProvider=e);else{const e=new FK(this._context);this._context.injector=e,this._options.injectorProvider=e}}setFieldNumberingStrategy(e){JH.fieldNumberingStrategy=e}get tz(){return this._context.tz}get contract(){return this._context.contract}get prepare(){return this._context.prepare}get wallet(){return this._wallet}get operation(){return this._context.operationFactory}get estimate(){return this._context.estimate}get stream(){return this._context.stream}get rpc(){return this._context.rpc}get signer(){return this._context.signer}get globalConstants(){return this._context.globalConstantsProvider}addExtension(e){Array.isArray(e)?e.forEach((e=>e.configureContext(this._context))):e.configureContext(this._context)}getFactory(e){var t=this;return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return new e(t._context,...n)}}getVersionInfo(){return rZ}}var iZ=r(4507).Buffer;const sZ=(0,l.memo)((e=>{let{provider:t}=e;const r=na(),[n,i]=(0,l.useState)(),[s,o]=(0,l.useState)(),[a,c]=(0,l.useState)(),[u,d]=(0,l.useState)(),[f,p]=(0,l.useState)();(0,l.useEffect)((()=>{const e=new nZ("https://rpc.ghostnet.teztnets.com");e.setWalletProvider(t),i(e)}),[t]);const m=(0,l.useCallback)((async()=>{const e=await t.getPKH();o(e)}),[t]),g=(0,l.useCallback)((async()=>{if(!n)return;const e=await n.tz.getBalance(await t.getPKH());c(e.toString())}),[n,t]),y=(0,l.useCallback)((async()=>{if(t instanceof Wi){const e=iZ.from("Hello World!").toString("hex"),r="0501"+(e.length/2).toString(16).padStart(8,"0")+e,n=await t.requestSignPayload({payload:r});d(n)}else if(n){if(!n)return;const e=await n.wallet.signFailingNoop({arbitrary:iZ.from("Hello World!").toString("hex"),basedOnBlock:"head"});d(e.signature)}}),[n,t]),b=(0,l.useCallback)((async()=>{if(!n)return;const e=await n.wallet.transfer({to:"tz1h3rQ8wBxFd8L9B3d7Jhaawu6Z568XU3xY",amount:1}).send();p(e.opHash)}),[n]);return(0,h.jsxs)(Au,{className:"gap-y-row",children:[(0,h.jsx)($w,{className:"px-pageFrame text-2xl",children:"Tezos"}),(0,h.jsx)(Ww,{text:"Disconnect",onClick:r.openModal}),(0,h.jsx)(Ww,{text:"Get Address",onClick:m}),(0,h.jsx)(Ww,{text:"Get Balance",onClick:g}),(0,h.jsx)(Ww,{text:"Sign",onClick:y}),(0,h.jsx)(Ww,{text:"Transfer",onClick:b}),(0,h.jsxs)(Au,{className:"gap-y-row px-pageFrame",children:[(0,h.jsxs)($w,{className:"break-all",children:["Address: ",s]}),(0,h.jsxs)($w,{className:"break-all",children:["Balance: ",a]}),(0,h.jsxs)($w,{className:"break-all",children:["Signature: ",u]}),(0,h.jsxs)($w,{className:"break-all",children:["Transaction Hash: ",f]})]})]})}));sZ.displayName="TezosConsumer";const oZ=(0,l.memo)((()=>{const e=na();return(0,h.jsx)(l.Fragment,{children:e.evmProvider?(0,h.jsx)(xD,{provider:e.evmProvider}):e.tezosBeaconProvider?(0,h.jsx)(sZ,{provider:e.tezosBeaconProvider}):e.tezosWcProvider?(0,h.jsx)(sZ,{provider:e.tezosWcProvider}):(0,h.jsxs)(Au,{className:"gap-y-row",children:[(0,h.jsx)(Ww,{text:"Connect via modal",onClick:e.openModal}),(0,h.jsxs)(Au,{className:"gap-y-row px-pageFrame",children:[(0,h.jsx)(jl,{to:"/ethers",children:"Evm Ethers"}),(0,h.jsx)(jl,{to:"/web3js",children:"Evm Web3"}),(0,h.jsx)(jl,{to:"/tezos-beacon",children:"Tezos Beacon"}),(0,h.jsx)(jl,{to:"/tezos-wc",children:"Tezos WalletConnect"})]})]})})}));oZ.displayName="Main";var aZ=r(4507).Buffer;const cZ=(0,l.memo)((()=>{const[e,t]=(0,l.useState)("start"),[r,n]=(0,l.useState)(),[i,s]=(0,l.useState)(),[o,a]=(0,l.useState)(),[c,u]=(0,l.useState)(),[d,f]=(0,l.useState)(),[p,m]=(0,l.useState)(),[g,y]=(0,l.useState)(),[b,v]=(0,l.useState)(),w=(0,l.useMemo)((()=>{const e=crypto.randomUUID();return console.log("secretSeed",e),e}),[]),A=(0,l.useCallback)((async e=>{t("connecting");const r=new nZ("https://rpc.ghostnet.teztnets.com"),i=new Hi({bridgeUrl:Eu,secretSeed:w,apiKey:"a",network:{type:"ghostnet",name:"Ghostnet",rpcUrl:"https://rpc.ghostnet.teztnets.com"},walletApp:e,genericWalletUrl:xu});r.setWalletProvider(i),e||i.on("connectionString",(e=>{console.log("connectionString",e),a(e)})),i.on("disconnect",(()=>{console.log("disconnect"),t("start")})),await i.permissionRequest(),n(r),s(i),t("connected")}),[w]),_=(0,l.useCallback)((async()=>{if(!i)return;const e=await i.getPK();u(e)}),[i]),E=(0,l.useCallback)((async()=>{if(!i)return;const e=await i.getPKH();f(e)}),[i]),x=(0,l.useCallback)((async()=>{if(!r||!i)return;const e=await r.tz.getBalance(await i.getPKH());m(e.toString())}),[r,i]),k=(0,l.useCallback)((async()=>{if(!r)return;const e=await r.wallet.signFailingNoop({arbitrary:aZ.from("Hello World!").toString("hex"),basedOnBlock:"head"});y(e.signature)}),[r]),S=(0,l.useCallback)((async()=>{if(!r)return;const e=await r.wallet.transfer({to:"tz1h3rQ8wBxFd8L9B3d7Jhaawu6Z568XU3xY",amount:1}).send();v(e.opHash)}),[r]);return(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"Tezos Beacon"}),"start"===e?(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:()=>A(),children:"QR Code"}),(0,h.jsx)("button",{onClick:()=>A("altme"),children:"Altme"})]}):"connecting"===e?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Connecting..."}),o&&(0,h.jsx)("div",{className:"p-2",children:(0,h.jsx)(jw,{value:o,size:256})})]}):"connected"===e?(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:_,children:"Get Public Key"}),(0,h.jsx)("button",{onClick:E,children:"Get Address"}),(0,h.jsx)("button",{onClick:x,children:"Get Balance"}),(0,h.jsx)("button",{onClick:k,children:"Sign"}),(0,h.jsx)("button",{onClick:S,children:"Transfer"}),(0,h.jsxs)("div",{children:["Public Key: ",c]}),(0,h.jsxs)("div",{children:["Address: ",d]}),(0,h.jsxs)("div",{children:["Balance: ",p]}),(0,h.jsxs)("div",{children:["Signature: ",g]}),(0,h.jsxs)("div",{children:["Transaction Hash: ",b]})]}):void 0]})}));cZ.displayName="TezosBeacon";const lZ=e=>{e instanceof Error?du.error(e.message):du.error("An error occurred"),console.error(e)};var uZ=r(4507).Buffer;const dZ=(0,l.memo)((()=>{const[e,t]=(0,l.useState)("start"),[r,n]=(0,l.useState)(),[i,s]=(0,l.useState)(),[o,a]=(0,l.useState)(),[c,u]=(0,l.useState)(),[d,f]=(0,l.useState)(),[p,m]=(0,l.useState)(),[g,y]=(0,l.useState)(),[b,v]=(0,l.useState)(),w=(0,l.useCallback)((async e=>{try{t("connecting");const r=new nZ("https://rpc.ghostnet.teztnets.com"),i=new Wi({bridgeUrl:Eu,apiKey:"a",walletApp:e,network:"ghostnet"});r.setWalletProvider(i),e||i.on("connectionString",(e=>{console.log("connectionString",e),a(e)})),await i.permissionRequest(),n(r),s(i),t("connected")}catch(gZ){lZ(gZ)}}),[]),A=(0,l.useCallback)((async()=>{if(!i)return;const e=await i.getPK();u(e)}),[i]),_=(0,l.useCallback)((async()=>{if(!i)return;const e=await i.getPKH();f(e)}),[i]),E=(0,l.useCallback)((async()=>{if(!r||!i)return;const e=await r.tz.getBalance(await i.getPKH());m(e.toString())}),[r,i]),x=(0,l.useCallback)((async()=>{if(!i)return;const e=uZ.from("Hello World!").toString("hex"),t="0501"+(e.length/2).toString(16).padStart(8,"0")+e,r=await i.requestSignPayload({payload:t});y(r)}),[i]),k=(0,l.useCallback)((async()=>{if(!r)return;const e=await r.wallet.transfer({to:"tz1h3rQ8wBxFd8L9B3d7Jhaawu6Z568XU3xY",amount:1}).send();v(e.opHash)}),[r]);return(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{children:"Tezos WalletConnect"}),"start"===e?(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:()=>w(),children:"QR Code"}),(0,h.jsx)("button",{onClick:()=>w("kukai"),children:"Kukai"})]}):"connecting"===e?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Connecting..."}),o&&(0,h.jsx)("div",{className:"p-2",children:(0,h.jsx)(jw,{value:o,size:256})})]}):"connected"===e?(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:A,children:"Get Public Key"}),(0,h.jsx)("button",{onClick:_,children:"Get Address"}),(0,h.jsx)("button",{onClick:E,children:"Get Balance"}),(0,h.jsx)("button",{onClick:x,children:"Sign"}),(0,h.jsx)("button",{onClick:k,children:"Transfer"}),(0,h.jsxs)("div",{children:["Public Key: ",c]}),(0,h.jsxs)("div",{children:["Address: ",d]}),(0,h.jsxs)("div",{children:["Balance: ",p]}),(0,h.jsxs)("div",{children:["Signature: ",g]}),(0,h.jsxs)("div",{children:["Transaction Hash: ",b]})]}):void 0]})}));dZ.displayName="TezosWc";const hZ=(0,l.memo)((()=>{const[e,t]=(0,l.useState)("start"),[r,n]=(0,l.useState)(),[i,s]=(0,l.useState)(),[o,a]=(0,l.useState)(),[c,u]=(0,l.useState)(),[d,f]=(0,l.useState)(),[p,m]=(0,l.useState)(),g=(0,l.useCallback)((async e=>{try{t("connecting");const r=new $r({bridgeUrl:Eu,walletApp:e,apiKey:"a"});r.on("connect",(()=>{t("connected")})).on("chainChanged",(e=>{a(e)})).on("accountsChanged",(e=>{e.length>0?u(e[0]):u(void 0)})).on("disconnect",(()=>{n(void 0),u(void 0),t("start")})),e||r.on("connectionString",(e=>{s(e)})),n(r),await r.connect()}catch(gZ){console.error(gZ),t("start"),n(void 0)}}),[]),y=(0,l.useCallback)((async()=>{if(!r)return;const e=new ED(r),t=await e.eth.getAccounts();t.length>0&&u(t[0])}),[r]),b=(0,l.useCallback)((async()=>{if(!r||!c)return;const e=new ED(r),t=await e.eth.personal.sign("Hello world",c,"password");m(t)}),[r,c]),v=(0,l.useCallback)((async()=>{if(!r||!c)return;const e=new ED(r),t=await e.eth.getBalance(c);f(t.toString())}),[r,c]),w=(0,l.useCallback)((async()=>{r&&(await r.disconnect(),n(void 0),u(void 0),t("start"))}),[r]);return(0,h.jsx)(Hw,{step:e,connect:g,connectionString:i,address:c,chainId:o,disconnect:w,getAddress:y,sign:b,signature:p,getBalance:v,balance:d})}));hZ.displayName="Web3Js";const fZ=function(e,t){return nc({basename:null==t?void 0:t.basename,future:_l({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(r={window:null==t?void 0:t.window},void 0===r&&(r={}),pa((function(e,t){let{pathname:r,search:n,hash:i}=e.location;return da("",{pathname:r,search:n,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:ha(t)}),null,r)),hydrationData:(null==t?void 0:t.hydrationData)||kl(),routes:e,mapRouteProperties:Al,dataStrategy:null==t?void 0:t.dataStrategy,patchRoutesOnNavigation:null==t?void 0:t.patchRoutesOnNavigation,window:null==t?void 0:t.window}).initialize();var r}([{path:"/",element:(0,h.jsx)(oZ,{})},{path:"/ethers",element:(0,h.jsx)(zw,{})},{path:"/web3js",element:(0,h.jsx)(hZ,{})},{path:"/tezos-beacon",element:(0,h.jsx)(cZ,{})},{path:"/tezos-wc",element:(0,h.jsx)(dZ,{})},{path:"/fallback",element:(0,h.jsx)(Gw,{})}]),pZ=()=>((0,l.useEffect)((()=>{const e=e=>{e.matches?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark-mode"),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}}),[]),(0,h.jsxs)(l.Fragment,{children:[(0,h.jsx)(ra,{bridgeUrl:Eu,apiKey:"a",genericWalletUrl:xu,onError:lZ,children:(0,h.jsx)(Au,{className:"min-h-screen bg-white text-black dark:bg-black dark:text-white",children:(0,h.jsx)(Nl,{router:fZ})})}),(0,h.jsx)(vu,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored",transition:yu})]})),mZ=e=>{e&&e instanceof Function&&r.e(400).then(r.bind(r,7400)).then((t=>{let{getCLS:r,getFID:n,getFCP:i,getLCP:s,getTTFB:o}=t;r(e),n(e),i(e),s(e),o(e)}))};c.A.expand(),c.A.ready();d.createRoot(document.querySelector("#root")).render((0,h.jsx)(l.StrictMode,{children:(0,h.jsx)(pZ,{})})),mZ()})()})();
//# sourceMappingURL=main.36168b85.js.map